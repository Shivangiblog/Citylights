var _2=Object.defineProperty;var S2=(js,Ia,rn)=>Ia in js?_2(js,Ia,{enumerable:!0,configurable:!0,writable:!0,value:rn}):js[Ia]=rn;var At=(js,Ia,rn)=>S2(js,typeof Ia!="symbol"?Ia+"":Ia,rn);(()=>{var js={14523:(s,j,R)=>{"use strict";R.r(j),R.d(j,{AppInsightsCore:()=>M,BaseCore:()=>y,BaseTelemetryPlugin:()=>q.s,CoreUtils:()=>E.jS,DiagnosticLogger:()=>N.wq,ESPromise:()=>ie,ESPromiseScheduler:()=>z,EventHelper:()=>Ee.fs,EventLatency:()=>h,EventPersistence:()=>v,EventPropertyType:()=>p,EventsDiscardedReason:()=>xe.x,FullVersionString:()=>E.xE,InternalAppInsightsCore:()=>f._,InternalBaseCore:()=>V.F,LoggingSeverity:()=>T.b,MinChannelPriorty:()=>ee,NotificationManager:()=>ne.h,PerfEvent:()=>d.Q6,PerfManager:()=>d.NS,ProcessTelemetryContext:()=>se.W0,TraceLevel:()=>w,Undefined:()=>X.bA,Utils:()=>E.Aq,ValueKind:()=>c,ValueSanitizer:()=>G,Version:()=>E.Rx,_ExtendedInternalMessageId:()=>b,_InternalLogMessage:()=>N.WD,_InternalMessageId:()=>T.$,__getRegisteredEvents:()=>be.El,_logInternalMessage:()=>N.Oc,_throwInternal:()=>N.ZP,_warnToConsole:()=>N.OG,addEventHandler:()=>be.So,addEventListeners:()=>be.lQ,addPageHideEventListener:()=>be.Fc,addPageShowEventListener:()=>be.oS,addPageUnloadEventListener:()=>be.ee,areCookiesSupported:()=>te.gi,arrForEach:()=>F.Iu,arrIndexOf:()=>F.rD,arrMap:()=>F.W$,arrReduce:()=>F.KT,attachEvent:()=>be.Q3,cookieAvailable:()=>te.gi,createCookieMgr:()=>te.xN,createEnumStyle:()=>I.Hj,createGuid:()=>E.gj,createProcessTelemetryContext:()=>se.i8,createTraceParent:()=>we.wk,createUniqueNamespace:()=>de.Z,createUnloadHandlerContainer:()=>he.P,dateNow:()=>F.x3,deleteCookie:()=>E.Yj,detachEvent:()=>be.Ym,disableCookies:()=>E.WD,disallowsSameSiteNone:()=>te.It,doPerf:()=>d.r2,dumpObj:()=>g.mm,eventOff:()=>be.ML,eventOn:()=>be.mB,extend:()=>E.X$,findW3cTraceParent:()=>we.ef,formatTraceParent:()=>we.L0,generateW3CId:()=>Ee.cL,getCommonSchemaMetaData:()=>E.Go,getConsole:()=>g.U5,getCookie:()=>E.Ri,getCookieValue:()=>E.UM,getCrypto:()=>g.MY,getDocument:()=>g.YE,getExceptionName:()=>F.lL,getFieldValueType:()=>E.cq,getGlobal:()=>J.mS,getGlobalInst:()=>g.EH,getHistory:()=>g.JK,getIEVersion:()=>g.L0,getISOString:()=>F._u,getJSON:()=>g.hm,getLocation:()=>g.g$,getMsCrypto:()=>g.iN,getNavigator:()=>g.w3,getPerformance:()=>g.FJ,getSetValue:()=>F.c2,getTenantId:()=>E.EO,getTime:()=>E.WB,getWindow:()=>g.zk,hasDocument:()=>g.Wt,hasHistory:()=>g.tw,hasJSON:()=>g.Z,hasNavigator:()=>g.w9,hasOwnProperty:()=>F.mQ,hasWindow:()=>g.Vd,isArray:()=>F.cy,isArrayValid:()=>E.wJ,isBeaconsSupported:()=>g.Uf,isBoolean:()=>F.Lm,isChromium:()=>E.F2,isDate:()=>F.$P,isDocumentObjectAvailable:()=>E.g8,isError:()=>F.bJ,isFetchSupported:()=>g.R7,isFunction:()=>F.Tn,isIE:()=>g.lT,isLatency:()=>E.Hh,isNotTruthy:()=>F.wo,isNullOrUndefined:()=>F.hX,isNumber:()=>F.Et,isObject:()=>F.Gv,isReactNative:()=>g.lV,isSampledFlag:()=>we.N7,isString:()=>F.Kg,isTruthy:()=>F.zz,isTypeof:()=>F.Ed,isUint8ArrayAvailable:()=>E.h3,isUndefined:()=>F.b0,isValidSpanId:()=>we.wN,isValidTraceId:()=>we.hX,isValidTraceParent:()=>we.mJ,isValueAssigned:()=>E.yD,isValueKind:()=>E.m0,isWindowObjectAvailable:()=>E.P$,isXhrSupported:()=>g.xk,mergeEvtNamespace:()=>be.Hm,newGuid:()=>Ee.aq,newId:()=>Pe.Si,normalizeJsName:()=>F.cH,objCreate:()=>J.AQ,objDefineAccessors:()=>F.r,objForEachKey:()=>F.z,objFreeze:()=>F.N6,objKeys:()=>F.cG,objSeal:()=>F.js,openXhr:()=>E.H$,optimizeObject:()=>F.hW,parseTraceParent:()=>we.ZI,perfNow:()=>Ee.UU,proxyAssign:()=>F.qz,proxyFunctionAs:()=>F.RF,proxyFunctions:()=>F.o$,random32:()=>Pe.VN,randomValue:()=>Pe.Z1,removeEventHandler:()=>be.zh,removeEventListeners:()=>be.Wg,removePageHideEventListener:()=>be.sq,removePageShowEventListener:()=>be.vF,removePageUnloadEventListener:()=>be.Ds,safeGetCookieMgr:()=>te.um,safeGetLogger:()=>N.y0,sanitizeProperty:()=>E.TC,setCookie:()=>E.TV,setEnableEnvMocks:()=>g.cU,setProcessTelemetryTimings:()=>E.u9,setValue:()=>F.KY,strContains:()=>F.Ju,strEndsWith:()=>F.Cv,strFunction:()=>X.hW,strObject:()=>X._1,strPrototype:()=>X.vR,strStartsWith:()=>F.tG,strTrim:()=>F.EH,strUndefined:()=>X.bA,throwError:()=>F.$8,toISOString:()=>F._u,useXDomainRequest:()=>g.PV});var S=R(8747),I=R(96434),F=R(12497),T=R(83897),c=(0,I.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),h=(0,I.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),p=(0,I.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),v=(0,I.Hj)({Normal:1,Critical:2}),w=(0,I.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),b=(0,F.N6)((0,S.Im)((0,S.Im)({},T.$),(0,I.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),l=R(92457),N=R(99015),d=R(5204),g=R(44180),f=R(12235),_=R(52976),E=R(59091),P=function(B){(0,S.qU)(U,B);function U(){var le=B.call(this)||this;return le.pluginVersionStringArr=[],(0,l.A)(U,le,function(ge,_e){(!ge.logger||!ge.logger.queue)&&(ge.logger=new N.wq({loggingLevelConsole:1})),ge.initialize=function(ye,Me,Be,Ve){(0,d.r2)(ge,function(){return"AppInsightsCore.initialize"},function(){var _t=ge.pluginVersionStringArr;if(ye){ye.endpointUrl||(ye.endpointUrl=_.S);var Je=ye.propertyStorageOverride;Je&&(!Je.getProperty||!Je.setProperty)&&(0,F.$8)("Invalid property storage override passed."),ye.channels&&(0,F.Iu)(ye.channels,function(ce){ce&&(0,F.Iu)(ce,function(ae){if(ae.identifier&&ae.version){var ue=ae.identifier+"="+ae.version;_t.push(ue)}})})}ge.getWParam=function(){return typeof document!="undefined"||ye.enableWParam?0:-1},Me&&(0,F.Iu)(Me,function(ce){if(ce&&ce.identifier&&ce.version){var ae=ce.identifier+"="+ce.version;_t.push(ae)}}),ge.pluginVersionString=_t.join(";"),ge.pluginVersionStringArr=_t;try{_e.initialize(ye,Me,Be,Ve),ge.pollInternalLogs("InternalLog")}catch(ce){var nt=ge.logger,Rt=(0,g.mm)(ce);Rt.indexOf("channels")!==-1&&(Rt+=`
 - Channels must be provided through config.channels only!`),(0,N.ZP)(nt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Rt)}},function(){return{config:ye,extensions:Me,logger:Be,notificationManager:Ve}})},ge.track=function(ye){(0,d.r2)(ge,function(){return"AppInsightsCore.track"},function(){var Me=ye;if(Me){Me.timings=Me.timings||{},Me.timings.trackStart=(0,E.WB)(),(0,E.Hh)(Me.latency)||(Me.latency=1);var Be=Me.ext=Me.ext||{};Be.sdk=Be.sdk||{},Be.sdk.ver=E.xE;var Ve=Me.baseData=Me.baseData||{};Ve[_._0]=Ve[_._0]||{};var _t=Ve[_._0];_t[_.hj]=_t[_.hj]||ge.pluginVersionString||_.m5}_e.track(Me)},function(){return{item:ye}},!ye.sync)}}),le}return U.__ieDyn=1,U}(f._);const M=P;var V=R(34082),O=function(B){(0,S.qU)(U,B);function U(){var le=B.call(this)||this;return(0,l.A)(U,le,function(ge,_e){ge.initialize=function(ye,Me,Be,Ve){ye&&!ye.endpointUrl&&(ye.endpointUrl=_.S),ge.getWParam=function(){return E.g8||ye.enableWParam?0:-1};try{_e.initialize(ye,Me,Be,Ve)}catch(_t){(0,N.ZP)(ge.logger,1,514,"Initialization Failed: "+(0,g.mm)(_t)+`
 - Note: Channels must be provided through config.channels only`)}},ge.track=function(ye){var Me=ye;if(Me){var Be=Me.ext=Me.ext||{};Be.sdk=Be.sdk||{},Be.sdk.ver=E.xE}_e.track(Me)}}),le}return U.__ieDyn=1,U}(V.F);const y=O;var K=F.Tn;function Y(B,U,le){return function(ge){B[U]=ge,le()}}var Z=function(){function B(U){var le=0,ge=null,_e=[];(0,l.A)(B,this,function(_t){_t.then=function(Je,nt){return new B(function(Rt,ce){ye(Je,nt,Rt,ce)})},_t.catch=function(Je){return _t.then(null,Je)}});function ye(_t,Je,nt,Rt){_e.push(function(){var ce;try{le===1?ce=K(_t)?_t(ge):ge:ce=K(Je)?Je(ge):ge,ce instanceof B?ce.then(nt,Rt):le===2&&!K(Je)?Rt(ce):nt(ce)}catch(ae){Rt(ae);return}}),le!==0&&Me()}function Me(){if(_e.length>0){var _t=_e.slice();_e=[],setTimeout(function(){for(var Je=0,nt=_t.length;Je<nt;++Je)try{_t[Je]()}catch{}},0)}}function Be(_t){le===0&&(ge=_t,le=1,Me())}function Ve(_t){le===0&&(ge=_t,le=2,Me())}(function(){if(!K(U))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{U(Be,Ve)}catch(Je){Ve(Je)}})()}return B.resolve=function(U){return U instanceof B?U:U&&K(U.then)?new B(function(le,ge){try{U.then(le,ge)}catch(_e){ge(_e)}}):new B(function(le){le(U)})},B.reject=function(U){return new B(function(le,ge){ge(U)})},B.all=function(U){if(!(!U||!U.length))return new B(function(le,ge){try{for(var _e=[],ye=0,Me=0;Me<U.length;Me++){var Be=U[Me];Be&&K(Be.then)?(ye++,Be.then(Y(_e,Me,function(){--ye===0&&le(_e)}),ge)):_e[Me]=Be}ye===0&&setTimeout(function(){le(_e)},0)}catch(Ve){ge(Ve)}})},B.race=function(U){return new B(function(le,ge){if(!(!U||!U.length))try{for(var _e=function(Me){var Be=U[Me];Be&&K(Be.then)?Be.then(le,ge):setTimeout(function(){le(Be)},0)},ye=0;ye<U.length;ye++)_e(ye)}catch(Me){ge(Me)}})},B}();const ie=Z;var J=R(75148),x=6e5,W=0,D=[],m=[],C=[];function L(){return new Date().getTime()}var H=function(){function B(U,le){var ge=0,_e=(U||"<unnamed>")+"."+W;W++,(0,l.A)(B,this,function(Be){var Ve=null,_t=0;Be.scheduleEvent=function(nt,Rt,ce){var ae=_e+"."+_t;_t++,Rt&&(ae+="-("+Rt+")");var ue=ae+"{"+ge+"}";ge++;var ke={evt:null,tm:L(),id:ue,isRunning:!1,isAborted:!1};return Ve?ke.evt=ct(ke,Ve):ke.evt=rt(ke),Ve=ke,Ve.evt._schId=ue,ke.evt;function Ie(yt){for(var pt=L(),St=pt-x,un=yt.length,gt=0;gt<un;){var xt=yt[gt];if(xt&&xt.tm<St){var ti=null;xt.abort?(ti="Aborting ["+xt.id+"] due to Excessive runtime ("+(pt-xt.tm)+" ms)",xt.abort(ti)):ti="Removing ["+xt.id+"] due to Excessive runtime ("+(pt-xt.tm)+" ms)",Me(ti),yt.splice(gt,1),un--}else gt++}}function Ke(yt,pt){var St=!1,un=Je(D,yt);if(un||(un=Je(C,yt),St=!0),un){un.to&&(clearTimeout(un.to),un.to=null);var gt=L()-un.tm;pt?St?Me("Timed out event ["+yt+"] finally complete -- "+gt+" ms"):ye("Promise ["+yt+"] Complete -- "+gt+" ms"):(C.push(un),Me("Event ["+yt+"] Timed out and removed -- "+gt+" ms"))}else ye("Failed to remove ["+yt+"] from running queue");Ve&&Ve.id===yt&&(Ve=null),Ie(D),Ie(m),Ie(C)}function Le(yt,pt){return function(St){return Ke(yt,!0),pt&&pt(St),St}}function Xe(yt,pt,St,un){pt.then(function(gt){return gt instanceof ie?(ye("Event ["+yt+"] returned a promise -- waiting"),Xe(yt,gt,St,un),gt):Le(yt,St)(gt)},Le(yt,un))}function Bt(yt,pt){var St=yt.id;return new ie(function(un,gt){ye("Event ["+St+"] Starting -- waited for "+(yt.wTm||"--")+" ms"),yt.isRunning=!0,yt.abort=function(ti){yt.abort=null,yt.isAborted=!0,Ke(St,!1),gt(new Error(ti))};var xt=pt(St);xt instanceof ie?(ce&&(yt.to=setTimeout(function(){Ke(St,!1),gt(new Error("Timed out after ["+ce+"] ms"))},ce)),Xe(St,xt,function(ti){ye("Event ["+St+"] Resolving after "+(L()-yt.tm)+" ms"),un(ti)},gt)):(ye("Promise ["+St+"] Auto completed as the start action did not return a promise"),un())})}function rt(yt){var pt=L();return yt.wTm=pt-yt.tm,yt.tm=pt,yt.isAborted?ie.reject(new Error("["+ae+"] was aborted")):(D.push(yt),Bt(yt,nt))}function ct(yt,pt){var St=new ie(function(un,gt){var xt=L()-pt.tm,ti=pt.id;ye("["+ae+"] is waiting for ["+ti+":"+xt+" ms] to complete before starting -- ["+m.length+"] waiting and ["+D.length+"] running"),yt.abort=function(Ot){yt.abort=null,Je(m,ae),yt.isAborted=!0,gt(new Error(Ot))},pt.evt.then(function(Ot){Je(m,ae),rt(yt).then(un,gt)},function(Ot){Je(m,ae),rt(yt).then(un,gt)})});return m.push(yt),St}};function Je(nt,Rt){for(var ce=0;ce<nt.length;ce++)if(nt[ce].id===Rt)return nt.splice(ce,1)[0];return null}});function ye(Be){var Ve=(0,J.mS)();Ve&&Ve.QUnit&&console&&console.log("ESPromiseScheduler["+_e+"] "+Be)}function Me(Be){(0,N.OG)(le,"ESPromiseScheduler["+_e+"] "+Be)}}return B.incomplete=function(){return D},B.waitingToStart=function(){return m},B}();const z=H;var G=function(){function B(U){var le=this,ge={},_e=[],ye=[];U&&ye.push(U);function Me(Je,nt){var Rt,ce=ge[Je];if(ce&&(Rt=ce[nt]),!Rt&&Rt!==null){if((0,F.Kg)(Je)&&(0,F.Kg)(nt))if(ye.length>0){for(var ae=0;ae<ye.length;ae++)if(ye[ae].handleField(Je,nt)){Rt={canHandle:!0,fieldHandler:ye[ae]};break}}else _e.length===0&&(Rt={canHandle:!0});if(!Rt&&Rt!==null){Rt=null;for(var ae=0;ae<_e.length;ae++)if(_e[ae].handleField(Je,nt)){Rt={canHandle:!0,handler:_e[ae],fieldHandler:null};break}}ce||(ce=ge[Je]={}),ce[nt]=Rt}return Rt}le.addSanitizer=function(Je){Je&&(_e.push(Je),ge={})},le.addFieldSanitizer=function(Je){Je&&(ye.push(Je),ge={})},le.handleField=function(Je,nt){var Rt=Me(Je,nt);return Rt?Rt.canHandle:!1},le.value=function(Je,nt,Rt,ce){var ae=Me(Je,nt);if(ae&&ae.canHandle){if(!ae||!ae.canHandle)return null;if(ae.handler)return ae.handler.value(Je,nt,Rt,ce);if(!(0,F.Kg)(nt)||(0,F.hX)(Rt)||Rt===_.m5)return null;var ue=null,ke=(0,E.cq)(Rt);if((ke&8192)===8192){var Ie=ke&-8193;if(ue=Rt,!(0,E.yD)(ue.value)||Ie!==1&&Ie!==2&&Ie!==3&&(Ie&4096)!==4096)return null}else ke===1||ke===2||ke===3||(ke&4096)===4096?ue=Ve(Je,nt,Rt):ke===4&&(ue=Ve(Je,nt,ce?JSON.stringify(Rt):Rt));if(ue)return Be(ae,Je,nt,ke,ue,ce)}return null},le.property=function(Je,nt,Rt,ce){var ae=Me(Je,nt);if(!ae||!ae.canHandle||!(0,F.Kg)(nt)||(0,F.hX)(Rt)||!(0,E.yD)(Rt.value))return null;var ue=(0,E.cq)(Rt.value);return ue===0?null:Be(ae,Je,nt,ue,Rt,ce)};function Be(Je,nt,Rt,ce,ae,ue){if(Je.handler)return Je.handler.property(nt,Rt,ae,ue);if(!(0,F.hX)(ae.kind)){if((ce&4096)===4096||!(0,E.m0)(ae.kind))return null;ae.value=ae.value.toString()}return _t(Je.fieldHandler,nt,Rt,ce,ae)}function Ve(Je,nt,Rt){return(0,E.yD)(Rt)?{value:Rt}:null}function _t(Je,nt,Rt,ce,ae){if(ae&&Je){var ue=Je.getSanitizer(nt,Rt,ce,ae.kind,ae.propertyType);if(ue)if(ce===4){var ke={},Ie=ae.value;(0,F.z)(Ie,function(Le,Xe){var Bt=nt+"."+Rt;if((0,E.yD)(Xe)){var rt=Ve(Bt,Le,Xe);rt=_t(Je,Bt,Le,(0,E.cq)(Xe),rt),rt&&(ke[Le]=rt.value)}}),ae.value=ke}else{var Ke={path:nt,name:Rt,type:ce,prop:ae,sanitizer:le};ae=ue.call(le,Ke)}}return ae}}return B.getFieldType=E.cq,B}(),ee=100,ne=R(54660),q=R(56489),se=R(8997),xe=R(31590),Ee=R(32578),be=R(18413),Pe=R(57679),X=R(47672),te=R(91698),de=R(64252),he=R(49388),we=R(68560)},52976:(s,j,R)=>{"use strict";R.d(j,{S:()=>I,_0:()=>h,hj:()=>c,m5:()=>S});var S="",I="https://browser.events.data.microsoft.com/OneCollector/1.0/",F="pluginVersionString",T=F+"Arr",c="version",h="properties"},59091:(s,j,R)=>{"use strict";R.d(j,{Aq:()=>se,EO:()=>O,F2:()=>Ee,Go:()=>Z,H$:()=>be,Hh:()=>K,P$:()=>M,Ri:()=>W,Rx:()=>l,TC:()=>Y,TV:()=>J,UM:()=>D,WB:()=>L,WD:()=>ie,X$:()=>C,Yj:()=>x,cq:()=>q,g8:()=>P,gj:()=>m,h3:()=>y,jS:()=>xe,m0:()=>H,u9:()=>ne,wJ:()=>ee,xE:()=>N,yD:()=>V});var S=R(44180),I=R(12497),F=R(91698),T=R(32578),c=R(47672),h=R(18413),p=R(57679),v=R(75148),w=R(52976),b,l="3.2.9",N="1DS-Web-JS-"+l,d="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",f="timeout",_=(b={},b[0]=0,b[2]=6,b[1]=1,b[3]=7,b[4098]=6,b[4097]=1,b[4099]=7,b),E=null,P=!!(0,S.YE)(),M=!!(0,S.zk)();function V(Pe){return!(Pe===w.m5||(0,I.hX)(Pe))}function O(Pe){if(Pe){var X=Pe.indexOf("-");if(X>-1)return Pe.substring(0,X)}return w.m5}function y(){return E===null&&(E=!(0,I.b0)(Uint8Array)&&!G()&&!(0,S.lV)()),E}function K(Pe){return!!(Pe&&(0,I.Et)(Pe)&&Pe>=1&&Pe<=4)}function Y(Pe,X,te){if(!X&&!V(X)||typeof Pe!="string")return null;var de=typeof X;if(de==="string"||de==="number"||de==="boolean"||(0,I.cy)(X))X={value:X};else if(de==="object"&&!c.J$.call(X,"value"))X={value:te?JSON.stringify(X):X};else if((0,I.hX)(X.value)||X.value===w.m5||!(0,I.Kg)(X.value)&&!(0,I.Et)(X.value)&&!(0,I.Lm)(X.value)&&!(0,I.cy)(X.value))return null;if((0,I.cy)(X.value)&&!ee(X.value))return null;if(!(0,I.hX)(X.kind)){if((0,I.cy)(X.value)||!H(X.kind))return null;X.value=X.value.toString()}return X}function Z(Pe,X,te){var de=-1;if(!(0,I.b0)(Pe))if(X>0&&(X===32?de=8192:X<=13&&(de=X<<5)),z(te))de===-1&&(de=0),de|=te;else{var he=_[q(Pe)]||-1;de!==-1&&he!==-1?de|=he:he===6&&(de=he)}return de}function ie(){(0,F.um)(null).setEnabled(!1)}function J(Pe,X,te){(0,F.gi)(null)&&(0,F.um)(null).set(Pe,X,te*86400,null,"/")}function x(Pe){(0,F.gi)(null)&&(0,F.um)(null).del(Pe)}function W(Pe){return(0,F.gi)(null)?D((0,F.um)(null),Pe):w.m5}function D(Pe,X,te){te===void 0&&(te=!0);var de;return Pe&&(de=Pe.get(X),te&&de&&decodeURIComponent&&(de=decodeURIComponent(de))),de||w.m5}function m(Pe){Pe===void 0&&(Pe="D");var X=(0,T.aq)();return Pe==="B"?X="{"+X+"}":Pe==="P"?X="("+X+")":Pe==="N"&&(X=X.replace(/-/g,w.m5)),X}function C(Pe,X,te,de,he){var we={},B=!1,U=0,le=arguments.length,ge=Object[c.vR],_e=arguments;for(ge.toString.call(_e[0])==="[object Boolean]"&&(B=_e[0],U++);U<le;U++){var Pe=_e[U];(0,I.z)(Pe,function(Me,Be){B&&Be&&(0,I.Gv)(Be)?(0,I.cy)(Be)?(we[Me]=we[Me]||[],(0,I.Iu)(Be,function(Ve,_t){Ve&&(0,I.Gv)(Ve)?we[Me][_t]=C(!0,we[Me][_t],Ve):we[Me][_t]=Ve})):we[Me]=C(!0,we[Me],Be):we[Me]=Be})}return we}var L=T.UU;function H(Pe){return Pe===0||Pe>0&&Pe<=13||Pe===32}function z(Pe){return Pe>=0&&Pe<=9}function G(){var Pe=(0,S.w3)();if(!(0,I.b0)(Pe)&&Pe.userAgent){var X=Pe.userAgent.toLowerCase();if((X.indexOf("safari")>=0||X.indexOf("firefox")>=0)&&X.indexOf("chrome")<0)return!0}return!1}function ee(Pe){return Pe.length>0}function ne(Pe,X){var te=Pe;te.timings=te.timings||{},te.timings.processTelemetryStart=te.timings.processTelemetryStart||{},te.timings.processTelemetryStart[X]=L()}function q(Pe){var X=0;if(Pe!=null){var te=typeof Pe;te==="string"?X=1:te==="number"?X=2:te==="boolean"?X=3:te===c._1&&(X=4,(0,I.cy)(Pe)?(X=4096,Pe.length>0&&(X|=q(Pe[0]))):c.J$.call(Pe,"value")&&(X=8192|q(Pe.value)))}return X}var se={Version:l,FullVersionString:N,strUndefined:c.bA,strObject:c._1,Undefined:c.bA,arrForEach:I.Iu,arrIndexOf:I.rD,arrMap:I.W$,arrReduce:I.KT,objKeys:I.cG,toISOString:I._u,isReactNative:S.lV,isString:I.Kg,isNumber:I.Et,isBoolean:I.Lm,isFunction:I.Tn,isArray:I.cy,isObject:I.Gv,strTrim:I.EH,isDocumentObjectAvailable:P,isWindowObjectAvailable:M,isValueAssigned:V,getTenantId:O,isBeaconsSupported:S.Uf,isUint8ArrayAvailable:y,isLatency:K,sanitizeProperty:Y,getISOString:I._u,useXDomainRequest:S.PV,getCommonSchemaMetaData:Z,cookieAvailable:F.gi,disallowsSameSiteNone:F.It,setCookie:J,deleteCookie:x,getCookie:W,createGuid:m,extend:C,getTime:L,isValueKind:H,isArrayValid:ee,objDefineAccessors:I.r,addPageUnloadEventListener:h.ee,setProcessTelemetryTimings:ne,addEventHandler:h.So,getFieldValueType:q,strEndsWith:I.Cv,objForEachKey:I.z},xe={_canUseCookies:void 0,isTypeof:I.Ed,isUndefined:I.b0,isNullOrUndefined:I.hX,hasOwnProperty:I.mQ,isFunction:I.Tn,isObject:I.Gv,isDate:I.$P,isArray:I.cy,isError:I.bJ,isString:I.Kg,isNumber:I.Et,isBoolean:I.Lm,toISOString:I._u,arrForEach:I.Iu,arrIndexOf:I.rD,arrMap:I.W$,arrReduce:I.KT,strTrim:I.EH,objCreate:v.AQ,objKeys:I.cG,objDefineAccessors:I.r,addEventHandler:h.So,dateNow:I.x3,isIE:S.lT,disableCookies:ie,newGuid:T.aq,perfNow:T.UU,newId:p.Si,randomValue:p.Z1,random32:p.VN,mwcRandomSeed:p.yc,mwcRandom32:p.k5,generateW3CId:T.cL};function Ee(){return!!(0,S.EH)("chrome")}function be(Pe,X,te,de,he,we){de===void 0&&(de=!1),he===void 0&&(he=!1);function B(le,ge,_e){try{le[ge]=_e}catch{}}var U=new XMLHttpRequest;return de&&B(U,d,de),te&&B(U,g,te),U.open(Pe,X,!he),te&&B(U,g,te),!he&&we&&B(U,f,we),U}},28643:(s,j,R)=>{"use strict";R.r(j),R.d(j,{BE_PROFILE:()=>g,NRT_PROFILE:()=>d,PostChannel:()=>Vt,RT_PROFILE:()=>N});var S=R(8747),I=R(92457),F=R(5204),T=R(18413),c=R(64252),h=R(59091),p=R(12497),v=R(44180),w=R(31590),b=R(99015),l=R(56489),N="REAL_TIME",d="NEAR_REAL_TIME",g="BEST_EFFORT",f="",_="POST",E="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",P="drop",M="send",V="requeue",O="rspFail",y="oth",K="no-cache, no-store",Y="application/x-json-stream",Z="cache-control",ie="content-type",J="kill-tokens",x="kill-duration",W="kill-duration-seconds",D="time-delta-millis",m="client-version",C="client-id",L="time-delta-to-apply-millis",H="upload-time",z="apikey",G="AuthMsaDeviceTicket",ee="AuthXToken",ne="sdk-version",q="NoResponseBody",se="msfpc",xe="trace",Ee="user";function be(qt){var mt=(qt.ext||{}).intweb;return mt&&(0,h.yD)(mt[se])?mt[se]:null}function Pe(qt){for(var mt=null,Nt=0;mt===null&&Nt<qt.length;Nt++)mt=be(qt[Nt]);return mt}var X=function(){function qt(mt,Nt){var Ft=Nt?[].concat(Nt):[],hn=this,sn=Pe(Ft);hn.iKey=function(){return mt},hn.Msfpc=function(){return sn||f},hn.count=function(){return Ft.length},hn.events=function(){return Ft},hn.addEvent=function(Ht){return Ht?(Ft.push(Ht),sn||(sn=be(Ht)),!0):!1},hn.split=function(Ht,Sn){var mn;if(Ht<Ft.length){var In=Ft.length-Ht;(0,p.hX)(Sn)||(In=Sn<In?Sn:In),mn=Ft.splice(Ht,In),sn=Pe(Ft)}return new qt(mt,mn)}}return qt.create=function(mt,Nt){return new qt(mt,Nt)},qt}(),te=function(){function qt(){var mt=!0,Nt=!0,Ft=!0,hn="use-collector-delta",sn=!1;(0,I.A)(qt,this,function(Ht){Ht.allowRequestSending=function(){return mt},Ht.firstRequestSent=function(){Ft&&(Ft=!1,sn||(mt=!1))},Ht.shouldAddClockSkewHeaders=function(){return Nt},Ht.getClockSkewHeaderValue=function(){return hn},Ht.setClockSkew=function(Sn){sn||(Sn?(hn=Sn,Nt=!0,sn=!0):Nt=!1,mt=!0)}})}return qt.__ieDyn=1,qt}();const de=te;var he=1e3,we=function(){function qt(){var mt={};function Nt(Ft){var hn=[];return Ft&&(0,p.Iu)(Ft,function(sn){hn.push((0,p.EH)(sn))}),hn}(0,I.A)(qt,this,function(Ft){Ft.setKillSwitchTenants=function(hn,sn){if(hn&&sn)try{var Ht=Nt(hn.split(","));if(sn==="this-request-only")return Ht;for(var Sn=parseInt(sn,10)*he,mn=0;mn<Ht.length;++mn)mt[Ht[mn]]=(0,p.x3)()+Sn}catch{return[]}return[]},Ft.isTenantKilled=function(hn){var sn=mt,Ht=(0,p.EH)(hn);return sn[Ht]!==void 0&&sn[Ht]>(0,p.x3)()?!0:(delete sn[Ht],!1)}})}return qt.__ieDyn=1,qt}();const B=we;var U=R(47672),le=.8,ge=1.2,_e=3e3,ye=6e5;function Me(qt){return!(qt>=300&&qt<500&&qt!=408&&qt!=429||qt==501||qt==505)}function Be(qt){var mt=0,Nt=_e*le,Ft=_e*ge,hn=Math.floor(Math.random()*(Ft-Nt))+Nt;return mt=Math.pow(2,qt)*hn,Math.min(mt,ye)}var Ve=20,_t=3984588,Je=65e3,nt=2e6,Rt=Math.min(nt,Je),ce="metadata",ae="f",ue=/\./,ke=function(){function qt(mt,Nt,Ft,hn){var sn="data",Ht="baseData",Sn="ext",mn=!!hn,In=!0,Dn=Nt,Xn={};(0,I.A)(qt,this,function(pn){pn.createPayload=function(en,dn,Cn,Wn,vn,An){return{apiKeys:[],payloadBlob:f,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:en,isTeardown:dn,isSync:Cn,isBeacon:Wn,sendType:An,sendReason:vn}},pn.appendPayload=function(en,dn,Cn){var Wn=en&&dn&&!en.overflow;return Wn&&(0,F.r2)(mt,function(){return"Serializer:appendPayload"},function(){for(var vn=dn.events(),An=en.payloadBlob,Jn=en.numEvents,ci=!1,qn=[],fi=[],Mi=en.isBeacon,si=Mi?Je:_t,Fi=Mi?Rt:nt,Ni=0,Tn=0;Ni<vn.length;){var Mn=vn[Ni];if(Mn){if(Jn>=Cn){en.overflow=dn.split(Ni);break}var wn=pn.getEventBlob(Mn);if(wn&&wn.length<=Fi){var Li=wn.length,oa=An.length;if(oa+Li>si){en.overflow=dn.split(Ni);break}An&&(An+=`
`),An+=wn,Tn++,Tn>Ve&&(An.substr(0,1),Tn=0),ci=!0,Jn++}else wn?qn.push(Mn):fi.push(Mn),vn.splice(Ni,1),Ni--}Ni++}if(qn&&qn.length>0&&en.sizeExceed.push(X.create(dn.iKey(),qn)),fi&&fi.length>0&&en.failedEvts.push(X.create(dn.iKey(),fi)),ci){en.batches.push(dn),en.payloadBlob=An,en.numEvents=Jn;var ji=dn.iKey();(0,p.rD)(en.apiKeys,ji)===-1&&en.apiKeys.push(ji)}},function(){return{payload:en,theBatch:{iKey:dn.iKey(),evts:dn.events()},max:Cn}}),Wn},pn.getEventBlob=function(en){try{return(0,F.r2)(mt,function(){return"Serializer.getEventBlob"},function(){var dn={};dn.name=en.name,dn.time=en.time,dn.ver=en.ver,dn.iKey="o:"+(0,h.EO)(en.iKey);var Cn={},Wn=en[Sn];Wn&&(dn[Sn]=Cn,(0,p.z)(Wn,function(Jn,ci){var qn=Cn[Jn]={};jn(ci,qn,"ext."+Jn,!0,null,null,!0)}));var vn=dn[sn]={};vn.baseType=en.baseType;var An=vn[Ht]={};return jn(en.baseData,An,Ht,!1,[Ht],function(Jn,ci,qn){Ie(Cn,Jn,ci,qn)},In),jn(en.data,vn,sn,!1,[],function(Jn,ci,qn){Ie(Cn,Jn,ci,qn)},In),JSON.stringify(dn)},function(){return{item:en}})}catch{return null}};function Yn(en,dn){var Cn=Xn[en];return Cn===void 0&&(en.length>=7&&(Cn=(0,p.tG)(en,"ext.metadata")||(0,p.tG)(en,"ext.web")),Xn[en]=Cn),Cn}function jn(en,dn,Cn,Wn,vn,An,Jn){(0,p.z)(en,function(ci,qn){var fi=null;if(qn||(0,h.yD)(qn)){var Mi=Cn,si=ci,Fi=vn,Ni=dn;if(mn&&!Wn&&ue.test(ci)){var Tn=ci.split("."),Mn=Tn.length;if(Mn>1){Fi&&(Fi=Fi.slice());for(var wn=0;wn<Mn-1;wn++){var Li=Tn[wn];Ni=Ni[Li]=Ni[Li]||{},Mi+="."+Li,Fi&&Fi.push(Li)}si=Tn[Mn-1]}}var oa=Wn&&Yn(Mi,si);if(!oa&&Dn&&Dn.handleField(Mi,si)?fi=Dn.value(Mi,si,qn,Ft):fi=(0,h.TC)(si,qn,Ft),fi){var ji=fi.value;if(Ni[si]=ji,An&&An(Fi,si,fi),Jn&&typeof ji=="object"&&!(0,p.cy)(ji)){var jr=Fi;jr&&(jr=jr.slice(),jr.push(si)),jn(qn,ji,Mi+"."+si,Wn,jr,An,Jn)}}}})}})}return qt.__ieDyn=1,qt}();function Ie(qt,mt,Nt,Ft){if(Ft&&qt){var hn=(0,h.Go)(Ft.value,Ft.kind,Ft.propertyType);if(hn>-1){var sn=qt[ce];sn||(sn=qt[ce]={f:{}});var Ht=sn[ae];if(Ht||(Ht=sn[ae]={}),mt)for(var Sn=0;Sn<mt.length;Sn++){var mn=mt[Sn];Ht[mn]||(Ht[mn]={f:{}});var In=Ht[mn][ae];In||(In=Ht[mn][ae]={}),Ht=In}Ht=Ht[Nt]={},(0,p.cy)(Ft.value)?Ht.a={t:hn}:Ht.t=hn}}}var Ke,Le="sendAttempt",Xe="&"+q+"=true",Bt=(Ke={},Ke[1]=V,Ke[100]=V,Ke[200]="sent",Ke[8004]=P,Ke[8003]=P,Ke),rt={},ct={};function yt(qt,mt,Nt){rt[qt]=mt,Nt!==!1&&(ct[mt]=qt)}yt(G,G,!1),yt(m,m),yt(C,"Client-Id"),yt(z,z),yt(L,L),yt(H,H),yt(ee,ee);function pt(qt){try{return qt.responseText}catch{}return f}function St(qt,mt){var Nt=!1;if(qt&&mt){var Ft=(0,p.cG)(qt);if(Ft&&Ft.length>0)for(var hn=mt.toLowerCase(),sn=0;sn<Ft.length;sn++){var Ht=Ft[sn];if(Ht&&(0,p.mQ)(mt,Ht)&&Ht.toLowerCase()===hn){Nt=!0;break}}}return Nt}function un(qt,mt,Nt,Ft){mt&&Nt&&Nt.length>0&&(Ft&&rt[mt]?(qt.hdrs[rt[mt]]=Nt,qt.useHdrs=!0):qt.url+="&"+mt+"="+Nt)}function gt(qt,mt){return mt&&((0,p.Et)(mt)?qt=[mt].concat(qt):(0,p.cy)(mt)&&(qt=mt.concat(qt))),qt}var xt=function(){function qt(mt,Nt,Ft,hn,sn){this._responseHandlers=[];var Ht="?cors=true&"+ie.toLowerCase()+"="+Y,Sn=new B,mn=!1,In=new de,Dn=!1,Xn=0,pn,Yn,jn,en,dn=!0,Cn=[],Wn={},vn=[],An=null,Jn=!1,ci,qn=!1,fi=!1,Mi,si,Fi,Ni,Tn;(0,I.A)(qt,this,function(Mn){var wn=!0;Mn.initialize=function(je,wt,Et,It,Wt){var En;Wt||(Wt={}),Ht=je+Ht,fi=(0,p.b0)(Wt.avoidOptions)?!0:!Wt.avoidOptions,en=wt,ci=wt.getCookieMgr(),Jn=!en.config.disableEventTimings;var kn=!!en.config.enableCompoundKey;pn=Et,Yn=pn.diagLog();var Qe=Wt.valueSanitizer,dt=Wt.stringifyObjects;(0,p.b0)(Wt.enableCompoundKey)||(kn=!!Wt.enableCompoundKey),Mi=Wt.xhrTimeout,si=!!Wt.disableXhrSync,Fi=!!Wt.disableFetchKeepAlive,Tn=Wt.addNoResponse!==!1,Dn=!(0,v.lV)(),An=new ke(en,Qe,dt,kn),(0,p.hX)(Wt.useSendBeacon)||(Dn=!!Wt.useSendBeacon);var it=It,Lt=Wt.alwaysUseXhrOverride?It:null,Yt=Wt.alwaysUseXhrOverride?It:null,ln=[3,2];if(!It){dn=!1;var yn=(0,v.g$)();yn&&yn.protocol&&yn.protocol.toLowerCase()==="file:"&&(wn=!1);var Zn=[];(0,v.lV)()?(Zn=[2,1],ln=[2,1,3]):Zn=[1,2,3],Zn=gt(Zn,Wt.transports),It=Li(Zn,!1),It||(0,b.OG)(Yn,"No available transport to send events"),it=Li(Zn,!0)}Lt||(ln=gt(ln,Wt.unloadTransports),Lt=Li(ln,!0)),Ni=!dn&&(Dn&&(0,v.Uf)()||!Fi&&(0,v.R7)(!0)),jn=(En={},En[0]=It,En[1]=it||Li([1,2,3],!0),En[2]=Lt||it||Li([1],!0),En[3]=Yt||Li([2,3],!0)||it||Li([1],!0),En)};function Li(je,wt){for(var Et=0,It=null,Wt=0;It==null&&Wt<je.length;)Et=je[Wt],Et===1?(0,v.PV)()?It=oa:(0,v.xk)()&&(It=jr):Et===2&&(0,v.R7)(wt)&&(!wt||wt&&!Fi)?It=ji:Dn&&Et===3&&(0,v.Uf)()&&(It=Wr),Wt++;return It?{_transport:Et,_isSync:wt,sendPOST:It}:null}Mn._getDbgPlgTargets=function(){return[jn[0],Sn,An,jn]};function oa(je,wt,Et){var It=new XDomainRequest;It.open(_,je.urlString),je.timeout&&(It.timeout=je.timeout),It.onload=function(){var Wt=pt(It);or(wt,200,{},Wt),ts(Wt)},It.onerror=function(){or(wt,400,{})},It.ontimeout=function(){or(wt,500,{})},It.onprogress=function(){},Et?It.send(je.data):sn.set(function(){It.send(je.data)},0)}function ji(je,wt,Et){var It,Wt=je.urlString,En=!1,kn=!1,Qe=(It={body:je.data,method:_},It[E]=!0,It);Et&&(Qe.keepalive=!0,je._sendReason===2&&(En=!0,Tn&&(Wt+=Xe))),wn&&(Qe.credentials="include"),je.headers&&(0,p.cG)(je.headers).length>0&&(Qe.headers=je.headers),fetch(Wt,Qe).then(function(dt){var it={},Lt=f,Yt=dt.headers;Yt&&Yt.forEach(function(ln,yn){it[yn]=ln}),dt.body&&dt.text().then(function(ln){Lt=ln}),kn||(kn=!0,or(wt,dt.status,it,Lt),ts(Lt))}).catch(function(dt){kn||(kn=!0,or(wt,0,{}))}),En&&!kn&&(kn=!0,or(wt,200,{})),!kn&&je.timeout>0&&sn.set(function(){kn||(kn=!0,or(wt,500,{}))},je.timeout)}function jr(je,wt,Et){var It=je.urlString;function Wt(dt,it,Lt){if(!dt[Lt]&&it&&it.getResponseHeader){var Yt=it.getResponseHeader(Lt);Yt&&(dt[Lt]=(0,p.EH)(Yt))}return dt}function En(dt){var it={};return dt.getAllResponseHeaders?it=es(dt.getAllResponseHeaders()):(it=Wt(it,dt,D),it=Wt(it,dt,x),it=Wt(it,dt,W)),it}function kn(dt,it){or(wt,dt.status,En(dt),it)}Et&&je.disableXhrSync&&(Et=!1);var Qe=(0,h.H$)(_,It,wn,!0,Et,je.timeout);(0,p.z)(je.headers,function(dt,it){Qe.setRequestHeader(dt,it)}),Qe.onload=function(){var dt=pt(Qe);kn(Qe,dt),ts(dt)},Qe.onerror=function(){kn(Qe)},Qe.ontimeout=function(){kn(Qe)},Qe.send(je.data)}function or(je,wt,Et,It){try{je(wt,Et,It)}catch(Wt){(0,b.ZP)(Yn,2,518,(0,v.mm)(Wt))}}function Wr(je,wt,Et){var It=je,Wt=200,En=It._thePayload,kn=je.urlString+(Tn?Xe:f);try{var Qe=(0,v.w3)();if(!Qe.sendBeacon(kn,je.data))if(En){var dt=[];(0,p.Iu)(En.batches,function(it){if(dt&&it&&it.count()>0){for(var Lt=it.events(),Yt=0;Yt<Lt.length;Yt++)if(!Qe.sendBeacon(kn,An.getEventBlob(Lt[Yt]))){dt.push(it.split(Yt));break}}else dt.push(it.split(0))}),_i(dt,8003,En.sendType,!0)}else Wt=0}catch(it){(0,b.OG)(Yn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,v.mm)(it)),Wt=0}finally{or(wt,Wt,{},f)}}function la(je){return je===2||je===3}function Ii(je){return qn&&la(je)&&(je=2),je}Mn.addQueryStringParameter=function(je,wt){for(var Et=0;Et<Cn.length;Et++)if(Cn[Et].name===je){Cn[Et].value=wt;return}Cn.push({name:je,value:wt})},Mn.addHeader=function(je,wt){Wn[je]=wt},Mn.canSendRequest=function(){return Za()&&In.allowRequestSending()},Mn.sendQueuedRequests=function(je,wt){(0,p.b0)(je)&&(je=0),qn&&(je=Ii(je),wt=2),Lr(vn,je,0)&&ba(Pr(),0,!1,je,wt||0)},Mn.isCompletelyIdle=function(){return!mn&&Xn===0&&vn.length===0},Mn.setUnloading=function(je){qn=je},Mn.addBatch=function(je){if(je&&je.count()>0){if(Sn.isTenantKilled(je.iKey()))return!1;vn.push(je)}return!0},Mn.teardown=function(){vn.length>0&&ba(Pr(),0,!0,2,2)},Mn.pause=function(){mn=!0},Mn.resume=function(){mn=!1,Mn.sendQueuedRequests(0,4)},Mn.sendSynchronousBatch=function(je,wt,Et){je&&je.count()>0&&((0,p.hX)(wt)&&(wt=1),qn&&(wt=Ii(wt),Et=2),ba([je],0,!1,wt,Et||0))};function Za(){return!mn&&Xn<Nt}function Pr(){var je=vn;return vn=[],je}function Lr(je,wt,Et){var It=!1;return je&&je.length>0&&!mn&&jn[wt]&&An&&(It=wt!==0||Za()&&(Et>0||In.allowRequestSending())),It}function Da(je){var wt={};return je&&(0,p.Iu)(je,function(Et,It){wt[It]={iKey:Et.iKey(),evts:Et.events()}}),wt}function ba(je,wt,Et,It,Wt){if(!(!je||je.length===0)){if(mn){_i(je,1,It);return}It=Ii(It);try{var En=je,kn=It!==0;(0,F.r2)(en,function(){return"HttpManager:_sendBatches"},function(Qe){Qe&&(je=je.slice(0));for(var dt=[],it=null,Lt=(0,h.WB)(),Yt=jn[It]||(kn?jn[1]:jn[0]),ln=Yt&&Yt._transport,yn=Ni&&(qn||la(It)||ln===3||Yt._isSync&&ln===2);Lr(je,It,wt);){var Zn=je.shift();Zn&&Zn.count()>0&&(Sn.isTenantKilled(Zn.iKey())?dt.push(Zn):(it=it||An.createPayload(wt,Et,kn,yn,Wt,It),An.appendPayload(it,Zn,mt)?it.overflow!==null&&(je=[it.overflow].concat(je),it.overflow=null,ka(it,Lt,(0,h.WB)(),Wt),Lt=(0,h.WB)(),it=null):(ka(it,Lt,(0,h.WB)(),Wt),Lt=(0,h.WB)(),je=[Zn].concat(je),it=null)))}it&&ka(it,Lt,(0,h.WB)(),Wt),je.length>0&&(vn=je.concat(vn)),_i(dt,8004,It)},function(){return{batches:Da(En),retryCount:wt,isTeardown:Et,isSynchronous:kn,sendReason:Wt,useSendBeacon:la(It),sendType:It}},!kn)}catch(Qe){(0,b.ZP)(Yn,2,48,"Unexpected Exception sending batch: "+(0,v.mm)(Qe))}}}function ys(je,wt){var Et={url:Ht,hdrs:{},useHdrs:!1};wt?(Et.hdrs=(0,h.X$)(Et.hdrs,Wn),Et.useHdrs=(0,p.cG)(Et.hdrs).length>0):(0,p.z)(Wn,function(Qe,dt){ct[Qe]?un(Et,ct[Qe],dt,!1):(Et.hdrs[Qe]=dt,Et.useHdrs=!0)}),un(Et,C,"NO_AUTH",wt),un(Et,m,h.xE,wt);var It=f;(0,p.Iu)(je.apiKeys,function(Qe){It.length>0&&(It+=","),It+=Qe}),un(Et,z,It,wt),un(Et,H,(0,p.x3)().toString(),wt);var Wt=Mr(je);if((0,h.yD)(Wt)&&(Et.url+="&ext.intweb.msfpc="+Wt),In.shouldAddClockSkewHeaders()&&un(Et,L,In.getClockSkewHeaderValue(),wt),en.getWParam){var En=en.getWParam();En>=0&&(Et.url+="&w="+En)}for(var kn=0;kn<Cn.length;kn++)Et.url+="&"+Cn[kn].name+"="+Cn[kn].value;return Et}function wa(je,wt,Et){je[wt]=je[wt]||{},je[wt][pn.identifier]=Et}function ka(je,wt,Et,It){if(je&&je.payloadBlob&&je.payloadBlob.length>0){var Wt=!!Mn.sendHook,En=jn[je.sendType];!la(je.sendType)&&je.isBeacon&&je.sendReason===2&&(En=jn[2]||jn[3]||En);var kn=fi;(je.isBeacon||En._transport===3)&&(kn=!1);var Qe=ys(je,kn);kn=kn||Qe.useHdrs;var dt=(0,h.WB)();(0,F.r2)(en,function(){return"HttpManager:_doPayloadSend"},function(){for(var it=0;it<je.batches.length;it++)for(var Lt=je.batches[it],Yt=Lt.events(),ln=0;ln<Yt.length;ln++){var yn=Yt[ln];if(Jn){var Zn=yn.timings=yn.timings||{};wa(Zn,"sendEventStart",dt),wa(Zn,"serializationStart",wt),wa(Zn,"serializationCompleted",Et)}yn[Le]>0?yn[Le]++:yn[Le]=1}_i(je.batches,1e3+(It||0),je.sendType,!0);var $n={data:je.payloadBlob,urlString:Qe.url,headers:Qe.hdrs,_thePayload:je,_sendReason:It,timeout:Mi,disableXhrSync:si,disableFetchKeepAlive:Fi};kn&&(St($n.headers,Z)||($n.headers[Z]=K),St($n.headers,ie)||($n.headers[ie]=Y));var pr=null;En&&(pr=function(Kr){In.firstRequestSent();var xn=function(Ur,Br){zs(Ur,Br,je,It)},Xi=je.isTeardown||je.isSync;try{En.sendPOST(Kr,xn,Xi),Mn.sendListener&&Mn.sendListener($n,Kr,Xi,je.isBeacon)}catch(Ur){(0,b.OG)(Yn,"Unexpected exception sending payload. Ex:"+(0,v.mm)(Ur)),or(xn,0,{})}}),(0,F.r2)(en,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(pr)if(je.sendType===0&&Xn++,Wt&&!je.isBeacon&&En._transport!==3){var Kr={data:$n.data,urlString:$n.urlString,headers:(0,h.X$)({},$n.headers),timeout:$n.timeout,disableXhrSync:$n.disableXhrSync,disableFetchKeepAlive:$n.disableFetchKeepAlive},xn=!1;(0,F.r2)(en,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Mn.sendHook(Kr,function(Xi){xn=!0,!dn&&!Xi._thePayload&&(Xi._thePayload=Xi._thePayload||$n._thePayload,Xi._sendReason=Xi._sendReason||$n._sendReason),pr(Xi)},je.isSync||je.isTeardown)}catch{xn||pr($n)}})}else pr($n)})},function(){return{thePayload:je,serializationStart:wt,serializationCompleted:Et,sendReason:It}},je.isSync)}je.sizeExceed&&je.sizeExceed.length>0&&_i(je.sizeExceed,8003,je.sendType),je.failedEvts&&je.failedEvts.length>0&&_i(je.failedEvts,8002,je.sendType)}function Ws(je,wt){Jn&&(0,p.Iu)(je,function(Et){var It=Et.timings=Et.timings||{};wa(It,"sendEventCompleted",wt)})}function zs(je,wt,Et,It){var Wt=9e3,En=null,kn=!1,Qe=!1;try{var dt=!0;if(typeof je!==U.bA){if(wt){In.setClockSkew(wt[D]);var it=wt[x]||wt["kill-duration-seconds"];(0,p.Iu)(Sn.setKillSwitchTenants(wt[J],it),function(Yt){(0,p.Iu)(Et.batches,function(ln){if(ln.iKey()===Yt){En=En||[];var yn=ln.split(0);Et.numEvents-=yn.count(),En.push(yn)}})})}if(je==200||je==204){Wt=200;return}(!Me(je)||Et.numEvents<=0)&&(dt=!1),Wt=9e3+je%1e3}if(dt){Wt=100;var Lt=Et.retryCnt;Et.sendType===0&&(Lt<Ft?(kn=!0,xa(function(){Et.sendType===0&&Xn--,ba(Et.batches,Lt+1,Et.isTeardown,qn?2:Et.sendType,5)},qn,Be(Lt))):(Qe=!0,qn&&(Wt=8001)))}}finally{kn||(In.setClockSkew(),ua(Et,Wt,It,Qe)),_i(En,8004,Et.sendType)}}function ua(je,wt,Et,It){try{It&&pn._backOffTransmission(),wt===200&&(!It&&!je.isSync&&pn._clearBackOff(),bs(je.batches)),_i(je.batches,wt,je.sendType,!0)}finally{je.sendType===0&&(Xn--,Et!==5&&Mn.sendQueuedRequests(je.sendType,Et))}}function bs(je){if(Jn){var wt=(0,h.WB)();(0,p.Iu)(je,function(Et){Et&&Et.count()>0&&Ws(Et.events(),wt)})}}function xa(je,wt,Et){wt?je():sn.set(je,Et)}function es(je){var wt={};if((0,p.Kg)(je)){var Et=(0,p.EH)(je).split(/[\r\n]+/);(0,p.Iu)(Et,function(It){if(It){var Wt=It.indexOf(": ");if(Wt!==-1){var En=(0,p.EH)(It.substring(0,Wt)).toLowerCase(),kn=(0,p.EH)(It.substring(Wt+1));wt[En]=kn}else wt[(0,p.EH)(It)]=1}})}return wt}function Mr(je){for(var wt=0;wt<je.batches.length;wt++){var Et=je.batches[wt].Msfpc();if(Et)return encodeURIComponent(Et)}return f}function ts(je){var wt=Mn._responseHandlers;try{for(var Et=0;Et<wt.length;Et++)try{wt[Et](je)}catch(Wt){(0,b.ZP)(Yn,1,519,"Response handler failed: "+Wt)}if(je){var It=JSON.parse(je);(0,h.yD)(It.webResult)&&(0,h.yD)(It.webResult[se])&&ci.set("MSFPC",It.webResult[se],365*86400)}}catch{}}function _i(je,wt,Et,It){if(je&&je.length>0&&hn){var Wt=hn[zr(wt)];if(Wt){var En=Et!==0;(0,F.r2)(en,function(){return"HttpManager:_sendBatchesNotification"},function(){xa(function(){try{Wt.call(hn,je,wt,En,Et)}catch(kn){(0,b.ZP)(Yn,1,74,"send request notification failed: "+kn)}},It||En,0)},function(){return{batches:Da(je),reason:wt,isSync:En,sendSync:It,sendType:Et}},!En)}}}function zr(je){var wt=Bt[je];return(0,h.yD)(wt)||(wt=y,je>=9e3&&je<=9999?wt=O:je>=8e3&&je<=8999?wt=P:je>=1e3&&je<=1999&&(wt=M)),wt}})}return qt.__ieDyn=1,qt}();function ti(qt,mt){for(var Nt=[],Ft=2;Ft<arguments.length;Ft++)Nt[Ft-2]=arguments[Ft];return setTimeout(qt,mt,Nt)}function Ot(qt){clearTimeout(qt)}function Kt(qt,mt){return{set:qt||ti,clear:mt||Ot}}var Ji=.25,Zt=500,zt=20,Vi=6,Mt=2,ft=4,vt=2,De=1,ze="eventsDiscarded",Ct="overrideInstrumentationKey",lt="maxEventRetryAttempts",ht="maxUnloadEventRetryAttempts",an="addUnloadCb",Dt=function(qt){(0,S.qU)(mt,qt);function mt(){var Nt=qt.call(this)||this;Nt.identifier="PostChannel",Nt.priority=1011,Nt.version="3.2.9";var Ft,hn=!1,sn=[],Ht=null,Sn=!1,mn=0,In=500,Dn=0,Xn=1e4,pn={},Yn=N,jn=null,en=null,dn=0,Cn=0,Wn,vn,An={},Jn,ci,qn=-1,fi,Mi=!0,si=!1,Fi=Vi,Ni=Mt,Tn,Mn;return(0,I.A)(mt,Nt,function(wn,Li){Za(),wn._getDbgPlgTargets=function(){return[vn]},wn.initialize=function(Qe,dt,it){(0,F.r2)(dt,function(){return"PostChannel:initialize"},function(){var Lt=dt;Li.initialize(Qe,dt,it);try{var Yt=!!dt[an];Tn=(0,T.Hm)((0,c.Z)(wn.identifier),dt.evtNamespace&&dt.evtNamespace());var ln=wn._getTelCtx();Qe.extensionConfig[wn.identifier]=Qe.extensionConfig[wn.identifier]||{},Ft=ln.getExtCfg(wn.identifier),Mn=Kt(Ft.setTimeoutOverride,Ft.clearTimeoutOverride),Mi=!Ft.disableOptimizeObj&&(0,h.F2)(),oa(Lt),Ft.eventsLimitInMem>0&&(Xn=Ft.eventsLimitInMem),Ft.immediateEventLimit>0&&(In=Ft.immediateEventLimit),Ft.autoFlushEventsLimit>0&&(Jn=Ft.autoFlushEventsLimit),(0,p.Et)(Ft[lt])&&(Fi=Ft[lt]),(0,p.Et)(Ft[ht])&&(Ni=Ft[ht]),kn(),Ft.httpXHROverride&&Ft.httpXHROverride.sendPOST&&(Wn=Ft.httpXHROverride),(0,h.yD)(Qe.anonCookieName)&&vn.addQueryStringParameter("anoncknm",Qe.anonCookieName),vn.sendHook=Ft.payloadPreprocessor,vn.sendListener=Ft.payloadListener;var yn=Ft.overrideEndpointUrl?Ft.overrideEndpointUrl:Qe.endpointUrl;wn._notificationManager=dt.getNotifyMgr(),vn.initialize(yn,wn.core,wn,Wn,Ft);var Zn=Qe.disablePageUnloadEvents||[];(0,T.ee)(ji,Zn,Tn),(0,T.Fc)(ji,Zn,Tn),(0,T.oS)(jr,Qe.disablePageShowEvents,Tn)}catch($n){throw wn.setInitialized(!1),$n}},function(){return{coreConfig:Qe,core:dt,extensions:it}})},wn.processTelemetry=function(Qe,dt){(0,h.u9)(Qe,wn.identifier),dt=wn._getTelCtx(dt);var it=dt.getExtCfg(wn.identifier),Lt=!!Ft.disableTelemetry;it&&(Lt=Lt||!!it.disableTelemetry);var Yt=Qe;!Lt&&!hn&&(Ft[Ct]&&(Yt.iKey=Ft[Ct]),it&&it[Ct]&&(Yt.iKey=it[Ct]),or(Yt,!0),si?Da(2,2):Ii()),wn.processNext(Yt,dt)},wn._doTeardown=function(Qe,dt){Da(2,2),hn=!0,vn.teardown(),(0,T.Ds)(null,Tn),(0,T.sq)(null,Tn),(0,T.vF)(null,Tn),Za()};function oa(Qe){var dt=Qe.getWParam;Qe.getWParam=function(){var it=0;return Ft.ignoreMc1Ms0CookieProcessing&&(it=it|2),it|dt()}}function ji(Qe){var dt=Qe||(0,v.zk)().event;dt.type!=="beforeunload"&&(si=!0,vn.setUnloading(si)),Da(2,2)}function jr(Qe){si=!1,vn.setUnloading(si)}function or(Qe,dt){if(Qe.sendAttempt||(Qe.sendAttempt=0),Qe.latency||(Qe.latency=1),Qe.ext&&Qe.ext[xe]&&delete Qe.ext[xe],Qe.ext&&Qe.ext[Ee]&&Qe.ext[Ee].id&&delete Qe.ext[Ee].id,Mi&&(h.u9,Qe.ext=(0,p.hW)(Qe.ext),Qe.baseData&&(Qe.baseData=(0,p.hW)(Qe.baseData)),Qe.data&&(Qe.data=(0,p.hW)(Qe.data))),Qe.sync){if(dn||Sn)Qe.latency=3,Qe.sync=!1;else if(vn){Mi&&(Qe=(0,p.hW)(Qe)),vn.sendSynchronousBatch(X.create(Qe.iKey,[Qe]),Qe.sync===!0?1:Qe.sync,3);return}}var it=Qe.latency,Lt=Dn,Yt=Xn;it===4&&(Lt=mn,Yt=In);var ln=!1;if(Lt<Yt)ln=!ka(Qe,dt);else{var yn=1,Zn=zt;it===4&&(yn=4,Zn=1),ln=!0,Ws(Qe.iKey,Qe.latency,yn,Zn)&&(ln=!ka(Qe,dt))}ln&&zr(ze,[Qe],w.x.QueueFull)}wn.setEventQueueLimits=function(Qe,dt){Xn=Qe>0?Qe:1e4,Jn=dt>0?dt:0,kn();var it=Dn>Qe;if(!it&&ci>0)for(var Lt=1;!it&&Lt<=3;Lt++){var Yt=An[Lt];Yt&&Yt.batches&&(0,p.Iu)(Yt.batches,function(ln){ln&&ln.count()>=ci&&(it=!0)})}wa(!0,it)},wn.pause=function(){Lr(),Sn=!0,vn.pause()},wn.resume=function(){Sn=!1,vn.resume(),Ii()},wn.addResponseHandler=function(Qe){vn._responseHandlers.push(Qe)},wn._loadTransmitProfiles=function(Qe){es(),(0,p.z)(Qe,function(dt,it){var Lt=it.length;if(Lt>=2){var Yt=Lt>2?it[2]:0;if(it.splice(0,Lt-2),it[1]<0&&(it[0]=-1),it[1]>0&&it[0]>0){var ln=it[0]/it[1];it[0]=Math.ceil(ln)*it[1]}Yt>=0&&it[1]>=0&&Yt>it[1]&&(Yt=it[1]),it.push(Yt),pn[dt]=it}})},wn.flush=function(Qe,dt,it){if(Qe===void 0&&(Qe=!0),!Sn)if(it=it||1,Qe)Ht==null?(Lr(),ua(1,0,it),Ht=Pr(function(){Ht=null,bs(dt,it)},0)):sn.push(dt);else{var Lt=Lr();Wr(1,1,it),dt!=null&&dt(),Lt&&Ii()}},wn.setMsaAuthTicket=function(Qe){vn.addHeader(G,Qe)},wn.hasEvents=la,wn._setTransmitProfile=function(Qe){Yn!==Qe&&pn[Qe]!==void 0&&(Lr(),Yn=Qe,Ii())};function Wr(Qe,dt,it){var Lt=ua(Qe,dt,it);return vn.sendQueuedRequests(dt,it),Lt}function la(){return Dn>0}function Ii(){if(qn>=0&&ua(qn,0,fi)&&vn.sendQueuedRequests(0,fi),mn>0&&!en&&!Sn){var Qe=pn[Yn][2];Qe>=0&&(en=Pr(function(){en=null,Wr(4,0,1),Ii()},Qe))}var dt=pn[Yn][1];!jn&&!Ht&&dt>=0&&!Sn&&(la()?jn=Pr(function(){jn=null,Wr(Cn===0?3:1,0,1),Cn++,Cn%=2,Ii()},dt):Cn=0)}wn._backOffTransmission=function(){dn<ft&&(dn++,Lr(),Ii())},wn._clearBackOff=function(){dn&&(dn=0,Lr(),Ii())};function Za(){Ft=null,hn=!1,sn=[],Ht=null,Sn=!1,mn=0,In=500,Dn=0,Xn=1e4,pn={},Yn=N,jn=null,en=null,dn=0,Cn=0,Wn=null,An={},Jn=void 0,ci=0,qn=-1,fi=null,Mi=!0,si=!1,Fi=Vi,Ni=Mt,Tn=null,Mn=Kt(),vn=new xt(Zt,vt,De,{requeue:ts,send:wt,sent:Et,drop:It,rspFail:Wt,oth:En},Mn),Mr(),ba(),kn()}function Pr(Qe,dt){dt===0&&dn&&(dt=1);var it=1e3;return dn&&(it=Be(dn-1)),Mn.set(Qe,dt*it)}function Lr(){return jn!==null?(Mn.clear(jn),jn=null,Cn=0,!0):!1}function Da(Qe,dt){Lr(),Ht&&(Mn.clear(Ht),Ht=null),Sn||Wr(1,Qe,dt)}function ba(){An[4]={batches:[],iKeyMap:{}},An[3]={batches:[],iKeyMap:{}},An[2]={batches:[],iKeyMap:{}},An[1]={batches:[],iKeyMap:{}}}function ys(Qe,dt,it){var Lt=An[dt];Lt||(dt=1,Lt=An[dt]);var Yt=Lt.iKeyMap[Qe];return!Yt&&it&&(Yt=X.create(Qe),Lt.batches.push(Yt),Lt.iKeyMap[Qe]=Yt),Yt}function wa(Qe,dt){vn.canSendRequest()&&!dn&&(Jn>0&&Dn>Jn&&(dt=!0),dt&&Ht==null&&wn.flush(Qe,null,20))}function ka(Qe,dt){Mi&&(Qe=(0,p.hW)(Qe));var it=Qe.latency,Lt=ys(Qe.iKey,it,!0);return Lt.addEvent(Qe)?(it!==4?(Dn++,dt&&Qe.sendAttempt===0&&wa(!Qe.sync,ci>0&&Lt.count()>=ci)):mn++,!0):!1}function Ws(Qe,dt,it,Lt){for(;it<=dt;){var Yt=ys(Qe,dt,!0);if(Yt&&Yt.count()>0){var ln=Yt.split(0,Lt),yn=ln.count();if(yn>0)return it===4?mn-=yn:Dn-=yn,je(ze,[ln],w.x.QueueFull),!0}it++}return zs(),!1}function zs(){for(var Qe=0,dt=0,it=function(Yt){var ln=An[Yt];ln&&ln.batches&&(0,p.Iu)(ln.batches,function(yn){Yt===4?Qe+=yn.count():dt+=yn.count()})},Lt=1;Lt<=4;Lt++)it(Lt);Dn=dt,mn=Qe}function ua(Qe,dt,it){var Lt=!1,Yt=dt===0;return!Yt||vn.canSendRequest()?(0,F.r2)(wn.core,function(){return"PostChannel._queueBatches"},function(){for(var ln=[],yn=4;yn>=Qe;){var Zn=An[yn];Zn&&Zn.batches&&Zn.batches.length>0&&((0,p.Iu)(Zn.batches,function($n){vn.addBatch($n)?Lt=Lt||$n&&$n.count()>0:ln=ln.concat($n.events()),yn===4?mn-=$n.count():Dn-=$n.count()}),Zn.batches=[],Zn.iKeyMap={}),yn--}ln.length>0&&zr(ze,ln,w.x.KillSwitch),Lt&&qn>=Qe&&(qn=-1,fi=0)},function(){return{latency:Qe,sendType:dt,sendReason:it}},!Yt):(qn=qn>=0?Math.min(qn,Qe):Qe,fi=Math.max(fi,it)),Lt}function bs(Qe,dt){Wr(1,0,dt),zs(),xa(function(){Qe&&Qe(),sn.length>0?Ht=Pr(function(){Ht=null,bs(sn.shift(),dt)},0):(Ht=null,Ii())})}function xa(Qe){vn.isCompletelyIdle()?Qe():Ht=Pr(function(){Ht=null,xa(Qe)},Ji)}function es(){Lr(),Mr(),Yn=N,Ii()}function Mr(){pn={},pn[N]=[2,1,0],pn[d]=[6,3,0],pn[g]=[18,9,0]}function ts(Qe,dt){var it=[],Lt=Fi;si&&(Lt=Ni),(0,p.Iu)(Qe,function(Yt){Yt&&Yt.count()>0&&(0,p.Iu)(Yt.events(),function(ln){ln&&(ln.sync&&(ln.latency=4,ln.sync=!1),ln.sendAttempt<Lt?((0,h.u9)(ln,wn.identifier),or(ln,!1)):it.push(ln))})}),it.length>0&&zr(ze,it,w.x.NonRetryableStatus),si&&Da(2,2)}function _i(Qe,dt){var it=wn._notificationManager||{},Lt=it[Qe];if(Lt)try{Lt.apply(it,dt)}catch(Yt){(0,b.ZP)(wn.diagLog(),1,74,Qe+" notification failed: "+Yt)}}function zr(Qe,dt){for(var it=[],Lt=2;Lt<arguments.length;Lt++)it[Lt-2]=arguments[Lt];dt&&dt.length>0&&_i(Qe,[dt].concat(it))}function je(Qe,dt){for(var it=[],Lt=2;Lt<arguments.length;Lt++)it[Lt-2]=arguments[Lt];dt&&dt.length>0&&(0,p.Iu)(dt,function(Yt){Yt&&Yt.count()>0&&_i(Qe,[Yt.events()].concat(it))})}function wt(Qe,dt,it){Qe&&Qe.length>0&&_i("eventsSendRequest",[dt>=1e3&&dt<=1999?dt-1e3:0,it!==!0])}function Et(Qe,dt){je("eventsSent",Qe,dt),Ii()}function It(Qe,dt){je(ze,Qe,dt>=8e3&&dt<=8999?dt-8e3:w.x.Unknown)}function Wt(Qe){je(ze,Qe,w.x.NonRetryableStatus),Ii()}function En(Qe,dt){je(ze,Qe,w.x.Unknown),Ii()}function kn(){!Ft||!Ft.disableAutoBatchFlushLimit?ci=Math.max(Zt*(vt+1),Xn/6):ci=0}(0,p.r)(wn,"_setTimeoutOverride",function(){return Mn.set},function(Qe){Mn=Kt(Qe,Mn.clear)}),(0,p.r)(wn,"_clearTimeoutOverride",function(){return Mn.clear},function(Qe){Mn=Kt(Mn.set,Qe)})}),Nt}return mt.__ieDyn=1,mt}(l.s);const Vt=Dt},96434:(s,j,R)=>{"use strict";R.d(j,{Hj:()=>I,oP:()=>T});var S=R(12497);function I(c){var h={};return(0,S.z)(c,function(p,v){h[p]=v,h[v]=p}),(0,S.ol)(h)}function F(c){var h={};return objForEachKey(c,function(p,v){h[p]=p,h[v]=p}),deepFreeze(h)}function T(c){var h={};return(0,S.z)(c,function(p,v){h[p]=v[1],h[v[0]]=v[1]}),(0,S.ol)(h)}},31590:(s,j,R)=>{"use strict";R.d(j,{x:()=>I});var S=R(96434),I=(0,S.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,j,R)=>{"use strict";R.d(j,{$:()=>M,b:()=>P});var S=R(96434),I,F="Failed",T=F+"MonitorAjax",c="Track",h="Start",p="Stop",v="Event",w="AuthContext",b="Exception",l="Local",N="Session",d="Storage",g="Browser",f="Cannot",_="Buffer",E="InstrumentationKey",P=(0,S.Hj)({CRITICAL:1,WARNING:2}),M=(0,S.Hj)((I={},I[g+"DoesNotSupport"+l+d]=0,I[g+f+"Read"+l+d]=1,I[g+f+"Read"+N+d]=2,I[g+f+"Write"+l+d]=3,I[g+f+"Write"+N+d]=4,I[g+F+"RemovalFrom"+l+d]=5,I[g+F+"RemovalFrom"+N+d]=6,I[f+"SendEmptyTelemetry"]=7,I.ClientPerformanceMathError=8,I["ErrorParsingAI"+N+"Cookie"]=9,I.ErrorPVCalc=10,I[b+"WhileLoggingError"]=11,I[F+"AddingTelemetryTo"+_]=12,I[T+"Abort"]=13,I[T+"Dur"]=14,I[T+"Open"]=15,I[T+"RSC"]=16,I[T+"Send"]=17,I[T+"GetCorrelationHeader"]=18,I[F+"ToAddHandlerForOnBeforeUnload"]=19,I[F+"ToSendQueuedTelemetry"]=20,I[F+"ToReportDataLoss"]=21,I["Flush"+F]=22,I.MessageLimitPerPVExceeded=23,I.MissingRequiredFieldSpecification=24,I.NavigationTimingNotSupported=25,I.OnError=26,I[N+"RenewalDateIsZero"]=27,I.SenderNotInitialized=28,I[h+c+v+F]=29,I[p+c+v+F]=30,I[h+c+F]=31,I[p+c+F]=32,I.TelemetrySampledAndNotSent=33,I[c+v+F]=34,I[c+b+F]=35,I[c+"Metric"+F]=36,I[c+"PV"+F]=37,I[c+"PV"+F+"Calc"]=38,I[c+"Trace"+F]=39,I["Transmission"+F]=40,I[F+"ToSet"+d+_]=41,I[F+"ToRestore"+d+_]=42,I.InvalidBackendResponse=43,I[F+"ToFixDepricatedValues"]=44,I.InvalidDurationValue=45,I.TelemetryEnvelopeInvalid=46,I.CreateEnvelopeError=47,I[f+"SerializeObject"]=48,I[f+"SerializeObjectNonSerializable"]=49,I.CircularReferenceDetected=50,I["Clear"+w+F]=51,I[b+"Truncated"]=52,I.IllegalCharsInName=53,I.ItemNotInArray=54,I.MaxAjaxPerPVExceeded=55,I.MessageTruncated=56,I.NameTooLong=57,I.SampleRateOutOfRange=58,I["Set"+w+F]=59,I["Set"+w+F+"AccountName"]=60,I.StringValueTooLong=61,I.StartCalledMoreThanOnce=62,I.StopCalledWithoutStart=63,I["TelemetryInitializer"+F]=64,I.TrackArgumentsNotSpecified=65,I.UrlTooLong=66,I[N+d+_+"Full"]=67,I[f+"AccessCookie"]=68,I.IdTooLong=69,I.InvalidEvent=70,I[T+"SetRequestHeader"]=71,I["Send"+g+"InfoOnUserInit"]=72,I["Plugin"+b]=73,I["Notification"+b]=74,I.SnippetScriptLoadFailure=99,I["Invalid"+E]=100,I[f+"ParseAiBlobValue"]=101,I.InvalidContentBlob=102,I[c+"PageAction"+v+F]=103,I[F+"AddingCustomDefinedRequestContext"]=104,I["InMemory"+d+_+"Full"]=105,I[E+"Deprecation"]=106,I))},12235:(s,j,R)=>{"use strict";R.d(j,{_:()=>b});var S=R(8747),I=R(92457),F=R(60830),T=R(34082),c=R(99015),h=R(12497),p=R(1972),v=R(54660),w=R(5204),b=function(l){(0,S.qU)(N,l);function N(){var d=l.call(this)||this;return(0,I.A)(N,d,function(g,f){g[F.mE]=function(P,M,V,O){f[F.mE](P,M,V||new c.wq(P),O||new v.h(P))},g.track=function(P){(0,w.r2)(g[p.kI](),function(){return"AppInsightsCore:track"},function(){P===null&&(E(P),(0,h.$8)("Invalid telemetry item")),_(P),f.track(P)},function(){return{item:P}},!P.sync)};function _(P){(0,h.hX)(P[F.RS])&&(E(P),(0,h.$8)("telemetry name required"))}function E(P){var M=g[F.RF]();M&&M[p.Yp]([P],2)}}),d}return N.__ieDyn=1,N}(T.F)},34082:(s,j,R)=>{"use strict";R.d(j,{F:()=>C});var S=R(8747),I=R(92457),F=R(75148),T=R(60830),c=R(12497),h=R(1972),p=R(8997),v=R(33540),w=500,b="Channel has invalid priority - ";function l(L,H,z){H&&(0,c.cy)(H)&&H[T.oI]>0&&(H=H.sort(function(G,ee){return G[h.Vo]-ee[h.Vo]}),(0,c.Iu)(H,function(G){G[h.Vo]<w&&(0,c.$8)(b+G[T.Ju])}),L[T.y5]({queue:(0,c.N6)(H),chain:(0,p.PV)(H,z[T.GA],z)}))}function N(L,H){function z(){return(0,p.i8)(null,H[T.GA],H,null)}function G(Ee,be,Pe,X){var te=Ee?Ee[T.oI]+1:1;function de(){te--,te===0&&(X&&X(),X=null)}te>0&&(0,c.Iu)(Ee,function(he){if(he&&he.queue[T.oI]>0){var we=he.chain,B=be[T.$o](we);B[T.by](de),Pe(B)}else te--}),de()}function ee(Ee,be){var Pe=be||{reason:0};return G(L,Ee,function(X){X[T.$5](Pe)},function(){Ee[T.$5](Pe)}),!0}function ne(Ee,be){var Pe=be||{reason:0,isAsync:!1};return G(L,Ee,function(X){X[T.$5](Pe)},function(){Ee[T.$5](Pe),se=!1}),!0}function q(Ee){var be=null;return L&&L[T.oI]>0&&(0,c.Iu)(L,function(Pe){if(Pe&&Pe.queue[T.oI]>0&&((0,c.Iu)(Pe.queue,function(X){if(X[T.Ju]===Ee)return be=X,-1}),be))return-1}),be}var se=!1,xe={identifier:"ChannelControllerPlugin",priority:w,initialize:function(Ee,be,Pe,X){se=!0,(0,c.Iu)(L,function(te){te&&te.queue[T.oI]>0&&(0,v.pI)((0,p.i8)(te.chain,Ee,be),Pe)})},isInitialized:function(){return se},processTelemetry:function(Ee,be){G(L,be||z(),function(Pe){Pe[T.$5](Ee)},function(){be[T.$5](Ee)})},update:ee,pause:function(){G(L,z(),function(Ee){Ee.iterate(function(be){be.pause&&be.pause()})},null)},resume:function(){G(L,z(),function(Ee){Ee.iterate(function(be){be.resume&&be.resume()})},null)},teardown:ne,getChannel:q,flush:function(Ee,be,Pe,X){var te=1,de=!1,he=null;X=X||5e3;function we(){te--,de&&te===0&&(he&&(clearTimeout(he),he=null),be&&be(de),be=null)}return G(L,z(),function(B){B.iterate(function(U){if(U[T.EX]){te++;var le=!1;U[T.EX](Ee,function(){le=!0,we()},Pe)||le||(Ee&&he==null?he=setTimeout(function(){he=null,we()},X):we())}})},function(){de=!0,we()}),!0},_setQueue:function(Ee){L=Ee}};return xe}function d(L,H,z){var G=[];if(L&&(0,c.Iu)(L,function(ne){return l(G,ne,z)}),H){var ee=[];(0,c.Iu)(H,function(ne){ne[h.Vo]>w&&ee[T.y5](ne)}),l(G,ee,z)}return G}var g=R(91698),f=R(64252),_=R(95331),E=R(99015),P=R(5204),M=R(56489),V=R(44180),O=function(L){(0,S.qU)(H,L);function H(){var z=L.call(this)||this;z.identifier="TelemetryInitializerPlugin",z.priority=199;var G,ee;ne(),(0,I.A)(H,z,function(q,se){q.addTelemetryInitializer=function(xe){var Ee={id:G++,fn:xe};ee[T.y5](Ee);var be={remove:function(){(0,c.Iu)(ee,function(Pe,X){if(Pe.id===Ee.id)return ee[T.Ic](X,1),-1})}};return be},q[h.qT]=function(xe,Ee){for(var be=!1,Pe=ee[T.oI],X=0;X<Pe;++X){var te=ee[X];if(te)try{if(te.fn[T.y9](null,[xe])===!1){be=!0;break}}catch(de){(0,E.ZP)(Ee[T.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,c.lL)(de),{exception:(0,V.mm)(de)},!0)}}be||q[T.$5](xe,Ee)},q[T.tn]=function(){ne()}});function ne(){G=0,ee=[]}return z}return H.__ieDyn=1,H}(M.s),y=R(49388),K="Plugins must provide initialize method",Y="_notificationManager",Z="SDK is still unloading...",ie="SDK is not initialized",J={loggingLevelConsole:1};function x(L,H){return new P.NS(H)}function W(L,H,z){var G,ee=[],ne={};return(0,c.Iu)(z,function(q){((0,c.hX)(q)||(0,c.hX)(q[T.mE]))&&(0,c.$8)(K);var se=q[h.Vo],xe=q[T.Ju];q&&se&&((0,c.hX)(ne[se])?ne[se]=xe:(0,E.OG)(L,"Two extensions have same priority #"+se+" - "+ne[se]+", "+xe)),(!se||se<H)&&ee[T.y5](q)}),G={all:z},G[h.eT]=ee,G}function D(L,H){var z=!1;return(0,c.Iu)(H,function(G){if(G===L)return z=!0,-1}),z}function m(){var L;return(0,F.AQ)((L={},L[T.vR]=function(H){},L[T.TP]=function(H){},L[h.fc]=function(H){},L[h.Yp]=function(H,z){},L[h.dI]=function(H,z){},L))}var C=function(){function L(){var H,z,G,ee,ne,q,se,xe,Ee,be,Pe,X,te,de,he,we,B,U,le,ge,_e=0;(0,I.A)(L,this,function(ye){Me(),ye[T.tZ]=function(){return z},ye[T.mE]=function(Le,Xe,Bt,rt){de&&(0,c.$8)(Z),ye[T.tZ]()&&(0,c.$8)("Core should not be initialized more than once"),H=Le||{},ye[T.GA]=H,(0,c.hX)(Le[T.sl])&&(0,c.$8)("Please provide instrumentation key"),ee=rt,ye[Y]=rt,ae(),ue(),ke(),Bt&&(ye[T.Uw]=Bt);var ct=(0,c.c2)(H,h.jy,[]);Ee=[],Ee[T.y5].apply(Ee,(0,S.vz)((0,S.vz)([],Xe,!1),ct,!1)),X=(0,c.c2)(H,h.LZ,[]),Ve(null),(!te||te[T.oI]===0)&&(0,c.$8)("No "+h.LZ+" available"),z=!0,ye.releaseQueue()},ye.getTransmissionControls=function(){var Le=[];return te&&(0,c.Iu)(te,function(Xe){Le[T.y5](Xe.queue)}),(0,c.N6)(Le)},ye.track=function(Le){Le.iKey=Le.iKey||H[T.sl],Le[T.fA]=Le[T.fA]||(0,c._u)(new Date),Le.ver=Le.ver||"4.0",!de&&ye[T.tZ]()?Be()[T.$5](Le):G[T.y5](Le)},ye[T.ps]=Be,ye[T.RF]=function(){return ee||(ee=m(),ye[Y]=ee),ee},ye[T.vR]=function(Le){ee&&ee[T.vR](Le)},ye[T.TP]=function(Le){ee&&ee[T.TP](Le)},ye.getCookieMgr=function(){return se||(se=(0,g.xN)(H,ye[T.Uw])),se},ye.setCookieMgr=function(Le){se=Le},ye[h.kI]=function(){if(!ne&&!q&&(0,c.SA)(H.enablePerfMgr)){var Le=(0,c.SA)(H[h.Yd]);(0,c.Tn)(Le)&&(q=Le(ye,ye[T.RF]()))}return ne||q||(0,P.Z4)()},ye.setPerfMgr=function(Le){ne=Le},ye.eventCnt=function(){return G[T.oI]},ye.releaseQueue=function(){if(z&&G[T.oI]>0){var Le=G;G=[],(0,c.Iu)(Le,function(Xe){Be()[T.$5](Xe)})}},ye.pollInternalLogs=function(Le){we=Le||null;var Xe=(0,c.SA)(H.diagnosticLogInterval);return(!Xe||!(Xe>0))&&(Xe=1e4),_e&&clearInterval(_e),_e=setInterval(function(){Rt()},Xe),_e},ye[T.Di]=function(){_e&&(clearInterval(_e),_e=0,Rt())},(0,c.o$)(ye,function(){return he},["addTelemetryInitializer"]),ye.unload=function(Le,Xe,Bt){var rt;Le===void 0&&(Le=!0),z||(0,c.$8)(ie),de&&(0,c.$8)(Z);var ct=(rt={reason:50},rt[T.tI]=Le,rt.flushComplete=!1,rt),yt=(0,p.tS)(Je(),ye);yt[T.by](function(){Me(),Xe&&Xe(ct)},ye);function pt(St){ct.flushComplete=St,de=!0,U.run(yt,ct),ye[T.Di](),yt[T.$5](ct)}ce(Le,pt,6,Bt)||pt(!1)},ye[T.AP]=_t,ye.addPlugin=function(Le,Xe,Bt,rt){if(!Le){rt&&rt(!1),Ke(K);return}var ct=_t(Le[T.Ju]);if(ct&&!Xe){rt&&rt(!1),Ke("Plugin ["+Le[T.Ju]+"] is already loaded!");return}var yt={reason:16};function pt(gt){Ee[T.y5](Le),yt.added=[Le],Ve(yt),rt&&rt(!0)}if(ct){var St=[ct.plugin],un={reason:2,isAsync:!!Bt};nt(St,un,function(gt){gt?(yt.removed=St,yt.reason|=32,pt(!0)):rt&&rt(!1)})}else pt(!1)},ye.evtNamespace=function(){return B},ye[T.EX]=ce,ye.getTraceCtx=function(Le){return ge||(ge=(0,v.u7)()),ge},ye.setTraceCtx=function(Le){ge=Le||null},(0,c.RF)(ye,"addUnloadCb",function(){return U},"add");function Me(){z=!1,H=(0,c.CP)(!0,{},J),ye[T.GA]=H,ye[T.Uw]=new E.wq(H),ye[T.H7]=[],he=new O,G=[],ee=null,ne=null,q=null,se=null,xe=null,be=null,Ee=[],Pe=null,X=null,te=null,de=!1,we=null,B=(0,f.Z)("AIBaseCore",!0),U=(0,y.P)(),ge=null}function Be(){return(0,p.i8)(Je(),H,ye)}function Ve(Le){var Xe=W(ye[T.Uw],w,Ee);be=Xe[h.eT],xe=null;var Bt=Xe.all;if(te=(0,c.N6)(d(X,Bt,ye)),Pe){var rt=(0,c.rD)(Bt,Pe);rt!==-1&&Bt[T.Ic](rt,1),rt=(0,c.rD)(be,Pe),rt!==-1&&be[T.Ic](rt,1),Pe._setQueue(te)}else Pe=N(te,ye);Bt[T.y5](Pe),be[T.y5](Pe),ye[T.H7]=(0,v.Xc)(Bt),Pe[T.mE](H,ye,Bt),(0,v.pI)(Be(),Bt),ye[T.H7]=(0,c.N6)((0,v.Xc)(be||[])).slice(),Le&&Ie(Le)}function _t(Le){var Xe,Bt=null,rt=null;return(0,c.Iu)(ye[T.H7],function(ct){if(ct[T.Ju]===Le&&ct!==Pe&&ct!==he)return rt=ct,-1}),!rt&&Pe&&(rt=Pe.getChannel(Le)),rt&&(Bt=(Xe={plugin:rt},Xe[T.kt]=function(ct){(0,v.Cr)(rt)[h.Hr]=!ct},Xe.isEnabled=function(){var ct=(0,v.Cr)(rt);return!ct[T.Ik]&&!ct[h.Hr]},Xe.remove=function(ct,yt){var pt;ct===void 0&&(ct=!0);var St=[rt],un=(pt={reason:1},pt[T.tI]=ct,pt);nt(St,un,function(gt){gt&&Ve({reason:32,removed:St}),yt&&yt(gt)})},Xe)),Bt}function Je(){if(!xe){var Le=(be||[]).slice();(0,c.rD)(Le,he)===-1&&Le[T.y5](he),xe=(0,p.PV)((0,v.Xc)(Le),H,ye)}return xe}function nt(Le,Xe,Bt){if(Le&&Le[T.oI]>0){var rt=(0,p.PV)(Le,H,ye),ct=(0,p.tS)(rt,ye);ct[T.by](function(){var yt=!1,pt=[];(0,c.Iu)(Ee,function(un,gt){D(un,Le)?yt=!0:pt[T.y5](un)}),Ee=pt;var St=[];X&&((0,c.Iu)(X,function(un,gt){var xt=[];(0,c.Iu)(un,function(ti){D(ti,Le)?yt=!0:xt[T.y5](ti)}),St[T.y5](xt)}),X=St),Bt&&Bt(yt)}),ct[T.$5](Xe)}else Bt(!1)}function Rt(){var Le=ye[T.Uw]?ye[T.Uw].queue:[];Le&&((0,c.Iu)(Le,function(Xe){var Bt,rt=(Bt={},Bt[T.RS]=we||"InternalMessageId: "+Xe[T.JR],Bt.iKey=(0,c.SA)(H[T.sl]),Bt.time=(0,c._u)(new Date),Bt.baseType=E.WD.dataType,Bt.baseData={message:Xe[T.pM]},Bt);ye.track(rt)}),Le[T.oI]=0)}function ce(Le,Xe,Bt,rt){return Pe?Pe[T.EX](Le,Xe,Bt||6,rt):(Xe&&Xe(!1),!0)}function ae(){var Le=(0,c.SA)(H.disableDbgExt);Le===!0&&le&&(ee[T.TP](le),le=null),ee&&!le&&Le!==!0&&(le=(0,_.M)(H),ee[T.vR](le))}function ue(){var Le=(0,c.SA)(H.enablePerfMgr);!Le&&q&&(q=null),Le&&(0,c.c2)(H,h.Yd,x)}function ke(){var Le=(0,c.c2)(H,h.Bw,{});Le.NotificationManager=ee}function Ie(Le){var Xe=(0,p.nU)(Je(),ye);(!ye._updateHook||ye._updateHook(Xe,Le)!==!0)&&Xe[T.$5](Le)}function Ke(Le){var Xe=ye[T.Uw];Xe?(0,E.ZP)(Xe,2,73,Le):(0,c.$8)(Le)}})}return L.__ieDyn=1,L}()},56489:(s,j,R)=>{"use strict";R.d(j,{s:()=>v});var S=R(92457),I=R(60830),F=R(12497),T=R(1972),c=R(8997),h=R(49388),p="getPlugin",v=function(){function w(){var b=this,l,N,d,g,f;P(),(0,S.A)(w,b,function(M){M[I.mE]=function(V,O,y,K){E(V,O,K),l=!0},M[I.Ik]=function(V,O){var y,K=M[T.eT];if(!K||V&&K!==V[T.eT]())return;var Y,Z=!1,ie=V||(0,c.tS)(null,K,d&&d[p]?d[p]():d),J=O||(y={reason:0},y[I.tI]=!1,y);function x(){if(!Z){Z=!0,g.run(ie,O);var W=f;f=[],(0,F.Iu)(W,function(D){D.rm()}),Y===!0&&ie[I.$5](J),P()}}return!M[I.tn]||M[I.tn](ie,J,x)!==!0?x():Y=!0,Y},M[I.HC]=function(V,O){var y=M[T.eT];if(!y||V&&y!==V[T.eT]())return;var K,Y=!1,Z=V||(0,c.nU)(null,y,d&&d[p]?d[p]():d),ie=O||{reason:0};function J(){Y||(Y=!0,E(Z.getCfg(),Z.core(),Z[I.uR]()))}return!M._doUpdate||M._doUpdate(Z,ie,J)!==!0?J():K=!0,K},M._addHook=function(V){V&&((0,F.cy)(V)?f=f.concat(V):f[I.y5](V))},(0,F.RF)(M,"_addUnloadCb",function(){return g},"add")}),b[I.e4]=function(M){return _(M)[I.e4]()},b[I.tZ]=function(){return l},b.setInitialized=function(M){l=M},b[I.YH]=function(M){d=M},b[I.$5]=function(M,V){V?V[I.$5](M):d&&(0,F.Tn)(d[T.qT])&&d[T.qT](M,null)},b._getTelCtx=_;function _(M){M===void 0&&(M=null);var V=M;if(!V){var O=N||(0,c.i8)(null,{},b[T.eT]);d&&d[p]?V=O[I.$o](null,d[p]):V=O[I.$o](null,d)}return V}function E(M,V,O){M&&(0,F.KY)(M,T.Bw,[],null,F.hX),!O&&V&&(O=V[I.ps]()[I.uR]());var y=d;d&&d[p]&&(y=d[p]()),b[T.eT]=V,N=(0,c.i8)(O,M,V,y)}function P(){l=!1,b[T.eT]=null,N=null,d=null,f=[],g=(0,h.P)()}}return w.__ieDyn=1,w}()},91698:(s,j,R)=>{"use strict";R.d(j,{It:()=>L,d5:()=>V,gi:()=>J,um:()=>Z,xN:()=>ie});var S=R(60830),I=R(99015),F=R(44180),T=R(12497),c=R(1972),h="toGMTString",p="toUTCString",v="cookie",w="expires",b="enabled",l="isCookieUseDisabled",N="disableCookiesUsage",d="_ckMgr",g=null,f=null,_=null,E=(0,F.YE)(),P={},M={};function V(H,z){var G=ie[d]||M[d];return G||(G=ie[d]=ie(H,z),M[d]=G),G}function O(H){return H?H.isEnabled():!0}function y(H){var z=H[S.lK]=H[S.lK]||{};if((0,T.KY)(z,"domain",H.cookieDomain,T.Gh,T.hX),(0,T.KY)(z,"path",H.cookiePath||"/",null,T.hX),(0,T.hX)(z[b])){var G=void 0;(0,T.b0)(H[l])||(G=!H[l]),(0,T.b0)(H[N])||(G=!H[N]),z[b]=G}return z}function K(H,z){return z&&H&&(0,T.cy)(H.ignoreCookies)?H.ignoreCookies[S.Sj](z)!==-1:!1}function Y(H,z){return z&&H&&(0,T.cy)(H.blockedCookies)&&H.blockedCookies[S.Sj](z)!==-1?!0:K(H,z)}function Z(H,z){var G;if(H)G=H.getCookieMgr();else if(z){var ee=z[S.lK];ee[d]?G=ee[d]:G=ie(z)}return G||(G=V(z,(H||{})[S.Uw])),G}function ie(H,z){var G,ee=y(H||M),ne=ee.path||"/",q=ee.domain,se=ee[b]!==!1,xe=(G={isEnabled:function(){var Ee=se&&J(z),be=M[d];return Ee&&be&&xe!==be&&(Ee=O(be)),Ee}},G[S.kt]=function(Ee){se=Ee!==!1},G.set=function(Ee,be,Pe,X,te){var de=!1;if(O(xe)&&!Y(ee,Ee)){var he={},we=(0,T.EH)(be||c.m5),B=we[S.Sj](";");if(B!==-1&&(we=(0,T.EH)(be[S.Re](0,B)),he=x(be[S.Re](B+1))),(0,T.KY)(he,"domain",X||q,T.zz,T.b0),!(0,T.hX)(Pe)){var U=(0,F.lT)();if((0,T.b0)(he[w])){var le=(0,T.x3)(),ge=le+Pe*1e3;if(ge>0){var _e=new Date;_e.setTime(ge),(0,T.KY)(he,w,W(_e,U?h:p)||W(_e,U?h:p)||c.m5,T.zz)}}U||(0,T.KY)(he,"max-age",c.m5+Pe,null,T.b0)}var ye=(0,F.g$)();ye&&ye.protocol==="https:"&&((0,T.KY)(he,"secure",null,null,T.b0),f===null&&(f=!L(((0,F.w3)()||{})[S.tX])),f&&(0,T.KY)(he,"SameSite","None",null,T.b0)),(0,T.KY)(he,"path",te||ne,null,T.b0);var Me=ee.setCookie||C;Me(Ee,D(we,he)),de=!0}return de},G.get=function(Ee){var be=c.m5;return O(xe)&&!K(ee,Ee)&&(be=(ee.getCookie||m)(Ee)),be},G.del=function(Ee,be){var Pe=!1;return O(xe)&&(Pe=xe.purge(Ee,be)),Pe},G.purge=function(Ee,be){var Pe,X=!1;if(J(z)){var te=(Pe={},Pe.path=be||"/",Pe[w]="Thu, 01 Jan 1970 00:00:01 GMT",Pe);(0,F.lT)()||(te["max-age"]="0");var de=ee.delCookie||C;de(Ee,D(c.m5,te)),X=!0}return X},G);return xe[d]=xe,xe}function J(H){if(g===null){g=!1;try{var z=E||{};g=z[v]!==void 0}catch(G){(0,I.ZP)(H,2,68,"Cannot access document.cookie - "+(0,T.lL)(G),{exception:(0,F.mm)(G)})}}return g}function x(H){var z={};if(H&&H[S.oI]){var G=(0,T.EH)(H)[S.sY](";");(0,T.Iu)(G,function(ee){if(ee=(0,T.EH)(ee||c.m5),ee){var ne=ee[S.Sj]("=");ne===-1?z[ee]=null:z[(0,T.EH)(ee[S.Re](0,ne))]=(0,T.EH)(ee[S.Re](ne+1))}})}return z}function W(H,z){return(0,T.Tn)(H[z])?H[z]():null}function D(H,z){var G=H||c.m5;return(0,T.z)(z,function(ee,ne){G+="; "+ee+((0,T.hX)(ne)?c.m5:"="+ne)}),G}function m(H){var z=c.m5;if(E){var G=E[v]||c.m5;_!==G&&(P=x(G),_=G),z=(0,T.EH)(P[H]||c.m5)}return z}function C(H,z){E&&(E[v]=H+"="+z)}function L(H){return(0,T.Kg)(H)?!!((0,T.Ju)(H,"CPU iPhone OS 12")||(0,T.Ju)(H,"iPad; CPU OS 12")||(0,T.Ju)(H,"Macintosh; Intel Mac OS X 10_14")&&(0,T.Ju)(H,"Version/")&&(0,T.Ju)(H,"Safari")||(0,T.Ju)(H,"Macintosh; Intel Mac OS X 10_14")&&(0,T.Cv)(H,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,T.Ju)(H,"Chrome/5")||(0,T.Ju)(H,"Chrome/6")||(0,T.Ju)(H,"UnrealEngine")&&!(0,T.Ju)(H,"Chrome")||(0,T.Ju)(H,"UCBrowser/12")||(0,T.Ju)(H,"UCBrowser/11")):!1}},32578:(s,j,R)=>{"use strict";R.d(j,{Ri:()=>y,TV:()=>K,UU:()=>d,WD:()=>V,Yj:()=>Y,aq:()=>N,cL:()=>f,fs:()=>P,ht:()=>O,jS:()=>_});var S=R(75148),I=R(60830),F=R(91698),T=R(44180),c=R(18413),h=R(12497),p=R(1972),v=R(57679),w=null,b,l=null;function N(){var Z=f();return Z[I.Re](0,8)+"-"+Z[I.Re](8,12)+"-"+Z[I.Re](12,16)+"-"+Z[I.Re](16,20)+"-"+Z[I.Re](20)}function d(){var Z=(0,T.FJ)();return Z&&Z.now?Z.now():(0,h.x3)()}function g(Z,ie){if(Z&&ie){var J=Z[_DYN_LENGTH],x=J-ie[_DYN_LENGTH];return Z[_DYN_SUBSTRING](x>=0?x:0,J)===ie}return!1}function f(){for(var Z=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ie=p.m5,J,x=0;x<4;x++)J=(0,v.VN)(),ie+=Z[J&15]+Z[J>>4&15]+Z[J>>8&15]+Z[J>>12&15]+Z[J>>16&15]+Z[J>>20&15]+Z[J>>24&15]+Z[J>>28&15];var W=Z[8+((0,v.VN)()&3)|0];return ie[I.$4](0,8)+ie[I.$4](9,4)+"4"+ie[I.$4](13,3)+W+ie[I.$4](16,3)+ie[I.$4](19,12)}var _={_canUseCookies:void 0,isTypeof:h.Ed,isUndefined:h.b0,isNullOrUndefined:h.hX,hasOwnProperty:h.mQ,isFunction:h.Tn,isObject:h.Gv,isDate:h.$P,isArray:h.cy,isError:h.bJ,isString:h.Kg,isNumber:h.Et,isBoolean:h.Lm,toISOString:h._u,arrForEach:h.Iu,arrIndexOf:h.rD,arrMap:h.W$,arrReduce:h.KT,strTrim:h.EH,objCreate:S.AQ,objKeys:h.cG,objDefineAccessors:h.r,addEventHandler:c.So,dateNow:h.x3,isIE:T.lT,disableCookies:V,newGuid:N,perfNow:d,newId:v.Si,randomValue:v.Z1,random32:v.VN,mwcRandomSeed:v.yc,mwcRandom32:v.k5,generateW3CId:f},E=/[xy]/g,P={Attach:c.Q3,AttachEvent:c.Q3,Detach:c.Ym,DetachEvent:c.Ym};function M(Z,ie){var J=(0,F.d5)(Z,ie),x=_._canUseCookies;return w===null&&(w=[],b=x,(0,h.r)(_,"_canUseCookies",function(){return b},function(W){b=W,(0,h.Iu)(w,function(D){D[I.kt](W)})})),(0,h.rD)(w,J)===-1&&w[I.y5](J),(0,h.Lm)(x)&&J[I.kt](x),(0,h.Lm)(b)&&J[I.kt](b),J}function V(){M()[I.kt](!1)}function O(Z){return M(null,Z).isEnabled()}function y(Z,ie){return M(null,Z).get(ie)}function K(Z,ie,J,x){M(null,Z).set(ie,J,null,x)}function Y(Z,ie){return M(null,Z).del(ie)}},64252:(s,j,R)=>{"use strict";R.d(j,{T:()=>g,Z:()=>d});var S=R(47672),I=R(60830),F=R(12497),T=R(1972),c=R(57679),h=S.KU,p="2.8.10",v="."+(0,c.Si)(6),w=0;function b(f,_,E){if(h)try{return h(f,_,{value:E,enumerable:!1,configurable:!0}),!0}catch{}return!1}function l(f){return f[I.re]===1||f[I.re]===9||!+f[I.re]}function N(f,_){var E=_[f.id];if(!E){E={};try{l(_)&&(b(_,f.id,E)||(_[f.id]=E))}catch{}}return E}function d(f,_){return _===void 0&&(_=!1),(0,F.cH)(f+w+++(_?"."+p:T.m5)+v)}function g(f){var _={id:d("_aiData-"+(f||T.m5)+"."+p),accept:function(E){return l(E)},get:function(E,P,M,V){var O=E[_.id];return O?O[(0,F.cH)(P)]:(V&&(O=N(_,E),O[(0,F.cH)(P)]=M),M)},kill:function(E,P){if(E&&E[P])try{delete E[P]}catch{}}};return _}},95331:(s,j,R)=>{"use strict";R.d(j,{$:()=>v,M:()=>w});var S=R(60830),I=R(44180),F=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],T=null,c;function h(b,l){return function(){var N=arguments,d=v(l);if(d){var g=d.listener;g&&g[b]&&g[b][S.y9](g,N)}}}function p(){var b=(0,I.EH)("Microsoft");return b&&(T=b.ApplicationInsights),T}function v(b){var l=T;return!l&&b.disableDbgExt!==!0&&(l=T||p()),l?l.ChromeDbgExt:null}function w(b){if(!c){c={};for(var l=0;l<F[S.oI];l++)c[F[l]]=h(F[l],b)}return c}},99015:(s,j,R)=>{"use strict";R.d(j,{OG:()=>E,Oc:()=>P,WD:()=>N,ZP:()=>_,wq:()=>g,y0:()=>d});var S=R(92457),I=R(60830),F=R(95331),T=R(44180),c=R(12497),h=R(1972),p="AI (Internal): ",v="AI: ",w="AITR_";function b(M){return M?'"'+M[I.W7](/\"/g,h.m5)+'"':h.m5}function l(M,V){var O=(0,T.U5)();if(O){var y="log";O[M]&&(y=M),(0,c.Tn)(O[y])&&O[y](V)}}var N=function(){function M(V,O,y,K){y===void 0&&(y=!1);var Y=this;Y[I.JR]=V,Y[I.pM]=(y?v:p)+V;var Z=h.m5;(0,T.Z)()&&(Z=(0,T.hm)().stringify(K));var ie=(O?" message:"+b(O):h.m5)+(K?" props:"+b(Z):h.m5);Y[I.pM]+=ie}return M.dataType="MessageData",M}();function d(M,V){return(M||{})[I.Uw]||new g(V)}var g=function(){function M(V){this.identifier="DiagnosticLogger",this.queue=[];var O=0,y={},K,Y,Z,ie;(0,S.A)(M,this,function(J){W(V||{}),J.consoleLoggingLevel=function(){return K},J.telemetryLoggingLevel=function(){return Y},J.maxInternalMessageLimit=function(){return Z},J[I.a$]=function(){return ie},J.throwInternal=function(C,L,H,z,G){G===void 0&&(G=!1);var ee=new N(L,H,G,z);if(ie)throw(0,T.mm)(ee);var ne=C===1?h.Zi:h.Tj;if((0,c.b0)(ee[I.pM]))m("throw"+(C===1?"Critical":"Warning"),ee);else{if(G){var q=+ee[I.JR];!y[q]&&K>=C&&(J[ne](ee[I.pM]),y[q]=!0)}else K>=C&&J[ne](ee[I.pM]);x(C,ee)}},J[h.Tj]=function(C){l("warn",C),m("warning",C)},J[h.Zi]=function(C){l("error",C),m("error",C)},J.resetInternalMessageCount=function(){O=0,y={}},J[I.sx]=x;function x(C,L){if(!D()){var H=!0,z=w+L[I.JR];if(y[z]?H=!1:y[z]=!0,H&&(C<=Y&&(J.queue[I.y5](L),O++,m(C===1?"error":"warn",L)),O===Z)){var G="Internal events throttle limit per PageView reached for this app.",ee=new N(23,G,!1);J.queue[I.y5](ee),C===1?J[h.Zi](G):J[h.Tj](G)}}}function W(C){K=(0,c.SA)(C.loggingLevelConsole,0),Y=(0,c.SA)(C.loggingLevelTelemetry,1),Z=(0,c.SA)(C.maxMessageLimit,25),ie=(0,c.SA)(C[I.a$],!1)}function D(){return O>=Z}function m(C,L){var H=(0,F.$)(V||{});H&&H[I.e4]&&H[I.e4](C,L)}})}return M.__ieDyn=1,M}();function f(M){return M||new g}function _(M,V,O,y,K,Y){Y===void 0&&(Y=!1),f(M).throwInternal(V,O,y,K,Y)}function E(M,V){f(M)[h.Tj](V)}function P(M,V,O){f(M)[I.sx](V,O)}},44180:(s,j,R)=>{"use strict";R.d(j,{$Z:()=>_e,EH:()=>x,FJ:()=>q,Iu:()=>ye,JK:()=>G,L0:()=>te,MY:()=>Ee,PV:()=>U,R7:()=>B,U5:()=>ne,Uf:()=>we,Vd:()=>W,Wt:()=>m,YE:()=>C,Z:()=>se,cU:()=>J,g$:()=>ee,hm:()=>xe,iN:()=>be,lT:()=>X,lV:()=>Pe,mm:()=>de,tw:()=>z,w3:()=>H,w9:()=>L,xk:()=>le,zk:()=>D});var S=R(47672),I=R(75148),F=R(60830),T=R(12497),c=R(1972),h="window",p="document",v="documentMode",w="navigator",b="history",l="location",N="console",d="performance",g="JSON",f="crypto",_="msCrypto",E="ReactNative",P="msie",M="trident/",V="XMLHttpRequest",O=null,y=null,K=!1,Y=null,Z=null;function ie(Me,Be){var Ve=!1;if(Me){try{if(Ve=Be in Me,!Ve){var _t=Me[S.vR];_t&&(Ve=Be in _t)}}catch{}if(!Ve)try{var Je=new Me;Ve=!(0,T.b0)(Je[Be])}catch{}}return Ve}function J(Me){K=Me}function x(Me){var Be=(0,I.mS)();return Be&&Be[Me]?Be[Me]:Me===h&&W()?window:null}function W(){return!!(typeof window===S._1&&window)}function D(){return W()?window:x(h)}function m(){return!!(typeof document===S._1&&document)}function C(){return m()?document:x(p)}function L(){return!!(typeof navigator===S._1&&navigator)}function H(){return L()?navigator:x(w)}function z(){return!!(typeof history===S._1&&history)}function G(){return z()?history:x(b)}function ee(Me){if(Me&&K){var Be=x("__mockLocation");if(Be)return Be}return typeof location===S._1&&location?location:x(l)}function ne(){return typeof console!==S.bA?console:x(N)}function q(){return x(d)}function se(){return!!(typeof JSON===S._1&&JSON||x(g)!==null)}function xe(){return se()?JSON||x(g):null}function Ee(){return x(f)}function be(){return x(_)}function Pe(){var Me=H();return Me&&Me.product?Me.product===E:!1}function X(){var Me=H();if(Me&&(Me[F.tX]!==y||O===null)){y=Me[F.tX];var Be=(y||c.m5)[F.OL]();O=(0,T.Ju)(Be,P)||(0,T.Ju)(Be,M)}return O}function te(Me){if(Me===void 0&&(Me=null),!Me){var Be=H()||{};Me=Be?(Be[F.tX]||c.m5)[F.OL]():c.m5}var Ve=(Me||c.m5)[F.OL]();if((0,T.Ju)(Ve,P)){var _t=C()||{};return Math.max(parseInt(Ve[F.sY](P)[1]),_t[v]||0)}else if((0,T.Ju)(Ve,M)){var Je=parseInt(Ve[F.sY](M)[1]);if(Je)return Je+4}return null}function de(Me){var Be=Object[S.vR].toString[F.Ek](Me),Ve=c.m5;return Be==="[object Error]"?Ve="{ stack: '"+Me.stack+"', message: '"+Me.message+"', name: '"+Me[F.RS]+"'":se()&&(Ve=xe().stringify(Me)),Be+Ve}function he(Me){if(!Me||!isString(Me)){var Be=H()||{};Me=Be?(Be[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Ve=(Me||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Ve[_DYN_INDEX_OF]("safari")>=0}function we(){return Z===null&&(Z=L()&&!!H().sendBeacon),Z}function B(Me){var Be=!1;try{Be=!!x("fetch");var Ve=x("Request");Be&&Me&&Ve&&(Be=ie(Ve,"keepalive"))}catch{}return Be}function U(){return Y===null&&(Y=typeof XDomainRequest!==S.bA,Y&&le()&&(Y=Y&&!ie(x(V),"withCredentials"))),Y}function le(){var Me=!1;try{var Be=x(V);Me=!!Be}catch{}return Me}function ge(Me,Be){if(Me)for(var Ve=0;Ve<Me[F.oI];Ve++){var _t=Me[Ve];if(_t[F.RS]&&_t[F.RS]===Be)return _t}return{}}function _e(Me){var Be=C();return Be&&Me?ge(Be.querySelectorAll("meta"),Me).content:null}function ye(Me){var Be,Ve=q();if(Ve){var _t=Ve.getEntriesByType("navigation")||[];Be=ge((_t[F.oI]>0?_t[0]:{}).serverTiming,Me).description}return Be}},18413:(s,j,R)=>{"use strict";R.d(j,{Ds:()=>be,El:()=>ie,Fc:()=>Pe,Hm:()=>C,ML:()=>H,Q3:()=>z,So:()=>ee,Wg:()=>xe,Ym:()=>G,ee:()=>Ee,lQ:()=>se,mB:()=>L,oS:()=>te,sq:()=>X,vF:()=>de,zh:()=>ne});var S=R(60830),I=R(64252),F=R(44180),T=R(12497),c=R(1972),h="on",p="attachEvent",v="addEventListener",w="detachEvent",b="removeEventListener",l="events",N="visibilitychange",d="pagehide",g="pageshow",f="unload",_="beforeunload",E=(0,I.Z)("aiEvtPageHide"),P=(0,I.Z)("aiEvtPageShow"),M=/\.[\.]+/g,V=/[\.]+$/,O=1,y=(0,I.T)("events"),K=/^([^.]*)(?:\.(.+)|)/;function Y(he){return he&&he[S.W7]?he[S.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,c.m5):he}function Z(he,we){var B;if(we){var U=c.m5;(0,T.cy)(we)?(U=c.m5,(0,T.Iu)(we,function(ge){ge=Y(ge),ge&&(ge[0]!=="."&&(ge="."+ge),U+=ge)})):U=Y(we),U&&(U[0]!=="."&&(U="."+U),he=(he||c.m5)+U)}var le=K.exec(he||c.m5)||[];return B={},B[S.QM]=le[1],B.ns=(le[2]||c.m5).replace(M,".").replace(V,c.m5)[S.sY](".").sort().join("."),B}function ie(he,we,B){var U=[],le=y.get(he,l,{},!1),ge=Z(we,B);return(0,T.z)(le,function(_e,ye){(0,T.Iu)(ye,function(Me){var Be;(!ge[S.QM]||ge[S.QM]===Me.evtName[S.QM])&&(!ge.ns||ge.ns===ge.ns)&&U[S.y5]((Be={},Be[S.RS]=Me.evtName[S.QM]+(Me.evtName.ns?"."+Me.evtName.ns:c.m5),Be.handler=Me[S.Yo],Be))})}),U}function J(he,we,B){B===void 0&&(B=!0);var U=y.get(he,l,{},B),le=U[we];return le||(le=U[we]=[]),le}function x(he,we,B,U){he&&we&&we[S.QM]&&(he[b]?he[b](we[S.QM],B,U):he[w]&&he[w](h+we[S.QM],B))}function W(he,we,B,U){var le=!1;return he&&we&&we[S.QM]&&B&&(he[v]?(he[v](we[S.QM],B,U),le=!0):he[p]&&(he[p](h+we[S.QM],B),le=!0)),le}function D(he,we,B,U){for(var le=we[S.oI];le--;){var ge=we[le];ge&&(!B.ns||B.ns===ge.evtName.ns)&&(!U||U(ge))&&(x(he,ge.evtName,ge[S.Yo],ge.capture),we[S.Ic](le,1))}}function m(he,we,B){if(we[S.QM])D(he,J(he,we[S.QM]),we,B);else{var U=y.get(he,l,{});(0,T.z)(U,function(le,ge){D(he,ge,we,B)}),(0,T.cG)(U)[S.oI]===0&&y.kill(he,l)}}function C(he,we){var B;return we?((0,T.cy)(we)?B=[he].concat(we):B=[he,we],B=Z("xx",B).ns[S.sY](".")):B=he,B}function L(he,we,B,U,le){var ge;le===void 0&&(le=!1);var _e=!1;if(he)try{var ye=Z(we,U);if(_e=W(he,ye,B,le),_e&&y.accept(he)){var Me=(ge={guid:O++,evtName:ye},ge[S.Yo]=B,ge.capture=le,ge);J(he,ye.type)[S.y5](Me)}}catch{}return _e}function H(he,we,B,U,le){if(le===void 0&&(le=!1),he)try{var ge=Z(we,U),_e=!1;m(he,ge,function(ye){return ge.ns&&!B||ye[S.Yo]===B?(_e=!0,!0):!1}),_e||x(he,ge,B,le)}catch{}}function z(he,we,B,U){return U===void 0&&(U=!1),L(he,we,B,null,U)}function G(he,we,B,U){U===void 0&&(U=!1),H(he,we,B,null,U)}function ee(he,we,B){var U=!1,le=(0,F.zk)();le&&(U=L(le,he,we,B),U=L(le.body,he,we,B)||U);var ge=(0,F.YE)();return ge&&(U=L(ge,he,we,B)||U),U}function ne(he,we,B){var U=(0,F.zk)();U&&(H(U,he,we,B),H(U.body,he,we,B));var le=(0,F.YE)();le&&H(le,he,we,B)}function q(he,we,B,U){var le=!1;return we&&he&&he[S.oI]>0&&(0,T.Iu)(he,function(ge){ge&&(!B||(0,T.rD)(B,ge)===-1)&&(le=ee(ge,we,U)||le)}),le}function se(he,we,B,U){var le=!1;return we&&he&&(0,T.cy)(he)&&(le=q(he,we,B,U),!le&&B&&B[S.oI]>0&&(le=q(he,we,null,U))),le}function xe(he,we,B){he&&(0,T.cy)(he)&&(0,T.Iu)(he,function(U){U&&ne(U,we,B)})}function Ee(he,we,B){return se([_,f,d],he,we,B)}function be(he,we){xe([_,f,d],he,we)}function Pe(he,we,B){function U(_e){var ye=(0,F.YE)();he&&ye&&ye.visibilityState==="hidden"&&he(_e)}var le=C(E,B),ge=q([d],he,we,le);return(!we||(0,T.rD)(we,N)===-1)&&(ge=q([N],U,we,le)||ge),!ge&&we&&(ge=Pe(he,null,B)),ge}function X(he,we){var B=C(E,we);xe([d],he,B),xe([N],null,B)}function te(he,we,B){function U(_e){var ye=(0,F.YE)();he&&ye&&ye.visibilityState==="visible"&&he(_e)}var le=C(P,B),ge=q([g],he,we,le);return ge=q([N],U,we,le)||ge,!ge&&we&&(ge=te(he,null,B)),ge}function de(he,we){var B=C(P,we);xe([g],he,B),xe([N],null,B)}},12497:(s,j,R)=>{"use strict";R.d(j,{$8:()=>Kt,$P:()=>U,CP:()=>vt,Cv:()=>te,EH:()=>ke,Ed:()=>z,Et:()=>Me,Gh:()=>q,Gv:()=>xe,Iu:()=>Rt,Ju:()=>B,KT:()=>ue,KY:()=>un,Kg:()=>ye,Lm:()=>Be,N6:()=>ct,RF:()=>zt,SA:()=>xt,SZ:()=>Mt,Tn:()=>Ee,W$:()=>ae,_u:()=>Je,b0:()=>G,bJ:()=>_e,c2:()=>gt,cG:()=>Le,cH:()=>Pe,cy:()=>le,hW:()=>ft,hX:()=>ne,js:()=>yt,lL:()=>St,mQ:()=>se,o$:()=>Vi,ol:()=>rt,qz:()=>Zt,r:()=>Xe,rD:()=>ce,tG:()=>he,wo:()=>ti,x3:()=>pt,z:()=>X,zz:()=>Ot});var S=R(47672),I=R(75148),F=R(60830),T=R(1972),c="toISOString",h="endsWith",p="startsWith",v="indexOf",w="map",b="reduce",l="trim",N="toString",d="__proto__",g="constructor",f=S.KU,_=S.s6.freeze,E=S.s6.seal,P=S.s6.keys,M=String[S.vR],V=M[l],O=M[h],y=M[p],K=Date[S.vR],Y=K[c],Z=Array.isArray,ie=S.Wy[N],J=S.J$[N],x=J[F.Ek](S.s6),W=/-([a-z])/g,D=/([^\w\d_$])/g,m=/^(\d+[\w\d_$])/,C=Object.getPrototypeOf;function L(De){if(De){if(C)return C(De);var ze=De[d]||De[S.vR]||De[g];if(ze)return ze}return null}function H(De){return ie[_DYN_CALL](De)}function z(De,ze){return typeof De===ze}function G(De){return De===void 0||typeof De===S.bA}function ee(De){return!G(De)}function ne(De){return De===null||G(De)}function q(De){return!ne(De)}function se(De,ze){return!!(De&&S.J$[F.Ek](De,ze))}function xe(De){return!!(De&&typeof De===S._1)}function Ee(De){return!!(De&&typeof De===S.hW)}function be(De){return De&&Ee(De.then)}function Pe(De){var ze=De;return ze&&ye(ze)&&(ze=ze[F.W7](W,function(Ct,lt){return lt.toUpperCase()}),ze=ze[F.W7](D,"_"),ze=ze[F.W7](m,function(Ct,lt){return"_"+lt})),ze}function X(De,ze){if(De)for(var Ct in De)S.J$[F.Ek](De,Ct)&&ze[F.Ek](De,Ct,De[Ct])}function te(De,ze){var Ct=!1;return De&&ze&&!(Ct=De===ze)&&(Ct=O?De[h](ze):de(De,ze)),Ct}function de(De,ze){var Ct=!1,lt=ze?ze[F.oI]:0,ht=De?De[F.oI]:0;if(lt&&ht&&ht>=lt&&!(Ct=De===ze)){for(var an=ht-1,Dt=lt-1;Dt>=0;Dt--){if(De[an]!=ze[Dt])return!1;an--}Ct=!0}return Ct}function he(De,ze){var Ct=!1;return De&&ze&&!(Ct=De===ze)&&(Ct=y?De[p](ze):we(De,ze)),Ct}function we(De,ze){var Ct=!1,lt=ze?ze[F.oI]:0;if(De&&lt&&De[F.oI]>=lt&&!(Ct=De===ze)){for(var ht=0;ht<lt;ht++)if(De[ht]!==ze[ht])return!1;Ct=!0}return Ct}function B(De,ze){return De&&ze?De[F.Sj](ze)!==-1:!1}function U(De){return!!(De&&ie[F.Ek](De)==="[object Date]")}var le=Z||ge;function ge(De){return!!(De&&ie[F.Ek](De)==="[object Array]")}function _e(De){return!!(De&&ie[F.Ek](De)==="[object Error]")}function ye(De){return typeof De=="string"}function Me(De){return typeof De=="number"}function Be(De){return typeof De=="boolean"}function Ve(De){return typeof De=="symbol"}function _t(De){var ze=!1;if(De&&typeof De=="object"){var Ct=C?C(De):L(De);Ct?(Ct[g]&&S.J$[F.Ek](Ct,g)&&(Ct=Ct[g]),ze=typeof Ct===S.hW&&J[F.Ek](Ct)===x):ze=!0}return ze}function Je(De){if(De)return Y?De[c]():nt(De)}function nt(De){if(De&&De.getUTCFullYear){var ze=function(Ct){var lt=String(Ct);return lt[F.oI]===1&&(lt="0"+lt),lt};return De.getUTCFullYear()+"-"+ze(De.getUTCMonth()+1)+"-"+ze(De.getUTCDate())+"T"+ze(De.getUTCHours())+":"+ze(De.getUTCMinutes())+":"+ze(De.getUTCSeconds())+"."+String((De.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Rt(De,ze,Ct){var lt=De[F.oI];try{for(var ht=0;ht<lt&&!(ht in De&&ze[F.Ek](Ct||De,De[ht],ht,De)===-1);ht++);}catch{}}function ce(De,ze,Ct){if(De){if(De[v])return De[v](ze,Ct);var lt=De[F.oI],ht=Ct||0;try{for(var an=Math.max(ht>=0?ht:lt-Math.abs(ht),0);an<lt;an++)if(an in De&&De[an]===ze)return an}catch{}}return-1}function ae(De,ze,Ct){var lt;if(De){if(De[w])return De[w](ze,Ct);var ht=De[F.oI],an=Ct||De;lt=new Array(ht);try{for(var Dt=0;Dt<ht;Dt++)Dt in De&&(lt[Dt]=ze[F.Ek](an,De[Dt],De))}catch{}}return lt}function ue(De,ze,Ct){var lt;if(De){if(De[b])return De[b](ze,Ct);var ht=De[F.oI],an=0;if(arguments[F.oI]>=3)lt=arguments[2];else{for(;an<ht&&!(an in De);)an++;lt=De[an++]}for(;an<ht;)an in De&&(lt=ze(lt,De[an],an,De)),an++}return lt}function ke(De){return De&&(De=V&&De[l]?De[l]():De[F.W7]?De[F.W7](/^\s+|(?=\s)\s+$/g,T.m5):De),De}var Ie=!{toString:null}.propertyIsEnumerable("toString"),Ke=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Le(De){var ze=typeof De;if(ze!==S.hW&&(ze!==S._1||De===null)&&(0,I.zk)("objKeys called on non-object"),!Ie&&P)return P(De);var Ct=[];for(var lt in De)De&&S.J$[F.Ek](De,lt)&&Ct[F.y5](lt);if(Ie)for(var ht=Ke[F.oI],an=0;an<ht;an++)De&&S.J$[F.Ek](De,Ke[an])&&Ct[F.y5](Ke[an]);return Ct}function Xe(De,ze,Ct,lt){if(f)try{var ht={enumerable:!0,configurable:!0};return Ct&&(ht.get=Ct),lt&&(ht.set=lt),f(De,ze,ht),!0}catch{}return!1}function Bt(De){return De}function rt(De){return _&&X(De,function(ze,Ct){(le(Ct)||xe(Ct))&&_(Ct)}),ct(De)}var ct=_||Bt,yt=E||Bt;function pt(){var De=Date;return De.now?De.now():new De().getTime()}function St(De){return _e(De)?De[F.RS]:T.m5}function un(De,ze,Ct,lt,ht){var an=Ct;return De&&(an=De[ze],an!==Ct&&(!ht||ht(an))&&(!lt||lt(Ct))&&(an=Ct,De[ze]=an)),an}function gt(De,ze,Ct){var lt;return De?(lt=De[ze],!lt&&ne(lt)&&(lt=G(Ct)?{}:Ct,De[ze]=lt)):lt=G(Ct)?{}:Ct,lt}function xt(De,ze){return ne(De)?ze:De}function ti(De){return!De}function Ot(De){return!!De}function Kt(De){throw new Error(De)}function Ji(De,ze){var Ct=null,lt=null;return Ee(De)?Ct=De:lt=De,function(){var ht=arguments;if(Ct&&(lt=Ct()),lt)return lt[ze][F.y9](lt,ht)}}function Zt(De,ze,Ct){if(De&&ze&&xe(De)&&xe(ze)){var lt=function(an){if(ye(an)){var Dt=ze[an];Ee(Dt)?(!Ct||Ct(an,!0,ze,De))&&(De[an]=Ji(ze,an)):(!Ct||Ct(an,!1,ze,De))&&(se(De,an)&&delete De[an],Xe(De,an,function(){return ze[an]},function(Vt){ze[an]=Vt})||(De[an]=Dt))}};for(var ht in ze)lt(ht)}return De}function zt(De,ze,Ct,lt,ht){De&&ze&&Ct&&(ht!==!1||G(De[ze]))&&(De[ze]=Ji(Ct,lt))}function Vi(De,ze,Ct,lt){return De&&ze&&xe(De)&&le(Ct)&&Rt(Ct,function(ht){ye(ht)&&zt(De,ht,ze,ht,lt)}),De}function Mt(De){return function(){function ze(){var Ct=this;De&&X(De,function(lt,ht){Ct[lt]=ht})}return ze}()}function ft(De){return De&&S.zi&&(De=(0,S.s6)((0,S.zi)({},De))),De}function vt(De,ze,Ct,lt,ht,an){var Dt=arguments,Vt=Dt[0]||{},qt=Dt[F.oI],mt=!1,Nt=1;for(qt>0&&Be(Vt)&&(mt=Vt,Vt=Dt[Nt]||{},Nt++),xe(Vt)||(Vt={});Nt<qt;Nt++){var Ft=Dt[Nt],hn=le(Ft),sn=xe(Ft);for(var Ht in Ft){var Sn=hn&&Ht in Ft||sn&&S.J$[F.Ek](Ft,Ht);if(Sn){var mn=Ft[Ht],In=void 0;if(mt&&mn&&((In=le(mn))||_t(mn))){var Dn=Vt[Ht];In?le(Dn)||(Dn=[]):_t(Dn)||(Dn={}),mn=vt(mt,Dn,mn)}mn!==void 0&&(Vt[Ht]=mn)}}}return Vt}},1972:(s,j,R)=>{"use strict";R.d(j,{Bw:()=>h,Hr:()=>c,LZ:()=>I,Tj:()=>f,Vo:()=>w,Yd:()=>T,Yp:()=>l,Zi:()=>g,dI:()=>N,eT:()=>F,fc:()=>b,jy:()=>p,kI:()=>_,l0:()=>d,m5:()=>S,qT:()=>v});var S="",I="channels",F="core",T="createPerfMgr",c="disabled",h="extensionConfig",p="extensions",v="processTelemetry",w="priority",b="eventsSent",l="eventsDiscarded",N="eventsSendRequest",d="perfEvent",g="errorToConsole",f="warnToConsole",_="getPerfMgr"},54660:(s,j,R)=>{"use strict";R.d(j,{h:()=>h});var S=R(92457),I=R(60830),F=R(12497),T=R(1972);function c(p,v,w,b){(0,F.Iu)(p,function(l){if(l&&l[v])if(w)setTimeout(function(){return b(l)},0);else try{b(l)}catch{}})}var h=function(){function p(v){this.listeners=[];var w=!!(v||{}).perfEvtsSendAll;(0,S.A)(p,this,function(b){b[I.vR]=function(l){b.listeners[I.y5](l)},b[I.TP]=function(l){for(var N=(0,F.rD)(b[I.lJ],l);N>-1;)b.listeners[I.Ic](N,1),N=(0,F.rD)(b[I.lJ],l)},b[T.fc]=function(l){c(b[I.lJ],T.fc,!0,function(N){N[T.fc](l)})},b[T.Yp]=function(l,N){c(b[I.lJ],T.Yp,!0,function(d){d[T.Yp](l,N)})},b[T.dI]=function(l,N){c(b[I.lJ],T.dI,N,function(d){d[T.dI](l,N)})},b[T.l0]=function(l){l&&(w||!l[I.Zu]())&&c(b[I.lJ],T.l0,!1,function(N){l[I.tI]?setTimeout(function(){return N[T.l0](l)},0):N[T.l0](l)})}})}return p.__ieDyn=1,p}()},5204:(s,j,R)=>{"use strict";R.d(j,{NS:()=>b,Q6:()=>w,Z4:()=>g,r2:()=>N});var S=R(92457),I=R(60830),F=R(12497),T=R(1972),c="ctx",h="ParentContextKey",p="ChildrenContextKey",v=null,w=function(){function f(_,E,P){var M=this,V=!1;if(M.start=(0,F.x3)(),M[I.RS]=_,M[I.tI]=P,M[I.Zu]=function(){return!1},(0,F.Tn)(E)){var O;V=(0,F.r)(M,"payload",function(){return!O&&(0,F.Tn)(E)&&(O=E(),E=null),O})}M[I.O_]=function(y){return y?y===f[h]||y===f[p]?M[y]:(M[c]||{})[y]:null},M[I.e_]=function(y,K){if(y)if(y===f[h])M[y]||(M[I.Zu]=function(){return!0}),M[y]=K;else if(y===f[p])M[y]=K;else{var Y=M[c]=M[c]||{};Y[y]=K}},M[I.Ru]=function(){var y=0,K=M[I.O_](f[p]);if((0,F.cy)(K))for(var Y=0;Y<K[I.oI];Y++){var Z=K[Y];Z&&(y+=Z[I.fA])}M[I.fA]=(0,F.x3)()-M.start,M.exTime=M[I.fA]-y,M[I.Ru]=function(){},!V&&(0,F.Tn)(E)&&(M.payload=E())}}return f.ParentContextKey="parent",f.ChildrenContextKey="childEvts",f}(),b=function(){function f(_){this.ctx={},(0,S.A)(f,this,function(E){E.create=function(P,M,V){return new w(P,M,V)},E.fire=function(P){P&&(P[I.Ru](),_&&(0,F.Tn)(_[T.l0])&&_[T.l0](P))},E[I.e_]=function(P,M){if(P){var V=E[c]=E[c]||{};V[P]=M}},E[I.O_]=function(P){return(E[c]||{})[P]}})}return f.__ieDyn=1,f}(),l="CoreUtils.doPerf";function N(f,_,E,P,M){if(f){var V=f;if(V[T.kI]&&(V=V[T.kI]()),V){var O=void 0,y=V[I.O_](l);try{if(O=V.create(_(),P,M),O){if(y&&O[I.e_]&&(O[I.e_](w[h],y),y[I.O_]&&y[I.e_])){var K=y[I.O_](w[p]);K||(K=[],y[I.e_](w[p],K)),K[I.y5](O)}return V[I.e_](l,O),E(O)}}catch(Y){O&&O[I.e_]&&O[I.e_]("exception",Y)}finally{O&&V.fire(O),V[I.e_](l,y)}}}return E()}function d(f){v=f}function g(){return v}},8997:(s,j,R)=>{"use strict";R.d(j,{PV:()=>E,W0:()=>M,i8:()=>g,nU:()=>_,tS:()=>f});var S=R(60830),I=R(99015),F=R(44180),T=R(12497),c=R(1972),h=R(5204),p=R(33540),v="TelemetryPluginChain",w="_hasRun",b="_getTelCtx",l=0;function N(V,O,y){for(;V;){if(V[S.AP]()===y)return V;V=V[S.uR]()}return E([y],O[S.GA]||{},O)}function d(V,O,y,K){var Y=null,Z=[];K!==null&&(Y=K?N(V,y,K):V);var ie={_next:x,ctx:{core:function(){return y},diagLog:function(){return(0,I.y0)(y,O)},getCfg:function(){return O},getExtCfg:W,getConfig:D,hasNext:function(){return!!Y},getNext:function(){return Y},setNext:function(C){Y=C},iterate:m,onComplete:J}};function J(C,L){for(var H=[],z=2;z<arguments.length;z++)H[z-2]=arguments[z];C&&Z[S.y5]({func:C,self:(0,T.b0)(L)?ie.ctx:L,args:H})}function x(){var C=Y;if(Y=C?C[S.uR]():null,!C){var L=Z;L&&L[S.oI]>0&&((0,T.Iu)(L,function(H){try{H.func[S.Ek](H.self,H.args)}catch(z){(0,I.ZP)(y[S.Uw],2,73,"Unexpected Exception during onComplete - "+(0,F.mm)(z))}}),Z=[])}return C}function W(C,L,H){L===void 0&&(L={}),H===void 0&&(H=0);var z;if(O){var G=O[c.Bw];G&&C&&(z=G[C])}if(!z)z=L;else if((0,T.Gv)(L)&&H!==0){var ee=(0,T.CP)(!0,L,z);O&&H===2&&(0,T.z)(L,function(ne){if((0,T.hX)(ee[ne])){var q=O[ne];(0,T.hX)(q)||(ee[ne]=q)}}),z=ee}return z}function D(C,L,H){H===void 0&&(H=!1);var z,G=W(C,null);return G&&!(0,T.hX)(G[L])?z=G[L]:O&&!(0,T.hX)(O[L])&&(z=O[L]),(0,T.hX)(z)?H:z}function m(C){for(var L;L=ie._next();){var H=L[S.AP]();H&&C(H)}}return ie}function g(V,O,y,K){var Y=d(V,O,y,K),Z=Y.ctx;function ie(x){var W=Y._next();return W&&W[c.qT](x,Z),!W}function J(x,W){return x===void 0&&(x=null),(0,T.cy)(x)&&(x=E(x,O,y,W)),g(x||Z[S.uR](),O,y,W)}return Z[S.$5]=ie,Z[S.$o]=J,Z}function f(V,O,y){var K=O[S.GA]||{},Y=d(V,K,O,y),Z=Y.ctx;function ie(x){var W=Y._next();return W&&W.unload(Z,x),!W}function J(x,W){return x===void 0&&(x=null),(0,T.cy)(x)&&(x=E(x,K,O,W)),f(x||Z[S.uR](),O,W)}return Z[S.$5]=ie,Z[S.$o]=J,Z}function _(V,O,y){var K=O[S.GA]||{},Y=d(V,K,O,y),Z=Y.ctx;function ie(x){return Z.iterate(function(W){(0,T.Tn)(W[S.HC])&&W[S.HC](Z,x)})}function J(x,W){return x===void 0&&(x=null),(0,T.cy)(x)&&(x=E(x,K,O,W)),_(x||Z[S.uR](),O,W)}return Z[S.$5]=ie,Z[S.$o]=J,Z}function E(V,O,y,K){var Y=null,Z=!K;if((0,T.cy)(V)&&V[S.oI]>0){var ie=null;(0,T.Iu)(V,function(J){if(!Z&&K===J&&(Z=!0),Z&&J&&(0,T.Tn)(J[c.qT])){var x=P(J,O,y);Y||(Y=x),ie&&ie._setNext(x),ie=x}})}return K&&!Y?E([K],O,y):Y}function P(V,O,y){var K=null,Y=(0,T.Tn)(V[c.qT]),Z=(0,T.Tn)(V[S.YH]),ie;V?ie=V[S.Ju]+"-"+V[c.Vo]+"-"+l++:ie="Unknown-0-"+l++;var J={getPlugin:function(){return V},getNext:function(){return K},processTelemetry:D,unload:m,update:C,_id:ie,_setNext:function(L){K=L}};function x(){var L;return V&&(0,T.Tn)(V[b])&&(L=V[b]()),L||(L=g(J,O,y)),L}function W(L,H,z,G,ee){var ne=!1,q=V?V[S.Ju]:v,se=L[w];return se||(se=L[w]={}),L.setNext(K),V&&(0,h.r2)(L[c.eT](),function(){return q+":"+z},function(){se[ie]=!0;try{var xe=K?K._id:c.m5;xe&&(se[xe]=!1),ne=H(L)}catch(be){var Ee=K?se[K._id]:!0;Ee&&(ne=!0),(!K||!Ee)&&(0,I.ZP)(L[S.e4](),1,73,"Plugin ["+q+"] failed during "+z+" - "+(0,F.mm)(be)+", run flags: "+(0,F.mm)(se))}},G,ee),ne}function D(L,H){H=H||x();function z(G){if(!V||!Y)return!1;var ee=(0,p.Cr)(V);return ee[S.Ik]||ee[c.Hr]?!1:(Z&&V[S.YH](K),V[c.qT](L,G),!0)}W(H,z,"processTelemetry",function(){return{item:L}},!L.sync)||H[S.$5](L)}function m(L,H){function z(){var G=!1;if(V){var ee=(0,p.Cr)(V),ne=V[c.eT]||ee[c.eT];V&&(!ne||ne===L.core())&&!ee[S.Ik]&&(ee[c.eT]=null,ee[S.Ik]=!0,ee[S.tZ]=!1,V[S.Ik]&&V[S.Ik](L,H)===!0&&(G=!0))}return G}W(L,z,"unload",function(){},H[S.tI])||L[S.$5](H)}function C(L,H){function z(){var G=!1;if(V){var ee=(0,p.Cr)(V),ne=V[c.eT]||ee[c.eT];V&&(!ne||ne===L.core())&&!ee[S.Ik]&&V[S.HC]&&V[S.HC](L,H)===!0&&(G=!0)}return G}W(L,z,"update",function(){},!1)||L[S.$5](H)}return(0,T.N6)(J)}var M=function(){function V(O,y,K,Y){var Z=this,ie=g(O,y,K,Y);(0,T.o$)(Z,ie,(0,T.cG)(ie))}return V}()},57679:(s,j,R)=>{"use strict";R.d(j,{Si:()=>_,VN:()=>d,Z1:()=>N,k5:()=>f,yc:()=>g});var S=R(60830),I=R(44180),F=R(12497),T=R(1972),c=4294967296,h=4294967295,p=!1,v=123456789,w=987654321;function b(E){E<0&&(E>>>=0),v=123456789+E&h,w=987654321-E&h,p=!0}function l(){try{var E=(0,F.x3)()&2147483647;b((Math.random()*c^E)+E)}catch{}}function N(E){return E>0?Math.floor(d()/h*(E+1))>>>0:0}function d(E){var P=0,M=(0,I.MY)()||(0,I.iN)();return M&&M.getRandomValues&&(P=M.getRandomValues(new Uint32Array(1))[0]&h),P===0&&(0,I.lT)()&&(p||l(),P=f()&h),P===0&&(P=Math.floor(c*Math.random()|0)),E||(P>>>=0),P}function g(E){E?b(E):l()}function f(E){w=36969*(w&65535)+(w>>16)&h,v=18e3*(v&65535)+(v>>16)&h;var P=(w<<16)+(v&65535)>>>0&h|0;return E||(P>>>=0),P}function _(E){E===void 0&&(E=22);for(var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=d()>>>0,V=0,O=T.m5;O[S.oI]<E;)V++,O+=P.charAt(M&63),M>>>=6,V===5&&(M=(d()<<2&4294967295|M&3)>>>0,V=0);return O}},33540:(s,j,R)=>{"use strict";R.d(j,{Cr:()=>p,Xc:()=>w,pI:()=>v,u7:()=>l});var S=R(60830),I=R(64252),F=R(12497),T=R(1972),c=R(68560),h=(0,I.T)("plugin");function p(N){return h.get(N,"state",{},!0)}function v(N,d){for(var g=[],f=null,_=N[S.uR](),E;_;){var P=_[S.AP]();if(P){f&&(0,F.Tn)(f[S.YH])&&(0,F.Tn)(P[T.qT])&&f[S.YH](P);var M=!1;(0,F.Tn)(P[S.tZ])?M=P[S.tZ]():(E=p(P),M=E[S.tZ]),M||g[S.y5](P),f=P,_=_[S.uR]()}}(0,F.Iu)(g,function(V){var O=N[T.eT]();V[S.mE](N.getCfg(),O,d,N[S.uR]()),E=p(V),!V[T.eT]&&!E[T.eT]&&(E[T.eT]=O),E[S.tZ]=!0,delete E[S.Ik]})}function w(N){return N.sort(function(d,g){var f=0;if(g){var _=(0,F.Tn)(g[T.qT]);(0,F.Tn)(d[T.qT])?f=_?d[T.Vo]-g[T.Vo]:1:_&&(f=-1)}else f=d?1:-1;return f})}function b(N,d,g,f){var _=0;function E(){for(;_<N[_DYN_LENGTH];){var P=N[_++];if(P){var M=P._doUnload||P[_DYN__DO_TEARDOWN];if(isFunction(M)&&M[_DYN_CALL](P,d,g,E)===!0)return!0}}}return E()}function l(N){var d={};return{getName:function(){return d[S.RS]},setName:function(g){N&&N.setName(g),d[S.RS]=g},getTraceId:function(){return d[S.P5]},setTraceId:function(g){N&&N.setTraceId(g),(0,c.hX)(g)&&(d[S.P5]=g)},getSpanId:function(){return d[S.wi]},setSpanId:function(g){N&&N.setSpanId(g),(0,c.wN)(g)&&(d[S.wi]=g)},getTraceFlags:function(){return d[S.Rr]},setTraceFlags:function(g){N&&N.setTraceFlags(g),d[S.Rr]=g}}}},49388:(s,j,R)=>{"use strict";R.d(j,{P:()=>c});var S=R(60830),I=R(99015),F=R(44180),T=R(12497);function c(){var h=[];function p(w){w&&h[S.y5](w)}function v(w,b){(0,T.Iu)(h,function(l){try{l(w,b)}catch(N){(0,I.ZP)(w[S.e4](),2,73,"Unexpected error calling unload handler - "+(0,F.mm)(N))}}),h=[]}return{add:p,run:v}}},68560:(s,j,R)=>{"use strict";R.d(j,{L0:()=>V,N7:()=>M,ZI:()=>f,ef:()=>O,hX:()=>_,mJ:()=>P,wN:()=>E,wk:()=>g});var S=R(60830),I=R(32578),F=R(44180),T=R(12497),c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,h="00",p="ff",v="00000000000000000000000000000000",w="0000000000000000",b=1;function l(y,K,Y){return y&&y[S.oI]===K&&y!==Y?!!y.match(/^[\da-f]*$/):!1}function N(y,K,Y){return l(y,K)?y:Y}function d(y){(isNaN(y)||y<0||y>255)&&(y=1);for(var K=y.toString(16);K[S.oI]<2;)K="0"+K;return K}function g(y,K,Y,Z){var ie;return ie={},ie[S.s]=l(Z,2,p)?Z:h,ie[S.P5]=_(y)?y:(0,I.cL)(),ie.spanId=E(K)?K:(0,I.cL)()[S.$4](0,16),ie.traceFlags=Y>=0&&Y<=255?Y:1,ie}function f(y){var K;if(!y||((0,T.cy)(y)&&(y=y[0]||""),!y||!(0,T.Kg)(y)||y[S.oI]>8192))return null;var Y=c.exec((0,T.EH)(y));return!Y||Y[1]===p||Y[2]===v||Y[3]===w?null:(K={},K[S.s]=Y[1],K[S.P5]=Y[2],K[S.wi]=Y[3],K[S.Rr]=parseInt(Y[4],16),K)}function _(y){return l(y,32,v)}function E(y){return l(y,16,w)}function P(y){return!(!y||!l(y[S.s],2,p)||!l(y[S.P5],32,v)||!l(y[S.wi],16,w)||!l(d(y[S.Rr]),2))}function M(y){return P(y)?(y[S.Rr]&b)===b:!1}function V(y){if(y){var K=d(y[S.Rr]);l(K,2)||(K="01");var Y=y[S.s]||h;return Y!=="00"&&Y!=="ff"&&(Y=h),"".concat(Y,"-").concat(N(y.traceId,32,v),"-").concat(N(y.spanId,16,w),"-").concat(K)}return""}function O(){var y="traceparent",K=f((0,F.$Z)(y));return K||(K=f((0,F.Iu)(y))),K}},60830:(s,j,R)=>{"use strict";R.d(j,{$4:()=>ne,$5:()=>N,$o:()=>m,AP:()=>P,Di:()=>_,EX:()=>M,Ek:()=>X,GA:()=>p,H7:()=>V,HC:()=>J,Ic:()=>O,Ik:()=>y,JR:()=>K,Ju:()=>T,OL:()=>Pe,O_:()=>B,P5:()=>ge,QM:()=>te,RF:()=>F,RS:()=>I,Re:()=>H,Rr:()=>ye,Ru:()=>le,Sj:()=>L,TP:()=>f,Uw:()=>w,W7:()=>xe,YH:()=>D,Yo:()=>de,Zu:()=>we,a$:()=>Ee,by:()=>E,e4:()=>W,e_:()=>U,fA:()=>l,kt:()=>ee,lJ:()=>he,lK:()=>C,mE:()=>S,oI:()=>b,pM:()=>Y,ps:()=>d,re:()=>q,s:()=>Me,sY:()=>G,sl:()=>v,sx:()=>be,tI:()=>Z,tX:()=>z,tZ:()=>h,tn:()=>ie,uR:()=>x,vR:()=>g,wi:()=>_e,y5:()=>c,y9:()=>se});var S="initialize",I="name",F="getNotifyMgr",T="identifier",c="push",h="isInitialized",p="config",v="instrumentationKey",w="logger",b="length",l="time",N="processNext",d="getProcessTelContext",g="addNotificationListener",f="removeNotificationListener",_="stopPollingInternalLogs",E="onComplete",P="getPlugin",M="flush",V="_extensions",O="splice",y="teardown",K="messageId",Y="message",Z="isAsync",ie="_doTeardown",J="update",x="getNext",W="diagLog",D="setNextPlugin",m="createNew",C="cookieCfg",L="indexOf",H="substring",z="userAgent",G="split",ee="setEnabled",ne="substr",q="nodeType",se="apply",xe="replace",Ee="enableDebugExceptions",be="logInternalMessage",Pe="toLowerCase",X="call",te="type",de="handler",he="listeners",we="isChildEvt",B="getCtx",U="setCtx",le="complete",ge="traceId",_e="spanId",ye="traceFlags",Me="version"},47672:(s,j,R)=>{"use strict";R.d(j,{J$:()=>N,KU:()=>l,OR:()=>b,QV:()=>c,Wy:()=>v,_1:()=>I,bA:()=>F,hW:()=>S,s6:()=>p,vR:()=>T,zi:()=>w});var S="function",I="object",F="undefined",T="prototype",c="hasOwnProperty",h="default",p=Object,v=p[T],w=p.assign,b=p.create,l=p.defineProperty,N=v[c]},75148:(s,j,R)=>{"use strict";R.d(j,{AQ:()=>c,mS:()=>F,zk:()=>T});var S=R(47672),I=null;function F(h){h===void 0&&(h=!0);var p=h===!1?null:I;return p||(typeof globalThis!==S.bA&&(p=globalThis),!p&&typeof self!==S.bA&&(p=self),!p&&typeof window!==S.bA&&(p=window),!p&&typeof R.g!==S.bA&&(p=R.g),I=p),p}function T(h){throw new TypeError(h)}function c(h){var p=S.OR;if(p)return p(h);if(h==null)return{};var v=typeof h;v!==S._1&&v!==S.hW&&T("Object prototype may only be an Object:"+h);function w(){}return w[S.vR]=h,new w}},8747:(s,j,R)=>{"use strict";R.d(j,{Im:()=>N,qU:()=>g,vz:()=>Y});var S=R(47672),I=R(75148),F=((0,I.mS)()||{}).Symbol,T=((0,I.mS)()||{}).Reflect,c=!!F,h=!!T,p="decorate",v="metadata",w="getOwnPropertySymbols",b="iterator",l=function(x){for(var W,D=1,m=arguments.length;D<m;D++){W=arguments[D];for(var C in W)S.Wy[S.QV].call(W,C)&&(x[C]=W[C])}return x},N=S.zi||l,d=function(x,W){return d=S.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,m){D.__proto__=m}||function(D,m){for(var C in m)m[S.QV](C)&&(D[C]=m[C])},d(x,W)};function g(x,W){typeof W!==S.hW&&W!==null&&(0,I.zk)("Class extends value "+String(W)+" is not a constructor or null"),d(x,W);function D(){this.constructor=x}x[S.vR]=W===null?(0,I.AQ)(W):(D[S.vR]=W[S.vR],new D)}function f(x,W){var D={};for(var m in x)ObjHasOwnProperty.call(x,m)&&W.indexOf(m)<0&&(D[m]=x[m]);if(x!=null&&typeof ObjClass[w]===strShimFunction)for(var C=0,L=ObjClass[w](x);C<L.length;C++)W.indexOf(L[C])<0&&ObjProto.propertyIsEnumerable.call(x,L[C])&&(D[L[C]]=x[L[C]]);return D}function _(x,W,D,m){var C=arguments.length,L=C<3?W:m===null?m=ObjClass.getOwnPropertyDescriptor(W,D):m,H;if(h&&typeof T[p]===strShimFunction)L=T[p](x,W,D,m);else for(var z=x.length-1;z>=0;z--)(H=x[z])&&(L=(C<3?H(L):C>3?H(W,D,L):H(W,D))||L);return C>3&&L&&ObjDefineProperty(W,D,L),L}function E(x,W){return function(D,m){W(D,m,x)}}function P(x,W){if(h&&T[v]===strShimFunction)return T[v](x,W)}function M(x,W){for(var D in x)D!==strDefault&&!ObjHasOwnProperty.call(W,D)&&V(W,x,D)}function V(x,W,D,m){m===void 0&&(m=D),ObjCreate?ObjDefineProperty(x,m,{enumerable:!0,get:function(){return W[D]}}):x[m]=W[D]}function O(x){var W=typeof F===strShimFunction&&F[b],D=W&&x[W],m=0;if(D)return D.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&m>=x.length&&(x=void 0),{value:x&&x[m++],done:!x}}};throwTypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(x,W){var D=typeof F===strShimFunction&&x[F[b]];if(!D)return x;var m=D.call(x),C,L=[],H;try{for(;(W===void 0||W-- >0)&&!(C=m.next()).done;)L.push(C.value)}catch(z){H={error:z}}finally{try{C&&!C.done&&(D=m.return)&&D.call(m)}finally{if(H)throw H.error}}return L}function K(){for(var x=arguments,W=0,D=0,m=x.length;D<m;D++)W+=x[D].length;for(var C=Array(W),L=0,D=0;D<m;D++)for(var H=x[D],z=0,G=H.length;z<G;z++,L++)C[L]=H[z];return C}function Y(x,W){for(var D=0,m=W.length,C=x.length;D<m;D++,C++)x[C]=W[D];return x}function Z(x,W){return ObjDefineProperty?ObjDefineProperty(x,"raw",{value:W}):x.raw=W,x}function ie(x){if(x&&x.__esModule)return x;var W={};if(x!=null)for(var D in x)D!==strDefault&&Object.prototype.hasOwnProperty.call(x,D)&&V(W,x,D);return ObjCreate?ObjDefineProperty(W,strDefault,{enumerable:!0,value:x}):W[strDefault]=x,W}function J(x){return x&&x.__esModule?x:{strDefault:x}}},94731:(s,j,R)=>{"use strict";R.r(j),R.d(j,{AppInsightsCore:()=>Ou._,ApplicationInsights:()=>Rc,CoreUtils:()=>sn.jS,Sender:()=>wc,SeverityLevel:()=>Ec,_InternalMessageId:()=>Sc.$,arrForEach:()=>_e.Iu,isNullOrUndefined:()=>_e.hX,proxyFunctions:()=>_e.o$,throwError:()=>_e.$8});var S=R(92457),I=R(8747),F="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",T="sampleRate",c="ProcessLegacy",h="http.method",p="https://dc.services.visualstudio.com",v="/v2/track",w="not_specified",b="iKey",l="split",N="length",d="toLowerCase",g="ingestionendpoint",f="toString",_="removeItem",E="name",P="message",M="count",V="preTriggerDate",O="disabled",y="interval",K="daysOfMonth",Y="date",Z="getUTCDate",ie="stringify",J="pathname",x="correlationHeaderExcludePatterns",W="indexOf",D="extensionConfig",m="exceptions",C="parsedStack",L="properties",H="measurements",z="sizeInBytes",G="typeName",ee="severityLevel",ne="problemGroup",q="isManual",se="CreateFromInterface",xe="hasFullStack",Ee="level",be="method",Pe="assembly",X="fileName",te="line",de="duration",he="receivedResponse",we="substring",B="sanitizeKeyAndAddUniqueness",U="sanitizeException",le="sanitizeProperties",ge="sanitizeMeasurements",_e=R(12497),ye=R(99015),Me=R(44180),Be;function Ve(Te,fe,Ce){var Fe=fe[N],$e=_t(Te,fe);if($e[N]!==Fe){for(var Ye=0,tt=$e;Ce[tt]!==void 0;)Ye++,tt=$e[we](0,147)+Ke(Ye);$e=tt}return $e}function _t(Te,fe){var Ce;return fe&&(fe=(0,_e.EH)(fe[f]()),fe[N]>150&&(Ce=fe[we](0,150),(0,ye.ZP)(Te,2,57,"name is too long.  It has been truncated to 150 characters.",{name:fe},!0))),Ce||fe}function Je(Te,fe,Ce){Ce===void 0&&(Ce=1024);var Fe;return fe&&(Ce=Ce||1024,fe=(0,_e.EH)(fe),fe.toString()[N]>Ce&&(Fe=fe[f]()[we](0,Ce),(0,ye.ZP)(Te,2,61,"string value is too long. It has been truncated to "+Ce+" characters.",{value:fe},!0))),Fe||fe}function nt(Te,fe){return Ie(Te,fe,2048,66)}function Rt(Te,fe){var Ce;return fe&&fe[N]>32768&&(Ce=fe[we](0,32768),(0,ye.ZP)(Te,2,56,"message is too long, it has been truncated to 32768 characters.",{message:fe},!0)),Ce||fe}function ce(Te,fe){var Ce;if(fe){var Fe=""+fe;Fe[N]>32768&&(Ce=Fe[we](0,32768),(0,ye.ZP)(Te,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:fe},!0))}return Ce||fe}function ae(Te,fe){if(fe){var Ce={};(0,_e.z)(fe,function(Fe,$e){if((0,_e.Gv)($e)&&(0,Me.Z)())try{$e=(0,Me.hm)()[ie]($e)}catch(Ye){(0,ye.ZP)(Te,2,49,"custom property is not valid",{exception:Ye},!0)}$e=Je(Te,$e,8192),Fe=Ve(Te,Fe,Ce),Ce[Fe]=$e}),fe=Ce}return fe}function ue(Te,fe){if(fe){var Ce={};(0,_e.z)(fe,function(Fe,$e){Fe=Ve(Te,Fe,Ce),Ce[Fe]=$e}),fe=Ce}return fe}function ke(Te,fe){return fe&&Ie(Te,fe,128,69)[f]()}function Ie(Te,fe,Ce,Fe){var $e;return fe&&(fe=(0,_e.EH)(fe),fe[N]>Ce&&($e=fe[we](0,Ce),(0,ye.ZP)(Te,2,Fe,"input is too long, it has been truncated to "+Ce+" characters.",{data:fe},!0))),$e||fe}function Ke(Te){var fe="00"+Te;return fe.substr(fe[N]-3)}var Le=(Be={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Be[B]=Ve,Be.sanitizeKey=_t,Be.sanitizeString=Je,Be.sanitizeUrl=nt,Be.sanitizeMessage=Rt,Be[U]=ce,Be[le]=ae,Be[ge]=ue,Be.sanitizeId=ke,Be.sanitizeInput=Ie,Be.padNumber=Ke,Be.trim=_e.EH,Be),Xe=function(){function Te(fe,Ce,Fe,$e){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Ye=this;Ye.ver=2,Ye[E]=Je(fe,Ce)||w,Ye[L]=ae(fe,Fe),Ye[H]=ue(fe,$e)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Te.dataType="EventData",Te}(),Bt=function(){function Te(fe,Ce,Fe,$e,Ye){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var tt=this;tt.ver=2,Ce=Ce||w,tt[P]=Rt(fe,Ce),tt[L]=ae(fe,$e),tt[H]=ue(fe,Ye),Fe&&(tt[ee]=Fe)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Te.dataType="MessageData",Te}(),rt="";function ct(Te,fe){return fe===void 0&&(fe=!1),Te==null?fe:Te.toString()[d]()==="true"}function yt(Te){(isNaN(Te)||Te<0)&&(Te=0),Te=Math.round(Te);var fe=rt+Te%1e3,Ce=rt+Math.floor(Te/1e3)%60,Fe=rt+Math.floor(Te/(1e3*60))%60,$e=rt+Math.floor(Te/(1e3*60*60))%24,Ye=Math.floor(Te/(1e3*60*60*24));return fe=fe[N]===1?"00"+fe:fe[N]===2?"0"+fe:fe,Ce=Ce[N]<2?"0"+Ce:Ce,Fe=Fe[N]<2?"0"+Fe:Fe,$e=$e[N]<2?"0"+$e:$e,(Ye>0?Ye+".":rt)+$e+":"+Fe+":"+Ce+"."+fe}function pt(Te,fe){var Ce=null;return(0,_e.Iu)(Te,function(Fe){if(Fe.identifier===fe)return Ce=Fe,-1}),Ce}function St(Te,fe,Ce,Fe,$e){return!$e&&(0,_e.Kg)(Te)&&(Te==="Script error."||Te==="Script error")}var un=function(){function Te(fe,Ce,Fe,$e,Ye,tt,ut){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Gt=this;Gt.ver=2,Gt.id=ke(fe,ut),Gt.url=nt(fe,Fe),Gt[E]=Je(fe,Ce)||w,isNaN($e)||(Gt[de]=yt($e)),Gt[L]=ae(fe,Ye),Gt[H]=ue(fe,tt)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Te.dataType="PageviewData",Te}(),gt=function(){function Te(fe,Ce,Fe,$e,Ye,tt,ut){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Gt=this;Gt.ver=2,Gt.url=nt(fe,Fe),Gt[E]=Je(fe,Ce)||w,Gt[L]=ae(fe,Ye),Gt[H]=ue(fe,tt),ut&&(Gt.domProcessing=ut.domProcessing,Gt[de]=ut[de],Gt.networkConnect=ut.networkConnect,Gt.perfTotal=ut.perfTotal,Gt[he]=ut[he],Gt.sentRequest=ut.sentRequest)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Te.dataType="PageviewPerformanceData",Te}(),xt="<no_method>",ti="error",Ot="stack",Kt="stackDetails",Ji="errorSrc",Zt="message",zt="description";function Vi(Te,fe){var Ce=Te;return Ce&&!(0,_e.Kg)(Ce)&&(JSON&&JSON[ie]?(Ce=JSON[ie](Te),fe&&(!Ce||Ce==="{}")&&((0,_e.Tn)(Te[f])?Ce=Te[f]():Ce=""+Te)):Ce=""+Te+" - (Missing JSON.stringify)"),Ce||""}function Mt(Te,fe){var Ce=Te;return Te&&(Ce&&!(0,_e.Kg)(Ce)&&(Ce=Te[Zt]||Te[zt]||Ce),Ce&&!(0,_e.Kg)(Ce)&&(Ce=Vi(Ce,!0)),Te.filename&&(Ce=Ce+" @"+(Te.filename||"")+":"+(Te.lineno||"?")+":"+(Te.colno||"?"))),fe&&fe!=="String"&&fe!=="Object"&&fe!=="Error"&&(Ce||"")[W](fe)===-1&&(Ce=fe+": "+Ce),Ce||""}function ft(Te){try{if((0,_e.Gv)(Te))return"hasFullStack"in Te&&"typeName"in Te}catch{}return!1}function vt(Te){try{if((0,_e.Gv)(Te))return"ver"in Te&&"exceptions"in Te&&"properties"in Te}catch{}return!1}function De(Te){return Te&&Te.src&&(0,_e.Kg)(Te.src)&&Te.obj&&(0,_e.cy)(Te.obj)}function ze(Te){var fe=Te||"";(0,_e.Kg)(fe)||((0,_e.Kg)(fe[Ot])?fe=fe[Ot]:fe=""+fe);var Ce=fe[l](`
`);return{src:fe,obj:Ce}}function Ct(Te){for(var fe=[],Ce=Te[l](`
`),Fe=0;Fe<Ce[N];Fe++){var $e=Ce[Fe];Ce[Fe+1]&&($e+="@"+Ce[Fe+1],Fe++),fe.push($e)}return{src:Te,obj:fe}}function lt(Te){var fe=null;if(Te)try{if(Te[Ot])fe=ze(Te[Ot]);else if(Te[ti]&&Te[ti][Ot])fe=ze(Te[ti][Ot]);else if(Te.exception&&Te.exception[Ot])fe=ze(Te.exception[Ot]);else if(De(Te))fe=Te;else if(De(Te[Kt]))fe=Te[Kt];else if(window&&window.opera&&Te[Zt])fe=Ct(Te[P]);else if(Te.reason&&Te.reason[Ot])fe=ze(Te.reason[Ot]);else if((0,_e.Kg)(Te))fe=ze(Te);else{var Ce=Te[Zt]||Te[zt]||"";(0,_e.Kg)(Te[Ji])&&(Ce&&(Ce+=`
`),Ce+=" from "+Te[Ji]),Ce&&(fe=ze(Ce))}}catch(Fe){fe=ze(Fe)}return fe||{src:"",obj:null}}function ht(Te){var fe="";return Te&&(Te.obj?(0,_e.Iu)(Te.obj,function(Ce){fe+=Ce+`
`}):fe=Te.src||""),fe}function an(Te){var fe,Ce=Te.obj;if(Ce&&Ce[N]>0){fe=[];var Fe=0,$e=0;(0,_e.Iu)(Ce,function(Kn){var Hn=Kn[f]();if(Nt.regex.test(Hn)){var at=new Nt(Hn,Fe++);$e+=at[z],fe.push(at)}});var Ye=32*1024;if($e>Ye)for(var tt=0,ut=fe[N]-1,Gt=0,jt=tt,tn=ut;tt<ut;){var Rn=fe[tt][z],Bn=fe[ut][z];if(Gt+=Rn+Bn,Gt>Ye){var Nn=tn-jt+1;fe.splice(jt,Nn);break}jt=tt,tn=ut,tt++,ut--}}return fe}function Dt(Te){var fe="";if(Te&&(fe=Te.typeName||Te[E]||"",!fe))try{var Ce=/function (.{1,200})\(/,Fe=Ce.exec(Te.constructor[f]());fe=Fe&&Fe[N]>1?Fe[1]:""}catch{}return fe}function Vt(Te){if(Te)try{if(!(0,_e.Kg)(Te)){var fe=Dt(Te),Ce=Vi(Te,!1);return(!Ce||Ce==="{}")&&(Te[ti]&&(Te=Te[ti],fe=Dt(Te)),Ce=Vi(Te,!0)),Ce[W](fe)!==0&&fe!=="String"?fe+":"+Ce:Ce}}catch{}return""+(Te||"")}var qt=function(){function Te(fe,Ce,Fe,$e,Ye,tt){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ut=this;ut.ver=2,vt(Ce)?(ut[m]=Ce[m]||[],ut[L]=Ce[L],ut[H]=Ce[H],Ce[ee]&&(ut[ee]=Ce[ee]),Ce.id&&(ut.id=Ce.id),Ce[ne]&&(ut[ne]=Ce[ne]),(0,_e.hX)(Ce[q])||(ut[q]=Ce[q])):(Fe||(Fe={}),ut[m]=[new mt(fe,Ce,Fe)],ut[L]=ae(fe,Fe),ut[H]=ue(fe,$e),Ye&&(ut[ee]=Ye),tt&&(ut.id=tt))}return Te.CreateAutoException=function(fe,Ce,Fe,$e,Ye,tt,ut,Gt){var jt,tn=Dt(Ye||tt||fe);return jt={},jt[P]=Mt(fe,tn),jt.url=Ce,jt.lineNumber=Fe,jt.columnNumber=$e,jt.error=Vt(Ye||tt||fe),jt.evt=Vt(tt||fe),jt[G]=tn,jt.stackDetails=lt(ut||Ye||tt),jt.errorSrc=Gt,jt},Te.CreateFromInterface=function(fe,Ce,Fe,$e){var Ye=Ce[m]&&(0,_e.W$)(Ce[m],function(ut){return mt[se](fe,ut)}),tt=new Te(fe,(0,I.Im)((0,I.Im)({},Ce),{exceptions:Ye}),Fe,$e);return tt},Te.prototype.toInterface=function(){var fe,Ce=this,Fe=Ce.exceptions,$e=Ce.properties,Ye=Ce.measurements,tt=Ce.severityLevel,ut=Ce.problemGroup,Gt=Ce.id,jt=Ce.isManual,tn=Fe instanceof Array&&(0,_e.W$)(Fe,function(Rn){return Rn.toInterface()})||void 0;return fe={ver:"4.0"},fe[m]=tn,fe.severityLevel=tt,fe.properties=$e,fe.measurements=Ye,fe.problemGroup=ut,fe.id=Gt,fe.isManual=jt,fe},Te.CreateSimpleException=function(fe,Ce,Fe,$e,Ye,tt){var ut;return{exceptions:[(ut={},ut[xe]=!0,ut.message=fe,ut.stack=Ye,ut.typeName=Ce,ut)]}},Te.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Te.dataType="ExceptionData",Te.formatError=Vt,Te}(),mt=function(){function Te(fe,Ce,Fe){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var $e=this;if(ft(Ce))$e[G]=Ce[G],$e[P]=Ce[P],$e[Ot]=Ce[Ot],$e[C]=Ce[C]||[],$e[xe]=Ce[xe];else{var Ye=Ce,tt=Ye&&Ye.evt;(0,_e.bJ)(Ye)||(Ye=Ye[ti]||tt||Ye),$e[G]=Je(fe,Dt(Ye))||w,$e[P]=Rt(fe,Mt(Ce||Ye,$e[G]))||w;var ut=Ce[Kt]||lt(Ce);$e[C]=an(ut),$e[Ot]=ce(fe,ht(ut)),$e.hasFullStack=(0,_e.cy)($e.parsedStack)&&$e.parsedStack[N]>0,Fe&&(Fe[G]=Fe[G]||$e[G])}}return Te.prototype.toInterface=function(){var fe,Ce=this,Fe=Ce[C]instanceof Array&&(0,_e.W$)(Ce[C],function(Ye){return Ye.toInterface()}),$e=(fe={id:Ce.id,outerId:Ce.outerId,typeName:Ce[G],message:Ce[P],hasFullStack:Ce[xe],stack:Ce[Ot]},fe[C]=Fe||void 0,fe);return $e},Te.CreateFromInterface=function(fe,Ce){var Fe=Ce[C]instanceof Array&&(0,_e.W$)(Ce[C],function(Ye){return Nt[se](Ye)})||Ce[C],$e=new Te(fe,(0,I.Im)((0,I.Im)({},Ce),{parsedStack:Fe}));return $e},Te}(),Nt=function(){function Te(fe,Ce){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Fe=this;if(Fe[z]=0,typeof fe=="string"){var $e=fe;Fe[Ee]=Ce,Fe[be]=xt,Fe[Pe]=(0,_e.EH)($e),Fe[X]="",Fe[te]=0;var Ye=$e.match(Te.regex);Ye&&Ye[N]>=5&&(Fe[be]=(0,_e.EH)(Ye[2])||Fe[be],Fe[X]=(0,_e.EH)(Ye[4]),Fe[te]=parseInt(Ye[5])||0)}else Fe[Ee]=fe[Ee],Fe[be]=fe[be],Fe[Pe]=fe[Pe],Fe[X]=fe[X],Fe[te]=fe[te],Fe[z]=0;Fe.sizeInBytes+=Fe.method[N],Fe.sizeInBytes+=Fe.fileName[N],Fe.sizeInBytes+=Fe.assembly[N],Fe[z]+=Te.baseSize,Fe.sizeInBytes+=Fe.level.toString()[N],Fe.sizeInBytes+=Fe.line.toString()[N]}return Te.CreateFromInterface=function(fe){return new Te(fe,null)},Te.prototype.toInterface=function(){var fe=this;return{level:fe[Ee],method:fe[be],assembly:fe[Pe],fileName:fe[X],line:fe[te]}},Te.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Te.baseSize=58,Te}(),Ft=function(){function Te(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return Te}(),hn=function(){function Te(fe,Ce,Fe,$e,Ye,tt,ut,Gt,jt){this.aiDataContract={ver:1,metrics:1,properties:0};var tn=this;tn.ver=2;var Rn=new Ft;Rn[M]=$e>0?$e:void 0,Rn.max=isNaN(tt)||tt===null?void 0:tt,Rn.min=isNaN(Ye)||Ye===null?void 0:Ye,Rn[E]=Je(fe,Ce)||w,Rn.value=Fe,Rn.stdDev=isNaN(ut)||ut===null?void 0:ut,tn.metrics=[Rn],tn[L]=ae(fe,Gt),tn[H]=ue(fe,jt)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Te.dataType="MetricData",Te}(),sn=R(32578),Ht=R(91698),Sn=R(57679),mn=R(18413);function In(Te){var fe=null;if((0,_e.Tn)(Event))fe=new Event(Te);else{var Ce=(0,Me.YE)();Ce&&Ce.createEvent&&(fe=Ce.createEvent("Event"),fe.initEvent(Te,!0,!0))}return fe}var Dn=R(96434),Xn=(0,Dn.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),pn=R(75148),Yn=(0,Dn.Hj)({LocalStorage:0,SessionStorage:1}),jn=(0,Dn.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),en=void 0,dn=void 0;function Cn(){return ci()?Wn(Yn.LocalStorage):null}function Wn(Te){try{if((0,_e.hX)((0,pn.mS)()))return null;var fe=new Date()[f](),Ce=(0,Me.EH)(Te===Yn.LocalStorage?"localStorage":"sessionStorage");Ce.setItem(fe,fe);var Fe=Ce.getItem(fe)!==fe;if(Ce[_](fe),!Fe)return Ce}catch{}return null}function vn(){return si()?Wn(Yn.SessionStorage):null}function An(){en=!1,dn=!1}function Jn(){en=ci(!0),dn=si(!0)}function ci(Te){return(Te||en===void 0)&&(en=!!Wn(Yn.LocalStorage)),en}function qn(Te,fe){var Ce=Cn();if(Ce!==null)try{return Ce.getItem(fe)}catch(Fe){en=!1,(0,ye.ZP)(Te,2,1,"Browser failed read of local storage. "+(0,_e.lL)(Fe),{exception:(0,Me.mm)(Fe)})}return null}function fi(Te,fe,Ce){var Fe=Cn();if(Fe!==null)try{return Fe.setItem(fe,Ce),!0}catch($e){en=!1,(0,ye.ZP)(Te,2,3,"Browser failed write to local storage. "+(0,_e.lL)($e),{exception:(0,Me.mm)($e)})}return!1}function Mi(Te,fe){var Ce=Cn();if(Ce!==null)try{return Ce[_](fe),!0}catch(Fe){en=!1,(0,ye.ZP)(Te,2,5,"Browser failed removal of local storage item. "+(0,_e.lL)(Fe),{exception:(0,Me.mm)(Fe)})}return!1}function si(Te){return(Te||dn===void 0)&&(dn=!!Wn(Yn.SessionStorage)),dn}function Fi(){var Te=[];return si()&&(0,_e.z)((0,Me.EH)("sessionStorage"),function(fe){Te.push(fe)}),Te}function Ni(Te,fe){var Ce=vn();if(Ce!==null)try{return Ce.getItem(fe)}catch(Fe){dn=!1,(0,ye.ZP)(Te,2,2,"Browser failed read of session storage. "+(0,_e.lL)(Fe),{exception:(0,Me.mm)(Fe)})}return null}function Tn(Te,fe,Ce){var Fe=vn();if(Fe!==null)try{return Fe.setItem(fe,Ce),!0}catch($e){dn=!1,(0,ye.ZP)(Te,2,4,"Browser failed write to session storage. "+(0,_e.lL)($e),{exception:(0,Me.mm)($e)})}return!1}function Mn(Te,fe){var Ce=vn();if(Ce!==null)try{return Ce[_](fe),!0}catch(Fe){dn=!1,(0,ye.ZP)(Te,2,6,"Browser failed removal of session storage item. "+(0,_e.lL)(Fe),{exception:(0,Me.mm)(Fe)})}return!1}var wn=(0,Me.YE)()||{},Li=0,oa=[null,null,null,null,null];function ji(Te){var fe=Li,Ce=oa,Fe=Ce[fe];return wn.createElement?Ce[fe]||(Fe=Ce[fe]=wn.createElement("a")):Fe={host:la(Te,!0)},Fe.href=Te,fe++,fe>=Ce[N]&&(fe=0),Li=fe,Fe}function jr(Te){var fe,Ce=ji(Te);return Ce&&(fe=Ce.href),fe}function or(Te){var fe,Ce=ji(Te);return Ce&&(fe=Ce[J]),fe}function Wr(Te,fe){return Te?Te.toUpperCase()+" "+fe:fe}function la(Te,fe){var Ce=Ii(Te,fe)||"";if(Ce){var Fe=Ce.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Fe!=null&&Fe[N]>3&&(0,_e.Kg)(Fe[2])&&Fe[2][N]>0)return Fe[2]+(Fe[3]||"")}return Ce}function Ii(Te,fe){var Ce=null;if(Te){var Fe=Te.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Fe!=null&&Fe[N]>2&&(0,_e.Kg)(Fe[2])&&Fe[2][N]>0&&(Ce=Fe[2]||"",fe&&Fe[N]>2)){var $e=(Fe[1]||"")[d](),Ye=Fe[3]||"";($e==="http"&&Ye===":80"||$e==="https"&&Ye===":443")&&(Ye=""),Ce+=Ye}}return Ce}var Za=[p+v,"https://breeze.aimon.applicationinsights.io"+v,"https://dc-int.services.visualstudio.com"+v];function Pr(Te){return(0,_e.rD)(Za,Te[d]())!==-1}var Lr={NotSpecified:w,createDomEvent:In,disableStorage:An,isInternalApplicationInsightsEndpoint:Pr,canUseLocalStorage:ci,getStorage:qn,setStorage:fi,removeStorage:Mi,canUseSessionStorage:si,getSessionStorageKeys:Fi,getSessionStorage:Ni,setSessionStorage:Tn,removeSessionStorage:Mn,disableCookies:sn.WD,canUseCookies:sn.ht,disallowsSameSiteNone:Ht.It,setCookie:sn.TV,stringToBoolOrDefault:ct,getCookie:sn.Ri,deleteCookie:sn.Yj,trim:_e.EH,newId:Sn.Si,random32:function(){return(0,Sn.VN)(!0)},generateW3CId:sn.cL,isArray:_e.cy,isError:_e.bJ,isDate:_e.$P,toISOStringForIE8:_e._u,getIEVersion:Me.L0,msToTimeSpan:yt,isCrossOriginError:St,dump:Me.mm,getExceptionName:_e.lL,addEventHandler:mn.Q3,IsBeaconApiSupported:Me.Uf,getExtension:pt},Da={parseUrl:ji,getAbsoluteUrl:jr,getPathName:or,getCompleteUrl:Wr,parseHost:la,parseFullHost:Ii},ba={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(Te,fe,Ce){if(!fe||Te&&Te.disableCorrelationHeaders)return!1;if(Te&&Te[x]){for(var Fe=0;Fe<Te.correlationHeaderExcludePatterns[N];Fe++)if(Te[x][Fe].test(fe))return!1}var $e=ji(fe).host[d]();if($e&&($e[W](":443")!==-1||$e[W](":80")!==-1)&&($e=(Ii(fe,!0)||"")[d]()),(!Te||!Te.enableCorsCorrelation)&&$e&&$e!==Ce)return!1;var Ye=Te&&Te.correlationHeaderDomains;if(Ye){var tt;if((0,_e.Iu)(Ye,function(jt){var tn=new RegExp(jt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));tt=tt||tn.test($e)}),!tt)return!1}var ut=Te&&Te.correlationHeaderExcludedDomains;if(!ut||ut[N]===0)return!0;for(var Fe=0;Fe<ut[N];Fe++){var Gt=new RegExp(ut[Fe].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Gt.test($e))return!1}return $e&&$e[N]>0},getCorrelationContext:function(Te){if(Te){var fe=ba.getCorrelationContextValue(Te,Xn[1]);if(fe&&fe!==ba.correlationIdPrefix)return fe}},getCorrelationContextValue:function(Te,fe){if(Te)for(var Ce=Te[l](","),Fe=0;Fe<Ce[N];++Fe){var $e=Ce[Fe][l]("=");if($e[N]===2&&$e[0]===fe)return $e[1]}}};function ys(Te,fe,Ce,Fe){var $e,Ye=Fe,tt=Fe;if(fe&&fe[N]>0){var ut=ji(fe);if($e=ut.host,!Ye)if(ut[J]!=null){var Gt=ut.pathname[N]===0?"/":ut[J];Gt.charAt(0)!=="/"&&(Gt="/"+Gt),tt=ut[J],Ye=Je(Te,Ce?Ce+" "+Gt:Gt)}else Ye=Je(Te,fe)}else $e=Fe,Ye=Fe;return{target:$e,name:Ye,data:tt}}function wa(){var Te=(0,Me.FJ)();if(Te&&Te.now&&Te.timing){var fe=Te.now()+Te.timing.navigationStart;if(fe>0)return fe}return(0,_e.x3)()}function ka(Te,fe){var Ce=null;return Te!==0&&fe!==0&&!(0,_e.hX)(Te)&&!(0,_e.hX)(fe)&&(Ce=fe-Te),Ce}var Ws={Now:wa,GetDuration:ka};function zs(Te,fe){var Ce=Te||{};return{getName:function(){return Ce[_DYN_NAME]},setName:function(Fe){fe&&fe.setName(Fe),Ce[_DYN_NAME]=Fe},getTraceId:function(){return Ce.traceID},setTraceId:function(Fe){fe&&fe.setTraceId(Fe),isValidTraceId(Fe)&&(Ce.traceID=Fe)},getSpanId:function(){return Ce.parentID},setSpanId:function(Fe){fe&&fe.setSpanId(Fe),isValidSpanId(Fe)&&(Ce.parentID=Fe)},getTraceFlags:function(){return Ce.traceFlags},setTraceFlags:function(Fe){fe&&fe.setTraceFlags(Fe),Ce.traceFlags=Fe}}}var ua=function(){function Te(fe,Ce,Fe,$e,Ye,tt,ut,Gt,jt,tn,Rn,Bn){jt===void 0&&(jt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Nn=this;Nn.ver=2,Nn.id=Ce,Nn[de]=yt(Ye),Nn.success=tt,Nn.resultCode=ut+"",Nn.type=Je(fe,jt);var Kn=ys(fe,Fe,Gt,$e);Nn.data=nt(fe,$e)||Kn.data,Nn.target=Je(fe,Kn.target),tn&&(Nn.target="".concat(Nn.target," | ").concat(tn)),Nn[E]=Je(fe,Kn[E]),Nn[L]=ae(fe,Rn),Nn[H]=ue(fe,Bn)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Te.dataType="RemoteDependencyData",Te}(),bs="AppInsightsPropertiesPlugin",xa="AppInsightsChannelPlugin",es="ApplicationInsightsAnalytics",Mr=R(64252),ts=R(56489);function _i(Te){var fe="ai."+Te+".";return function(Ce){return fe+Ce}}var zr=_i("application"),je=_i("device"),wt=_i("location"),Et=_i("operation"),It=_i("session"),Wt=_i("user"),En=_i("cloud"),kn=_i("internal"),Qe=function(Te){(0,I.qU)(fe,Te);function fe(){return Te.call(this)||this}return fe}((0,_e.SZ)({applicationVersion:zr("ver"),applicationBuild:zr("build"),applicationTypeId:zr("typeId"),applicationId:zr("applicationId"),applicationLayer:zr("layer"),deviceId:je("id"),deviceIp:je("ip"),deviceLanguage:je("language"),deviceLocale:je("locale"),deviceModel:je("model"),deviceFriendlyName:je("friendlyName"),deviceNetwork:je("network"),deviceNetworkName:je("networkName"),deviceOEMName:je("oemName"),deviceOS:je("os"),deviceOSVersion:je("osVersion"),deviceRoleInstance:je("roleInstance"),deviceRoleName:je("roleName"),deviceScreenResolution:je("screenResolution"),deviceType:je("type"),deviceMachineName:je("machineName"),deviceVMName:je("vmName"),deviceBrowser:je("browser"),deviceBrowserVersion:je("browserVersion"),locationIp:wt("ip"),locationCountry:wt("country"),locationProvince:wt("province"),locationCity:wt("city"),operationId:Et("id"),operationName:Et("name"),operationParentId:Et("parentId"),operationRootId:Et("rootId"),operationSyntheticSource:Et("syntheticSource"),operationCorrelationVector:Et("correlationVector"),sessionId:It("id"),sessionIsFirst:It("isFirst"),sessionIsNew:It("isNew"),userAccountAcquisitionDate:Wt("accountAcquisitionDate"),userAccountId:Wt("accountId"),userAgent:Wt("userAgent"),userId:Wt("id"),userStoreRegion:Wt("storeRegion"),userAuthUserId:Wt("authUserId"),userAnonymousUserAcquisitionDate:Wt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Wt("authUserAcquisitionDate"),cloudName:En("name"),cloudRole:En("role"),cloudRoleVer:En("roleVer"),cloudRoleInstance:En("roleInstance"),cloudEnvironment:En("environment"),cloudLocation:En("location"),cloudDeploymentUnit:En("deploymentUnit"),internalNodeName:kn("nodeName"),internalSdkVersion:kn("sdkVersion"),internalAgentVersion:kn("agentVersion"),internalSnippet:kn("snippet"),internalSdkSrc:kn("sdkSrc")})),dt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},it=new Qe,Lt=function(){function Te(fe,Ce,Fe){var $e=this,Ye=this;Ye.ver=1,Ye.sampleRate=100,Ye.tags={},Ye[E]=Je(fe,Fe)||w,Ye.data=Ce,Ye.time=(0,_e._u)(new Date),Ye.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return $e.sampleRate===100?4:1},tags:1,data:1}}return Te}(),Yt=function(){function Te(fe,Ce){this.aiDataContract={baseType:1,baseData:1},this.baseType=fe,this.baseData=Ce}return Te}(),ln="duration",yn="tags",Zn="deviceType",$n="data",pr="name",Kr="traceID",xn="length",Xi="stringify",Ur="measurements",Br="dataType",ns="envelopeType",is="toString",lr="onLine",Ks="enqueue",Qr="count",Ui="push",Qs="emitLineDelimitedJson",rs="clear",ws="batchPayloads",as="markAsSent",da="clearSent",Ys="BUFFER_KEY",ss="SENT_BUFFER_KEY",Oa="MAX_BUFFER_SIZE",ur="namePrefix",So="maxBatchSizeInBytes",os="triggerSend",Un="diagLog",ca="onunloadDisableBeacon",hi="isBeaconApiDisabled",bi="_sender",oi="_senderConfig",Yr="_buffer",wl="enableSessionStorageBuffer",La="samplingPercentage",ks="instrumentationKey",Bi="endpointUrl",Nu="customHeaders",qr="disableXhr",li="onunloadDisableFetch",kl="disableTelemetry",_l="baseType",Eo="sampleRate",Tu="convertUndefined",hc="_xhrReadyStateChange",Jr="_onError",Js="_onPartialSuccess",$r="_onSuccess",Pt="itemsAccepted",Cu="itemsReceived",Ro="isRetryDisabled",Au="setRequestHeader",mc="maxBatchInterval",_a="eventsSendRequest",Sa="disableInstrumentationKeyValidation",pc="getSamplingScore",om="getHashCodeScore",No="baseType",wi="baseData",Zi="properties",To="true";function Si(Te,fe,Ce){return(0,_e.KY)(Te,fe,Ce,_e.zz)}function lm(Te,fe,Ce){var Fe=Ce[yn]=Ce[yn]||{},$e=fe.ext=fe.ext||{},Ye=fe[yn]=fe[yn]||[],tt=$e.user;tt&&(Si(Fe,it.userAuthUserId,tt.authId),Si(Fe,it.userId,tt.id||tt.localId));var ut=$e.app;ut&&Si(Fe,it.sessionId,ut.sesId);var Gt=$e.device;Gt&&(Si(Fe,it.deviceId,Gt.id||Gt.localId),Si(Fe,it[Zn],Gt.deviceClass),Si(Fe,it.deviceIp,Gt.ip),Si(Fe,it.deviceModel,Gt.model),Si(Fe,it[Zn],Gt[Zn]));var jt=fe.ext.web;if(jt){Si(Fe,it.deviceLanguage,jt.browserLang),Si(Fe,it.deviceBrowserVersion,jt.browserVer),Si(Fe,it.deviceBrowser,jt.browser);var tn=Ce[$n]=Ce[$n]||{},Rn=tn[wi]=tn[wi]||{},Bn=Rn[Zi]=Rn[Zi]||{};Si(Bn,"domain",jt.domain),Si(Bn,"isManual",jt.isManual?To:null),Si(Bn,"screenRes",jt.screenRes),Si(Bn,"userConsent",jt.userConsent?To:null)}var Nn=$e.os;Nn&&Si(Fe,it.deviceOS,Nn[pr]);var Kn=$e.trace;Kn&&(Si(Fe,it.operationParentId,Kn.parentID),Si(Fe,it.operationName,Je(Te,Kn[pr])),Si(Fe,it.operationId,Kn[Kr]));for(var Hn={},at=Ye[xn]-1;at>=0;at--){var vi=Ye[at];(0,_e.z)(vi,function(Rs,Ns){Hn[Rs]=Ns}),Ye.splice(at,1)}(0,_e.z)(Ye,function(Rs,Ns){Hn[Rs]=Ns});var Xr=(0,I.Im)((0,I.Im)({},Fe),Hn);Xr[it.internalSdkVersion]||(Xr[it.internalSdkVersion]="javascript:".concat(um.Version)),Ce[yn]=(0,_e.hW)(Xr)}function ls(Te,fe,Ce){(0,_e.hX)(Te)||(0,_e.z)(Te,function(Fe,$e){(0,_e.Et)($e)?Ce[Fe]=$e:(0,_e.Kg)($e)?fe[Fe]=$e:(0,Me.Z)()&&(fe[Fe]=(0,Me.hm)()[Xi]($e))})}function _s(Te,fe){(0,_e.hX)(Te)||(0,_e.z)(Te,function(Ce,Fe){Te[Ce]=Fe||fe})}function Ss(Te,fe,Ce,Fe){var $e=new Lt(Te,Fe,fe);Si($e,"sampleRate",Ce[T]),(Ce[wi]||{}).startTime&&($e.time=(0,_e._u)(Ce[wi].startTime)),$e.iKey=Ce.iKey;var Ye=Ce.iKey.replace(/-/g,"");return $e[pr]=$e[pr].replace("{0}",Ye),lm(Te,Ce,$e),Ce[yn]=Ce[yn]||[],(0,_e.hW)($e)}function Es(Te,fe){(0,_e.hX)(fe[wi])&&(0,ye.ZP)(Te,1,46,"telemetryItem.baseData cannot be null.")}var um={Version:"2.8.10"};function dm(Te,fe,Ce){Es(Te,fe);var Fe=fe[wi][Ur]||{},$e=fe[wi][Zi]||{};ls(fe[$n],$e,Fe),(0,_e.hX)(Ce)||_s($e,Ce);var Ye=fe[wi];if((0,_e.hX)(Ye))return(0,ye.OG)(Te,"Invalid input for dependency data"),null;var tt=Ye[Zi]&&Ye[Zi][h]?Ye[Zi][h]:"GET",ut=new ua(Te,Ye.id,Ye.target,Ye[pr],Ye[ln],Ye.success,Ye.responseCode,tt,Ye.type,Ye.correlationContext,$e,Fe),Gt=new Yt(ua[Br],ut);return Ss(Te,ua[ns],fe,Gt)}function vc(Te,fe,Ce){Es(Te,fe);var Fe={},$e={};fe[No]!==Xe[Br]&&(Fe.baseTypeSource=fe[No]),fe[No]===Xe[Br]?(Fe=fe[wi][Zi]||{},$e=fe[wi][Ur]||{}):fe[wi]&&ls(fe[wi],Fe,$e),ls(fe[$n],Fe,$e),(0,_e.hX)(Ce)||_s(Fe,Ce);var Ye=fe[wi][pr],tt=new Xe(Te,Ye,Fe,$e),ut=new Yt(Xe[Br],tt);return Ss(Te,Xe[ns],fe,ut)}function Ea(Te,fe,Ce){Es(Te,fe);var Fe=fe[wi][Ur]||{},$e=fe[wi][Zi]||{};ls(fe[$n],$e,Fe),(0,_e.hX)(Ce)||_s($e,Ce);var Ye=fe[wi],tt=qt.CreateFromInterface(Te,Ye,$e,Fe),ut=new Yt(qt[Br],tt);return Ss(Te,qt[ns],fe,ut)}function Pu(Te,fe,Ce){Es(Te,fe);var Fe=fe[wi],$e=Fe[Zi]||{},Ye=Fe[Ur]||{};ls(fe[$n],$e,Ye),(0,_e.hX)(Ce)||_s($e,Ce);var tt=new hn(Te,Fe[pr],Fe.average,Fe.sampleCount,Fe.min,Fe.max,Fe.stdDev,$e,Ye),ut=new Yt(hn[Br],tt);return Ss(Te,hn[ns],fe,ut)}function Sl(Te,fe,Ce){Es(Te,fe);var Fe,$e=fe[wi];!(0,_e.hX)($e)&&!(0,_e.hX)($e[Zi])&&!(0,_e.hX)($e[Zi][ln])?(Fe=$e[Zi][ln],delete $e[Zi][ln]):!(0,_e.hX)(fe[$n])&&!(0,_e.hX)(fe[$n][ln])&&(Fe=fe[$n][ln],delete fe[$n][ln]);var Ye=fe[wi],tt;((fe.ext||{}).trace||{})[Kr]&&(tt=fe.ext.trace[Kr]);var ut=Ye.id||tt,Gt=Ye[pr],jt=Ye.uri,tn=Ye[Zi]||{},Rn=Ye[Ur]||{};if((0,_e.hX)(Ye.refUri)||(tn.refUri=Ye.refUri),(0,_e.hX)(Ye.pageType)||(tn.pageType=Ye.pageType),(0,_e.hX)(Ye.isLoggedIn)||(tn.isLoggedIn=Ye.isLoggedIn[is]()),!(0,_e.hX)(Ye[Zi])){var Bn=Ye[Zi];(0,_e.z)(Bn,function(Hn,at){tn[Hn]=at})}ls(fe[$n],tn,Rn),(0,_e.hX)(Ce)||_s(tn,Ce);var Nn=new un(Te,Gt,jt,Fe,tn,Rn,ut),Kn=new Yt(un[Br],Nn);return Ss(Te,un[ns],fe,Kn)}function Mu(Te,fe,Ce){Es(Te,fe);var Fe=fe[wi],$e=Fe[pr],Ye=Fe.uri||Fe.url,tt=Fe[Zi]||{},ut=Fe[Ur]||{};ls(fe[$n],tt,ut),(0,_e.hX)(Ce)||_s(tt,Ce);var Gt=new gt(Te,$e,Ye,void 0,tt,ut,Fe),jt=new Yt(gt[Br],Gt);return Ss(Te,gt[ns],fe,jt)}function gc(Te,fe,Ce){Es(Te,fe);var Fe=fe[wi].message,$e=fe[wi].severityLevel,Ye=fe[wi][Zi]||{},tt=fe[wi][Ur]||{};ls(fe[$n],Ye,tt),(0,_e.hX)(Ce)||_s(Ye,Ce);var ut=new Bt(Te,Fe,$e,Ye,tt),Gt=new Yt(Bt[Br],ut);return Ss(Te,Bt[ns],fe,Gt)}function Wi(Te,fe){(0,mn.ML)(Te,null,null,fe)}function ei(Te){var fe=(0,Me.YE)(),Ce=(0,Me.w3)(),Fe=!1,$e=!0,Ye=(0,mn.Hm)((0,Mr.Z)("OfflineListener"),Te);try{if(ut((0,Me.zk)())&&(Fe=!0),fe){var tt=fe.body||fe;tt.ononline&&ut(tt)&&(Fe=!0)}Fe&&Ce&&!(0,_e.hX)(Ce[lr])&&($e=Ce[lr])}catch{Fe=!1}function ut(Bn){var Nn=!1;return Bn&&(Nn=(0,mn.mB)(Bn,"online",Gt,Ye),Nn&&(0,mn.mB)(Bn,"offline",jt,Ye)),Nn}function Gt(){$e=!0}function jt(){$e=!1}function tn(){var Bn=!0;return Fe?Bn=$e:Ce&&!(0,_e.hX)(Ce[lr])&&(Bn=Ce[lr]),Bn}function Rn(){var Bn=(0,Me.zk)();if(Bn&&Fe){if(Wi(Bn,Ye),fe){var Nn=fe.body||fe;(0,_e.b0)(Nn.ononline)||Wi(Nn,Ye)}Fe=!1}}return{isOnline:tn,isListening:function(){return Fe},unload:Rn}}var El=function(){function Te(fe,Ce){var Fe=[],$e=!1;this._get=function(){return Fe},this._set=function(Ye){return Fe=Ye,Fe},(0,S.A)(Te,this,function(Ye){Ye[Ks]=function(tt){if(Ye[Qr]()>=Ce.eventsLimitInMem()){$e||((0,ye.ZP)(fe,2,105,"Maximum in-memory buffer size reached: "+Ye[Qr](),!0),$e=!0);return}Fe[Ui](tt)},Ye[Qr]=function(){return Fe[xn]},Ye.size=function(){for(var tt=Fe[xn],ut=0;ut<Fe[xn];ut++)tt+=Fe[ut][xn];return Ce[Qs]()||(tt+=2),tt},Ye[rs]=function(){Fe=[],$e=!1},Ye.getItems=function(){return Fe.slice(0)},Ye[ws]=function(tt){if(tt&&tt[xn]>0){var ut=Ce[Qs]()?tt.join(`
`):"["+tt.join(",")+"]";return ut}return null}})}return Te.__ieDyn=1,Te}(),Fu=function(Te){(0,I.qU)(fe,Te);function fe(Ce,Fe){var $e=Te.call(this,Ce,Fe)||this;return(0,S.A)(fe,$e,function(Ye,tt){Ye[as]=function(ut){tt[rs]()},Ye[da]=function(ut){}}),$e}return fe.__ieDyn=1,fe}(El),cm=function(Te){(0,I.qU)(fe,Te);function fe(Ce,Fe){var $e=Te.call(this,Ce,Fe)||this,Ye=!1;return(0,S.A)(fe,$e,function(tt,ut){var Gt=Bn(fe[Ys]),jt=Bn(fe[ss]),tn=tt._set(Gt.concat(jt));tn[xn]>fe[Oa]&&(tn[xn]=fe[Oa]),Nn(fe[ss],[]),Nn(fe[Ys],tn),tt[Ks]=function(Kn){if(tt[Qr]()>=fe[Oa]){Ye||((0,ye.ZP)(Ce,2,67,"Maximum buffer size reached: "+tt[Qr](),!0),Ye=!0);return}ut[Ks](Kn),Nn(fe[Ys],tt._get())},tt[rs]=function(){ut[rs](),Nn(fe[Ys],tt._get()),Nn(fe[ss],[]),Ye=!1},tt[as]=function(Kn){Nn(fe[Ys],tt._set(Rn(Kn,tt._get())));var Hn=Bn(fe[ss]);Hn instanceof Array&&Kn instanceof Array&&(Hn=Hn.concat(Kn),Hn[xn]>fe[Oa]&&((0,ye.ZP)(Ce,1,67,"Sent buffer reached its maximum size: "+Hn[xn],!0),Hn[xn]=fe[Oa]),Nn(fe[ss],Hn))},tt[da]=function(Kn){var Hn=Bn(fe[ss]);Hn=Rn(Kn,Hn),Nn(fe[ss],Hn)};function Rn(Kn,Hn){var at=[];return(0,_e.Iu)(Hn,function(vi){!(0,_e.Tn)(vi)&&(0,_e.rD)(Kn,vi)===-1&&at[Ui](vi)}),at}function Bn(Kn){var Hn=Kn;try{Hn=Fe[ur]&&Fe[ur]()?Fe[ur]()+"_"+Hn:Hn;var at=Ni(Ce,Hn);if(at){var vi=(0,Me.hm)().parse(at);if((0,_e.Kg)(vi)&&(vi=(0,Me.hm)().parse(vi)),vi&&(0,_e.cy)(vi))return vi}}catch(Xr){(0,ye.ZP)(Ce,1,42," storage key: "+Hn+", "+(0,_e.lL)(Xr),{exception:(0,Me.mm)(Xr)})}return[]}function Nn(Kn,Hn){var at=Kn;try{at=Fe[ur]&&Fe[ur]()?Fe[ur]()+"_"+at:at;var vi=JSON[Xi](Hn);Tn(Ce,at,vi)}catch(Xr){Tn(Ce,at,JSON[Xi]([])),(0,ye.ZP)(Ce,2,41," storage key: "+at+", "+(0,_e.lL)(Xr)+". Buffer cleared",{exception:(0,Me.mm)(Xr)})}}}),$e}return fe.BUFFER_KEY="AI_buffer",fe.SENT_BUFFER_KEY="AI_sentBuffer",fe.MAX_BUFFER_SIZE=2e3,fe}(El),fm=function(){function Te(fe){(0,S.A)(Te,this,function(Ce){Ce.serialize=function(tt){var ut=Fe(tt,"root");try{return(0,Me.hm)()[Xi](ut)}catch(Gt){(0,ye.ZP)(fe,1,48,Gt&&(0,_e.Tn)(Gt[is])?Gt[is]():"Error serializing object",null,!0)}};function Fe(tt,ut){var Gt="__aiCircularRefCheck",jt={};if(!tt)return(0,ye.ZP)(fe,1,48,"cannot serialize object because it is null or undefined",{name:ut},!0),jt;if(tt[Gt])return(0,ye.ZP)(fe,2,50,"Circular reference detected while serializing object",{name:ut},!0),jt;if(!tt.aiDataContract){if(ut==="measurements")jt=Ye(tt,"number",ut);else if(ut==="properties")jt=Ye(tt,"string",ut);else if(ut==="tags")jt=Ye(tt,"string",ut);else if((0,_e.cy)(tt))jt=$e(tt,ut);else{(0,ye.ZP)(fe,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ut},!0);try{(0,Me.hm)()[Xi](tt),jt=tt}catch(tn){(0,ye.ZP)(fe,1,48,tn&&(0,_e.Tn)(tn[is])?tn[is]():"Error serializing object",null,!0)}}return jt}return tt[Gt]=!0,(0,_e.z)(tt.aiDataContract,function(tn,Rn){var Bn=(0,_e.Tn)(Rn)?Rn()&1:Rn&1,Nn=(0,_e.Tn)(Rn)?Rn()&4:Rn&4,Kn=Rn&2,Hn=tt[tn]!==void 0,at=(0,_e.Gv)(tt[tn])&&tt[tn]!==null;if(Bn&&!Hn&&!Kn)(0,ye.ZP)(fe,1,24,"Missing required field specification. The field is required but not present on source",{field:tn,name:ut});else if(!Nn){var vi=void 0;at?Kn?vi=$e(tt[tn],tn):vi=Fe(tt[tn],tn):vi=tt[tn],vi!==void 0&&(jt[tn]=vi)}}),delete tt[Gt],jt}function $e(tt,ut){var Gt;if(tt)if(!(0,_e.cy)(tt))(0,ye.ZP)(fe,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ut},!0);else{Gt=[];for(var jt=0;jt<tt[xn];jt++){var tn=tt[jt],Rn=Fe(tn,ut+"["+jt+"]");Gt[Ui](Rn)}}return Gt}function Ye(tt,ut,Gt){var jt;return tt&&(jt={},(0,_e.z)(tt,function(tn,Rn){if(ut==="string")Rn===void 0?jt[tn]="undefined":Rn===null?jt[tn]="null":Rn[is]?jt[tn]=Rn[is]():jt[tn]="invalid field: toString() is not defined.";else if(ut==="number")if(Rn===void 0)jt[tn]="undefined";else if(Rn===null)jt[tn]="null";else{var Bn=parseFloat(Rn);isNaN(Bn)?jt[tn]="NaN":jt[tn]=Bn}else jt[tn]="invalid field: "+Gt+" is of unknown type.",(0,ye.ZP)(fe,1,jt[tn],null,!0)})),jt}})}return Te.__ieDyn=1,Te}(),yc=8,bc=function(){function Te(){}return Te.prototype.getHashCodeScore=function(fe){var Ce=this.getHashCode(fe)/Te.INT_MAX_VALUE;return Ce*100},Te.prototype.getHashCode=function(fe){if(fe==="")return 0;for(;fe[xn]<yc;)fe=fe.concat(fe);for(var Ce=5381,Fe=0;Fe<fe[xn];++Fe)Ce=(Ce<<5)+Ce+fe.charCodeAt(Fe),Ce=Ce&Ce;return Math.abs(Ce)},Te.INT_MAX_VALUE=2147483647,Te}(),Iu=function(){function Te(){var fe=this,Ce=new bc,Fe=new Qe;fe[pc]=function($e){var Ye=0;return $e[yn]&&$e[yn][Fe.userId]?Ye=Ce.getHashCodeScore($e[yn][Fe.userId]):$e.ext&&$e.ext.user&&$e.ext.user.id?Ye=Ce[om]($e.ext.user.id):$e[yn]&&$e[yn][Fe.operationId]?Ye=Ce.getHashCodeScore($e[yn][Fe.operationId]):$e.ext&&$e.ext.telemetryTrace&&$e.ext.telemetryTrace[Kr]?Ye=Ce.getHashCodeScore($e.ext.telemetryTrace[Kr]):Ye=Math.random()*100,Ye}}return Te}(),Du=function(){function Te(fe,Ce){this.INT_MAX_VALUE=2147483647;var Fe=Ce||(0,ye.y0)(null);(fe>100||fe<0)&&(Fe.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:fe},!0),fe=100),this[Eo]=fe,this.samplingScoreGenerator=new Iu}return Te.prototype.isSampledIn=function(fe){var Ce=this[Eo],Fe=!1;return Ce==null||Ce>=100||fe.baseType===hn[Br]?!0:(Fe=this.samplingScoreGenerator[pc](fe)<Ce,Fe)},Te}(),Ra,Rl=65e3;function Er(Te){try{return Te.responseText}catch{}return null}function Co(){var Te,fe,Ce;return Te={endpointUrl:function(){return p+v}},Te[Qs]=function(){return!1},Te[mc]=function(){return 15e3},Te[So]=function(){return 102400},Te[kl]=function(){return!1},Te[wl]=function(){return!0},Te[Ro]=function(){return!1},Te[hi]=function(){return!0},Te[qr]=function(){return!1},Te[li]=function(){return!1},Te[ca]=function(){return!1},Te[ks]=function(){return fe},Te[ur]=function(){return fe},Te[La]=function(){return 100},Te[Nu]=function(){return Ce},Te[Tu]=function(){return fe},Te.eventsLimitInMem=function(){return 1e4},Te}var xu=(Ra={},Ra[Xe.dataType]=vc,Ra[Bt.dataType]=gc,Ra[un.dataType]=Sl,Ra[gt.dataType]=Mu,Ra[qt.dataType]=Ea,Ra[hn.dataType]=Pu,Ra[ua.dataType]=dm,Ra),wc=function(Te){(0,I.qU)(fe,Te);function fe(){var Ce=Te.call(this)||this;Ce.priority=1001,Ce.identifier=xa,Ce._senderConfig=Co();var Fe,$e,Ye,tt,ut,Gt,jt,tn,Rn=0,Bn,Nn,Kn,Hn;return(0,S.A)(fe,Ce,function(at,vi){Fl(),at.pause=function(){As(),tt=!0},at.resume=function(){tt&&(tt=!1,$e=null,at._buffer.size()>at._senderConfig[So]()&&at[os](!0,null,10),Xs())},at.flush=function(Ze,$t,Jt){if(Ze===void 0&&(Ze=!0),!tt){As();try{at[os](Ze,null,Jt||1)}catch(gn){(0,ye.ZP)(at[Un](),1,22,"flush failed, telemetry will not be collected: "+(0,_e.lL)(gn),{exception:(0,Me.mm)(gn)})}}},at.onunloadFlush=function(){if(!tt)if((at._senderConfig[ca]()===!1||at[oi][hi]()===!1)&&(0,Me.Uf)())try{at[os](!0,Lu,2)}catch(Ze){(0,ye.ZP)(at[Un](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,_e.lL)(Ze),{exception:(0,Me.mm)(Ze)})}else at.flush()},at.addHeader=function(Ze,$t){tn[Ze]=$t},at.initialize=function(Ze,$t,Jt,gn){at.isInitialized()&&(0,ye.ZP)(at[Un](),1,28,"Sender is already initialized"),vi.initialize(Ze,$t,Jt,gn);var zn=at._getTelCtx(),ui=at.identifier;Gt=new fm($t.logger),Fe=0,$e=null,Ye=0,at[bi]=null,jt=0;var ri=at[Un]();Hn=(0,mn.Hm)((0,Mr.Z)("Sender"),$t.evtNamespace&&$t.evtNamespace()),Kn=ei(Hn);var er=Co();(0,_e.z)(er,function(vr,Ua){at[oi][vr]=function(){var Di=zn.getConfig(ui,vr,Ua());return!Di&&vr==="endpointUrl"&&(Di=Ua()),Di}}),at._buffer=at[oi][wl]()&&si()?new cm(ri,at[oi]):new Fu(ri,at[oi]),at._sample=new Du(at[oi][La](),ri),Ml(Ze)||(0,ye.ZP)(ri,1,100,"Invalid Instrumentation key "+Ze[ks]),!Pr(at._senderConfig.endpointUrl())&&at._senderConfig.customHeaders()&&at._senderConfig.customHeaders()[xn]>0&&(0,_e.Iu)(at[oi][Nu](),function(vr){Ce.addHeader(vr.header,vr.value)});var tr=at[oi],zi=null;!tr[qr]()&&(0,Me.PV)()?zi=Pl:!tr[qr]()&&(0,Me.xk)()&&(zi=fa),!zi&&(0,Me.R7)()&&(zi=pm),Bn=zi||fa,!tr[hi]()&&(0,Me.Uf)()&&(zi=Cl),at[bi]=zi||fa,!tr[li]()&&(0,Me.R7)(!0)?Nn=Ts:(0,Me.Uf)()?Nn=Cl:!tr[qr]()&&(0,Me.PV)()?Nn=Pl:!tr[qr]()&&(0,Me.xk)()?Nn=fa:Nn=Bn},at.processTelemetry=function(Ze,$t){$t=at._getTelCtx($t);var Jt=$t[Un]();try{if(at[oi][kl]())return;if(!Ze){(0,ye.ZP)(Jt,1,7,"Cannot send empty telemetry");return}if(Ze.baseData&&!Ze[_l]){(0,ye.ZP)(Jt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Ze[_l]||(Ze[_l]="EventData"),!at[bi]){(0,ye.ZP)(Jt,1,28,"Sender was not initialized");return}if(Xr(Ze))Ze[T]=at._sample[Eo];else{(0,ye.ZP)(Jt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:at._sample[Eo]});return}var gn=at[oi][Tu]()||void 0,zn=Ze.iKey||at[oi][ks](),ui=fe.constructEnvelope(Ze,zn,Jt,gn);if(!ui){(0,ye.ZP)(Jt,1,47,"Unable to create an AppInsights envelope");return}var ri=!1;if(Ze[yn]&&Ze[yn][c]&&((0,_e.Iu)(Ze[yn][c],function(vr){try{vr&&vr(ui)===!1&&(ri=!0,(0,ye.OG)(Jt,"Telemetry processor check returns false"))}catch(Ua){(0,ye.ZP)(Jt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,_e.lL)(Ua),{exception:(0,Me.mm)(Ua)},!0)}}),delete Ze[yn][c]),ri)return;var er=Gt.serialize(ui),tr=at[Yr],zi=tr.size();zi+er[xn]>at[oi][So]()&&at[os](!0,null,10),tr[Ks](er),Xs()}catch(vr){(0,ye.ZP)(Jt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,_e.lL)(vr),{exception:(0,Me.mm)(vr)})}at.processNext(Ze,$t)},at[hc]=function(Ze,$t,Jt){Ze.readyState===4&&Rs(Ze.status,$t,Ze.responseURL,Jt,Uu(Ze),Er(Ze)||Ze.response)},at[os]=function(Ze,$t,Jt){if(Ze===void 0&&(Ze=!0),!tt)try{var gn=at[Yr];if(at[oi][kl]())gn[rs]();else{if(gn[Qr]()>0){var zn=gn.getItems();Io(Jt||0,Ze),$t?$t.call(Ce,zn,Ze):at[bi](zn,Ze)}Ye=+new Date}As()}catch(ri){var ui=(0,Me.L0)();(!ui||ui>9)&&(0,ye.ZP)(at[Un](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,_e.lL)(ri),{exception:(0,Me.mm)(ri)})}},at._doTeardown=function(Ze,$t){at.onunloadFlush(),Kn.unload(),Fl()},at[Jr]=function(Ze,$t,Jt){(0,ye.ZP)(at[Un](),2,26,"Failed to send telemetry.",{message:$t}),at._buffer[da](Ze)},at[Js]=function(Ze,$t){for(var Jt=[],gn=[],zn=$t.errors.reverse(),ui=0,ri=zn;ui<ri.length;ui++){var er=ri[ui],tr=Ze.splice(er.index,1)[0];Fo(er.statusCode)?gn[Ui](tr):Jt[Ui](tr)}Ze[xn]>0&&at[$r](Ze,$t[Pt]),Jt[xn]>0&&at[Jr](Jt,Uu(null,["partial success",$t[Pt],"of",$t.itemsReceived].join(" "))),gn[xn]>0&&(Al(gn),(0,ye.ZP)(at[Un](),2,40,"Partial success. Delivered: "+Ze[xn]+", Failed: "+Jt[xn]+". Will retry to send "+gn[xn]+" our of "+$t[Cu]+" items"))},at[$r]=function(Ze,$t){at._buffer[da](Ze)},at._xdrOnLoad=function(Ze,$t){var Jt=Er(Ze);if(Ze&&(Jt+""=="200"||Jt===""))Fe=0,at[$r]($t,0);else{var gn=Cs(Jt);gn&&gn.itemsReceived&&gn.itemsReceived>gn[Pt]&&!at[oi][Ro]()?at[Js]($t,gn):at[Jr]($t,Bu(Ze))}};function Xr(Ze){return at._sample.isSampledIn(Ze)}function Rs(Ze,$t,Jt,gn,zn,ui){var ri=null;if(at._appId||(ri=Cs(ui),ri&&ri.appId&&(at._appId=ri.appId)),(Ze<200||Ze>=300)&&Ze!==0){if((Ze===301||Ze===307||Ze===308)&&!Ns(Jt)){at[Jr]($t,zn);return}!at[oi][Ro]()&&Fo(Ze)?(Al($t),(0,ye.ZP)(at[Un](),2,40,". Response code "+Ze+". Will retry to send "+$t[xn]+" items.")):at[Jr]($t,zn)}else if(Kn&&!Kn.isOnline()){if(!at[oi][Ro]()){var er=10;Al($t,er),(0,ye.ZP)(at[Un](),2,40,". Offline - Response Code: ".concat(Ze,". Offline status: ").concat(!Kn.isOnline(),". Will retry to send ").concat($t.length," items."))}}else Ns(Jt),Ze===206?(ri||(ri=Cs(ui)),ri&&!at[oi][Ro]()?at[Js]($t,ri):at[Jr]($t,zn)):(Fe=0,at[$r]($t,gn))}function Ns(Ze){return jt>=10?!1:!(0,_e.hX)(Ze)&&Ze!==""&&Ze!==at[oi][Bi]()?(at[oi][Bi]=function(){return Ze},++jt,!0):!1}function Lu(Ze,$t){Nn?Nn(Ze,!1):Cl(Ze,$t)}function Po(Ze){var $t=(0,Me.w3)(),Jt=at[Yr],gn=at[oi][Bi](),zn=at._buffer[ws](Ze),ui=new Blob([zn],{type:"text/plain;charset=UTF-8"}),ri=$t.sendBeacon(gn,ui);return ri&&(Jt[as](Ze),at._onSuccess(Ze,Ze[xn])),ri}function Cl(Ze,$t){if((0,_e.cy)(Ze)&&Ze[xn]>0&&!Po(Ze)){for(var Jt=[],gn=0;gn<Ze[xn];gn++){var zn=Ze[gn];Po([zn])||Jt[Ui](zn)}Jt[xn]>0&&(Bn&&Bn(Jt,!0),(0,ye.ZP)(at[Un](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function fa(Ze,$t){var Jt=new XMLHttpRequest,gn=at[oi][Bi]();try{Jt[F]=!0}catch{}Jt.open("POST",gn,$t),Jt[Au]("Content-type","application/json"),Pr(gn)&&Jt[Au](Xn[6],Xn[7]),(0,_e.Iu)((0,_e.cG)(tn),function(ui){Jt[Au](ui,tn[ui])}),Jt.onreadystatechange=function(){return at._xhrReadyStateChange(Jt,Ze,Ze[xn])},Jt.onerror=function(ui){return at[Jr](Ze,Uu(Jt),ui)};var zn=at._buffer[ws](Ze);Jt.send(zn),at._buffer[as](Ze)}function Ts(Ze,$t){if((0,_e.cy)(Ze)){for(var Jt=Ze[xn],gn=0;gn<Ze[xn];gn++)Jt+=Ze[gn][xn];Rn+Jt<=Rl?Mo(Ze,!1):(0,Me.Uf)()?Cl(Ze,$t):(Bn&&Bn(Ze,!0),(0,ye.ZP)(at[Un](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function pm(Ze,$t){Mo(Ze,!0)}function Mo(Ze,$t){var Jt,gn=at[oi][Bi](),zn=at._buffer[ws](Ze),ui=new Blob([zn],{type:"application/json"}),ri=new Headers,er=zn[xn],tr=!1,zi=!1;Pr(gn)&&ri.append(Xn[6],Xn[7]),(0,_e.Iu)((0,_e.cG)(tn),function(Di){ri.append(Di,tn[Di])});var vr=(Jt={method:"POST",headers:ri,body:ui},Jt[F]=!0,Jt);$t||(vr.keepalive=!0,tr=!0,Rn+=er);var Ua=new Request(gn,vr);try{Ua[F]=!0}catch{}at._buffer[as](Ze);try{fetch(Ua).then(function(Di){$t||(Rn-=er,er=0),zi||(zi=!0,Di.ok?Di.text().then(function(Tc){Rs(Di.status,Ze,Di.url,Ze[xn],Di.statusText,Tc)}):at[Jr](Ze,Di.statusText))}).catch(function(Di){$t||(Rn-=er,er=0),zi||(zi=!0,at[Jr](Ze,Di.message))})}catch(Di){zi||at[Jr](Ze,(0,Me.mm)(Di))}tr&&!zi&&(zi=!0,at._onSuccess(Ze,Ze[xn]))}function Cs(Ze){try{if(Ze&&Ze!==""){var $t=(0,Me.hm)().parse(Ze);if($t&&$t.itemsReceived&&$t.itemsReceived>=$t[Pt]&&$t.itemsReceived-$t.itemsAccepted===$t.errors[xn])return $t}}catch(Jt){(0,ye.ZP)(at[Un](),1,43,"Cannot parse the response. "+(0,_e.lL)(Jt),{response:Ze})}return null}function Al(Ze,$t){if($t===void 0&&($t=1),!(!Ze||Ze[xn]===0)){var Jt=at[Yr];Jt[da](Ze),Fe++;for(var gn=0,zn=Ze;gn<zn.length;gn++){var ui=zn[gn];Jt[Ks](ui)}Nc($t),Xs()}}function Nc(Ze){var $t=10,Jt;if(Fe<=1)Jt=$t;else{var gn=(Math.pow(2,Fe)-1)/2,zn=Math.floor(Math.random()*gn*$t)+1;zn=Ze*zn,Jt=Math.max(Math.min(zn,3600),$t)}var ui=(0,_e.x3)()+Jt*1e3;$e=ui}function Xs(){if(!ut&&!tt){var Ze=$e?Math.max(0,$e-(0,_e.x3)()):0,$t=Math.max(at[oi][mc](),Ze);ut=setTimeout(function(){ut=null,at[os](!0,null,1)},$t)}}function As(){clearTimeout(ut),ut=null,$e=null}function Fo(Ze){return Ze===401||Ze===403||Ze===408||Ze===429||Ze===500||Ze===502||Ze===503||Ze===504}function Uu(Ze,$t){return Ze?"XMLHttpRequest,Status:"+Ze.status+",Response:"+Er(Ze)||0||0:$t}function Pl(Ze,$t){var Jt=at[Yr],gn=(0,Me.zk)(),zn=new XDomainRequest;zn.onload=function(){return at._xdrOnLoad(zn,Ze)},zn.onerror=function(tr){return at[Jr](Ze,Bu(zn),tr)};var ui=gn&&gn.location&&gn.location.protocol||"";if(at[oi][Bi]().lastIndexOf(ui,0)!==0){(0,ye.ZP)(at[Un](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Jt[rs]();return}var ri=at[oi][Bi]().replace(/^(https?:)/,"");zn.open("POST",ri);var er=Jt[ws](Ze);zn.send(er),Jt[as](Ze)}function Bu(Ze,$t){return Ze?"XDomainRequest,Response:"+Er(Ze)||0:$t}function qu(){var Ze="getNotifyMgr";return at.core[Ze]?at.core[Ze]():at.core._notificationManager}function Io(Ze,$t){var Jt=qu();if(Jt&&Jt[_a])try{Jt[_a](Ze,$t)}catch(gn){(0,ye.ZP)(at[Un](),1,74,"send request notification failed: "+(0,_e.lL)(gn),{exception:(0,Me.mm)(gn)})}}function Ml(Ze){var $t=(0,_e.hX)(Ze[Sa])?!1:Ze[Sa];if($t)return!0;var Jt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",gn=new RegExp(Jt);return gn.test(Ze[ks])}function Fl(){at[bi]=null,at[Yr]=null,at._appId=null,at._sample=null,tn={},Kn=null,Fe=0,$e=null,Ye=null,tt=!1,ut=null,Gt=null,jt=0,Rn=0,Bn=null,Nn=null,Hn=null}}),Ce}return fe.constructEnvelope=function(Ce,Fe,$e,Ye){var tt;Fe!==Ce.iKey&&!(0,_e.hX)(Fe)?tt=(0,I.Im)((0,I.Im)({},Ce),{iKey:Fe}):tt=Ce;var ut=xu[tt.baseType]||vc;return ut($e,tt,Ye)},fe}(ts.s),kc=";",hm="=";function _c(Te){if(!Te)return{};var fe=Te[l](kc),Ce=(0,_e.KT)(fe,function($e,Ye){var tt=Ye[l](hm);if(tt[N]===2){var ut=tt[0][d](),Gt=tt[1];$e[ut]=Gt}return $e},{});if((0,_e.cG)(Ce)[N]>0){if(Ce.endpointsuffix){var Fe=Ce.location?Ce.location+".":"";Ce[g]=Ce[g]||"https://"+Fe+"dc."+Ce.endpointsuffix}Ce[g]=Ce[g]||p}return Ce}var mm={parse:_c},Ou=R(12235),Nl="instrumentationKey",Tl="connectionString",Ao="diagnosticLogInterval",Sc=R(83897),Ec=(0,Dn.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Rc=function(){function Te(fe){var Ce=new Ou._;((0,_e.hX)(fe)||(0,_e.hX)(fe[Nl])&&(0,_e.hX)(fe[Tl]))&&(0,_e.$8)("Invalid input configuration"),(0,S.A)(Te,this,function(Fe){if(fe[Tl]){var $e=_c(fe[Tl]),Ye=$e.ingestionendpoint;fe.endpointUrl=Ye?Ye+v:fe.endpointUrl,fe[Nl]=$e.instrumentationkey||fe[Nl]}Fe.config=fe,tt(),Fe.initialize=tt,Fe.getSKUDefaults=function(){Fe.config[Ao]=Fe.config[Ao]&&Fe.config[Ao]>0?Fe.config[Ao]:1e4},Fe.getSKUDefaults(),(0,_e.o$)(Fe,Ce,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function tt(){Ce.initialize(Fe.config,[new wc]),Ce.pollInternalLogs()}})}return Te.__ieDyn=1,Te}()},92457:(s,j,R)=>{"use strict";R.d(j,{A:()=>xe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var S,I="undefined",F="constructor",T="prototype",c="function",h="_dynInstFuncs",p="_isDynProxy",v="_dynClass",w="_dynCls$",b="_dynInstChk",l=b,N="_dfOpts",d="_unknown_",g="__proto__",f="_dyn"+g,_="__dynProto$Gbl",E="_dynInstProto",P="useBaseInst",M="setInstFuncs",V=Object,O=V.getPrototypeOf,y=V.getOwnPropertyNames;function K(){var Ee;return typeof globalThis!==I&&(Ee=globalThis),!Ee&&typeof self!==I&&(Ee=self),!Ee&&typeof window!==I&&(Ee=window),!Ee&&typeof R.g!==I&&(Ee=R.g),Ee||{}}var Y=K(),Z=Y[_]||(Y[_]={o:(S={},S[M]=!0,S[P]=!0,S),n:1e3});function ie(Ee,be){return Ee&&V[T].hasOwnProperty.call(Ee,be)}function J(Ee){return Ee&&(Ee===V[T]||Ee===Array[T])}function x(Ee){return J(Ee)||Ee===Function[T]}function W(Ee){var be;if(Ee){if(O)return O(Ee);var Pe=Ee[g]||Ee[T]||(Ee[F]?Ee[F][T]:null);be=Ee[f]||Pe,ie(Ee,f)||(delete Ee[E],be=Ee[f]=Ee[E]||Ee[f],Ee[E]=Pe)}return be}function D(Ee,be){var Pe=[];if(y)Pe=y(Ee);else for(var X in Ee)typeof X=="string"&&ie(Ee,X)&&Pe.push(X);if(Pe&&Pe.length>0)for(var te=0;te<Pe.length;te++)be(Pe[te])}function m(Ee,be,Pe){return be!==F&&typeof Ee[be]===c&&(Pe||ie(Ee,be))}function C(Ee){throw new TypeError("DynamicProto: "+Ee)}function L(Ee){var be={};return D(Ee,function(Pe){!be[Pe]&&m(Ee,Pe,!1)&&(be[Pe]=Ee[Pe])}),be}function H(Ee,be){for(var Pe=Ee.length-1;Pe>=0;Pe--)if(Ee[Pe]===be)return!0;return!1}function z(Ee,be,Pe,X){function te(B,U,le){var ge=U[le];if(ge[p]&&X){var _e=B[h]||{};_e[l]!==!1&&(ge=(_e[U[v]]||{})[le]||ge)}return function(){return ge.apply(B,arguments)}}var de={};D(Pe,function(B){de[B]=te(be,Pe,B)});for(var he=W(Ee),we=[];he&&!x(he)&&!H(we,he);)D(he,function(B){!de[B]&&m(he,B,!O)&&(de[B]=te(be,he,B))}),we.push(he),he=W(he);return de}function G(Ee,be,Pe,X){var te=null;if(Ee&&ie(Pe,v)){var de=Ee[h]||{};if(te=(de[Pe[v]]||{})[be],te||C("Missing ["+be+"] "+c),!te[b]&&de[l]!==!1){for(var he=!ie(Ee,be),we=W(Ee),B=[];he&&we&&!x(we)&&!H(B,we);){var U=we[be];if(U){he=U===X;break}B.push(we),we=W(we)}try{he&&(Ee[be]=te),te[b]=1}catch{de[l]=!1}}}return te}function ee(Ee,be,Pe){var X=be[Ee];return X===Pe&&(X=W(be)[Ee]),typeof X!==c&&C("["+Ee+"] is not a "+c),X}function ne(Ee,be,Pe,X,te){function de(B,U){var le=function(){var ge=G(this,U,B,le)||ee(U,B,le);return ge.apply(this,arguments)};return le[p]=1,le}if(!J(Ee)){var he=Pe[h]=Pe[h]||{},we=he[be]=he[be]||{};he[l]!==!1&&(he[l]=!!te),D(Pe,function(B){m(Pe,B,!1)&&Pe[B]!==X[B]&&(we[B]=Pe[B],delete Pe[B],(!ie(Ee,B)||Ee[B]&&!Ee[B][p])&&(Ee[B]=de(Ee,B)))})}}function q(Ee,be){if(O){for(var Pe=[],X=W(be);X&&!x(X)&&!H(Pe,X);){if(X===Ee)return!0;Pe.push(X),X=W(X)}return!1}return!0}function se(Ee,be){return ie(Ee,T)?Ee.name||be||d:((Ee||{})[F]||{}).name||be||d}function xe(Ee,be,Pe,X){ie(Ee,T)||C("theClass is an invalid class definition.");var te=Ee[T];q(te,be)||C("["+se(Ee)+"] not in hierarchy of ["+se(be)+"]");var de=null;ie(te,v)?de=te[v]:(de=w+se(Ee,"_")+"$"+Z.n,Z.n++,te[v]=de);var he=xe[N],we=!!he[P];we&&X&&X[P]!==void 0&&(we=!!X[P]);var B=L(be),U=z(te,be,B,we);Pe(be,U);var le=!!O&&!!he[M];le&&X&&(le=!!X[M]),ne(te,de,be,B,le!==!1)}xe[N]=Z.o},46925:(s,j,R)=>{"use strict";var S=R(48287).Buffer;Object.defineProperty(j,"__esModule",{value:!0}),j.HTMLTracer=void 0;const I=R(12111),F=R(49138);class T{constructor(){At(this,"traceData");At(this,"epochs",[])}addRenderEpoch(d){this.epochs.push(d)}includeInEpoch(d){this.epochs[this.epochs.length-1].elements.push(d)}didMaterializeTree(d){this.traceData=d}async serveHTML(){return h.create({epochs:this.epochs,traceData:l(this.traceData)})}serveRouter(d){return new c({baseAddress:d,epochs:this.epochs,traceData:l(this.traceData)})}}j.HTMLTracer=T;class c{constructor(d){At(this,"opts");At(this,"serverToken",crypto.randomUUID());this.opts=d}route(d,g){const f=d,_=g,E=new URL(f.url||"/","http://localhost"),P=`/${this.serverToken}`;switch(E.pathname){case P:case`${P}/`:this.onRoot(E,f,_);break;case`${P}/regen`:this.onRegen(E,f,_);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:d,epochs:g}=this.opts;return`<body>
			<style>${I.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(d.budget)};
				const EPOCHS = ${JSON.stringify(g)};
				const DEFAULT_MODEL = ${JSON.stringify(await p(d.tokenizer,d.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${I.tracerSrc}
			<\/script>
		</body>`}async onRegen(d,g,f){const{traceData:_}=this.opts,E=Number(d.searchParams.get("n")||_.budget),P=await _.renderTree(E),M=await p(_.tokenizer,P),V=JSON.stringify(M);f.setHeader("Content-Type","application/json"),f.setHeader("Content-Length",S.byteLength(V)),f.end(V)}onRoot(d,g,f){this.getHTML().then(_=>{f.setHeader("Content-Type","text/html"),f.setHeader("Content-Length",S.byteLength(_)),f.end(_)})}}class h extends c{constructor(g,f){super(g);At(this,"server");this.server=f}static async create(g){const{createServer:f}=await Promise.resolve().then(()=>R(11568)),_=f((M,V)=>{try{P.route(M,V)||(V.statusCode=404,V.end("Not Found"))}catch(O){V.statusCode=500,V.end(String(O))}}),E=await new Promise((M,V)=>{_.listen(0,"127.0.0.1",()=>M(_.address().port)).on("error",V)}),P=new h({...g,baseAddress:`http://127.0.0.1:${E}`},_);return P}dispose(){this.server.closeAllConnections(),this.server.close()}}async function p(N,d){return{container:await v(N,d.container,!1),removed:d.removed,budget:d.budget}}async function v(N,d,g){const f={metadata:d.metadata.map(b),priority:d.priority};if(d instanceof F.MaterializedChatMessageTextChunk)return{...f,type:2,value:d.text,tokens:await d.upperBoundTokenCount(N)};{const _={...f,id:d.id,name:d.name,children:await Promise.all(d.children.map(E=>v(N,E,g||d instanceof F.MaterializedChatMessage))),tokens:g?await d.upperBoundTokenCount(N):await d.tokenCount(N)};if(d instanceof F.MaterializedContainer)return{..._,type:0};if(d instanceof F.MaterializedChatMessage)return{..._,type:1,role:d.role,text:d.text}}w(d)}function w(N){throw new Error("unreachable")}function b(N){return{name:N.constructor.name,value:JSON.stringify(N)}}const l=N=>{if(N===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return N}},12111:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.tracerCss=j.tracerSrc=void 0,j.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',j.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,j,R){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,g,f,_){_===void 0&&(_=f);var E=Object.getOwnPropertyDescriptor(g,f);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[f]}}),Object.defineProperty(d,_,E)}:function(d,g,f,_){_===void 0&&(_=f),d[_]=g[f]}),I=this&&this.__exportStar||function(d,g){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(g,f)&&S(g,d,f)};Object.defineProperty(j,"__esModule",{value:!0}),j.contentType=j.PromptRenderer=j.MetadataMap=j.PromptElement=j.ToolResult=j.UserMessage=j.ToolMessage=j.TextChunk=j.SystemMessage=j.PrioritizedList=j.LegacyPrioritization=j.FunctionMessage=j.Chunk=j.AssistantMessage=j.ChatRole=j.JSONTree=void 0,j.renderPrompt=b,j.renderElementJSON=l,j.toVsCodeChatMessages=N;const F=R(96423),T=R(79420),c=R(82990);I(R(46925),j),j.JSONTree=R(8150);var h=R(96423);Object.defineProperty(j,"ChatRole",{enumerable:!0,get:function(){return h.ChatRole}}),I(R(52727),j),I(R(3804),j),I(R(63479),j),I(R(68504),j);var p=R(75234);Object.defineProperty(j,"AssistantMessage",{enumerable:!0,get:function(){return p.AssistantMessage}}),Object.defineProperty(j,"Chunk",{enumerable:!0,get:function(){return p.Chunk}}),Object.defineProperty(j,"FunctionMessage",{enumerable:!0,get:function(){return p.FunctionMessage}}),Object.defineProperty(j,"LegacyPrioritization",{enumerable:!0,get:function(){return p.LegacyPrioritization}}),Object.defineProperty(j,"PrioritizedList",{enumerable:!0,get:function(){return p.PrioritizedList}}),Object.defineProperty(j,"SystemMessage",{enumerable:!0,get:function(){return p.SystemMessage}}),Object.defineProperty(j,"TextChunk",{enumerable:!0,get:function(){return p.TextChunk}}),Object.defineProperty(j,"ToolMessage",{enumerable:!0,get:function(){return p.ToolMessage}}),Object.defineProperty(j,"UserMessage",{enumerable:!0,get:function(){return p.UserMessage}}),Object.defineProperty(j,"ToolResult",{enumerable:!0,get:function(){return p.ToolResult}});var v=R(3575);Object.defineProperty(j,"PromptElement",{enumerable:!0,get:function(){return v.PromptElement}});var w=R(79420);Object.defineProperty(j,"MetadataMap",{enumerable:!0,get:function(){return w.MetadataMap}}),Object.defineProperty(j,"PromptRenderer",{enumerable:!0,get:function(){return w.PromptRenderer}});async function b(d,g,f,_,E,P,M="vscode"){let V="countTokens"in _?new c.AnyTokenizer((J,x)=>_.countTokens(J,x)):_;const O=new T.PromptRenderer(f,d,g,V);let{messages:y,tokenCount:K,references:Y,metadata:Z}=await O.render(E,P);const ie=O.getUsedContext();return M==="vscode"&&(y=N(y)),{messages:y,tokenCount:K,metadatas:Z,usedContext:ie,references:Y}}j.contentType="application/vnd.codechat.prompt+json.1";function l(d,g,f,_){var P;return new T.PromptRenderer({modelMaxPromptTokens:(P=f==null?void 0:f.tokenBudget)!=null?P:Number.MAX_SAFE_INTEGER},d,g,{countMessageTokens(M){throw new Error("Tools may only return text, not messages.")},tokenLength(M,V){var O;return Promise.resolve((O=f==null?void 0:f.countTokens(M,V))!=null?O:Promise.resolve(1))}}).renderElementJSON(_)}function N(d){const g=R(91398);return d.map(f=>{switch(f.role){case F.ChatRole.Assistant:const _=g.LanguageModelChatMessage.Assistant(f.content,f.name);return f.tool_calls&&(_.content=[new g.LanguageModelTextPart(f.content),...f.tool_calls.map(E=>new g.LanguageModelToolCallPart(E.id,E.function.name,E.function.arguments))]),_;case F.ChatRole.User:return g.LanguageModelChatMessage.User(f.content,f.name);case F.ChatRole.Function:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(f.name,[new g.LanguageModelTextPart(f.content)])],E}case F.ChatRole.Tool:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(f.tool_call_id,[new g.LanguageModelTextPart(f.content)])],E}default:throw new Error(`Converting chat message with role ${f.role} to VS Code chat message is not supported.`)}})}},8150:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.forEachNode=R;function R(S,I){if(I(S),S.type===1)for(const F of S.children)R(F,I)}},49138:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MaterializedChatMessage=j.MaterializedChatMessageTextChunk=j.MaterializedContainer=void 0;const S=R(54548),I=R(96423);class F{constructor(f,_,E,P,M,V){At(this,"id");At(this,"name");At(this,"priority");At(this,"children");At(this,"metadata");At(this,"flags");this.id=f,this.name=_,this.priority=E,this.children=P,this.metadata=M,this.flags=V}has(f){return!!(this.flags&f)}async tokenCount(f){let _=0;return await Promise.all(this.children.map(async E=>{p(E);const P=await E.tokenCount(f);_+=P})),_}async upperBoundTokenCount(f){let _=0;return await Promise.all(this.children.map(async E=>{const P=await E.upperBoundTokenCount(f);_+=P})),_}replaceNode(f,_){return d(f,this.children,_)}allMetadata(){return N(this)}*toChatMessages(){for(const f of this.children)p(f),f instanceof F?yield*f.toChatMessages():f.isEmpty||(yield f.toChatMessage())}removeLowestPriorityChild(){this.has(1)?w(this):b(this)}}j.MaterializedContainer=F;class T{constructor(f,_,E=[],P){At(this,"text");At(this,"priority");At(this,"metadata");At(this,"lineBreakBefore");At(this,"_upperBound",(0,S.once)(async f=>await f.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=f,this.priority=_,this.metadata=E,this.lineBreakBefore=P}upperBoundTokenCount(f){return this._upperBound(f)}}j.MaterializedChatMessageTextChunk=T;class c{constructor(f,_,E,P,M,V,O,y){At(this,"id");At(this,"role");At(this,"name");At(this,"toolCalls");At(this,"toolCallId");At(this,"priority");At(this,"metadata");At(this,"children");At(this,"_tokenCount",(0,S.once)(async f=>f.countMessageTokens(this.toChatMessage())));At(this,"_upperBound",(0,S.once)(async f=>{let _=await this._baseMessageTokenCount(f);return await Promise.all(this.children.map(async E=>{const P=await E.upperBoundTokenCount(f);_+=P})),_}));At(this,"_baseMessageTokenCount",(0,S.once)(f=>f.countMessageTokens({...this.toChatMessage(),content:""})));At(this,"_text",(0,S.once)(()=>{let f="";for(const{text:_,isTextSibling:E}of v(this))(_.lineBreakBefore===1||_.lineBreakBefore===2&&!E)&&f.length&&!f.endsWith(`
`)&&(f+=`
`),f+=_.text;return f.trim()}));this.id=f,this.role=_,this.name=E,this.toolCalls=P,this.toolCallId=M,this.priority=V,this.metadata=O,this.children=y}async tokenCount(f){return this._tokenCount(f)}async upperBoundTokenCount(f){return this._upperBound(f)}get text(){return this._text()}get isEmpty(){var f;return!/\S/.test(this.text)&&!((f=this.toolCalls)!=null&&f.length)&&!this.toolCallId}replaceNode(f,_){const E=d(f,this.children,_);return E&&this.onChunksChange(),E}removeLowestPriorityChild(){b(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===I.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===I.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===I.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===I.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}j.MaterializedChatMessage=c;function h(g){return!(g instanceof T)}function p(g){if(!(g instanceof F)&&!(g instanceof c))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${g.text}"`)}function*v(g,f=!1){for(const _ of g.children)_ instanceof T?(yield{text:_,isTextSibling:f},f=!0):(yield*v(_,f),f=!1)}function w(g){let f;function _(M,V){if(M instanceof T)(!f||M.priority<f.node.priority)&&(f={chain:V.slice(),node:M});else{V.push(M);for(const O of M.children)_(O,V);V.pop()}}if(_(g,[]),!f)throw new Error("No lowest priority node found");let E=f.node,P=f.chain.length-1;for(;P>=0;P--){const M=f.chain[P];if(M.children.splice(M.children.indexOf(E),1),M instanceof c&&M.onChunksChange(),M.children.length>0)break;E=M}for(;P>=0;P--){const M=f.chain[P];M instanceof c&&M.onChunksChange()}}function b(g){var P;let f;const _=g.children.map((M,V)=>({chain:[g],index:V}));for(let M=0;M<_.length;M++){const{chain:V,index:O}=_[M],y=V[V.length-1].children[O];if(y instanceof F&&y.has(4)){const K=[...V,y];_.splice(M+1,0,...y.children.map((Y,Z)=>({chain:K,index:Z})))}else if(!f||y.priority<f.value.priority)f={chain:V,index:O,value:y};else if(y.priority===f.value.priority){(P=f.lowestNested)!=null||(f.lowestNested=l(f.value));const K=l(y);K<f.lowestNested&&(f={chain:V,index:O,value:y,lowestNested:K})}}if(!f)throw new Error("No lowest priority node found");const E=f.chain[f.chain.length-1].children;f.value instanceof T||f.value instanceof F&&f.value.has(2)||h(f.value)&&!f.value.children.length?E.splice(f.index,1):(f.value.removeLowestPriorityChild(),f.value.children.length===0&&E.splice(f.index,1));for(const M of f.chain)M instanceof c&&M.onChunksChange()}function l(g){if(!h(g))return-1;let f=Number.MAX_SAFE_INTEGER;for(const _ of g.children)f=Math.min(f,_.priority);return f}function*N(g){yield*g.metadata;for(const f of g.children)h(f)?yield*N(f):yield*f.metadata}function d(g,f,_){for(let E=0;E<f.length;E++){const P=f[E];if(h(P)){if(P.id===g){const V=f[E];return f[E]=_,V}const M=P.replaceNode(g,_);if(M)return M}}}},54548:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.once=R;function R(S){let I,F=!1;const T=(...c)=>(F||(I=S(...c),F=!0),I);return T.clear=()=>{F=!1},T}},96423:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.BaseTokensPerName=j.BaseTokensPerMessage=j.BaseTokensPerCompletion=j.ChatRole=void 0;var R;(function(S){S.System="system",S.User="user",S.Assistant="assistant",S.Function="function",S.Tool="tool"})(R||(j.ChatRole=R={})),j.BaseTokensPerCompletion=3,j.BaseTokensPerMessage=3,j.BaseTokensPerName=1},3575:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PromptElement=void 0,R(10818);class S{constructor(F){At(this,"props");this.props=F}get priority(){var F;return(F=this.props.priority)!=null?F:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}j.PromptElement=S},75234:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.Expandable=j.Chunk=j.LegacyPrioritization=j.ToolResult=j.PrioritizedList=j.TextChunk=j.ToolMessage=j.FunctionMessage=j.AssistantMessage=j.UserMessage=j.SystemMessage=j.BaseChatMessage=void 0,j.isChatMessagePromptElement=F;const S=R(96423),I=R(3575);function F(P){return P instanceof c||P instanceof h||P instanceof p}class T extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}j.BaseChatMessage=T;class c extends T{constructor(M){M.role=S.ChatRole.System,super(M)}}j.SystemMessage=c;class h extends T{constructor(M){M.role=S.ChatRole.User,super(M)}}j.UserMessage=h;class p extends T{constructor(M){M.role=S.ChatRole.Assistant,super(M)}}j.AssistantMessage=p;const v=/\s+/g;class w extends T{constructor(M){M.role=S.ChatRole.Function,super(M)}}j.FunctionMessage=w;class b extends T{constructor(M){M.role=S.ChatRole.Tool,super(M)}}j.ToolMessage=b;class l extends I.PromptElement{async prepare(M,V,O){const y=this.props.breakOnWhitespace?v:this.props.breakOn;if(!y)return vscpp(vscppf,null,this.props.children);let K="";const Y=[];for(const ie of this.props.children||[])if(ie&&typeof ie=="object"){if(typeof ie.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");ie.ctor==="br"?K+=`
`:Y.push(ie)}else ie!=null&&(K+=ie);const Z=await N(M,y,K,O);return vscpp(vscppf,null,Y,Z)}render(M){return M}}j.TextChunk=l;async function N(P,M,V,O){var Y,Z;if(M instanceof RegExp){if(!M.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${M})`);M.lastIndex=0}let y="",K=-1;for(;K<V.length;){let ie;typeof M=="string"?ie=V.indexOf(M,K===-1?0:K+M.length):ie=(Z=(Y=M.exec(V))==null?void 0:Y.index)!=null?Z:-1,ie===-1&&(ie=V.length);const J=y+V.slice(Math.max(0,K),ie);if(await P.countTokens(J,O)>P.tokenBudget)return y;y=J,K=ie}return y}class d extends I.PromptElement{render(){const M=this.props.children;if(M)return vscpp(vscppf,null,M.map((V,O)=>{var K;if(!V)return;const y=this.props.descending?this.props.priority-O:this.props.priority-M.length+O;return typeof V!="object"?vscpp(l,{priority:y},V):((K=V.props)!=null||(V.props={}),V.props.priority=y,V)}))}}j.PrioritizedList=d;class g extends I.PromptElement{render(){const M=R(91398);return vscpp(vscppf,null,this.props.data.content.map(V=>{if(V instanceof M.LanguageModelTextPart)return V.value;if(V instanceof M.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:V.value})}))}}j.ToolResult=g;class f extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}j.LegacyPrioritization=f;class _ extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}j.Chunk=_;class E extends I.PromptElement{async render(M,V){return vscpp(vscppf,null,await this.props.value(V))}}j.Expandable=E},79420:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PromptRenderer=j.MetadataMap=void 0;const S=R(49138),I=R(75234),F=R(52727);var T;(function(O){O.empty={get:()=>{},getAll:()=>[]}})(T||(j.MetadataMap=T={}));class c{constructor(y,K,Y,Z){At(this,"_endpoint");At(this,"_ctor");At(this,"_props");At(this,"_tokenizer");At(this,"_usedContext",[]);At(this,"_ignoredFiles",[]);At(this,"_growables",[]);At(this,"_root",new d(null,0));At(this,"tracer");this._endpoint=y,this._ctor=K,this._props=Y,this._tokenizer=Z}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(y){return new y.ctor(y.props)}async _processPromptPieces(y,K,Y,Z){var W,D,m,C,L,H,z;const ie=new Map;for(const[G,ee]of K.entries()){if(Array.isArray(ee.children)&&(ee.props=(W=ee.props)!=null?W:{},ee.props.children=ee.children),!ee.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const ne=this.createElement(ee);ee.node.setObj(ne);const q=(D=ee.props.flexGrow)!=null?D:1/0;let se=ie.get(q);se||(se=[],ie.set(q,se)),se.push({element:ee,promptElementInstance:ne})}if(ie.size===0)return;const J=[...ie.entries()].sort(([G],[ee])=>ee-G).map(([G,ee])=>ee),x=G=>{let ee=0;for(let ne=G+1;ne<J.length;ne++)for(const{element:q}of J[ne]){if(!q.props.flexReserve)continue;const se=typeof q.props.flexReserve=="string"?Math.floor(y.remainingTokenBudget/Number(q.props.flexReserve.slice(1))):q.props.flexReserve;ee+=se}return y.consume(ee),ee};for(const[G,ee]of J.entries()){const ne=x(G);let q=0;for(const{element:Ee}of ee)q+=(m=Ee.props.flex||Ee.props.flexBasis)!=null?m:1;const se=ee.map(Ee=>{var Pe;const be=((Pe=Ee.element.props.flexBasis)!=null?Pe:1)/q;return{tokenBudget:Math.floor(y.remainingTokenBudget*be),endpoint:y.endpoint,countTokens:(X,te)=>this._tokenizer.tokenLength(X,te)}});y.consume(-ne),(z=(C=this.tracer)==null?void 0:C.addRenderEpoch)==null||z.call(C,{inNode:(L=ee[0].element.node.parent)==null?void 0:L.id,flexValue:(H=ee[0].element.props.flexGrow)!=null?H:0,tokenBudget:y.remainingTokenBudget,reservedTokens:ne,elements:ee.map((Ee,be)=>({id:Ee.element.node.id,tokenBudget:se[be].tokenBudget}))}),await Promise.all(ee.map(async({element:Ee,promptElementInstance:be},Pe)=>{var te;const X=await((te=be.prepare)==null?void 0:te.call(be,se[Pe],Y,Z));Ee.node.setState(X)}));const xe=await Promise.all(ee.map(async({element:Ee,promptElementInstance:be},Pe)=>{const X=se[Pe];return await be.render(Ee.node.getState(),X,Y,Z)}));for(const[Ee,{element:be,promptElementInstance:Pe}]of ee.entries()){const X=se[Ee],te=xe[Ee];if(!te)continue;const de=await this._processPromptRenderPiece(new N(X.tokenBudget,this._endpoint),be,Pe,te,Y,Z);Pe instanceof I.Expandable&&this._growables.push({initialConsume:de,elem:be.node}),y.consume(de)}}}async _processPromptRenderPiece(y,K,Y,Z,ie,J){const x=p(Z),W=new N(y.tokenBudget,this._endpoint),{tokensConsumed:D}=await h(this._tokenizer,K,Y,x);return W.consume(D),await this._handlePromptChildren(K,x,W,ie,J),W.consumed}async renderElementJSON(y){return await this._processPromptPieces(new N(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,y),{node:this._root.toJSON()}}async render(y,K){var L,H;await this._processPromptPieces(new N(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],y,K);const{container:Y,allMetadata:Z,removed:ie}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,K);(H=(L=this.tracer)==null?void 0:L.didMaterializeTree)==null||H.call(L,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:Y,removed:ie,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:z=>this._getFinalElementTree(z,void 0).then(G=>({...G,budget:z}))});const J=[...Y.toChatMessages()],x=await Y.tokenCount(this._tokenizer),W=[...Y.allMetadata()],D=new Set,m=W.map(z=>{if(!(z instanceof M))return;const G=z.reference,ee="variableName"in G.anchor;if(ee&&!D.has(G.anchor.variableName))return D.add(G.anchor.variableName),G;if(!ee)return G}).filter(E),C=Z.map(z=>{if(!(z instanceof M)||W.includes(z))return;const G=z.reference,ee="variableName"in G.anchor;if(ee&&!D.has(G.anchor.variableName))return D.add(G.anchor.variableName),G;if(!ee)return G}).filter(E);return{metadata:{get:z=>W.find(G=>G instanceof z),getAll:z=>W.filter(G=>G instanceof z)},messages:J,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:x,references:m,omittedReferences:C}}async _getFinalElementTree(y,K){const Y=this._root.materialize(),Z=await Y.tokenCount(this._tokenizer);if(Z<y&&!await this._grow(Y,Z,y,K))return{container:Y,allMetadata:[...Y.allMetadata()],removed:0};const ie=[...Y.allMetadata()];let J=0;for(;await Y.upperBoundTokenCount(this._tokenizer)>y&&await Y.tokenCount(this._tokenizer)>y;)Y.removeLowestPriorityChild(),J++;return{container:Y,allMetadata:ie,removed:J}}async _grow(y,K,Y,Z){if(!this._growables.length)return!1;for(const ie of this._growables){const J=ie.elem.getObj();if(!(J instanceof I.Expandable))throw new Error("unreachable: expected growable");const x=new d(null,0,ie.elem.id),W=new N(Y-K+ie.initialConsume,this._endpoint),D=await this._processPromptRenderPiece(W,{node:x,ctor:this._ctor,props:{},children:[]},J,await J.render(void 0,{tokenBudget:W.tokenBudget,endpoint:this._endpoint,countTokens:(L,H)=>this._tokenizer.tokenLength(L,H)}),void 0,Z),m=x.materialize();if(!y.replaceNode(ie.elem.id,m))throw new Error("unreachable: could not find old element to replace");if(K-=ie.initialConsume,K+=D,K>=Y)break}return!0}_handlePromptChildren(y,K,Y,Z,ie){var x,W;if(y.ctor===I.TextChunk){this._handleExtrinsicTextChunkChildren(y.node,y.node,y.props,K);return}let J=[];for(const D of K){if(D.kind==="literal"){y.node.appendStringChild(D.value,(x=y.props.priority)!=null?x:Number.MAX_SAFE_INTEGER);continue}if(D.kind==="intrinsic"){this._handleIntrinsic(y.node,D.name,{priority:(W=y.props.priority)!=null?W:Number.MAX_SAFE_INTEGER,...D.props},v(D.children));continue}const m=y.node.createChild();J.push({node:m,ctor:D.ctor,props:{priority:y.props.priority,...D.props},children:D.children})}return this._processPromptPieces(Y,J,Z,ie)}_handleIntrinsic(y,K,Y,Z,ie){switch(K){case"meta":return this._handleIntrinsicMeta(y,Y,Z);case"br":return this._handleIntrinsicLineBreak(y,Y,Z,Y.priority,ie);case"usedContext":return this._handleIntrinsicUsedContext(y,Y,Z);case"references":return this._handleIntrinsicReferences(y,Y,Z);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(y,Y,Z);case"elementJSON":return this._handleIntrinsicElementJSON(y,Y.data)}throw new Error(`Unknown intrinsic element ${K}!`)}_handleIntrinsicMeta(y,K,Y){if(Y.length>0)throw new Error("<meta /> must not have children!");K.local?y.addMetadata(K.value):this._root.addMetadata(K.value)}_handleIntrinsicLineBreak(y,K,Y,Z,ie){if(Y.length>0)throw new Error("<br /> must not have children!");y.appendLineBreak(Z!=null?Z:Number.MAX_SAFE_INTEGER,ie)}_handleIntrinsicElementJSON(y,K){var Z;const Y=y.appendPieceJSON(K.node);if((Z=this.tracer)!=null&&Z.includeInEpoch)for(const ie of Y.elements())this.tracer.includeInEpoch({id:ie.id,tokenBudget:0})}_handleIntrinsicUsedContext(y,K,Y){if(Y.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...K.value)}_handleIntrinsicReferences(y,K,Y){if(Y.length>0)throw new Error("<reference /> must not have children!");for(const Z of K.value)y.addMetadata(new M(Z))}_handleIntrinsicIgnoredFiles(y,K,Y){if(Y.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...K.value)}_handleExtrinsicTextChunkChildren(y,K,Y,Z){var x;const ie=[],J=[];for(const W of Z){if(W.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(W.kind==="literal"&&ie.push(W.value),W.kind==="intrinsic")if(W.name==="br")ie.push(`
`);else if(W.name==="references")for(const D of W.props.value)J.push(new M(D));else this._handleIntrinsic(y,W.name,W.props,v(W.children),K.childIndex)}y.appendStringChild(ie.join(""),(x=Y==null?void 0:Y.priority)!=null?x:Number.MAX_SAFE_INTEGER,J,K.childIndex,!0)}}j.PromptRenderer=c;async function h(O,y,K,Y){let Z=0;(0,I.isChatMessagePromptElement)(K)&&(Z+=await O.countMessageTokens({role:y.props.role,content:"",...y.props.name?{name:y.props.name}:void 0}));for(const ie of Y)ie.kind==="literal"&&(Z+=await O.tokenLength(ie.value));return{tokensConsumed:Z}}function p(O){return typeof O=="undefined"||typeof O=="boolean"?[]:typeof O=="string"||typeof O=="number"?[new l(String(O))]:f(O)?[...v(O.children)]:typeof O.ctor=="string"?[new w(O.ctor,O.props,O.children)]:[new b(O.ctor,O.props,O.children)]}function v(O){return(O!=null?O:[]).reduce((y,K)=>(y.push(...p(K)),y),[])}class w{constructor(y,K,Y){At(this,"name");At(this,"props");At(this,"children");At(this,"kind","intrinsic");this.name=y,this.props=K,this.children=Y}}class b{constructor(y,K,Y){At(this,"ctor");At(this,"props");At(this,"children");At(this,"kind","extrinsic");this.ctor=y,this.props=K,this.children=Y}}class l{constructor(y,K){At(this,"value");At(this,"priority");At(this,"kind","literal");this.value=y,this.priority=K}}class N{constructor(y,K){At(this,"tokenBudget");At(this,"endpoint");At(this,"_consumed",0);this.tokenBudget=y,this.endpoint=K}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(y){this._consumed+=y}}const V=class V{constructor(y=null,K,Y=V._nextId++){At(this,"parent");At(this,"childIndex");At(this,"id");At(this,"kind",1);At(this,"_obj",null);At(this,"_state");At(this,"_children",[]);At(this,"_metadata",[]);this.parent=y,this.childIndex=K,this.id=Y}static fromJSON(y,K){var Z,ie;const Y=new V(null,y);switch(Y._metadata=(ie=(Z=K.references)==null?void 0:Z.map(J=>new M(F.PromptReference.fromJSON(J))))!=null?ie:[],Y._children=K.children.map((J,x)=>{switch(J.type){case 1:return V.fromJSON(x,J);case 2:return g.fromJSON(Y,x,J);default:}}).filter(E),K.ctor){case 1:Y._obj=new I.BaseChatMessage(K.props);break;case 2:break;default:K.ctor}return Y}setObj(y){this._obj=y}getObj(){return this._obj}setState(y){this._state=y}getState(){return this._state}createChild(){const y=new V(this,this._children.length);return this._children.push(y),y}appendPieceJSON(y){const K=V.fromJSON(this._children.length,y);return this._children.push(K),K}appendStringChild(y,K,Y,Z=this._children.length,ie=!1){this._children.push(new g(this,Z,y,K,Y,ie))}appendLineBreak(y,K=this._children.length){this._children.push(new g(this,K,`
`,y))}toJSON(){var K;const y={type:1,ctor:2,children:this._children.slice().sort((Y,Z)=>Y.childIndex-Z.childIndex).map(Y=>Y.toJSON()),priority:(K=this._obj)==null?void 0:K.props.priority,references:this._metadata.filter(Y=>Y instanceof M).map(Y=>Y.reference.toJSON())};return this._obj instanceof I.BaseChatMessage&&(y.ctor=1,y.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),y}materialize(){var y,K,Y,Z,ie,J;if(this._children.sort((x,W)=>x.childIndex-W.childIndex),this._obj instanceof I.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new S.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof I.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof I.ToolMessage?this._obj.props.toolCallId:void 0,(y=this._obj.props.priority)!=null?y:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map(W=>W.materialize()))}else{let x=0;return this._obj instanceof I.LegacyPrioritization&&(x|=1),this._obj instanceof I.Chunk&&(x|=2),(K=this._obj)!=null&&K.props.passPriority&&(x|=4),new S.MaterializedContainer(this.id,(Y=this._obj)==null?void 0:Y.constructor.name,(J=(Z=this._obj)==null?void 0:Z.props.priority)!=null?J:(ie=this._obj)!=null&&ie.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map(W=>W.materialize()),this._metadata,x)}}addMetadata(y){this._metadata.push(y)}*elements(){yield this;for(const y of this._children)y instanceof V&&(yield*y.elements())}};At(V,"_nextId",0);let d=V;class g{constructor(y,K,Y,Z,ie,J=!1){At(this,"parent");At(this,"childIndex");At(this,"text");At(this,"priority");At(this,"metadata");At(this,"lineBreakBefore");At(this,"kind",2);this.parent=y,this.childIndex=K,this.text=Y,this.priority=Z,this.metadata=ie,this.lineBreakBefore=J}static fromJSON(y,K,Y){var Z;return new g(y,K,Y.text,Y.priority,(Z=Y.references)==null?void 0:Z.map(ie=>new M(F.PromptReference.fromJSON(ie))),Y.lineBreakBefore)}collectLeafs(y){y.push(this)}materialize(){var K;const y=this.lineBreakBefore?1:this.childIndex===0?2:0;return new S.MaterializedChatMessageTextChunk(this.text,(K=this.priority)!=null?K:Number.MAX_SAFE_INTEGER,this.metadata||[],y)}toJSON(){var y;return{type:2,priority:this.priority,text:this.text,references:(y=this.metadata)==null?void 0:y.filter(K=>K instanceof M).map(K=>K.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function f(O){var y;return(y=typeof O.ctor=="function"&&O.ctor.isFragment)!=null?y:!1}function _(O){}function E(O){return O!==void 0}class P extends F.PromptMetadata{}class M extends P{constructor(K){super();At(this,"reference");this.reference=K}}},52727:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PromptReference=j.ChatResponseReferencePartStatusKind=j.PromptMetadata=void 0;const S=R(84326);class I{constructor(){At(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}j.PromptMetadata=I;var F;(function(c){c[c.Complete=1]="Complete",c[c.Partial=2]="Partial",c[c.Omitted=3]="Omitted"})(F||(j.ChatResponseReferencePartStatusKind=F={}));class T{constructor(h,p,v){At(this,"anchor");At(this,"iconPath");At(this,"options");this.anchor=h,this.iconPath=p,this.options=v}static fromJSON(h){const p=v=>"scheme"in v?S.URI.from(v):{uri:S.URI.from(v.uri),range:v.range};return new T("variableName"in h.anchor?{variableName:h.anchor.variableName,value:h.anchor.value&&p(h.anchor.value)}:p(h.anchor),h.iconPath&&("scheme"in h.iconPath?S.URI.from(h.iconPath):"light"in h.iconPath?{light:S.URI.from(h.iconPath.light),dark:S.URI.from(h.iconPath.dark)}:h.iconPath),h.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}j.PromptReference=T},82990:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.AnyTokenizer=void 0;const S=R(96423);class I{constructor(T){At(this,"countTokens");this.countTokens=T}async tokenLength(T,c){return this.countTokens(T,c)}async countMessageTokens(T){const c=await Promise.resolve().then(()=>R(91398));return this.countTokens({role:this.toChatRole(T.role),content:[new c.LanguageModelTextPart(T.content)],name:"name"in T?T.name:void 0})}toChatRole(T){switch(T){case S.ChatRole.User:return 1;case S.ChatRole.Assistant:return 2;case S.ChatRole.System:return 1;case S.ChatRole.Function:return 1;case S.ChatRole.Tool:return 1}}}j.AnyTokenizer=I},3804:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0})},63479:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0})},10818:()=>{"use strict";function s(R,S,...I){return{ctor:R,props:S,children:I.flat()}}function j(){throw new Error("This should not be invoked!")}j.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=j},68504:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0})},22177:(s,j,R)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(j,"__esModule",{value:!0}),j.delimiter=j.sep=j.toNamespacedPath=j.parse=j.format=j.extname=j.basename=j.dirname=j.relative=j.resolve=j.join=j.isAbsolute=j.normalize=j.posix=j.win32=void 0;const S=R(13),I=65,F=97,T=90,c=122,h=46,p=47,v=92,w=58,b=63;class l extends Error{constructor(K,Y,Z){let ie;typeof Y=="string"&&Y.indexOf("not ")===0?(ie="must not be",Y=Y.replace(/^not /,"")):ie="must be";const J=K.indexOf(".")!==-1?"property":"argument";let x=`The "${K}" ${J} ${ie} of type ${Y}`;x+=`. Received type ${typeof Z}`;super(x);At(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function N(O,y){if(O===null||typeof O!="object")throw new l(y,"Object",O)}function d(O,y){if(typeof O!="string")throw new l(y,"string",O)}const g=S.platform==="win32";function f(O){return O===p||O===v}function _(O){return O===p}function E(O){return O>=I&&O<=T||O>=F&&O<=c}function P(O,y,K,Y){let Z="",ie=0,J=-1,x=0,W=0;for(let D=0;D<=O.length;++D){if(D<O.length)W=O.charCodeAt(D);else{if(Y(W))break;W=p}if(Y(W)){if(!(J===D-1||x===1))if(x===2){if(Z.length<2||ie!==2||Z.charCodeAt(Z.length-1)!==h||Z.charCodeAt(Z.length-2)!==h){if(Z.length>2){const m=Z.lastIndexOf(K);m===-1?(Z="",ie=0):(Z=Z.slice(0,m),ie=Z.length-1-Z.lastIndexOf(K)),J=D,x=0;continue}else if(Z.length!==0){Z="",ie=0,J=D,x=0;continue}}y&&(Z+=Z.length>0?`${K}..`:"..",ie=2)}else Z.length>0?Z+=`${K}${O.slice(J+1,D)}`:Z=O.slice(J+1,D),ie=D-J-1;J=D,x=0}else W===h&&x!==-1?++x:x=-1}return Z}function M(O,y){N(y,"pathObject");const K=y.dir||y.root,Y=y.base||`${y.name||""}${y.ext||""}`;return K?K===y.root?`${K}${Y}`:`${K}${O}${Y}`:Y}j.win32={resolve(...O){let y="",K="",Y=!1;for(let Z=O.length-1;Z>=-1;Z--){let ie;if(Z>=0){if(ie=O[Z],d(ie,"path"),ie.length===0)continue}else y.length===0?ie=S.cwd():(ie=S.env[`=${y}`]||S.cwd(),(ie===void 0||ie.slice(0,2).toLowerCase()!==y.toLowerCase()&&ie.charCodeAt(2)===v)&&(ie=`${y}\\`));const J=ie.length;let x=0,W="",D=!1;const m=ie.charCodeAt(0);if(J===1)f(m)&&(x=1,D=!0);else if(f(m))if(D=!0,f(ie.charCodeAt(1))){let C=2,L=C;for(;C<J&&!f(ie.charCodeAt(C));)C++;if(C<J&&C!==L){const H=ie.slice(L,C);for(L=C;C<J&&f(ie.charCodeAt(C));)C++;if(C<J&&C!==L){for(L=C;C<J&&!f(ie.charCodeAt(C));)C++;(C===J||C!==L)&&(W=`\\\\${H}\\${ie.slice(L,C)}`,x=C)}}}else x=1;else E(m)&&ie.charCodeAt(1)===w&&(W=ie.slice(0,2),x=2,J>2&&f(ie.charCodeAt(2))&&(D=!0,x=3));if(W.length>0)if(y.length>0){if(W.toLowerCase()!==y.toLowerCase())continue}else y=W;if(Y){if(y.length>0)break}else if(K=`${ie.slice(x)}\\${K}`,Y=D,D&&y.length>0)break}return K=P(K,!Y,"\\",f),Y?`${y}\\${K}`:`${y}${K}`||"."},normalize(O){d(O,"path");const y=O.length;if(y===0)return".";let K=0,Y,Z=!1;const ie=O.charCodeAt(0);if(y===1)return _(ie)?"\\":O;if(f(ie))if(Z=!0,f(O.charCodeAt(1))){let x=2,W=x;for(;x<y&&!f(O.charCodeAt(x));)x++;if(x<y&&x!==W){const D=O.slice(W,x);for(W=x;x<y&&f(O.charCodeAt(x));)x++;if(x<y&&x!==W){for(W=x;x<y&&!f(O.charCodeAt(x));)x++;if(x===y)return`\\\\${D}\\${O.slice(W)}\\`;x!==W&&(Y=`\\\\${D}\\${O.slice(W,x)}`,K=x)}}}else K=1;else E(ie)&&O.charCodeAt(1)===w&&(Y=O.slice(0,2),K=2,y>2&&f(O.charCodeAt(2))&&(Z=!0,K=3));let J=K<y?P(O.slice(K),!Z,"\\",f):"";return J.length===0&&!Z&&(J="."),J.length>0&&f(O.charCodeAt(y-1))&&(J+="\\"),Y===void 0?Z?`\\${J}`:J:Z?`${Y}\\${J}`:`${Y}${J}`},isAbsolute(O){d(O,"path");const y=O.length;if(y===0)return!1;const K=O.charCodeAt(0);return f(K)||y>2&&E(K)&&O.charCodeAt(1)===w&&f(O.charCodeAt(2))},join(...O){if(O.length===0)return".";let y,K;for(let ie=0;ie<O.length;++ie){const J=O[ie];d(J,"path"),J.length>0&&(y===void 0?y=K=J:y+=`\\${J}`)}if(y===void 0)return".";let Y=!0,Z=0;if(typeof K=="string"&&f(K.charCodeAt(0))){++Z;const ie=K.length;ie>1&&f(K.charCodeAt(1))&&(++Z,ie>2&&(f(K.charCodeAt(2))?++Z:Y=!1))}if(Y){for(;Z<y.length&&f(y.charCodeAt(Z));)Z++;Z>=2&&(y=`\\${y.slice(Z)}`)}return j.win32.normalize(y)},relative(O,y){if(d(O,"from"),d(y,"to"),O===y)return"";const K=j.win32.resolve(O),Y=j.win32.resolve(y);if(K===Y||(O=K.toLowerCase(),y=Y.toLowerCase(),O===y))return"";let Z=0;for(;Z<O.length&&O.charCodeAt(Z)===v;)Z++;let ie=O.length;for(;ie-1>Z&&O.charCodeAt(ie-1)===v;)ie--;const J=ie-Z;let x=0;for(;x<y.length&&y.charCodeAt(x)===v;)x++;let W=y.length;for(;W-1>x&&y.charCodeAt(W-1)===v;)W--;const D=W-x,m=J<D?J:D;let C=-1,L=0;for(;L<m;L++){const z=O.charCodeAt(Z+L);if(z!==y.charCodeAt(x+L))break;z===v&&(C=L)}if(L!==m){if(C===-1)return Y}else{if(D>m){if(y.charCodeAt(x+L)===v)return Y.slice(x+L+1);if(L===2)return Y.slice(x+L)}J>m&&(O.charCodeAt(Z+L)===v?C=L:L===2&&(C=3)),C===-1&&(C=0)}let H="";for(L=Z+C+1;L<=ie;++L)(L===ie||O.charCodeAt(L)===v)&&(H+=H.length===0?"..":"\\..");return x+=C,H.length>0?`${H}${Y.slice(x,W)}`:(Y.charCodeAt(x)===v&&++x,Y.slice(x,W))},toNamespacedPath(O){if(typeof O!="string"||O.length===0)return O;const y=j.win32.resolve(O);if(y.length<=2)return O;if(y.charCodeAt(0)===v){if(y.charCodeAt(1)===v){const K=y.charCodeAt(2);if(K!==b&&K!==h)return`\\\\?\\UNC\\${y.slice(2)}`}}else if(E(y.charCodeAt(0))&&y.charCodeAt(1)===w&&y.charCodeAt(2)===v)return`\\\\?\\${y}`;return O},dirname(O){d(O,"path");const y=O.length;if(y===0)return".";let K=-1,Y=0;const Z=O.charCodeAt(0);if(y===1)return f(Z)?O:".";if(f(Z)){if(K=Y=1,f(O.charCodeAt(1))){let x=2,W=x;for(;x<y&&!f(O.charCodeAt(x));)x++;if(x<y&&x!==W){for(W=x;x<y&&f(O.charCodeAt(x));)x++;if(x<y&&x!==W){for(W=x;x<y&&!f(O.charCodeAt(x));)x++;if(x===y)return O;x!==W&&(K=Y=x+1)}}}}else E(Z)&&O.charCodeAt(1)===w&&(K=y>2&&f(O.charCodeAt(2))?3:2,Y=K);let ie=-1,J=!0;for(let x=y-1;x>=Y;--x)if(f(O.charCodeAt(x))){if(!J){ie=x;break}}else J=!1;if(ie===-1){if(K===-1)return".";ie=K}return O.slice(0,ie)},basename(O,y){y!==void 0&&d(y,"ext"),d(O,"path");let K=0,Y=-1,Z=!0,ie;if(O.length>=2&&E(O.charCodeAt(0))&&O.charCodeAt(1)===w&&(K=2),y!==void 0&&y.length>0&&y.length<=O.length){if(y===O)return"";let J=y.length-1,x=-1;for(ie=O.length-1;ie>=K;--ie){const W=O.charCodeAt(ie);if(f(W)){if(!Z){K=ie+1;break}}else x===-1&&(Z=!1,x=ie+1),J>=0&&(W===y.charCodeAt(J)?--J===-1&&(Y=ie):(J=-1,Y=x))}return K===Y?Y=x:Y===-1&&(Y=O.length),O.slice(K,Y)}for(ie=O.length-1;ie>=K;--ie)if(f(O.charCodeAt(ie))){if(!Z){K=ie+1;break}}else Y===-1&&(Z=!1,Y=ie+1);return Y===-1?"":O.slice(K,Y)},extname(O){d(O,"path");let y=0,K=-1,Y=0,Z=-1,ie=!0,J=0;O.length>=2&&O.charCodeAt(1)===w&&E(O.charCodeAt(0))&&(y=Y=2);for(let x=O.length-1;x>=y;--x){const W=O.charCodeAt(x);if(f(W)){if(!ie){Y=x+1;break}continue}Z===-1&&(ie=!1,Z=x+1),W===h?K===-1?K=x:J!==1&&(J=1):K!==-1&&(J=-1)}return K===-1||Z===-1||J===0||J===1&&K===Z-1&&K===Y+1?"":O.slice(K,Z)},format:M.bind(null,"\\"),parse(O){d(O,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(O.length===0)return y;const K=O.length;let Y=0,Z=O.charCodeAt(0);if(K===1)return f(Z)?(y.root=y.dir=O,y):(y.base=y.name=O,y);if(f(Z)){if(Y=1,f(O.charCodeAt(1))){let C=2,L=C;for(;C<K&&!f(O.charCodeAt(C));)C++;if(C<K&&C!==L){for(L=C;C<K&&f(O.charCodeAt(C));)C++;if(C<K&&C!==L){for(L=C;C<K&&!f(O.charCodeAt(C));)C++;C===K?Y=C:C!==L&&(Y=C+1)}}}}else if(E(Z)&&O.charCodeAt(1)===w){if(K<=2)return y.root=y.dir=O,y;if(Y=2,f(O.charCodeAt(2))){if(K===3)return y.root=y.dir=O,y;Y=3}}Y>0&&(y.root=O.slice(0,Y));let ie=-1,J=Y,x=-1,W=!0,D=O.length-1,m=0;for(;D>=Y;--D){if(Z=O.charCodeAt(D),f(Z)){if(!W){J=D+1;break}continue}x===-1&&(W=!1,x=D+1),Z===h?ie===-1?ie=D:m!==1&&(m=1):ie!==-1&&(m=-1)}return x!==-1&&(ie===-1||m===0||m===1&&ie===x-1&&ie===J+1?y.base=y.name=O.slice(J,x):(y.name=O.slice(J,ie),y.base=O.slice(J,x),y.ext=O.slice(ie,x))),J>0&&J!==Y?y.dir=O.slice(0,J-1):y.dir=y.root,y},sep:"\\",delimiter:";",win32:null,posix:null};const V=(()=>{if(g){const O=/\\/g;return()=>{const y=S.cwd().replace(O,"/");return y.slice(y.indexOf("/"))}}return()=>S.cwd()})();j.posix={resolve(...O){let y="",K=!1;for(let Y=O.length-1;Y>=-1&&!K;Y--){const Z=Y>=0?O[Y]:V();d(Z,"path"),Z.length!==0&&(y=`${Z}/${y}`,K=Z.charCodeAt(0)===p)}return y=P(y,!K,"/",_),K?`/${y}`:y.length>0?y:"."},normalize(O){if(d(O,"path"),O.length===0)return".";const y=O.charCodeAt(0)===p,K=O.charCodeAt(O.length-1)===p;return O=P(O,!y,"/",_),O.length===0?y?"/":K?"./":".":(K&&(O+="/"),y?`/${O}`:O)},isAbsolute(O){return d(O,"path"),O.length>0&&O.charCodeAt(0)===p},join(...O){if(O.length===0)return".";let y;for(let K=0;K<O.length;++K){const Y=O[K];d(Y,"path"),Y.length>0&&(y===void 0?y=Y:y+=`/${Y}`)}return y===void 0?".":j.posix.normalize(y)},relative(O,y){if(d(O,"from"),d(y,"to"),O===y||(O=j.posix.resolve(O),y=j.posix.resolve(y),O===y))return"";const K=1,Y=O.length,Z=Y-K,ie=1,J=y.length-ie,x=Z<J?Z:J;let W=-1,D=0;for(;D<x;D++){const C=O.charCodeAt(K+D);if(C!==y.charCodeAt(ie+D))break;C===p&&(W=D)}if(D===x)if(J>x){if(y.charCodeAt(ie+D)===p)return y.slice(ie+D+1);if(D===0)return y.slice(ie+D)}else Z>x&&(O.charCodeAt(K+D)===p?W=D:D===0&&(W=0));let m="";for(D=K+W+1;D<=Y;++D)(D===Y||O.charCodeAt(D)===p)&&(m+=m.length===0?"..":"/..");return`${m}${y.slice(ie+W)}`},toNamespacedPath(O){return O},dirname(O){if(d(O,"path"),O.length===0)return".";const y=O.charCodeAt(0)===p;let K=-1,Y=!0;for(let Z=O.length-1;Z>=1;--Z)if(O.charCodeAt(Z)===p){if(!Y){K=Z;break}}else Y=!1;return K===-1?y?"/":".":y&&K===1?"//":O.slice(0,K)},basename(O,y){y!==void 0&&d(y,"ext"),d(O,"path");let K=0,Y=-1,Z=!0,ie;if(y!==void 0&&y.length>0&&y.length<=O.length){if(y===O)return"";let J=y.length-1,x=-1;for(ie=O.length-1;ie>=0;--ie){const W=O.charCodeAt(ie);if(W===p){if(!Z){K=ie+1;break}}else x===-1&&(Z=!1,x=ie+1),J>=0&&(W===y.charCodeAt(J)?--J===-1&&(Y=ie):(J=-1,Y=x))}return K===Y?Y=x:Y===-1&&(Y=O.length),O.slice(K,Y)}for(ie=O.length-1;ie>=0;--ie)if(O.charCodeAt(ie)===p){if(!Z){K=ie+1;break}}else Y===-1&&(Z=!1,Y=ie+1);return Y===-1?"":O.slice(K,Y)},extname(O){d(O,"path");let y=-1,K=0,Y=-1,Z=!0,ie=0;for(let J=O.length-1;J>=0;--J){const x=O.charCodeAt(J);if(x===p){if(!Z){K=J+1;break}continue}Y===-1&&(Z=!1,Y=J+1),x===h?y===-1?y=J:ie!==1&&(ie=1):y!==-1&&(ie=-1)}return y===-1||Y===-1||ie===0||ie===1&&y===Y-1&&y===K+1?"":O.slice(y,Y)},format:M.bind(null,"/"),parse(O){d(O,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(O.length===0)return y;const K=O.charCodeAt(0)===p;let Y;K?(y.root="/",Y=1):Y=0;let Z=-1,ie=0,J=-1,x=!0,W=O.length-1,D=0;for(;W>=Y;--W){const m=O.charCodeAt(W);if(m===p){if(!x){ie=W+1;break}continue}J===-1&&(x=!1,J=W+1),m===h?Z===-1?Z=W:D!==1&&(D=1):Z!==-1&&(D=-1)}if(J!==-1){const m=ie===0&&K?1:ie;Z===-1||D===0||D===1&&Z===J-1&&Z===ie+1?y.base=y.name=O.slice(m,J):(y.name=O.slice(m,Z),y.base=O.slice(m,J),y.ext=O.slice(Z,J))}return ie>0?y.dir=O.slice(0,ie-1):K&&(y.dir="/"),y},sep:"/",delimiter:":",win32:null,posix:null},j.posix.win32=j.win32.win32=j.win32,j.posix.posix=j.win32.posix=j.posix,j.normalize=g?j.win32.normalize:j.posix.normalize,j.isAbsolute=g?j.win32.isAbsolute:j.posix.isAbsolute,j.join=g?j.win32.join:j.posix.join,j.resolve=g?j.win32.resolve:j.posix.resolve,j.relative=g?j.win32.relative:j.posix.relative,j.dirname=g?j.win32.dirname:j.posix.dirname,j.basename=g?j.win32.basename:j.posix.basename,j.extname=g?j.win32.extname:j.posix.extname,j.format=g?j.win32.format:j.posix.format,j.parse=g?j.win32.parse:j.posix.parse,j.toNamespacedPath=g?j.win32.toNamespacedPath:j.posix.toNamespacedPath,j.sep=g?j.win32.sep:j.posix.sep,j.delimiter=g?j.win32.delimiter:j.posix.delimiter},821:(s,j,R)=>{"use strict";var W;var S=R(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(j,"__esModule",{value:!0}),j.isAndroid=j.isEdge=j.isSafari=j.isFirefox=j.isChrome=j.OS=j.setTimeout0=j.setTimeout0IsFaster=j.translationsConfigFile=j.platformLocale=j.locale=j.Language=j.language=j.userAgent=j.platform=j.isCI=j.isMobile=j.isIOS=j.webWorkerOrigin=j.isWebWorker=j.isWeb=j.isElectron=j.isNative=j.isLinuxSnap=j.isLinux=j.isMacintosh=j.isWindows=j.LANGUAGE_DEFAULT=void 0,j.PlatformToString=y,j.isLittleEndian=J,j.isBigSurOrNewer=x;const I=R(69175);j.LANGUAGE_DEFAULT="en";let F=!1,T=!1,c=!1,h=!1,p=!1,v=!1,w=!1,b=!1,l=!1,N=!1,d,g=j.LANGUAGE_DEFAULT,f=j.LANGUAGE_DEFAULT,_,E;const P=globalThis;let M;typeof P.vscode!="undefined"&&typeof P.vscode.process!="undefined"?M=P.vscode.process:typeof S!="undefined"&&(M=S);const V=typeof((W=M==null?void 0:M.versions)==null?void 0:W.electron)=="string",O=V&&(M==null?void 0:M.type)==="renderer";if(typeof M=="object"){F=M.platform==="win32",T=M.platform==="darwin",c=M.platform==="linux",h=c&&!!M.env.SNAP&&!!M.env.SNAP_REVISION,w=V,l=!!M.env.CI||!!M.env.BUILD_ARTIFACTSTAGINGDIRECTORY,d=j.LANGUAGE_DEFAULT,g=j.LANGUAGE_DEFAULT;const D=M.env.VSCODE_NLS_CONFIG;if(D)try{const m=JSON.parse(D),C=m.availableLanguages["*"];d=m.locale,f=m.osLocale,g=C||j.LANGUAGE_DEFAULT,_=m._translationsConfigFile}catch{}p=!0}else typeof navigator=="object"&&!O?(E=navigator.userAgent,F=E.indexOf("Windows")>=0,T=E.indexOf("Macintosh")>=0,b=(E.indexOf("Macintosh")>=0||E.indexOf("iPad")>=0||E.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,c=E.indexOf("Linux")>=0,N=(E==null?void 0:E.indexOf("Mobi"))>=0,v=!0,d=I.getConfiguredDefaultLocale(I.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||j.LANGUAGE_DEFAULT,g=d,f=navigator.language):console.error("Unable to resolve platform.");function y(D){switch(D){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let K=0;T?K=1:F?K=3:c&&(K=2),j.isWindows=F,j.isMacintosh=T,j.isLinux=c,j.isLinuxSnap=h,j.isNative=p,j.isElectron=w,j.isWeb=v,j.isWebWorker=v&&typeof P.importScripts=="function",j.webWorkerOrigin=j.isWebWorker?P.origin:void 0,j.isIOS=b,j.isMobile=N,j.isCI=l,j.platform=K,j.userAgent=E,j.language=g;var Y;(function(D){function m(){return j.language}D.value=m;function C(){return j.language.length===2?j.language==="en":j.language.length>=3?j.language[0]==="e"&&j.language[1]==="n"&&j.language[2]==="-":!1}D.isDefaultVariant=C;function L(){return j.language==="en"}D.isDefault=L})(Y||(j.Language=Y={})),j.locale=d,j.platformLocale=f,j.translationsConfigFile=_,j.setTimeout0IsFaster=typeof P.postMessage=="function"&&!P.importScripts,j.setTimeout0=(()=>{if(j.setTimeout0IsFaster){const D=[];P.addEventListener("message",C=>{if(C.data&&C.data.vscodeScheduleAsyncWork)for(let L=0,H=D.length;L<H;L++){const z=D[L];if(z.id===C.data.vscodeScheduleAsyncWork){D.splice(L,1),z.callback();return}}});let m=0;return C=>{const L=++m;D.push({id:L,callback:C}),P.postMessage({vscodeScheduleAsyncWork:L},"*")}}return D=>setTimeout(D)})(),j.OS=T||b?2:F?1:3;let Z=!0,ie=!1;function J(){if(!ie){ie=!0;const D=new Uint8Array(2);D[0]=1,D[1]=2,Z=new Uint16Array(D.buffer)[0]===513}return Z}j.isChrome=!!(j.userAgent&&j.userAgent.indexOf("Chrome")>=0),j.isFirefox=!!(j.userAgent&&j.userAgent.indexOf("Firefox")>=0),j.isSafari=!!(!j.isChrome&&j.userAgent&&j.userAgent.indexOf("Safari")>=0),j.isEdge=!!(j.userAgent&&j.userAgent.indexOf("Edg/")>=0),j.isAndroid=!!(j.userAgent&&j.userAgent.indexOf("Android")>=0);function x(D){return parseFloat(D)>=20}},13:(s,j,R)=>{"use strict";var S=R(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(j,"__esModule",{value:!0}),j.arch=j.platform=j.env=j.cwd=void 0;const I=R(821);let F;const T=globalThis.vscode;if(typeof T!="undefined"&&typeof T.process!="undefined"){const c=T.process;F={get platform(){return c.platform},get arch(){return c.arch},get env(){return c.env},cwd(){return c.cwd()}}}else typeof S!="undefined"?F={get platform(){return S.platform},get arch(){return S.arch},get env(){return S.env},cwd(){return S.env.VSCODE_CWD||S.cwd()}}:F={get platform(){return I.isWindows?"win32":I.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};j.cwd=F.cwd,j.env=F.env,j.platform=F.platform,j.arch=F.arch},84326:(s,j,R)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(j,"__esModule",{value:!0}),j.URI=void 0,j.isUriComponents=d,j.uriToFsPath=M;const S=R(22177),I=R(821),F=/^\w[\w\d+.-]*$/,T=/^\//,c=/^\/\//;function h(Y,Z){if(!Y.scheme&&Z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Y.authority}", path: "${Y.path}", query: "${Y.query}", fragment: "${Y.fragment}"}`);if(Y.scheme&&!F.test(Y.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Y.path){if(Y.authority){if(!T.test(Y.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(Y.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function p(Y,Z){return!Y&&!Z?"file":Y}function v(Y,Z){switch(Y){case"https":case"http":case"file":Z?Z[0]!==b&&(Z=b+Z):Z=b;break}return Z}const w="",b="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class N{constructor(Z,ie,J,x,W,D=!1){At(this,"scheme");At(this,"authority");At(this,"path");At(this,"query");At(this,"fragment");typeof Z=="object"?(this.scheme=Z.scheme||w,this.authority=Z.authority||w,this.path=Z.path||w,this.query=Z.query||w,this.fragment=Z.fragment||w):(this.scheme=p(Z,D),this.authority=ie||w,this.path=v(this.scheme,J||w),this.query=x||w,this.fragment=W||w,h(this,D))}static isUri(Z){return Z instanceof N?!0:Z?typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function":!1}get fsPath(){return M(this,!1)}with(Z){if(!Z)return this;let{scheme:ie,authority:J,path:x,query:W,fragment:D}=Z;return ie===void 0?ie=this.scheme:ie===null&&(ie=w),J===void 0?J=this.authority:J===null&&(J=w),x===void 0?x=this.path:x===null&&(x=w),W===void 0?W=this.query:W===null&&(W=w),D===void 0?D=this.fragment:D===null&&(D=w),ie===this.scheme&&J===this.authority&&x===this.path&&W===this.query&&D===this.fragment?this:new f(ie,J,x,W,D)}static parse(Z,ie=!1){const J=l.exec(Z);return J?new f(J[2]||w,K(J[4]||w),K(J[5]||w),K(J[7]||w),K(J[9]||w),ie):new f(w,w,w,w,w)}static file(Z){let ie=w;if(I.isWindows&&(Z=Z.replace(/\\/g,b)),Z[0]===b&&Z[1]===b){const J=Z.indexOf(b,2);J===-1?(ie=Z.substring(2),Z=b):(ie=Z.substring(2,J),Z=Z.substring(J)||b)}return new f("file",ie,Z,w,w)}static from(Z,ie){return new f(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment,ie)}static joinPath(Z,...ie){if(!Z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let J;return I.isWindows&&Z.scheme==="file"?J=N.file(S.win32.join(M(Z,!0),...ie)).path:J=S.posix.join(Z.path,...ie),Z.with({path:J})}toString(Z=!1){return V(this,Z)}toJSON(){return this}static revive(Z){var ie,J;if(Z){if(Z instanceof N)return Z;{const x=new f(Z);return x._formatted=(ie=Z.external)!=null?ie:null,x._fsPath=Z._sep===g&&(J=Z.fsPath)!=null?J:null,x}}else return Z}}j.URI=N;function d(Y){return!Y||typeof Y!="object"?!1:typeof Y.scheme=="string"&&(typeof Y.authority=="string"||typeof Y.authority=="undefined")&&(typeof Y.path=="string"||typeof Y.path=="undefined")&&(typeof Y.query=="string"||typeof Y.query=="undefined")&&(typeof Y.fragment=="string"||typeof Y.fragment=="undefined")}const g=I.isWindows?1:void 0;class f extends N{constructor(){super(...arguments);At(this,"_formatted",null);At(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=M(this,!1)),this._fsPath}toString(ie=!1){return ie?V(this,!0):(this._formatted||(this._formatted=V(this,!1)),this._formatted)}toJSON(){const ie={$mid:1};return this._fsPath&&(ie.fsPath=this._fsPath,ie._sep=g),this._formatted&&(ie.external=this._formatted),this.path&&(ie.path=this.path),this.scheme&&(ie.scheme=this.scheme),this.authority&&(ie.authority=this.authority),this.query&&(ie.query=this.query),this.fragment&&(ie.fragment=this.fragment),ie}}const _={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(Y,Z,ie){let J,x=-1;for(let W=0;W<Y.length;W++){const D=Y.charCodeAt(W);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||Z&&D===47||ie&&D===91||ie&&D===93||ie&&D===58)x!==-1&&(J+=encodeURIComponent(Y.substring(x,W)),x=-1),J!==void 0&&(J+=Y.charAt(W));else{J===void 0&&(J=Y.substr(0,W));const m=_[D];m!==void 0?(x!==-1&&(J+=encodeURIComponent(Y.substring(x,W)),x=-1),J+=m):x===-1&&(x=W)}}return x!==-1&&(J+=encodeURIComponent(Y.substring(x))),J!==void 0?J:Y}function P(Y){let Z;for(let ie=0;ie<Y.length;ie++){const J=Y.charCodeAt(ie);J===35||J===63?(Z===void 0&&(Z=Y.substr(0,ie)),Z+=_[J]):Z!==void 0&&(Z+=Y[ie])}return Z!==void 0?Z:Y}function M(Y,Z){let ie;return Y.authority&&Y.path.length>1&&Y.scheme==="file"?ie=`//${Y.authority}${Y.path}`:Y.path.charCodeAt(0)===47&&(Y.path.charCodeAt(1)>=65&&Y.path.charCodeAt(1)<=90||Y.path.charCodeAt(1)>=97&&Y.path.charCodeAt(1)<=122)&&Y.path.charCodeAt(2)===58?Z?ie=Y.path.substr(1):ie=Y.path[1].toLowerCase()+Y.path.substr(2):ie=Y.path,I.isWindows&&(ie=ie.replace(/\//g,"\\")),ie}function V(Y,Z){const ie=Z?P:E;let J="",{scheme:x,authority:W,path:D,query:m,fragment:C}=Y;if(x&&(J+=x,J+=":"),(W||x==="file")&&(J+=b,J+=b),W){let L=W.indexOf("@");if(L!==-1){const H=W.substr(0,L);W=W.substr(L+1),L=H.lastIndexOf(":"),L===-1?J+=ie(H,!1,!1):(J+=ie(H.substr(0,L),!1,!1),J+=":",J+=ie(H.substr(L+1),!1,!0)),J+="@"}W=W.toLowerCase(),L=W.lastIndexOf(":"),L===-1?J+=ie(W,!1,!0):(J+=ie(W.substr(0,L),!1,!0),J+=W.substr(L))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const L=D.charCodeAt(1);L>=65&&L<=90&&(D=`/${String.fromCharCode(L+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const L=D.charCodeAt(0);L>=65&&L<=90&&(D=`${String.fromCharCode(L+32)}:${D.substr(2)}`)}J+=ie(D,!0,!1)}return m&&(J+="?",J+=ie(m,!1,!1)),C&&(J+="#",J+=Z?C:E(C,!1,!1)),J}function O(Y){try{return decodeURIComponent(Y)}catch{return Y.length>3?Y.substr(0,3)+O(Y.substr(3)):Y}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function K(Y){return Y.match(y)?Y.replace(y,Z=>O(Z)):Y}},69175:(s,j)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(j,"__esModule",{value:!0}),j.localize=S,j.localize2=I,j.getConfiguredDefaultLocale=F;function R(T,c){let h;return c.length===0?h=T:h=T.replace(/\{(\d+)\}/g,function(p,v){const w=v[0];return typeof c[w]!="undefined"?c[w]:p}),h}function S(T,c,...h){return R(c,h)}function I(T,c,...h){const p=R(c,h);return{original:p,value:p}}function F(T){}},87568:(s,j,R)=>{"use strict";const S=j;S.bignum=R(39404),S.define=R(47363).define,S.base=R(9673),S.constants=R(22153),S.decoders=R(22853),S.encoders=R(24669)},47363:(s,j,R)=>{"use strict";const S=R(24669),I=R(22853),F=R(56698),T=j;T.define=function(p,v){return new c(p,v)};function c(h,p){this.name=h,this.body=p,this.decoders={},this.encoders={}}c.prototype._createNamed=function(p){const v=this.name;function w(b){this._initNamed(b,v)}return F(w,p),w.prototype._initNamed=function(l,N){p.call(this,l,N)},new w(this)},c.prototype._getDecoder=function(p){return p=p||"der",this.decoders.hasOwnProperty(p)||(this.decoders[p]=this._createNamed(I[p])),this.decoders[p]},c.prototype.decode=function(p,v,w){return this._getDecoder(v).decode(p,w)},c.prototype._getEncoder=function(p){return p=p||"der",this.encoders.hasOwnProperty(p)||(this.encoders[p]=this._createNamed(S[p])),this.encoders[p]},c.prototype.encode=function(p,v,w){return this._getEncoder(v).encode(p,w)}},47227:(s,j,R)=>{"use strict";const S=R(56698),I=R(89220).a,F=R(54774).Buffer;function T(h,p){if(I.call(this,p),!F.isBuffer(h)){this.error("Input not Buffer");return}this.base=h,this.offset=0,this.length=h.length}S(T,I),j.t=T,T.isDecoderBuffer=function(p){return p instanceof T?!0:typeof p=="object"&&F.isBuffer(p.base)&&p.constructor.name==="DecoderBuffer"&&typeof p.offset=="number"&&typeof p.length=="number"&&typeof p.save=="function"&&typeof p.restore=="function"&&typeof p.isEmpty=="function"&&typeof p.readUInt8=="function"&&typeof p.skip=="function"&&typeof p.raw=="function"},T.prototype.save=function(){return{offset:this.offset,reporter:I.prototype.save.call(this)}},T.prototype.restore=function(p){const v=new T(this.base);return v.offset=p.offset,v.length=this.offset,this.offset=p.offset,I.prototype.restore.call(this,p.reporter),v},T.prototype.isEmpty=function(){return this.offset===this.length},T.prototype.readUInt8=function(p){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(p||"DecoderBuffer overrun")},T.prototype.skip=function(p,v){if(!(this.offset+p<=this.length))return this.error(v||"DecoderBuffer overrun");const w=new T(this.base);return w._reporterState=this._reporterState,w.offset=this.offset,w.length=this.offset+p,this.offset+=p,w},T.prototype.raw=function(p){return this.base.slice(p?p.offset:this.offset,this.length)};function c(h,p){if(Array.isArray(h))this.length=0,this.value=h.map(function(v){return c.isEncoderBuffer(v)||(v=new c(v,p)),this.length+=v.length,v},this);else if(typeof h=="number"){if(!(0<=h&&h<=255))return p.error("non-byte EncoderBuffer value");this.value=h,this.length=1}else if(typeof h=="string")this.value=h,this.length=F.byteLength(h);else if(F.isBuffer(h))this.value=h,this.length=h.length;else return p.error("Unsupported type: "+typeof h)}j.d=c,c.isEncoderBuffer=function(p){return p instanceof c?!0:typeof p=="object"&&p.constructor.name==="EncoderBuffer"&&typeof p.length=="number"&&typeof p.join=="function"},c.prototype.join=function(p,v){return p||(p=F.alloc(this.length)),v||(v=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(w){w.join(p,v),v+=w.length}):(typeof this.value=="number"?p[v]=this.value:typeof this.value=="string"?p.write(this.value,v):F.isBuffer(this.value)&&this.value.copy(p,v),v+=this.length)),p}},9673:(s,j,R)=>{"use strict";const S=j;S.Reporter=R(89220).a,S.DecoderBuffer=R(47227).t,S.EncoderBuffer=R(47227).d,S.Node=R(90993)},90993:(s,j,R)=>{"use strict";const S=R(89220).a,I=R(47227).d,F=R(47227).t,T=R(43349),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),p=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function v(b,l,N){const d={};this._baseState=d,d.name=N,d.enc=b,d.parent=l||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}s.exports=v;const w=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];v.prototype.clone=function(){const l=this._baseState,N={};w.forEach(function(g){N[g]=l[g]});const d=new this.constructor(N.parent);return d._baseState=N,d},v.prototype._wrap=function(){const l=this._baseState;h.forEach(function(N){this[N]=function(){const g=new this.constructor(this);return l.children.push(g),g[N].apply(g,arguments)}},this)},v.prototype._init=function(l){const N=this._baseState;T(N.parent===null),l.call(this),N.children=N.children.filter(function(d){return d._baseState.parent===this},this),T.equal(N.children.length,1,"Root node can have only one child")},v.prototype._useArgs=function(l){const N=this._baseState,d=l.filter(function(g){return g instanceof this.constructor},this);l=l.filter(function(g){return!(g instanceof this.constructor)},this),d.length!==0&&(T(N.children===null),N.children=d,d.forEach(function(g){g._baseState.parent=this},this)),l.length!==0&&(T(N.args===null),N.args=l,N.reverseArgs=l.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const f={};return Object.keys(g).forEach(function(_){_==(_|0)&&(_|=0);const E=g[_];f[E]=_}),f}))},p.forEach(function(b){v.prototype[b]=function(){const N=this._baseState;throw new Error(b+" not implemented for encoding: "+N.enc)}}),c.forEach(function(b){v.prototype[b]=function(){const N=this._baseState,d=Array.prototype.slice.call(arguments);return T(N.tag===null),N.tag=b,this._useArgs(d),this}}),v.prototype.use=function(l){T(l);const N=this._baseState;return T(N.use===null),N.use=l,this},v.prototype.optional=function(){const l=this._baseState;return l.optional=!0,this},v.prototype.def=function(l){const N=this._baseState;return T(N.default===null),N.default=l,N.optional=!0,this},v.prototype.explicit=function(l){const N=this._baseState;return T(N.explicit===null&&N.implicit===null),N.explicit=l,this},v.prototype.implicit=function(l){const N=this._baseState;return T(N.explicit===null&&N.implicit===null),N.implicit=l,this},v.prototype.obj=function(){const l=this._baseState,N=Array.prototype.slice.call(arguments);return l.obj=!0,N.length!==0&&this._useArgs(N),this},v.prototype.key=function(l){const N=this._baseState;return T(N.key===null),N.key=l,this},v.prototype.any=function(){const l=this._baseState;return l.any=!0,this},v.prototype.choice=function(l){const N=this._baseState;return T(N.choice===null),N.choice=l,this._useArgs(Object.keys(l).map(function(d){return l[d]})),this},v.prototype.contains=function(l){const N=this._baseState;return T(N.use===null),N.contains=l,this},v.prototype._decode=function(l,N){const d=this._baseState;if(d.parent===null)return l.wrapResult(d.children[0]._decode(l,N));let g=d.default,f=!0,_=null;if(d.key!==null&&(_=l.enterKey(d.key)),d.optional){let P=null;if(d.explicit!==null?P=d.explicit:d.implicit!==null?P=d.implicit:d.tag!==null&&(P=d.tag),P===null&&!d.any){const M=l.save();try{d.choice===null?this._decodeGeneric(d.tag,l,N):this._decodeChoice(l,N),f=!0}catch{f=!1}l.restore(M)}else if(f=this._peekTag(l,P,d.any),l.isError(f))return f}let E;if(d.obj&&f&&(E=l.enterObject()),f){if(d.explicit!==null){const M=this._decodeTag(l,d.explicit);if(l.isError(M))return M;l=M}const P=l.offset;if(d.use===null&&d.choice===null){let M;d.any&&(M=l.save());const V=this._decodeTag(l,d.implicit!==null?d.implicit:d.tag,d.any);if(l.isError(V))return V;d.any?g=l.raw(M):l=V}if(N&&N.track&&d.tag!==null&&N.track(l.path(),P,l.length,"tagged"),N&&N.track&&d.tag!==null&&N.track(l.path(),l.offset,l.length,"content"),d.any||(d.choice===null?g=this._decodeGeneric(d.tag,l,N):g=this._decodeChoice(l,N)),l.isError(g))return g;if(!d.any&&d.choice===null&&d.children!==null&&d.children.forEach(function(V){V._decode(l,N)}),d.contains&&(d.tag==="octstr"||d.tag==="bitstr")){const M=new F(g);g=this._getUse(d.contains,l._reporterState.obj)._decode(M,N)}}return d.obj&&f&&(g=l.leaveObject(E)),d.key!==null&&(g!==null||f===!0)?l.leaveKey(_,d.key,g):_!==null&&l.exitKey(_),g},v.prototype._decodeGeneric=function(l,N,d){const g=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(N,l,g.args[0],d):/str$/.test(l)?this._decodeStr(N,l,d):l==="objid"&&g.args?this._decodeObjid(N,g.args[0],g.args[1],d):l==="objid"?this._decodeObjid(N,null,null,d):l==="gentime"||l==="utctime"?this._decodeTime(N,l,d):l==="null_"?this._decodeNull(N,d):l==="bool"?this._decodeBool(N,d):l==="objDesc"?this._decodeStr(N,l,d):l==="int"||l==="enum"?this._decodeInt(N,g.args&&g.args[0],d):g.use!==null?this._getUse(g.use,N._reporterState.obj)._decode(N,d):N.error("unknown tag: "+l)},v.prototype._getUse=function(l,N){const d=this._baseState;return d.useDecoder=this._use(l,N),T(d.useDecoder._baseState.parent===null),d.useDecoder=d.useDecoder._baseState.children[0],d.implicit!==d.useDecoder._baseState.implicit&&(d.useDecoder=d.useDecoder.clone(),d.useDecoder._baseState.implicit=d.implicit),d.useDecoder},v.prototype._decodeChoice=function(l,N){const d=this._baseState;let g=null,f=!1;return Object.keys(d.choice).some(function(_){const E=l.save(),P=d.choice[_];try{const M=P._decode(l,N);if(l.isError(M))return!1;g={type:_,value:M},f=!0}catch{return l.restore(E),!1}return!0},this),f?g:l.error("Choice not matched")},v.prototype._createEncoderBuffer=function(l){return new I(l,this.reporter)},v.prototype._encode=function(l,N,d){const g=this._baseState;if(g.default!==null&&g.default===l)return;const f=this._encodeValue(l,N,d);if(f!==void 0&&!this._skipDefault(f,N,d))return f},v.prototype._encodeValue=function(l,N,d){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(l,N||new S);let f=null;if(this.reporter=N,g.optional&&l===void 0)if(g.default!==null)l=g.default;else return;let _=null,E=!1;if(g.any)f=this._createEncoderBuffer(l);else if(g.choice)f=this._encodeChoice(l,N);else if(g.contains)_=this._getUse(g.contains,d)._encode(l,N),E=!0;else if(g.children)_=g.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,N,l);if(P._baseState.key===null)return N.error("Child should have a key");const M=N.enterKey(P._baseState.key);if(typeof l!="object")return N.error("Child expected, but input is not object");const V=P._encode(l[P._baseState.key],N,l);return N.leaveKey(M),V},this).filter(function(P){return P}),_=this._createEncoderBuffer(_);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return N.error("Too many args for : "+g.tag);if(!Array.isArray(l))return N.error("seqof/setof, but data is not Array");const P=this.clone();P._baseState.implicit=null,_=this._createEncoderBuffer(l.map(function(M){const V=this._baseState;return this._getUse(V.args[0],l)._encode(M,N)},P))}else g.use!==null?f=this._getUse(g.use,d)._encode(l,N):(_=this._encodePrimitive(g.tag,l),E=!0);if(!g.any&&g.choice===null){const P=g.implicit!==null?g.implicit:g.tag,M=g.implicit===null?"universal":"context";P===null?g.use===null&&N.error("Tag could be omitted only for .use()"):g.use===null&&(f=this._encodeComposite(P,E,M,_))}return g.explicit!==null&&(f=this._encodeComposite(g.explicit,!1,"context",f)),f},v.prototype._encodeChoice=function(l,N){const d=this._baseState,g=d.choice[l.type];return g||T(!1,l.type+" not found in "+JSON.stringify(Object.keys(d.choice))),g._encode(l.value,N)},v.prototype._encodePrimitive=function(l,N){const d=this._baseState;if(/str$/.test(l))return this._encodeStr(N,l);if(l==="objid"&&d.args)return this._encodeObjid(N,d.reverseArgs[0],d.args[1]);if(l==="objid")return this._encodeObjid(N,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(N,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(N,d.args&&d.reverseArgs[0]);if(l==="bool")return this._encodeBool(N);if(l==="objDesc")return this._encodeStr(N,l);throw new Error("Unsupported tag: "+l)},v.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},v.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},89220:(s,j,R)=>{"use strict";const S=R(56698);function I(T){this._reporterState={obj:null,path:[],options:T||{},errors:[]}}j.a=I,I.prototype.isError=function(c){return c instanceof F},I.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},I.prototype.restore=function(c){const h=this._reporterState;h.obj=c.obj,h.path=h.path.slice(0,c.pathLen)},I.prototype.enterKey=function(c){return this._reporterState.path.push(c)},I.prototype.exitKey=function(c){const h=this._reporterState;h.path=h.path.slice(0,c-1)},I.prototype.leaveKey=function(c,h,p){const v=this._reporterState;this.exitKey(c),v.obj!==null&&(v.obj[h]=p)},I.prototype.path=function(){return this._reporterState.path.join("/")},I.prototype.enterObject=function(){const c=this._reporterState,h=c.obj;return c.obj={},h},I.prototype.leaveObject=function(c){const h=this._reporterState,p=h.obj;return h.obj=c,p},I.prototype.error=function(c){let h;const p=this._reporterState,v=c instanceof F;if(v?h=c:h=new F(p.path.map(function(w){return"["+JSON.stringify(w)+"]"}).join(""),c.message||c,c.stack),!p.options.partial)throw h;return v||p.errors.push(h),h},I.prototype.wrapResult=function(c){const h=this._reporterState;return h.options.partial?{result:this.isError(c)?null:c,errors:h.errors}:c};function F(T,c){this.path=T,this.rethrow(c)}S(F,Error),F.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,F),!this.stack)try{throw new Error(this.message)}catch(h){this.stack=h.stack}return this}},74598:(s,j)=>{"use strict";function R(S){const I={};return Object.keys(S).forEach(function(F){(F|0)==F&&(F=F|0);const T=S[F];I[T]=F}),I}j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=R(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=R(j.tag)},22153:(s,j,R)=>{"use strict";const S=j;S._reverse=function(F){const T={};return Object.keys(F).forEach(function(c){(c|0)==c&&(c=c|0);const h=F[c];T[h]=c}),T},S.der=R(74598)},62010:(s,j,R)=>{"use strict";const S=R(56698),I=R(39404),F=R(47227).t,T=R(90993),c=R(74598);function h(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new p,this.tree._init(b.body)}s.exports=h,h.prototype.decode=function(l,N){return F.isDecoderBuffer(l)||(l=new F(l,N)),this.tree._decode(l,N)};function p(b){T.call(this,"der",b)}S(p,T),p.prototype._peekTag=function(l,N,d){if(l.isEmpty())return!1;const g=l.save(),f=v(l,'Failed to peek tag: "'+N+'"');return l.isError(f)?f:(l.restore(g),f.tag===N||f.tagStr===N||f.tagStr+"of"===N||d)},p.prototype._decodeTag=function(l,N,d){const g=v(l,'Failed to decode tag of "'+N+'"');if(l.isError(g))return g;let f=w(l,g.primitive,'Failed to get length of "'+N+'"');if(l.isError(f))return f;if(!d&&g.tag!==N&&g.tagStr!==N&&g.tagStr+"of"!==N)return l.error('Failed to match tag: "'+N+'"');if(g.primitive||f!==null)return l.skip(f,'Failed to match body of: "'+N+'"');const _=l.save(),E=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(E)?E:(f=l.offset-_.offset,l.restore(_),l.skip(f,'Failed to match body of: "'+N+'"'))},p.prototype._skipUntilEnd=function(l,N){for(;;){const d=v(l,N);if(l.isError(d))return d;const g=w(l,d.primitive,N);if(l.isError(g))return g;let f;if(d.primitive||g!==null?f=l.skip(g):f=this._skipUntilEnd(l,N),l.isError(f))return f;if(d.tagStr==="end")break}},p.prototype._decodeList=function(l,N,d,g){const f=[];for(;!l.isEmpty();){const _=this._peekTag(l,"end");if(l.isError(_))return _;const E=d.decode(l,"der",g);if(l.isError(E)&&_)break;f.push(E)}return f},p.prototype._decodeStr=function(l,N){if(N==="bitstr"){const d=l.readUInt8();return l.isError(d)?d:{unused:d,data:l.raw()}}else if(N==="bmpstr"){const d=l.raw();if(d.length%2===1)return l.error("Decoding of string type: bmpstr length mismatch");let g="";for(let f=0;f<d.length/2;f++)g+=String.fromCharCode(d.readUInt16BE(f*2));return g}else if(N==="numstr"){const d=l.raw().toString("ascii");return this._isNumstr(d)?d:l.error("Decoding of string type: numstr unsupported characters")}else{if(N==="octstr")return l.raw();if(N==="objDesc")return l.raw();if(N==="printstr"){const d=l.raw().toString("ascii");return this._isPrintstr(d)?d:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(N)?l.raw().toString():l.error("Decoding of string type: "+N+" unsupported")}},p.prototype._decodeObjid=function(l,N,d){let g;const f=[];let _=0,E=0;for(;!l.isEmpty();)E=l.readUInt8(),_<<=7,_|=E&127,E&128||(f.push(_),_=0);E&128&&f.push(_);const P=f[0]/40|0,M=f[0]%40;if(d?g=f:g=[P,M].concat(f.slice(1)),N){let V=N[g.join(" ")];V===void 0&&(V=N[g.join(".")]),V!==void 0&&(g=V)}return g},p.prototype._decodeTime=function(l,N){const d=l.raw().toString();let g,f,_,E,P,M;if(N==="gentime")g=d.slice(0,4)|0,f=d.slice(4,6)|0,_=d.slice(6,8)|0,E=d.slice(8,10)|0,P=d.slice(10,12)|0,M=d.slice(12,14)|0;else if(N==="utctime")g=d.slice(0,2)|0,f=d.slice(2,4)|0,_=d.slice(4,6)|0,E=d.slice(6,8)|0,P=d.slice(8,10)|0,M=d.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return l.error("Decoding "+N+" time is not supported yet");return Date.UTC(g,f-1,_,E,P,M,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(l){const N=l.readUInt8();return l.isError(N)?N:N!==0},p.prototype._decodeInt=function(l,N){const d=l.raw();let g=new I(d);return N&&(g=N[g.toString(10)]||g),g},p.prototype._use=function(l,N){return typeof l=="function"&&(l=l(N)),l._getDecoder("der").tree};function v(b,l){let N=b.readUInt8(l);if(b.isError(N))return N;const d=c.tagClass[N>>6],g=(N&32)===0;if((N&31)===31){let _=N;for(N=0;(_&128)===128;){if(_=b.readUInt8(l),b.isError(_))return _;N<<=7,N|=_&127}}else N&=31;const f=c.tag[N];return{cls:d,primitive:g,tag:N,tagStr:f}}function w(b,l,N){let d=b.readUInt8(N);if(b.isError(d))return d;if(!l&&d===128)return null;if(!(d&128))return d;const g=d&127;if(g>4)return b.error("length octect is too long");d=0;for(let f=0;f<g;f++){d<<=8;const _=b.readUInt8(N);if(b.isError(_))return _;d|=_}return d}},22853:(s,j,R)=>{"use strict";const S=j;S.der=R(62010),S.pem=R(58903)},58903:(s,j,R)=>{"use strict";const S=R(56698),I=R(54774).Buffer,F=R(62010);function T(c){F.call(this,c),this.enc="pem"}S(T,F),s.exports=T,T.prototype.decode=function(h,p){const v=h.toString().split(/[\r\n]+/g),w=p.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/;let l=-1,N=-1;for(let f=0;f<v.length;f++){const _=v[f].match(b);if(_!==null&&_[2]===w)if(l===-1){if(_[1]!=="BEGIN")break;l=f}else{if(_[1]!=="END")break;N=f;break}}if(l===-1||N===-1)throw new Error("PEM section not found for: "+w);const d=v.slice(l+1,N).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const g=I.from(d,"base64");return F.prototype.decode.call(this,g,p)}},70082:(s,j,R)=>{"use strict";const S=R(56698),I=R(54774).Buffer,F=R(90993),T=R(74598);function c(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new h,this.tree._init(w.body)}s.exports=c,c.prototype.encode=function(b,l){return this.tree._encode(b,l).join()};function h(w){F.call(this,"der",w)}S(h,F),h.prototype._encodeComposite=function(b,l,N,d){const g=v(b,l,N,this.reporter);if(d.length<128){const E=I.alloc(2);return E[0]=g,E[1]=d.length,this._createEncoderBuffer([E,d])}let f=1;for(let E=d.length;E>=256;E>>=8)f++;const _=I.alloc(2+f);_[0]=g,_[1]=128|f;for(let E=1+f,P=d.length;P>0;E--,P>>=8)_[E]=P&255;return this._createEncoderBuffer([_,d])},h.prototype._encodeStr=function(b,l){if(l==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(l==="bmpstr"){const N=I.alloc(b.length*2);for(let d=0;d<b.length;d++)N.writeUInt16BE(b.charCodeAt(d),d*2);return this._createEncoderBuffer(N)}else return l==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(b):l==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+l+" unsupported")},h.prototype._encodeObjid=function(b,l,N){if(typeof b=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=l[b].split(/[\s.]+/g);for(let _=0;_<b.length;_++)b[_]|=0}else if(Array.isArray(b)){b=b.slice();for(let _=0;_<b.length;_++)b[_]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!N){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}let d=0;for(let _=0;_<b.length;_++){let E=b[_];for(d++;E>=128;E>>=7)d++}const g=I.alloc(d);let f=g.length-1;for(let _=b.length-1;_>=0;_--){let E=b[_];for(g[f--]=E&127;(E>>=7)>0;)g[f--]=128|E&127}return this._createEncoderBuffer(g)};function p(w){return w<10?"0"+w:w}h.prototype._encodeTime=function(b,l){let N;const d=new Date(b);return l==="gentime"?N=[p(d.getUTCFullYear()),p(d.getUTCMonth()+1),p(d.getUTCDate()),p(d.getUTCHours()),p(d.getUTCMinutes()),p(d.getUTCSeconds()),"Z"].join(""):l==="utctime"?N=[p(d.getUTCFullYear()%100),p(d.getUTCMonth()+1),p(d.getUTCDate()),p(d.getUTCHours()),p(d.getUTCMinutes()),p(d.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(N,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(b,l){if(typeof b=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=l[b]}if(typeof b!="number"&&!I.isBuffer(b)){const g=b.toArray();!b.sign&&g[0]&128&&g.unshift(0),b=I.from(g)}if(I.isBuffer(b)){let g=b.length;b.length===0&&g++;const f=I.alloc(g);return b.copy(f),b.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);let N=1;for(let g=b;g>=256;g>>=8)N++;const d=new Array(N);for(let g=d.length-1;g>=0;g--)d[g]=b&255,b>>=8;return d[0]&128&&d.unshift(0),this._createEncoderBuffer(I.from(d))},h.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},h.prototype._use=function(b,l){return typeof b=="function"&&(b=b(l)),b._getEncoder("der").tree},h.prototype._skipDefault=function(b,l,N){const d=this._baseState;let g;if(d.default===null)return!1;const f=b.join();if(d.defaultBuffer===void 0&&(d.defaultBuffer=this._encodeValue(d.default,l,N).join()),f.length!==d.defaultBuffer.length)return!1;for(g=0;g<f.length;g++)if(f[g]!==d.defaultBuffer[g])return!1;return!0};function v(w,b,l,N){let d;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),T.tagByName.hasOwnProperty(w))d=T.tagByName[w];else if(typeof w=="number"&&(w|0)===w)d=w;else return N.error("Unknown tag: "+w);return d>=31?N.error("Multi-octet tag encoding unsupported"):(b||(d|=32),d|=T.tagClassByName[l||"universal"]<<6,d)}},24669:(s,j,R)=>{"use strict";const S=j;S.der=R(70082),S.pem=R(90735)},90735:(s,j,R)=>{"use strict";const S=R(56698),I=R(70082);function F(T){I.call(this,T),this.enc="pem"}S(F,I),s.exports=F,F.prototype.encode=function(c,h){const v=I.prototype.encode.call(this,c).toString("base64"),w=["-----BEGIN "+h.label+"-----"];for(let b=0;b<v.length;b+=64)w.push(v.slice(b,b+64));return w.push("-----END "+h.label+"-----"),w.join(`
`)}},67526:(s,j)=>{"use strict";j.byteLength=p,j.toByteArray=w,j.fromByteArray=N;for(var R=[],S=[],I=typeof Uint8Array!="undefined"?Uint8Array:Array,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,c=F.length;T<c;++T)R[T]=F[T],S[F.charCodeAt(T)]=T;S[45]=62,S[95]=63;function h(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=d.indexOf("=");f===-1&&(f=g);var _=f===g?0:4-f%4;return[f,_]}function p(d){var g=h(d),f=g[0],_=g[1];return(f+_)*3/4-_}function v(d,g,f){return(g+f)*3/4-f}function w(d){var g,f=h(d),_=f[0],E=f[1],P=new I(v(d,_,E)),M=0,V=E>0?_-4:_,O;for(O=0;O<V;O+=4)g=S[d.charCodeAt(O)]<<18|S[d.charCodeAt(O+1)]<<12|S[d.charCodeAt(O+2)]<<6|S[d.charCodeAt(O+3)],P[M++]=g>>16&255,P[M++]=g>>8&255,P[M++]=g&255;return E===2&&(g=S[d.charCodeAt(O)]<<2|S[d.charCodeAt(O+1)]>>4,P[M++]=g&255),E===1&&(g=S[d.charCodeAt(O)]<<10|S[d.charCodeAt(O+1)]<<4|S[d.charCodeAt(O+2)]>>2,P[M++]=g>>8&255,P[M++]=g&255),P}function b(d){return R[d>>18&63]+R[d>>12&63]+R[d>>6&63]+R[d&63]}function l(d,g,f){for(var _,E=[],P=g;P<f;P+=3)_=(d[P]<<16&16711680)+(d[P+1]<<8&65280)+(d[P+2]&255),E.push(b(_));return E.join("")}function N(d){for(var g,f=d.length,_=f%3,E=[],P=16383,M=0,V=f-_;M<V;M+=P)E.push(l(d,M,M+P>V?V:M+P));return _===1?(g=d[f-1],E.push(R[g>>2]+R[g<<4&63]+"==")):_===2&&(g=(d[f-2]<<8)+d[f-1],E.push(R[g>>10]+R[g>>4&63]+R[g<<2&63]+"=")),E.join("")}},39404:function(s,j,R){s=R.nmd(s),function(S,I){"use strict";function F(J,x){if(!J)throw new Error(x||"Assertion failed")}function T(J,x){J.super_=x;var W=function(){};W.prototype=x.prototype,J.prototype=new W,J.prototype.constructor=J}function c(J,x,W){if(c.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((x==="le"||x==="be")&&(W=x,x=10),this._init(J||0,x||10,W||"be"))}typeof S=="object"?S.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=R(47790).Buffer}catch{}c.isBN=function(x){return x instanceof c?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===c.wordSize&&Array.isArray(x.words)},c.max=function(x,W){return x.cmp(W)>0?x:W},c.min=function(x,W){return x.cmp(W)<0?x:W},c.prototype._init=function(x,W,D){if(typeof x=="number")return this._initNumber(x,W,D);if(typeof x=="object")return this._initArray(x,W,D);W==="hex"&&(W=16),F(W===(W|0)&&W>=2&&W<=36),x=x.toString().replace(/\s+/g,"");var m=0;x[0]==="-"&&(m++,this.negative=1),m<x.length&&(W===16?this._parseHex(x,m,D):(this._parseBase(x,W,m),D==="le"&&this._initArray(this.toArray(),W,D)))},c.prototype._initNumber=function(x,W,D){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(F(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),W,D)},c.prototype._initArray=function(x,W,D){if(F(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var C,L,H=0;if(D==="be")for(m=x.length-1,C=0;m>=0;m-=3)L=x[m]|x[m-1]<<8|x[m-2]<<16,this.words[C]|=L<<H&67108863,this.words[C+1]=L>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);else if(D==="le")for(m=0,C=0;m<x.length;m+=3)L=x[m]|x[m+1]<<8|x[m+2]<<16,this.words[C]|=L<<H&67108863,this.words[C+1]=L>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);return this.strip()};function p(J,x){var W=J.charCodeAt(x);return W>=65&&W<=70?W-55:W>=97&&W<=102?W-87:W-48&15}function v(J,x,W){var D=p(J,W);return W-1>=x&&(D|=p(J,W-1)<<4),D}c.prototype._parseHex=function(x,W,D){this.length=Math.ceil((x.length-W)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var C=0,L=0,H;if(D==="be")for(m=x.length-1;m>=W;m-=2)H=v(x,W,m)<<C,this.words[L]|=H&67108863,C>=18?(C-=18,L+=1,this.words[L]|=H>>>26):C+=8;else{var z=x.length-W;for(m=z%2===0?W+1:W;m<x.length;m+=2)H=v(x,W,m)<<C,this.words[L]|=H&67108863,C>=18?(C-=18,L+=1,this.words[L]|=H>>>26):C+=8}this.strip()};function w(J,x,W,D){for(var m=0,C=Math.min(J.length,W),L=x;L<C;L++){var H=J.charCodeAt(L)-48;m*=D,H>=49?m+=H-49+10:H>=17?m+=H-17+10:m+=H}return m}c.prototype._parseBase=function(x,W,D){this.words=[0],this.length=1;for(var m=0,C=1;C<=67108863;C*=W)m++;m--,C=C/W|0;for(var L=x.length-D,H=L%m,z=Math.min(L,L-H)+D,G=0,ee=D;ee<z;ee+=m)G=w(x,ee,ee+m,W),this.imuln(C),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(H!==0){var ne=1;for(G=w(x,ee,x.length,W),ee=0;ee<H;ee++)ne*=W;this.imuln(ne),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this.strip()},c.prototype.copy=function(x){x.words=new Array(this.length);for(var W=0;W<this.length;W++)x.words[W]=this.words[W];x.length=this.length,x.negative=this.negative,x.red=this.red},c.prototype.clone=function(){var x=new c(null);return this.copy(x),x},c.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(x,W){x=x||10,W=W|0||1;var D;if(x===16||x==="hex"){D="";for(var m=0,C=0,L=0;L<this.length;L++){var H=this.words[L],z=((H<<m|C)&16777215).toString(16);C=H>>>24-m&16777215,C!==0||L!==this.length-1?D=b[6-z.length]+z+D:D=z+D,m+=2,m>=26&&(m-=26,L--)}for(C!==0&&(D=C.toString(16)+D);D.length%W!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(x===(x|0)&&x>=2&&x<=36){var G=l[x],ee=N[x];D="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var q=ne.modn(ee).toString(x);ne=ne.idivn(ee),ne.isZero()?D=q+D:D=b[G-q.length]+q+D}for(this.isZero()&&(D="0"+D);D.length%W!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}F(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&F(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(x,W){return F(typeof h!="undefined"),this.toArrayLike(h,x,W)},c.prototype.toArray=function(x,W){return this.toArrayLike(Array,x,W)},c.prototype.toArrayLike=function(x,W,D){var m=this.byteLength(),C=D||Math.max(1,m);F(m<=C,"byte array longer than desired length"),F(C>0,"Requested array length <= 0"),this.strip();var L=W==="le",H=new x(C),z,G,ee=this.clone();if(L){for(G=0;!ee.isZero();G++)z=ee.andln(255),ee.iushrn(8),H[G]=z;for(;G<C;G++)H[G]=0}else{for(G=0;G<C-m;G++)H[G]=0;for(G=0;!ee.isZero();G++)z=ee.andln(255),ee.iushrn(8),H[C-G-1]=z}return H},Math.clz32?c.prototype._countBits=function(x){return 32-Math.clz32(x)}:c.prototype._countBits=function(x){var W=x,D=0;return W>=4096&&(D+=13,W>>>=13),W>=64&&(D+=7,W>>>=7),W>=8&&(D+=4,W>>>=4),W>=2&&(D+=2,W>>>=2),D+W},c.prototype._zeroBits=function(x){if(x===0)return 26;var W=x,D=0;return W&8191||(D+=13,W>>>=13),W&127||(D+=7,W>>>=7),W&15||(D+=4,W>>>=4),W&3||(D+=2,W>>>=2),W&1||D++,D},c.prototype.bitLength=function(){var x=this.words[this.length-1],W=this._countBits(x);return(this.length-1)*26+W};function d(J){for(var x=new Array(J.bitLength()),W=0;W<x.length;W++){var D=W/26|0,m=W%26;x[W]=(J.words[D]&1<<m)>>>m}return x}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,W=0;W<this.length;W++){var D=this._zeroBits(this.words[W]);if(x+=D,D!==26)break}return x},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},c.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var W=0;W<x.length;W++)this.words[W]=this.words[W]|x.words[W];return this.strip()},c.prototype.ior=function(x){return F((this.negative|x.negative)===0),this.iuor(x)},c.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},c.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},c.prototype.iuand=function(x){var W;this.length>x.length?W=x:W=this;for(var D=0;D<W.length;D++)this.words[D]=this.words[D]&x.words[D];return this.length=W.length,this.strip()},c.prototype.iand=function(x){return F((this.negative|x.negative)===0),this.iuand(x)},c.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},c.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},c.prototype.iuxor=function(x){var W,D;this.length>x.length?(W=this,D=x):(W=x,D=this);for(var m=0;m<D.length;m++)this.words[m]=W.words[m]^D.words[m];if(this!==W)for(;m<W.length;m++)this.words[m]=W.words[m];return this.length=W.length,this.strip()},c.prototype.ixor=function(x){return F((this.negative|x.negative)===0),this.iuxor(x)},c.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},c.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},c.prototype.inotn=function(x){F(typeof x=="number"&&x>=0);var W=Math.ceil(x/26)|0,D=x%26;this._expand(W),D>0&&W--;for(var m=0;m<W;m++)this.words[m]=~this.words[m]&67108863;return D>0&&(this.words[m]=~this.words[m]&67108863>>26-D),this.strip()},c.prototype.notn=function(x){return this.clone().inotn(x)},c.prototype.setn=function(x,W){F(typeof x=="number"&&x>=0);var D=x/26|0,m=x%26;return this._expand(D+1),W?this.words[D]=this.words[D]|1<<m:this.words[D]=this.words[D]&~(1<<m),this.strip()},c.prototype.iadd=function(x){var W;if(this.negative!==0&&x.negative===0)return this.negative=0,W=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,W=this.isub(x),x.negative=1,W._normSign();var D,m;this.length>x.length?(D=this,m=x):(D=x,m=this);for(var C=0,L=0;L<m.length;L++)W=(D.words[L]|0)+(m.words[L]|0)+C,this.words[L]=W&67108863,C=W>>>26;for(;C!==0&&L<D.length;L++)W=(D.words[L]|0)+C,this.words[L]=W&67108863,C=W>>>26;if(this.length=D.length,C!==0)this.words[this.length]=C,this.length++;else if(D!==this)for(;L<D.length;L++)this.words[L]=D.words[L];return this},c.prototype.add=function(x){var W;return x.negative!==0&&this.negative===0?(x.negative=0,W=this.sub(x),x.negative^=1,W):x.negative===0&&this.negative!==0?(this.negative=0,W=x.sub(this),this.negative=1,W):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},c.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var W=this.iadd(x);return x.negative=1,W._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var D=this.cmp(x);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,C;D>0?(m=this,C=x):(m=x,C=this);for(var L=0,H=0;H<C.length;H++)W=(m.words[H]|0)-(C.words[H]|0)+L,L=W>>26,this.words[H]=W&67108863;for(;L!==0&&H<m.length;H++)W=(m.words[H]|0)+L,L=W>>26,this.words[H]=W&67108863;if(L===0&&H<m.length&&m!==this)for(;H<m.length;H++)this.words[H]=m.words[H];return this.length=Math.max(this.length,H),m!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(x){return this.clone().isub(x)};function g(J,x,W){W.negative=x.negative^J.negative;var D=J.length+x.length|0;W.length=D,D=D-1|0;var m=J.words[0]|0,C=x.words[0]|0,L=m*C,H=L&67108863,z=L/67108864|0;W.words[0]=H;for(var G=1;G<D;G++){for(var ee=z>>>26,ne=z&67108863,q=Math.min(G,x.length-1),se=Math.max(0,G-J.length+1);se<=q;se++){var xe=G-se|0;m=J.words[xe]|0,C=x.words[se]|0,L=m*C+ne,ee+=L/67108864|0,ne=L&67108863}W.words[G]=ne|0,z=ee|0}return z!==0?W.words[G]=z|0:W.length--,W.strip()}var f=function(x,W,D){var m=x.words,C=W.words,L=D.words,H=0,z,G,ee,ne=m[0]|0,q=ne&8191,se=ne>>>13,xe=m[1]|0,Ee=xe&8191,be=xe>>>13,Pe=m[2]|0,X=Pe&8191,te=Pe>>>13,de=m[3]|0,he=de&8191,we=de>>>13,B=m[4]|0,U=B&8191,le=B>>>13,ge=m[5]|0,_e=ge&8191,ye=ge>>>13,Me=m[6]|0,Be=Me&8191,Ve=Me>>>13,_t=m[7]|0,Je=_t&8191,nt=_t>>>13,Rt=m[8]|0,ce=Rt&8191,ae=Rt>>>13,ue=m[9]|0,ke=ue&8191,Ie=ue>>>13,Ke=C[0]|0,Le=Ke&8191,Xe=Ke>>>13,Bt=C[1]|0,rt=Bt&8191,ct=Bt>>>13,yt=C[2]|0,pt=yt&8191,St=yt>>>13,un=C[3]|0,gt=un&8191,xt=un>>>13,ti=C[4]|0,Ot=ti&8191,Kt=ti>>>13,Ji=C[5]|0,Zt=Ji&8191,zt=Ji>>>13,Vi=C[6]|0,Mt=Vi&8191,ft=Vi>>>13,vt=C[7]|0,De=vt&8191,ze=vt>>>13,Ct=C[8]|0,lt=Ct&8191,ht=Ct>>>13,an=C[9]|0,Dt=an&8191,Vt=an>>>13;D.negative=x.negative^W.negative,D.length=19,z=Math.imul(q,Le),G=Math.imul(q,Xe),G=G+Math.imul(se,Le)|0,ee=Math.imul(se,Xe);var qt=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(qt>>>26)|0,qt&=67108863,z=Math.imul(Ee,Le),G=Math.imul(Ee,Xe),G=G+Math.imul(be,Le)|0,ee=Math.imul(be,Xe),z=z+Math.imul(q,rt)|0,G=G+Math.imul(q,ct)|0,G=G+Math.imul(se,rt)|0,ee=ee+Math.imul(se,ct)|0;var mt=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(mt>>>26)|0,mt&=67108863,z=Math.imul(X,Le),G=Math.imul(X,Xe),G=G+Math.imul(te,Le)|0,ee=Math.imul(te,Xe),z=z+Math.imul(Ee,rt)|0,G=G+Math.imul(Ee,ct)|0,G=G+Math.imul(be,rt)|0,ee=ee+Math.imul(be,ct)|0,z=z+Math.imul(q,pt)|0,G=G+Math.imul(q,St)|0,G=G+Math.imul(se,pt)|0,ee=ee+Math.imul(se,St)|0;var Nt=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,z=Math.imul(he,Le),G=Math.imul(he,Xe),G=G+Math.imul(we,Le)|0,ee=Math.imul(we,Xe),z=z+Math.imul(X,rt)|0,G=G+Math.imul(X,ct)|0,G=G+Math.imul(te,rt)|0,ee=ee+Math.imul(te,ct)|0,z=z+Math.imul(Ee,pt)|0,G=G+Math.imul(Ee,St)|0,G=G+Math.imul(be,pt)|0,ee=ee+Math.imul(be,St)|0,z=z+Math.imul(q,gt)|0,G=G+Math.imul(q,xt)|0,G=G+Math.imul(se,gt)|0,ee=ee+Math.imul(se,xt)|0;var Ft=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,z=Math.imul(U,Le),G=Math.imul(U,Xe),G=G+Math.imul(le,Le)|0,ee=Math.imul(le,Xe),z=z+Math.imul(he,rt)|0,G=G+Math.imul(he,ct)|0,G=G+Math.imul(we,rt)|0,ee=ee+Math.imul(we,ct)|0,z=z+Math.imul(X,pt)|0,G=G+Math.imul(X,St)|0,G=G+Math.imul(te,pt)|0,ee=ee+Math.imul(te,St)|0,z=z+Math.imul(Ee,gt)|0,G=G+Math.imul(Ee,xt)|0,G=G+Math.imul(be,gt)|0,ee=ee+Math.imul(be,xt)|0,z=z+Math.imul(q,Ot)|0,G=G+Math.imul(q,Kt)|0,G=G+Math.imul(se,Ot)|0,ee=ee+Math.imul(se,Kt)|0;var hn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(hn>>>26)|0,hn&=67108863,z=Math.imul(_e,Le),G=Math.imul(_e,Xe),G=G+Math.imul(ye,Le)|0,ee=Math.imul(ye,Xe),z=z+Math.imul(U,rt)|0,G=G+Math.imul(U,ct)|0,G=G+Math.imul(le,rt)|0,ee=ee+Math.imul(le,ct)|0,z=z+Math.imul(he,pt)|0,G=G+Math.imul(he,St)|0,G=G+Math.imul(we,pt)|0,ee=ee+Math.imul(we,St)|0,z=z+Math.imul(X,gt)|0,G=G+Math.imul(X,xt)|0,G=G+Math.imul(te,gt)|0,ee=ee+Math.imul(te,xt)|0,z=z+Math.imul(Ee,Ot)|0,G=G+Math.imul(Ee,Kt)|0,G=G+Math.imul(be,Ot)|0,ee=ee+Math.imul(be,Kt)|0,z=z+Math.imul(q,Zt)|0,G=G+Math.imul(q,zt)|0,G=G+Math.imul(se,Zt)|0,ee=ee+Math.imul(se,zt)|0;var sn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(sn>>>26)|0,sn&=67108863,z=Math.imul(Be,Le),G=Math.imul(Be,Xe),G=G+Math.imul(Ve,Le)|0,ee=Math.imul(Ve,Xe),z=z+Math.imul(_e,rt)|0,G=G+Math.imul(_e,ct)|0,G=G+Math.imul(ye,rt)|0,ee=ee+Math.imul(ye,ct)|0,z=z+Math.imul(U,pt)|0,G=G+Math.imul(U,St)|0,G=G+Math.imul(le,pt)|0,ee=ee+Math.imul(le,St)|0,z=z+Math.imul(he,gt)|0,G=G+Math.imul(he,xt)|0,G=G+Math.imul(we,gt)|0,ee=ee+Math.imul(we,xt)|0,z=z+Math.imul(X,Ot)|0,G=G+Math.imul(X,Kt)|0,G=G+Math.imul(te,Ot)|0,ee=ee+Math.imul(te,Kt)|0,z=z+Math.imul(Ee,Zt)|0,G=G+Math.imul(Ee,zt)|0,G=G+Math.imul(be,Zt)|0,ee=ee+Math.imul(be,zt)|0,z=z+Math.imul(q,Mt)|0,G=G+Math.imul(q,ft)|0,G=G+Math.imul(se,Mt)|0,ee=ee+Math.imul(se,ft)|0;var Ht=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,z=Math.imul(Je,Le),G=Math.imul(Je,Xe),G=G+Math.imul(nt,Le)|0,ee=Math.imul(nt,Xe),z=z+Math.imul(Be,rt)|0,G=G+Math.imul(Be,ct)|0,G=G+Math.imul(Ve,rt)|0,ee=ee+Math.imul(Ve,ct)|0,z=z+Math.imul(_e,pt)|0,G=G+Math.imul(_e,St)|0,G=G+Math.imul(ye,pt)|0,ee=ee+Math.imul(ye,St)|0,z=z+Math.imul(U,gt)|0,G=G+Math.imul(U,xt)|0,G=G+Math.imul(le,gt)|0,ee=ee+Math.imul(le,xt)|0,z=z+Math.imul(he,Ot)|0,G=G+Math.imul(he,Kt)|0,G=G+Math.imul(we,Ot)|0,ee=ee+Math.imul(we,Kt)|0,z=z+Math.imul(X,Zt)|0,G=G+Math.imul(X,zt)|0,G=G+Math.imul(te,Zt)|0,ee=ee+Math.imul(te,zt)|0,z=z+Math.imul(Ee,Mt)|0,G=G+Math.imul(Ee,ft)|0,G=G+Math.imul(be,Mt)|0,ee=ee+Math.imul(be,ft)|0,z=z+Math.imul(q,De)|0,G=G+Math.imul(q,ze)|0,G=G+Math.imul(se,De)|0,ee=ee+Math.imul(se,ze)|0;var Sn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,z=Math.imul(ce,Le),G=Math.imul(ce,Xe),G=G+Math.imul(ae,Le)|0,ee=Math.imul(ae,Xe),z=z+Math.imul(Je,rt)|0,G=G+Math.imul(Je,ct)|0,G=G+Math.imul(nt,rt)|0,ee=ee+Math.imul(nt,ct)|0,z=z+Math.imul(Be,pt)|0,G=G+Math.imul(Be,St)|0,G=G+Math.imul(Ve,pt)|0,ee=ee+Math.imul(Ve,St)|0,z=z+Math.imul(_e,gt)|0,G=G+Math.imul(_e,xt)|0,G=G+Math.imul(ye,gt)|0,ee=ee+Math.imul(ye,xt)|0,z=z+Math.imul(U,Ot)|0,G=G+Math.imul(U,Kt)|0,G=G+Math.imul(le,Ot)|0,ee=ee+Math.imul(le,Kt)|0,z=z+Math.imul(he,Zt)|0,G=G+Math.imul(he,zt)|0,G=G+Math.imul(we,Zt)|0,ee=ee+Math.imul(we,zt)|0,z=z+Math.imul(X,Mt)|0,G=G+Math.imul(X,ft)|0,G=G+Math.imul(te,Mt)|0,ee=ee+Math.imul(te,ft)|0,z=z+Math.imul(Ee,De)|0,G=G+Math.imul(Ee,ze)|0,G=G+Math.imul(be,De)|0,ee=ee+Math.imul(be,ze)|0,z=z+Math.imul(q,lt)|0,G=G+Math.imul(q,ht)|0,G=G+Math.imul(se,lt)|0,ee=ee+Math.imul(se,ht)|0;var mn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(mn>>>26)|0,mn&=67108863,z=Math.imul(ke,Le),G=Math.imul(ke,Xe),G=G+Math.imul(Ie,Le)|0,ee=Math.imul(Ie,Xe),z=z+Math.imul(ce,rt)|0,G=G+Math.imul(ce,ct)|0,G=G+Math.imul(ae,rt)|0,ee=ee+Math.imul(ae,ct)|0,z=z+Math.imul(Je,pt)|0,G=G+Math.imul(Je,St)|0,G=G+Math.imul(nt,pt)|0,ee=ee+Math.imul(nt,St)|0,z=z+Math.imul(Be,gt)|0,G=G+Math.imul(Be,xt)|0,G=G+Math.imul(Ve,gt)|0,ee=ee+Math.imul(Ve,xt)|0,z=z+Math.imul(_e,Ot)|0,G=G+Math.imul(_e,Kt)|0,G=G+Math.imul(ye,Ot)|0,ee=ee+Math.imul(ye,Kt)|0,z=z+Math.imul(U,Zt)|0,G=G+Math.imul(U,zt)|0,G=G+Math.imul(le,Zt)|0,ee=ee+Math.imul(le,zt)|0,z=z+Math.imul(he,Mt)|0,G=G+Math.imul(he,ft)|0,G=G+Math.imul(we,Mt)|0,ee=ee+Math.imul(we,ft)|0,z=z+Math.imul(X,De)|0,G=G+Math.imul(X,ze)|0,G=G+Math.imul(te,De)|0,ee=ee+Math.imul(te,ze)|0,z=z+Math.imul(Ee,lt)|0,G=G+Math.imul(Ee,ht)|0,G=G+Math.imul(be,lt)|0,ee=ee+Math.imul(be,ht)|0,z=z+Math.imul(q,Dt)|0,G=G+Math.imul(q,Vt)|0,G=G+Math.imul(se,Dt)|0,ee=ee+Math.imul(se,Vt)|0;var In=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(In>>>26)|0,In&=67108863,z=Math.imul(ke,rt),G=Math.imul(ke,ct),G=G+Math.imul(Ie,rt)|0,ee=Math.imul(Ie,ct),z=z+Math.imul(ce,pt)|0,G=G+Math.imul(ce,St)|0,G=G+Math.imul(ae,pt)|0,ee=ee+Math.imul(ae,St)|0,z=z+Math.imul(Je,gt)|0,G=G+Math.imul(Je,xt)|0,G=G+Math.imul(nt,gt)|0,ee=ee+Math.imul(nt,xt)|0,z=z+Math.imul(Be,Ot)|0,G=G+Math.imul(Be,Kt)|0,G=G+Math.imul(Ve,Ot)|0,ee=ee+Math.imul(Ve,Kt)|0,z=z+Math.imul(_e,Zt)|0,G=G+Math.imul(_e,zt)|0,G=G+Math.imul(ye,Zt)|0,ee=ee+Math.imul(ye,zt)|0,z=z+Math.imul(U,Mt)|0,G=G+Math.imul(U,ft)|0,G=G+Math.imul(le,Mt)|0,ee=ee+Math.imul(le,ft)|0,z=z+Math.imul(he,De)|0,G=G+Math.imul(he,ze)|0,G=G+Math.imul(we,De)|0,ee=ee+Math.imul(we,ze)|0,z=z+Math.imul(X,lt)|0,G=G+Math.imul(X,ht)|0,G=G+Math.imul(te,lt)|0,ee=ee+Math.imul(te,ht)|0,z=z+Math.imul(Ee,Dt)|0,G=G+Math.imul(Ee,Vt)|0,G=G+Math.imul(be,Dt)|0,ee=ee+Math.imul(be,Vt)|0;var Dn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,z=Math.imul(ke,pt),G=Math.imul(ke,St),G=G+Math.imul(Ie,pt)|0,ee=Math.imul(Ie,St),z=z+Math.imul(ce,gt)|0,G=G+Math.imul(ce,xt)|0,G=G+Math.imul(ae,gt)|0,ee=ee+Math.imul(ae,xt)|0,z=z+Math.imul(Je,Ot)|0,G=G+Math.imul(Je,Kt)|0,G=G+Math.imul(nt,Ot)|0,ee=ee+Math.imul(nt,Kt)|0,z=z+Math.imul(Be,Zt)|0,G=G+Math.imul(Be,zt)|0,G=G+Math.imul(Ve,Zt)|0,ee=ee+Math.imul(Ve,zt)|0,z=z+Math.imul(_e,Mt)|0,G=G+Math.imul(_e,ft)|0,G=G+Math.imul(ye,Mt)|0,ee=ee+Math.imul(ye,ft)|0,z=z+Math.imul(U,De)|0,G=G+Math.imul(U,ze)|0,G=G+Math.imul(le,De)|0,ee=ee+Math.imul(le,ze)|0,z=z+Math.imul(he,lt)|0,G=G+Math.imul(he,ht)|0,G=G+Math.imul(we,lt)|0,ee=ee+Math.imul(we,ht)|0,z=z+Math.imul(X,Dt)|0,G=G+Math.imul(X,Vt)|0,G=G+Math.imul(te,Dt)|0,ee=ee+Math.imul(te,Vt)|0;var Xn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,z=Math.imul(ke,gt),G=Math.imul(ke,xt),G=G+Math.imul(Ie,gt)|0,ee=Math.imul(Ie,xt),z=z+Math.imul(ce,Ot)|0,G=G+Math.imul(ce,Kt)|0,G=G+Math.imul(ae,Ot)|0,ee=ee+Math.imul(ae,Kt)|0,z=z+Math.imul(Je,Zt)|0,G=G+Math.imul(Je,zt)|0,G=G+Math.imul(nt,Zt)|0,ee=ee+Math.imul(nt,zt)|0,z=z+Math.imul(Be,Mt)|0,G=G+Math.imul(Be,ft)|0,G=G+Math.imul(Ve,Mt)|0,ee=ee+Math.imul(Ve,ft)|0,z=z+Math.imul(_e,De)|0,G=G+Math.imul(_e,ze)|0,G=G+Math.imul(ye,De)|0,ee=ee+Math.imul(ye,ze)|0,z=z+Math.imul(U,lt)|0,G=G+Math.imul(U,ht)|0,G=G+Math.imul(le,lt)|0,ee=ee+Math.imul(le,ht)|0,z=z+Math.imul(he,Dt)|0,G=G+Math.imul(he,Vt)|0,G=G+Math.imul(we,Dt)|0,ee=ee+Math.imul(we,Vt)|0;var pn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(pn>>>26)|0,pn&=67108863,z=Math.imul(ke,Ot),G=Math.imul(ke,Kt),G=G+Math.imul(Ie,Ot)|0,ee=Math.imul(Ie,Kt),z=z+Math.imul(ce,Zt)|0,G=G+Math.imul(ce,zt)|0,G=G+Math.imul(ae,Zt)|0,ee=ee+Math.imul(ae,zt)|0,z=z+Math.imul(Je,Mt)|0,G=G+Math.imul(Je,ft)|0,G=G+Math.imul(nt,Mt)|0,ee=ee+Math.imul(nt,ft)|0,z=z+Math.imul(Be,De)|0,G=G+Math.imul(Be,ze)|0,G=G+Math.imul(Ve,De)|0,ee=ee+Math.imul(Ve,ze)|0,z=z+Math.imul(_e,lt)|0,G=G+Math.imul(_e,ht)|0,G=G+Math.imul(ye,lt)|0,ee=ee+Math.imul(ye,ht)|0,z=z+Math.imul(U,Dt)|0,G=G+Math.imul(U,Vt)|0,G=G+Math.imul(le,Dt)|0,ee=ee+Math.imul(le,Vt)|0;var Yn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,z=Math.imul(ke,Zt),G=Math.imul(ke,zt),G=G+Math.imul(Ie,Zt)|0,ee=Math.imul(Ie,zt),z=z+Math.imul(ce,Mt)|0,G=G+Math.imul(ce,ft)|0,G=G+Math.imul(ae,Mt)|0,ee=ee+Math.imul(ae,ft)|0,z=z+Math.imul(Je,De)|0,G=G+Math.imul(Je,ze)|0,G=G+Math.imul(nt,De)|0,ee=ee+Math.imul(nt,ze)|0,z=z+Math.imul(Be,lt)|0,G=G+Math.imul(Be,ht)|0,G=G+Math.imul(Ve,lt)|0,ee=ee+Math.imul(Ve,ht)|0,z=z+Math.imul(_e,Dt)|0,G=G+Math.imul(_e,Vt)|0,G=G+Math.imul(ye,Dt)|0,ee=ee+Math.imul(ye,Vt)|0;var jn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(jn>>>26)|0,jn&=67108863,z=Math.imul(ke,Mt),G=Math.imul(ke,ft),G=G+Math.imul(Ie,Mt)|0,ee=Math.imul(Ie,ft),z=z+Math.imul(ce,De)|0,G=G+Math.imul(ce,ze)|0,G=G+Math.imul(ae,De)|0,ee=ee+Math.imul(ae,ze)|0,z=z+Math.imul(Je,lt)|0,G=G+Math.imul(Je,ht)|0,G=G+Math.imul(nt,lt)|0,ee=ee+Math.imul(nt,ht)|0,z=z+Math.imul(Be,Dt)|0,G=G+Math.imul(Be,Vt)|0,G=G+Math.imul(Ve,Dt)|0,ee=ee+Math.imul(Ve,Vt)|0;var en=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(en>>>26)|0,en&=67108863,z=Math.imul(ke,De),G=Math.imul(ke,ze),G=G+Math.imul(Ie,De)|0,ee=Math.imul(Ie,ze),z=z+Math.imul(ce,lt)|0,G=G+Math.imul(ce,ht)|0,G=G+Math.imul(ae,lt)|0,ee=ee+Math.imul(ae,ht)|0,z=z+Math.imul(Je,Dt)|0,G=G+Math.imul(Je,Vt)|0,G=G+Math.imul(nt,Dt)|0,ee=ee+Math.imul(nt,Vt)|0;var dn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(dn>>>26)|0,dn&=67108863,z=Math.imul(ke,lt),G=Math.imul(ke,ht),G=G+Math.imul(Ie,lt)|0,ee=Math.imul(Ie,ht),z=z+Math.imul(ce,Dt)|0,G=G+Math.imul(ce,Vt)|0,G=G+Math.imul(ae,Dt)|0,ee=ee+Math.imul(ae,Vt)|0;var Cn=(H+z|0)+((G&8191)<<13)|0;H=(ee+(G>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,z=Math.imul(ke,Dt),G=Math.imul(ke,Vt),G=G+Math.imul(Ie,Dt)|0,ee=Math.imul(Ie,Vt);var Wn=(H+z|0)+((G&8191)<<13)|0;return H=(ee+(G>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,L[0]=qt,L[1]=mt,L[2]=Nt,L[3]=Ft,L[4]=hn,L[5]=sn,L[6]=Ht,L[7]=Sn,L[8]=mn,L[9]=In,L[10]=Dn,L[11]=Xn,L[12]=pn,L[13]=Yn,L[14]=jn,L[15]=en,L[16]=dn,L[17]=Cn,L[18]=Wn,H!==0&&(L[19]=H,D.length++),D};Math.imul||(f=g);function _(J,x,W){W.negative=x.negative^J.negative,W.length=J.length+x.length;for(var D=0,m=0,C=0;C<W.length-1;C++){var L=m;m=0;for(var H=D&67108863,z=Math.min(C,x.length-1),G=Math.max(0,C-J.length+1);G<=z;G++){var ee=C-G,ne=J.words[ee]|0,q=x.words[G]|0,se=ne*q,xe=se&67108863;L=L+(se/67108864|0)|0,xe=xe+H|0,H=xe&67108863,L=L+(xe>>>26)|0,m+=L>>>26,L&=67108863}W.words[C]=H,D=L,L=m}return D!==0?W.words[C]=D:W.length--,W.strip()}function E(J,x,W){var D=new P;return D.mulp(J,x,W)}c.prototype.mulTo=function(x,W){var D,m=this.length+x.length;return this.length===10&&x.length===10?D=f(this,x,W):m<63?D=g(this,x,W):m<1024?D=_(this,x,W):D=E(this,x,W),D};function P(J,x){this.x=J,this.y=x}P.prototype.makeRBT=function(x){for(var W=new Array(x),D=c.prototype._countBits(x)-1,m=0;m<x;m++)W[m]=this.revBin(m,D,x);return W},P.prototype.revBin=function(x,W,D){if(x===0||x===D-1)return x;for(var m=0,C=0;C<W;C++)m|=(x&1)<<W-C-1,x>>=1;return m},P.prototype.permute=function(x,W,D,m,C,L){for(var H=0;H<L;H++)m[H]=W[x[H]],C[H]=D[x[H]]},P.prototype.transform=function(x,W,D,m,C,L){this.permute(L,x,W,D,m,C);for(var H=1;H<C;H<<=1)for(var z=H<<1,G=Math.cos(2*Math.PI/z),ee=Math.sin(2*Math.PI/z),ne=0;ne<C;ne+=z)for(var q=G,se=ee,xe=0;xe<H;xe++){var Ee=D[ne+xe],be=m[ne+xe],Pe=D[ne+xe+H],X=m[ne+xe+H],te=q*Pe-se*X;X=q*X+se*Pe,Pe=te,D[ne+xe]=Ee+Pe,m[ne+xe]=be+X,D[ne+xe+H]=Ee-Pe,m[ne+xe+H]=be-X,xe!==z&&(te=G*q-ee*se,se=G*se+ee*q,q=te)}},P.prototype.guessLen13b=function(x,W){var D=Math.max(W,x)|1,m=D&1,C=0;for(D=D/2|0;D;D=D>>>1)C++;return 1<<C+1+m},P.prototype.conjugate=function(x,W,D){if(!(D<=1))for(var m=0;m<D/2;m++){var C=x[m];x[m]=x[D-m-1],x[D-m-1]=C,C=W[m],W[m]=-W[D-m-1],W[D-m-1]=-C}},P.prototype.normalize13b=function(x,W){for(var D=0,m=0;m<W/2;m++){var C=Math.round(x[2*m+1]/W)*8192+Math.round(x[2*m]/W)+D;x[m]=C&67108863,C<67108864?D=0:D=C/67108864|0}return x},P.prototype.convert13b=function(x,W,D,m){for(var C=0,L=0;L<W;L++)C=C+(x[L]|0),D[2*L]=C&8191,C=C>>>13,D[2*L+1]=C&8191,C=C>>>13;for(L=2*W;L<m;++L)D[L]=0;F(C===0),F((C&-8192)===0)},P.prototype.stub=function(x){for(var W=new Array(x),D=0;D<x;D++)W[D]=0;return W},P.prototype.mulp=function(x,W,D){var m=2*this.guessLen13b(x.length,W.length),C=this.makeRBT(m),L=this.stub(m),H=new Array(m),z=new Array(m),G=new Array(m),ee=new Array(m),ne=new Array(m),q=new Array(m),se=D.words;se.length=m,this.convert13b(x.words,x.length,H,m),this.convert13b(W.words,W.length,ee,m),this.transform(H,L,z,G,m,C),this.transform(ee,L,ne,q,m,C);for(var xe=0;xe<m;xe++){var Ee=z[xe]*ne[xe]-G[xe]*q[xe];G[xe]=z[xe]*q[xe]+G[xe]*ne[xe],z[xe]=Ee}return this.conjugate(z,G,m),this.transform(z,G,se,L,m,C),this.conjugate(se,L,m),this.normalize13b(se,m),D.negative=x.negative^W.negative,D.length=x.length+W.length,D.strip()},c.prototype.mul=function(x){var W=new c(null);return W.words=new Array(this.length+x.length),this.mulTo(x,W)},c.prototype.mulf=function(x){var W=new c(null);return W.words=new Array(this.length+x.length),E(this,x,W)},c.prototype.imul=function(x){return this.clone().mulTo(x,this)},c.prototype.imuln=function(x){F(typeof x=="number"),F(x<67108864);for(var W=0,D=0;D<this.length;D++){var m=(this.words[D]|0)*x,C=(m&67108863)+(W&67108863);W>>=26,W+=m/67108864|0,W+=C>>>26,this.words[D]=C&67108863}return W!==0&&(this.words[D]=W,this.length++),this},c.prototype.muln=function(x){return this.clone().imuln(x)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(x){var W=d(x);if(W.length===0)return new c(1);for(var D=this,m=0;m<W.length&&W[m]===0;m++,D=D.sqr());if(++m<W.length)for(var C=D.sqr();m<W.length;m++,C=C.sqr())W[m]!==0&&(D=D.mul(C));return D},c.prototype.iushln=function(x){F(typeof x=="number"&&x>=0);var W=x%26,D=(x-W)/26,m=67108863>>>26-W<<26-W,C;if(W!==0){var L=0;for(C=0;C<this.length;C++){var H=this.words[C]&m,z=(this.words[C]|0)-H<<W;this.words[C]=z|L,L=H>>>26-W}L&&(this.words[C]=L,this.length++)}if(D!==0){for(C=this.length-1;C>=0;C--)this.words[C+D]=this.words[C];for(C=0;C<D;C++)this.words[C]=0;this.length+=D}return this.strip()},c.prototype.ishln=function(x){return F(this.negative===0),this.iushln(x)},c.prototype.iushrn=function(x,W,D){F(typeof x=="number"&&x>=0);var m;W?m=(W-W%26)/26:m=0;var C=x%26,L=Math.min((x-C)/26,this.length),H=67108863^67108863>>>C<<C,z=D;if(m-=L,m=Math.max(0,m),z){for(var G=0;G<L;G++)z.words[G]=this.words[G];z.length=L}if(L!==0)if(this.length>L)for(this.length-=L,G=0;G<this.length;G++)this.words[G]=this.words[G+L];else this.words[0]=0,this.length=1;var ee=0;for(G=this.length-1;G>=0&&(ee!==0||G>=m);G--){var ne=this.words[G]|0;this.words[G]=ee<<26-C|ne>>>C,ee=ne&H}return z&&ee!==0&&(z.words[z.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(x,W,D){return F(this.negative===0),this.iushrn(x,W,D)},c.prototype.shln=function(x){return this.clone().ishln(x)},c.prototype.ushln=function(x){return this.clone().iushln(x)},c.prototype.shrn=function(x){return this.clone().ishrn(x)},c.prototype.ushrn=function(x){return this.clone().iushrn(x)},c.prototype.testn=function(x){F(typeof x=="number"&&x>=0);var W=x%26,D=(x-W)/26,m=1<<W;if(this.length<=D)return!1;var C=this.words[D];return!!(C&m)},c.prototype.imaskn=function(x){F(typeof x=="number"&&x>=0);var W=x%26,D=(x-W)/26;if(F(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(W!==0&&D++,this.length=Math.min(D,this.length),W!==0){var m=67108863^67108863>>>W<<W;this.words[this.length-1]&=m}return this.strip()},c.prototype.maskn=function(x){return this.clone().imaskn(x)},c.prototype.iaddn=function(x){return F(typeof x=="number"),F(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},c.prototype._iaddn=function(x){this.words[0]+=x;for(var W=0;W<this.length&&this.words[W]>=67108864;W++)this.words[W]-=67108864,W===this.length-1?this.words[W+1]=1:this.words[W+1]++;return this.length=Math.max(this.length,W+1),this},c.prototype.isubn=function(x){if(F(typeof x=="number"),F(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var W=0;W<this.length&&this.words[W]<0;W++)this.words[W]+=67108864,this.words[W+1]-=1;return this.strip()},c.prototype.addn=function(x){return this.clone().iaddn(x)},c.prototype.subn=function(x){return this.clone().isubn(x)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(x,W,D){var m=x.length+D,C;this._expand(m);var L,H=0;for(C=0;C<x.length;C++){L=(this.words[C+D]|0)+H;var z=(x.words[C]|0)*W;L-=z&67108863,H=(L>>26)-(z/67108864|0),this.words[C+D]=L&67108863}for(;C<this.length-D;C++)L=(this.words[C+D]|0)+H,H=L>>26,this.words[C+D]=L&67108863;if(H===0)return this.strip();for(F(H===-1),H=0,C=0;C<this.length;C++)L=-(this.words[C]|0)+H,H=L>>26,this.words[C]=L&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(x,W){var D=this.length-x.length,m=this.clone(),C=x,L=C.words[C.length-1]|0,H=this._countBits(L);D=26-H,D!==0&&(C=C.ushln(D),m.iushln(D),L=C.words[C.length-1]|0);var z=m.length-C.length,G;if(W!=="mod"){G=new c(null),G.length=z+1,G.words=new Array(G.length);for(var ee=0;ee<G.length;ee++)G.words[ee]=0}var ne=m.clone()._ishlnsubmul(C,1,z);ne.negative===0&&(m=ne,G&&(G.words[z]=1));for(var q=z-1;q>=0;q--){var se=(m.words[C.length+q]|0)*67108864+(m.words[C.length+q-1]|0);for(se=Math.min(se/L|0,67108863),m._ishlnsubmul(C,se,q);m.negative!==0;)se--,m.negative=0,m._ishlnsubmul(C,1,q),m.isZero()||(m.negative^=1);G&&(G.words[q]=se)}return G&&G.strip(),m.strip(),W!=="div"&&D!==0&&m.iushrn(D),{div:G||null,mod:m}},c.prototype.divmod=function(x,W,D){if(F(!x.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var m,C,L;return this.negative!==0&&x.negative===0?(L=this.neg().divmod(x,W),W!=="mod"&&(m=L.div.neg()),W!=="div"&&(C=L.mod.neg(),D&&C.negative!==0&&C.iadd(x)),{div:m,mod:C}):this.negative===0&&x.negative!==0?(L=this.divmod(x.neg(),W),W!=="mod"&&(m=L.div.neg()),{div:m,mod:L.mod}):this.negative&x.negative?(L=this.neg().divmod(x.neg(),W),W!=="div"&&(C=L.mod.neg(),D&&C.negative!==0&&C.isub(x)),{div:L.div,mod:C}):x.length>this.length||this.cmp(x)<0?{div:new c(0),mod:this}:x.length===1?W==="div"?{div:this.divn(x.words[0]),mod:null}:W==="mod"?{div:null,mod:new c(this.modn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new c(this.modn(x.words[0]))}:this._wordDiv(x,W)},c.prototype.div=function(x){return this.divmod(x,"div",!1).div},c.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},c.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},c.prototype.divRound=function(x){var W=this.divmod(x);if(W.mod.isZero())return W.div;var D=W.div.negative!==0?W.mod.isub(x):W.mod,m=x.ushrn(1),C=x.andln(1),L=D.cmp(m);return L<0||C===1&&L===0?W.div:W.div.negative!==0?W.div.isubn(1):W.div.iaddn(1)},c.prototype.modn=function(x){F(x<=67108863);for(var W=(1<<26)%x,D=0,m=this.length-1;m>=0;m--)D=(W*D+(this.words[m]|0))%x;return D},c.prototype.idivn=function(x){F(x<=67108863);for(var W=0,D=this.length-1;D>=0;D--){var m=(this.words[D]|0)+W*67108864;this.words[D]=m/x|0,W=m%x}return this.strip()},c.prototype.divn=function(x){return this.clone().idivn(x)},c.prototype.egcd=function(x){F(x.negative===0),F(!x.isZero());var W=this,D=x.clone();W.negative!==0?W=W.umod(x):W=W.clone();for(var m=new c(1),C=new c(0),L=new c(0),H=new c(1),z=0;W.isEven()&&D.isEven();)W.iushrn(1),D.iushrn(1),++z;for(var G=D.clone(),ee=W.clone();!W.isZero();){for(var ne=0,q=1;!(W.words[0]&q)&&ne<26;++ne,q<<=1);if(ne>0)for(W.iushrn(ne);ne-- >0;)(m.isOdd()||C.isOdd())&&(m.iadd(G),C.isub(ee)),m.iushrn(1),C.iushrn(1);for(var se=0,xe=1;!(D.words[0]&xe)&&se<26;++se,xe<<=1);if(se>0)for(D.iushrn(se);se-- >0;)(L.isOdd()||H.isOdd())&&(L.iadd(G),H.isub(ee)),L.iushrn(1),H.iushrn(1);W.cmp(D)>=0?(W.isub(D),m.isub(L),C.isub(H)):(D.isub(W),L.isub(m),H.isub(C))}return{a:L,b:H,gcd:D.iushln(z)}},c.prototype._invmp=function(x){F(x.negative===0),F(!x.isZero());var W=this,D=x.clone();W.negative!==0?W=W.umod(x):W=W.clone();for(var m=new c(1),C=new c(0),L=D.clone();W.cmpn(1)>0&&D.cmpn(1)>0;){for(var H=0,z=1;!(W.words[0]&z)&&H<26;++H,z<<=1);if(H>0)for(W.iushrn(H);H-- >0;)m.isOdd()&&m.iadd(L),m.iushrn(1);for(var G=0,ee=1;!(D.words[0]&ee)&&G<26;++G,ee<<=1);if(G>0)for(D.iushrn(G);G-- >0;)C.isOdd()&&C.iadd(L),C.iushrn(1);W.cmp(D)>=0?(W.isub(D),m.isub(C)):(D.isub(W),C.isub(m))}var ne;return W.cmpn(1)===0?ne=m:ne=C,ne.cmpn(0)<0&&ne.iadd(x),ne},c.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var W=this.clone(),D=x.clone();W.negative=0,D.negative=0;for(var m=0;W.isEven()&&D.isEven();m++)W.iushrn(1),D.iushrn(1);do{for(;W.isEven();)W.iushrn(1);for(;D.isEven();)D.iushrn(1);var C=W.cmp(D);if(C<0){var L=W;W=D,D=L}else if(C===0||D.cmpn(1)===0)break;W.isub(D)}while(!0);return D.iushln(m)},c.prototype.invm=function(x){return this.egcd(x).a.umod(x)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(x){return this.words[0]&x},c.prototype.bincn=function(x){F(typeof x=="number");var W=x%26,D=(x-W)/26,m=1<<W;if(this.length<=D)return this._expand(D+1),this.words[D]|=m,this;for(var C=m,L=D;C!==0&&L<this.length;L++){var H=this.words[L]|0;H+=C,C=H>>>26,H&=67108863,this.words[L]=H}return C!==0&&(this.words[L]=C,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(x){var W=x<0;if(this.negative!==0&&!W)return-1;if(this.negative===0&&W)return 1;this.strip();var D;if(this.length>1)D=1;else{W&&(x=-x),F(x<=67108863,"Number is too big");var m=this.words[0]|0;D=m===x?0:m<x?-1:1}return this.negative!==0?-D|0:D},c.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var W=this.ucmp(x);return this.negative!==0?-W|0:W},c.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var W=0,D=this.length-1;D>=0;D--){var m=this.words[D]|0,C=x.words[D]|0;if(m!==C){m<C?W=-1:m>C&&(W=1);break}}return W},c.prototype.gtn=function(x){return this.cmpn(x)===1},c.prototype.gt=function(x){return this.cmp(x)===1},c.prototype.gten=function(x){return this.cmpn(x)>=0},c.prototype.gte=function(x){return this.cmp(x)>=0},c.prototype.ltn=function(x){return this.cmpn(x)===-1},c.prototype.lt=function(x){return this.cmp(x)===-1},c.prototype.lten=function(x){return this.cmpn(x)<=0},c.prototype.lte=function(x){return this.cmp(x)<=0},c.prototype.eqn=function(x){return this.cmpn(x)===0},c.prototype.eq=function(x){return this.cmp(x)===0},c.red=function(x){return new Z(x)},c.prototype.toRed=function(x){return F(!this.red,"Already a number in reduction context"),F(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},c.prototype.fromRed=function(){return F(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(x){return this.red=x,this},c.prototype.forceRed=function(x){return F(!this.red,"Already a number in reduction context"),this._forceRed(x)},c.prototype.redAdd=function(x){return F(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},c.prototype.redIAdd=function(x){return F(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},c.prototype.redSub=function(x){return F(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},c.prototype.redISub=function(x){return F(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},c.prototype.redShl=function(x){return F(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},c.prototype.redMul=function(x){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},c.prototype.redIMul=function(x){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},c.prototype.redSqr=function(){return F(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return F(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return F(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return F(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return F(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(x){return F(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var M={k256:null,p224:null,p192:null,p25519:null};function V(J,x){this.name=J,this.p=new c(x,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var x=new c(null);return x.words=new Array(Math.ceil(this.n/13)),x},V.prototype.ireduce=function(x){var W=x,D;do this.split(W,this.tmp),W=this.imulK(W),W=W.iadd(this.tmp),D=W.bitLength();while(D>this.n);var m=D<this.n?-1:W.ucmp(this.p);return m===0?(W.words[0]=0,W.length=1):m>0?W.isub(this.p):W.strip!==void 0?W.strip():W._strip(),W},V.prototype.split=function(x,W){x.iushrn(this.n,0,W)},V.prototype.imulK=function(x){return x.imul(this.k)};function O(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(O,V),O.prototype.split=function(x,W){for(var D=4194303,m=Math.min(x.length,9),C=0;C<m;C++)W.words[C]=x.words[C];if(W.length=m,x.length<=9){x.words[0]=0,x.length=1;return}var L=x.words[9];for(W.words[W.length++]=L&D,C=10;C<x.length;C++){var H=x.words[C]|0;x.words[C-10]=(H&D)<<4|L>>>22,L=H}L>>>=22,x.words[C-10]=L,L===0&&x.length>10?x.length-=10:x.length-=9},O.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var W=0,D=0;D<x.length;D++){var m=x.words[D]|0;W+=m*977,x.words[D]=W&67108863,W=m*64+(W/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function y(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(y,V);function K(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(K,V);function Y(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Y,V),Y.prototype.imulK=function(x){for(var W=0,D=0;D<x.length;D++){var m=(x.words[D]|0)*19+W,C=m&67108863;m>>>=26,x.words[D]=C,W=m}return W!==0&&(x.words[x.length++]=W),x},c._prime=function(x){if(M[x])return M[x];var W;if(x==="k256")W=new O;else if(x==="p224")W=new y;else if(x==="p192")W=new K;else if(x==="p25519")W=new Y;else throw new Error("Unknown prime "+x);return M[x]=W,W};function Z(J){if(typeof J=="string"){var x=c._prime(J);this.m=x.p,this.prime=x}else F(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}Z.prototype._verify1=function(x){F(x.negative===0,"red works only with positives"),F(x.red,"red works only with red numbers")},Z.prototype._verify2=function(x,W){F((x.negative|W.negative)===0,"red works only with positives"),F(x.red&&x.red===W.red,"red works only with red numbers")},Z.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):x.umod(this.m)._forceRed(this)},Z.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},Z.prototype.add=function(x,W){this._verify2(x,W);var D=x.add(W);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},Z.prototype.iadd=function(x,W){this._verify2(x,W);var D=x.iadd(W);return D.cmp(this.m)>=0&&D.isub(this.m),D},Z.prototype.sub=function(x,W){this._verify2(x,W);var D=x.sub(W);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},Z.prototype.isub=function(x,W){this._verify2(x,W);var D=x.isub(W);return D.cmpn(0)<0&&D.iadd(this.m),D},Z.prototype.shl=function(x,W){return this._verify1(x),this.imod(x.ushln(W))},Z.prototype.imul=function(x,W){return this._verify2(x,W),this.imod(x.imul(W))},Z.prototype.mul=function(x,W){return this._verify2(x,W),this.imod(x.mul(W))},Z.prototype.isqr=function(x){return this.imul(x,x.clone())},Z.prototype.sqr=function(x){return this.mul(x,x)},Z.prototype.sqrt=function(x){if(x.isZero())return x.clone();var W=this.m.andln(3);if(F(W%2===1),W===3){var D=this.m.add(new c(1)).iushrn(2);return this.pow(x,D)}for(var m=this.m.subn(1),C=0;!m.isZero()&&m.andln(1)===0;)C++,m.iushrn(1);F(!m.isZero());var L=new c(1).toRed(this),H=L.redNeg(),z=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new c(2*G*G).toRed(this);this.pow(G,z).cmp(H)!==0;)G.redIAdd(H);for(var ee=this.pow(G,m),ne=this.pow(x,m.addn(1).iushrn(1)),q=this.pow(x,m),se=C;q.cmp(L)!==0;){for(var xe=q,Ee=0;xe.cmp(L)!==0;Ee++)xe=xe.redSqr();F(Ee<se);var be=this.pow(ee,new c(1).iushln(se-Ee-1));ne=ne.redMul(be),ee=be.redSqr(),q=q.redMul(ee),se=Ee}return ne},Z.prototype.invm=function(x){var W=x._invmp(this.m);return W.negative!==0?(W.negative=0,this.imod(W).redNeg()):this.imod(W)},Z.prototype.pow=function(x,W){if(W.isZero())return new c(1).toRed(this);if(W.cmpn(1)===0)return x.clone();var D=4,m=new Array(1<<D);m[0]=new c(1).toRed(this),m[1]=x;for(var C=2;C<m.length;C++)m[C]=this.mul(m[C-1],x);var L=m[0],H=0,z=0,G=W.bitLength()%26;for(G===0&&(G=26),C=W.length-1;C>=0;C--){for(var ee=W.words[C],ne=G-1;ne>=0;ne--){var q=ee>>ne&1;if(L!==m[0]&&(L=this.sqr(L)),q===0&&H===0){z=0;continue}H<<=1,H|=q,z++,!(z!==D&&(C!==0||ne!==0))&&(L=this.mul(L,m[H]),z=0,H=0)}G=26}return L},Z.prototype.convertTo=function(x){var W=x.umod(this.m);return W===x?W.clone():W},Z.prototype.convertFrom=function(x){var W=x.clone();return W.red=null,W},c.mont=function(x){return new ie(x)};function ie(J){Z.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(ie,Z),ie.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},ie.prototype.convertFrom=function(x){var W=this.imod(x.mul(this.rinv));return W.red=null,W},ie.prototype.imul=function(x,W){if(x.isZero()||W.isZero())return x.words[0]=0,x.length=1,x;var D=x.imul(W),m=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=D.isub(m).iushrn(this.shift),L=C;return C.cmp(this.m)>=0?L=C.isub(this.m):C.cmpn(0)<0&&(L=C.iadd(this.m)),L._forceRed(this)},ie.prototype.mul=function(x,W){if(x.isZero()||W.isZero())return new c(0)._forceRed(this);var D=x.mul(W),m=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=D.isub(m).iushrn(this.shift),L=C;return C.cmp(this.m)>=0?L=C.isub(this.m):C.cmpn(0)<0&&(L=C.iadd(this.m)),L._forceRed(this)},ie.prototype.invm=function(x){var W=this.imod(x._invmp(this.m).mul(this.r2));return W._forceRed(this)}}(s,this)},15037:(s,j,R)=>{var S;s.exports=function(c){return S||(S=new I(null)),S.generate(c)};function I(T){this.rand=T}if(s.exports.Rand=I,I.prototype.generate=function(c){return this._rand(c)},I.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var h=new Uint8Array(c),p=0;p<h.length;p++)h[p]=this.rand.getByte();return h},typeof self=="object")self.crypto&&self.crypto.getRandomValues?I.prototype._rand=function(c){var h=new Uint8Array(c);return self.crypto.getRandomValues(h),h}:self.msCrypto&&self.msCrypto.getRandomValues?I.prototype._rand=function(c){var h=new Uint8Array(c);return self.msCrypto.getRandomValues(h),h}:typeof window=="object"&&(I.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var F=R(73776);if(typeof F.randomBytes!="function")throw new Error("Not supported");I.prototype._rand=function(c){return F.randomBytes(c)}}catch{}},50462:(s,j,R)=>{var S=R(92861).Buffer;function I(v){S.isBuffer(v)||(v=S.from(v));for(var w=v.length/4|0,b=new Array(w),l=0;l<w;l++)b[l]=v.readUInt32BE(l*4);return b}function F(v){for(var w=0;w<v.length;v++)v[w]=0}function T(v,w,b,l,N){for(var d=b[0],g=b[1],f=b[2],_=b[3],E=v[0]^w[0],P=v[1]^w[1],M=v[2]^w[2],V=v[3]^w[3],O,y,K,Y,Z=4,ie=1;ie<N;ie++)O=d[E>>>24]^g[P>>>16&255]^f[M>>>8&255]^_[V&255]^w[Z++],y=d[P>>>24]^g[M>>>16&255]^f[V>>>8&255]^_[E&255]^w[Z++],K=d[M>>>24]^g[V>>>16&255]^f[E>>>8&255]^_[P&255]^w[Z++],Y=d[V>>>24]^g[E>>>16&255]^f[P>>>8&255]^_[M&255]^w[Z++],E=O,P=y,M=K,V=Y;return O=(l[E>>>24]<<24|l[P>>>16&255]<<16|l[M>>>8&255]<<8|l[V&255])^w[Z++],y=(l[P>>>24]<<24|l[M>>>16&255]<<16|l[V>>>8&255]<<8|l[E&255])^w[Z++],K=(l[M>>>24]<<24|l[V>>>16&255]<<16|l[E>>>8&255]<<8|l[P&255])^w[Z++],Y=(l[V>>>24]<<24|l[E>>>16&255]<<16|l[P>>>8&255]<<8|l[M&255])^w[Z++],O=O>>>0,y=y>>>0,K=K>>>0,Y=Y>>>0,[O,y,K,Y]}var c=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var v=new Array(256),w=0;w<256;w++)w<128?v[w]=w<<1:v[w]=w<<1^283;for(var b=[],l=[],N=[[],[],[],[]],d=[[],[],[],[]],g=0,f=0,_=0;_<256;++_){var E=f^f<<1^f<<2^f<<3^f<<4;E=E>>>8^E&255^99,b[g]=E,l[E]=g;var P=v[g],M=v[P],V=v[M],O=v[E]*257^E*16843008;N[0][g]=O<<24|O>>>8,N[1][g]=O<<16|O>>>16,N[2][g]=O<<8|O>>>24,N[3][g]=O,O=V*16843009^M*65537^P*257^g*16843008,d[0][E]=O<<24|O>>>8,d[1][E]=O<<16|O>>>16,d[2][E]=O<<8|O>>>24,d[3][E]=O,g===0?g=f=1:(g=P^v[v[v[V^P]]],f^=v[v[f]])}return{SBOX:b,INV_SBOX:l,SUB_MIX:N,INV_SUB_MIX:d}}();function p(v){this._key=I(v),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var v=this._key,w=v.length,b=w+6,l=(b+1)*4,N=[],d=0;d<w;d++)N[d]=v[d];for(d=w;d<l;d++){var g=N[d-1];d%w===0?(g=g<<8|g>>>24,g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[g&255],g^=c[d/w|0]<<24):w>6&&d%w===4&&(g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[g&255]),N[d]=N[d-w]^g}for(var f=[],_=0;_<l;_++){var E=l-_,P=N[E-(_%4?0:4)];_<4||E<=4?f[_]=P:f[_]=h.INV_SUB_MIX[0][h.SBOX[P>>>24]]^h.INV_SUB_MIX[1][h.SBOX[P>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[P>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[P&255]]}this._nRounds=b,this._keySchedule=N,this._invKeySchedule=f},p.prototype.encryptBlockRaw=function(v){return v=I(v),T(v,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},p.prototype.encryptBlock=function(v){var w=this.encryptBlockRaw(v),b=S.allocUnsafe(16);return b.writeUInt32BE(w[0],0),b.writeUInt32BE(w[1],4),b.writeUInt32BE(w[2],8),b.writeUInt32BE(w[3],12),b},p.prototype.decryptBlock=function(v){v=I(v);var w=v[1];v[1]=v[3],v[3]=w;var b=T(v,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),l=S.allocUnsafe(16);return l.writeUInt32BE(b[0],0),l.writeUInt32BE(b[3],4),l.writeUInt32BE(b[2],8),l.writeUInt32BE(b[1],12),l},p.prototype.scrub=function(){F(this._keySchedule),F(this._invKeySchedule),F(this._key)},s.exports.AES=p},92356:(s,j,R)=>{var S=R(50462),I=R(92861).Buffer,F=R(56168),T=R(56698),c=R(25892),h=R(30295),p=R(45122);function v(l,N){var d=0;l.length!==N.length&&d++;for(var g=Math.min(l.length,N.length),f=0;f<g;++f)d+=l[f]^N[f];return d}function w(l,N,d){if(N.length===12)return l._finID=I.concat([N,I.from([0,0,0,1])]),I.concat([N,I.from([0,0,0,2])]);var g=new c(d),f=N.length,_=f%16;g.update(N),_&&(_=16-_,g.update(I.alloc(_,0))),g.update(I.alloc(8,0));var E=f*8,P=I.alloc(8);P.writeUIntBE(E,0,8),g.update(P),l._finID=g.state;var M=I.from(l._finID);return p(M),M}function b(l,N,d,g){F.call(this);var f=I.alloc(4,0);this._cipher=new S.AES(N);var _=this._cipher.encryptBlock(f);this._ghash=new c(_),d=w(this,d,_),this._prev=I.from(d),this._cache=I.allocUnsafe(0),this._secCache=I.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}T(b,F),b.prototype._update=function(l){if(!this._called&&this._alen){var N=16-this._alen%16;N<16&&(N=I.alloc(N,0),this._ghash.update(N))}this._called=!0;var d=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(d),this._len+=l.length,d},b.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&v(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},b.prototype.getAuthTag=function(){if(this._decrypt||!I.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},b.prototype.setAuthTag=function(N){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=N},b.prototype.setAAD=function(N){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(N),this._alen+=N.length},s.exports=b},1241:(s,j,R)=>{var S=R(25799),I=R(36171),F=R(3219);function T(){return Object.keys(F)}j.createCipher=j.Cipher=S.createCipher,j.createCipheriv=j.Cipheriv=S.createCipheriv,j.createDecipher=j.Decipher=I.createDecipher,j.createDecipheriv=j.Decipheriv=I.createDecipheriv,j.listCiphers=j.getCiphers=T},36171:(s,j,R)=>{var S=R(92356),I=R(92861).Buffer,F=R(530),T=R(50650),c=R(56168),h=R(50462),p=R(68078),v=R(56698);function w(g,f,_){c.call(this),this._cache=new b,this._last=void 0,this._cipher=new h.AES(f),this._prev=I.from(_),this._mode=g,this._autopadding=!0}v(w,c),w.prototype._update=function(g){this._cache.add(g);for(var f,_,E=[];f=this._cache.get(this._autopadding);)_=this._mode.decrypt(this,f),E.push(_);return I.concat(E)},w.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function b(){this.cache=I.allocUnsafe(0)}b.prototype.add=function(g){this.cache=I.concat([this.cache,g])},b.prototype.get=function(g){var f;if(g){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache};function l(g){var f=g[15];if(f<1||f>16)throw new Error("unable to decrypt data");for(var _=-1;++_<f;)if(g[_+(16-f)]!==f)throw new Error("unable to decrypt data");if(f!==16)return g.slice(0,16-f)}function N(g,f,_){var E=F[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof _=="string"&&(_=I.from(_)),E.mode!=="GCM"&&_.length!==E.iv)throw new TypeError("invalid iv length "+_.length);if(typeof f=="string"&&(f=I.from(f)),f.length!==E.key/8)throw new TypeError("invalid key length "+f.length);return E.type==="stream"?new T(E.module,f,_,!0):E.type==="auth"?new S(E.module,f,_,!0):new w(E.module,f,_)}function d(g,f){var _=F[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var E=p(f,!1,_.key,_.iv);return N(g,E.key,E.iv)}j.createDecipher=d,j.createDecipheriv=N},25799:(s,j,R)=>{var S=R(530),I=R(92356),F=R(92861).Buffer,T=R(50650),c=R(56168),h=R(50462),p=R(68078),v=R(56698);function w(g,f,_){c.call(this),this._cache=new l,this._cipher=new h.AES(f),this._prev=F.from(_),this._mode=g,this._autopadding=!0}v(w,c),w.prototype._update=function(g){this._cache.add(g);for(var f,_,E=[];f=this._cache.get();)_=this._mode.encrypt(this,f),E.push(_);return F.concat(E)};var b=F.alloc(16,16);w.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(b))throw this._cipher.scrub(),new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function l(){this.cache=F.allocUnsafe(0)}l.prototype.add=function(g){this.cache=F.concat([this.cache,g])},l.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},l.prototype.flush=function(){for(var g=16-this.cache.length,f=F.allocUnsafe(g),_=-1;++_<g;)f.writeUInt8(g,_);return F.concat([this.cache,f])};function N(g,f,_){var E=S[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=F.from(f)),f.length!==E.key/8)throw new TypeError("invalid key length "+f.length);if(typeof _=="string"&&(_=F.from(_)),E.mode!=="GCM"&&_.length!==E.iv)throw new TypeError("invalid iv length "+_.length);return E.type==="stream"?new T(E.module,f,_):E.type==="auth"?new I(E.module,f,_):new w(E.module,f,_)}function d(g,f){var _=S[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var E=p(f,!1,_.key,_.iv);return N(g,E.key,E.iv)}j.createCipheriv=N,j.createCipher=d},25892:(s,j,R)=>{var S=R(92861).Buffer,I=S.alloc(16,0);function F(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function T(h){var p=S.allocUnsafe(16);return p.writeUInt32BE(h[0]>>>0,0),p.writeUInt32BE(h[1]>>>0,4),p.writeUInt32BE(h[2]>>>0,8),p.writeUInt32BE(h[3]>>>0,12),p}function c(h){this.h=h,this.state=S.alloc(16,0),this.cache=S.allocUnsafe(0)}c.prototype.ghash=function(h){for(var p=-1;++p<h.length;)this.state[p]^=h[p];this._multiply()},c.prototype._multiply=function(){for(var h=F(this.h),p=[0,0,0,0],v,w,b,l=-1;++l<128;){for(w=(this.state[~~(l/8)]&1<<7-l%8)!==0,w&&(p[0]^=h[0],p[1]^=h[1],p[2]^=h[2],p[3]^=h[3]),b=(h[3]&1)!==0,v=3;v>0;v--)h[v]=h[v]>>>1|(h[v-1]&1)<<31;h[0]=h[0]>>>1,b&&(h[0]=h[0]^-520093696)}this.state=T(p)},c.prototype.update=function(h){this.cache=S.concat([this.cache,h]);for(var p;this.cache.length>=16;)p=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(p)},c.prototype.final=function(h,p){return this.cache.length&&this.ghash(S.concat([this.cache,I],16)),this.ghash(T([0,h,0,p])),this.state},s.exports=c},45122:s=>{function j(R){for(var S=R.length,I;S--;)if(I=R.readUInt8(S),I===255)R.writeUInt8(0,S);else{I++,R.writeUInt8(I,S);break}}s.exports=j},92884:(s,j,R)=>{var S=R(30295);j.encrypt=function(I,F){var T=S(F,I._prev);return I._prev=I._cipher.encryptBlock(T),I._prev},j.decrypt=function(I,F){var T=I._prev;I._prev=F;var c=I._cipher.decryptBlock(F);return S(c,T)}},46383:(s,j,R)=>{var S=R(92861).Buffer,I=R(30295);function F(T,c,h){var p=c.length,v=I(c,T._cache);return T._cache=T._cache.slice(p),T._prev=S.concat([T._prev,h?c:v]),v}j.encrypt=function(T,c,h){for(var p=S.allocUnsafe(0),v;c.length;)if(T._cache.length===0&&(T._cache=T._cipher.encryptBlock(T._prev),T._prev=S.allocUnsafe(0)),T._cache.length<=c.length)v=T._cache.length,p=S.concat([p,F(T,c.slice(0,v),h)]),c=c.slice(v);else{p=S.concat([p,F(T,c,h)]);break}return p}},55264:(s,j,R)=>{var S=R(92861).Buffer;function I(T,c,h){for(var p,v=-1,w=8,b=0,l,N;++v<w;)p=T._cipher.encryptBlock(T._prev),l=c&1<<7-v?128:0,N=p[0]^l,b+=(N&128)>>v%8,T._prev=F(T._prev,h?l:N);return b}function F(T,c){var h=T.length,p=-1,v=S.allocUnsafe(T.length);for(T=S.concat([T,S.from([c])]);++p<h;)v[p]=T[p]<<1|T[p+1]>>7;return v}j.encrypt=function(T,c,h){for(var p=c.length,v=S.allocUnsafe(p),w=-1;++w<p;)v[w]=I(T,c[w],h);return v}},86975:(s,j,R)=>{var S=R(92861).Buffer;function I(F,T,c){var h=F._cipher.encryptBlock(F._prev),p=h[0]^T;return F._prev=S.concat([F._prev.slice(1),S.from([c?T:p])]),p}j.encrypt=function(F,T,c){for(var h=T.length,p=S.allocUnsafe(h),v=-1;++v<h;)p[v]=I(F,T[v],c);return p}},63053:(s,j,R)=>{var S=R(30295),I=R(92861).Buffer,F=R(45122);function T(h){var p=h._cipher.encryptBlockRaw(h._prev);return F(h._prev),p}var c=16;j.encrypt=function(h,p){var v=Math.ceil(p.length/c),w=h._cache.length;h._cache=I.concat([h._cache,I.allocUnsafe(v*c)]);for(var b=0;b<v;b++){var l=T(h),N=w+b*c;h._cache.writeUInt32BE(l[0],N+0),h._cache.writeUInt32BE(l[1],N+4),h._cache.writeUInt32BE(l[2],N+8),h._cache.writeUInt32BE(l[3],N+12)}var d=h._cache.slice(0,p.length);return h._cache=h._cache.slice(p.length),S(p,d)}},52632:(s,j)=>{j.encrypt=function(R,S){return R._cipher.encryptBlock(S)},j.decrypt=function(R,S){return R._cipher.decryptBlock(S)}},530:(s,j,R)=>{var S={ECB:R(52632),CBC:R(92884),CFB:R(46383),CFB8:R(86975),CFB1:R(55264),OFB:R(46843),CTR:R(63053),GCM:R(63053)},I=R(3219);for(var F in I)I[F].module=S[I[F].mode];s.exports=I},46843:(s,j,R)=>{var S=R(48287).Buffer,I=R(30295);function F(T){return T._prev=T._cipher.encryptBlock(T._prev),T._prev}j.encrypt=function(T,c){for(;T._cache.length<c.length;)T._cache=S.concat([T._cache,F(T)]);var h=T._cache.slice(0,c.length);return T._cache=T._cache.slice(c.length),I(c,h)}},50650:(s,j,R)=>{var S=R(50462),I=R(92861).Buffer,F=R(56168),T=R(56698);function c(h,p,v,w){F.call(this),this._cipher=new S.AES(p),this._prev=I.from(v),this._cache=I.allocUnsafe(0),this._secCache=I.allocUnsafe(0),this._decrypt=w,this._mode=h}T(c,F),c.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},s.exports=c},30125:(s,j,R)=>{var S=R(84050),I=R(1241),F=R(530),T=R(32438),c=R(68078);function h(l,N){l=l.toLowerCase();var d,g;if(F[l])d=F[l].key,g=F[l].iv;else if(T[l])d=T[l].key*8,g=T[l].iv;else throw new TypeError("invalid suite type");var f=c(N,!1,d,g);return v(l,f.key,f.iv)}function p(l,N){l=l.toLowerCase();var d,g;if(F[l])d=F[l].key,g=F[l].iv;else if(T[l])d=T[l].key*8,g=T[l].iv;else throw new TypeError("invalid suite type");var f=c(N,!1,d,g);return w(l,f.key,f.iv)}function v(l,N,d){if(l=l.toLowerCase(),F[l])return I.createCipheriv(l,N,d);if(T[l])return new S({key:N,iv:d,mode:l});throw new TypeError("invalid suite type")}function w(l,N,d){if(l=l.toLowerCase(),F[l])return I.createDecipheriv(l,N,d);if(T[l])return new S({key:N,iv:d,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function b(){return Object.keys(T).concat(I.getCiphers())}j.createCipher=j.Cipher=h,j.createCipheriv=j.Cipheriv=v,j.createDecipher=j.Decipher=p,j.createDecipheriv=j.Decipheriv=w,j.listCiphers=j.getCiphers=b},84050:(s,j,R)=>{var S=R(56168),I=R(29560),F=R(56698),T=R(92861).Buffer,c={"des-ede3-cbc":I.CBC.instantiate(I.EDE),"des-ede3":I.EDE,"des-ede-cbc":I.CBC.instantiate(I.EDE),"des-ede":I.EDE,"des-cbc":I.CBC.instantiate(I.DES),"des-ecb":I.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],s.exports=h,F(h,S);function h(p){S.call(this);var v=p.mode.toLowerCase(),w=c[v],b;p.decrypt?b="decrypt":b="encrypt";var l=p.key;T.isBuffer(l)||(l=T.from(l)),(v==="des-ede"||v==="des-ede-cbc")&&(l=T.concat([l,l.slice(0,8)]));var N=p.iv;T.isBuffer(N)||(N=T.from(N)),this._des=w.create({key:l,iv:N,type:b})}h.prototype._update=function(p){return T.from(this._des.update(p))},h.prototype._final=function(){return T.from(this._des.final())}},32438:(s,j)=>{j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},67332:(s,j,R)=>{var S=R(48287).Buffer,I=R(78893),F=R(53209);function T(p){var v=c(p),w=v.toRed(I.mont(p.modulus)).redPow(new I(p.publicExponent)).fromRed();return{blinder:w,unblinder:v.invm(p.modulus)}}function c(p){var v=p.modulus.byteLength(),w;do w=new I(F(v));while(w.cmp(p.modulus)>=0||!w.umod(p.prime1)||!w.umod(p.prime2));return w}function h(p,v){var w=T(v),b=v.modulus.byteLength(),l=new I(p).mul(w.blinder).umod(v.modulus),N=l.toRed(I.mont(v.prime1)),d=l.toRed(I.mont(v.prime2)),g=v.coefficient,f=v.prime1,_=v.prime2,E=N.redPow(v.exponent1).fromRed(),P=d.redPow(v.exponent2).fromRed(),M=E.isub(P).imul(g).umod(f).imul(_);return P.iadd(M).imul(w.unblinder).umod(v.modulus).toArrayLike(S,"be",b)}h.getr=c,s.exports=h},78893:function(s,j,R){s=R.nmd(s),function(S,I){"use strict";function F(D,m){if(!D)throw new Error(m||"Assertion failed")}function T(D,m){D.super_=m;var C=function(){};C.prototype=m.prototype,D.prototype=new C,D.prototype.constructor=D}function c(D,m,C){if(c.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((m==="le"||m==="be")&&(C=m,m=10),this._init(D||0,m||10,C||"be"))}typeof S=="object"?S.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=R(98285).Buffer}catch{}c.isBN=function(m){return m instanceof c?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===c.wordSize&&Array.isArray(m.words)},c.max=function(m,C){return m.cmp(C)>0?m:C},c.min=function(m,C){return m.cmp(C)<0?m:C},c.prototype._init=function(m,C,L){if(typeof m=="number")return this._initNumber(m,C,L);if(typeof m=="object")return this._initArray(m,C,L);C==="hex"&&(C=16),F(C===(C|0)&&C>=2&&C<=36),m=m.toString().replace(/\s+/g,"");var H=0;m[0]==="-"&&(H++,this.negative=1),H<m.length&&(C===16?this._parseHex(m,H,L):(this._parseBase(m,C,H),L==="le"&&this._initArray(this.toArray(),C,L)))},c.prototype._initNumber=function(m,C,L){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(F(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),C,L)},c.prototype._initArray=function(m,C,L){if(F(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var z,G,ee=0;if(L==="be")for(H=m.length-1,z=0;H>=0;H-=3)G=m[H]|m[H-1]<<8|m[H-2]<<16,this.words[z]|=G<<ee&67108863,this.words[z+1]=G>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,z++);else if(L==="le")for(H=0,z=0;H<m.length;H+=3)G=m[H]|m[H+1]<<8|m[H+2]<<16,this.words[z]|=G<<ee&67108863,this.words[z+1]=G>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,z++);return this._strip()};function p(D,m){var C=D.charCodeAt(m);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;F(!1,"Invalid character in "+D)}function v(D,m,C){var L=p(D,C);return C-1>=m&&(L|=p(D,C-1)<<4),L}c.prototype._parseHex=function(m,C,L){this.length=Math.ceil((m.length-C)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var z=0,G=0,ee;if(L==="be")for(H=m.length-1;H>=C;H-=2)ee=v(m,C,H)<<z,this.words[G]|=ee&67108863,z>=18?(z-=18,G+=1,this.words[G]|=ee>>>26):z+=8;else{var ne=m.length-C;for(H=ne%2===0?C+1:C;H<m.length;H+=2)ee=v(m,C,H)<<z,this.words[G]|=ee&67108863,z>=18?(z-=18,G+=1,this.words[G]|=ee>>>26):z+=8}this._strip()};function w(D,m,C,L){for(var H=0,z=0,G=Math.min(D.length,C),ee=m;ee<G;ee++){var ne=D.charCodeAt(ee)-48;H*=L,ne>=49?z=ne-49+10:ne>=17?z=ne-17+10:z=ne,F(ne>=0&&z<L,"Invalid character"),H+=z}return H}c.prototype._parseBase=function(m,C,L){this.words=[0],this.length=1;for(var H=0,z=1;z<=67108863;z*=C)H++;H--,z=z/C|0;for(var G=m.length-L,ee=G%H,ne=Math.min(G,G-ee)+L,q=0,se=L;se<ne;se+=H)q=w(m,se,se+H,C),this.imuln(z),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(ee!==0){var xe=1;for(q=w(m,se,m.length,C),se=0;se<ee;se++)xe*=C;this.imuln(xe),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},c.prototype.copy=function(m){m.words=new Array(this.length);for(var C=0;C<this.length;C++)m.words[C]=this.words[C];m.length=this.length,m.negative=this.negative,m.red=this.red};function b(D,m){D.words=m.words,D.length=m.length,D.negative=m.negative,D.red=m.red}if(c.prototype._move=function(m){b(m,this)},c.prototype.clone=function(){var m=new c(null);return this.copy(m),m},c.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{c.prototype.inspect=l}else c.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(m,C){m=m||10,C=C|0||1;var L;if(m===16||m==="hex"){L="";for(var H=0,z=0,G=0;G<this.length;G++){var ee=this.words[G],ne=((ee<<H|z)&16777215).toString(16);z=ee>>>24-H&16777215,z!==0||G!==this.length-1?L=N[6-ne.length]+ne+L:L=ne+L,H+=2,H>=26&&(H-=26,G--)}for(z!==0&&(L=z.toString(16)+L);L.length%C!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(m===(m|0)&&m>=2&&m<=36){var q=d[m],se=g[m];L="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var Ee=xe.modrn(se).toString(m);xe=xe.idivn(se),xe.isZero()?L=Ee+L:L=N[q-Ee.length]+Ee+L}for(this.isZero()&&(L="0"+L);L.length%C!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}F(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&F(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},c.prototype.toJSON=function(){return this.toString(16,2)},h&&(c.prototype.toBuffer=function(m,C){return this.toArrayLike(h,m,C)}),c.prototype.toArray=function(m,C){return this.toArrayLike(Array,m,C)};var f=function(m,C){return m.allocUnsafe?m.allocUnsafe(C):new m(C)};c.prototype.toArrayLike=function(m,C,L){this._strip();var H=this.byteLength(),z=L||Math.max(1,H);F(H<=z,"byte array longer than desired length"),F(z>0,"Requested array length <= 0");var G=f(m,z),ee=C==="le"?"LE":"BE";return this["_toArrayLike"+ee](G,H),G},c.prototype._toArrayLikeLE=function(m,C){for(var L=0,H=0,z=0,G=0;z<this.length;z++){var ee=this.words[z]<<G|H;m[L++]=ee&255,L<m.length&&(m[L++]=ee>>8&255),L<m.length&&(m[L++]=ee>>16&255),G===6?(L<m.length&&(m[L++]=ee>>24&255),H=0,G=0):(H=ee>>>24,G+=2)}if(L<m.length)for(m[L++]=H;L<m.length;)m[L++]=0},c.prototype._toArrayLikeBE=function(m,C){for(var L=m.length-1,H=0,z=0,G=0;z<this.length;z++){var ee=this.words[z]<<G|H;m[L--]=ee&255,L>=0&&(m[L--]=ee>>8&255),L>=0&&(m[L--]=ee>>16&255),G===6?(L>=0&&(m[L--]=ee>>24&255),H=0,G=0):(H=ee>>>24,G+=2)}if(L>=0)for(m[L--]=H;L>=0;)m[L--]=0},Math.clz32?c.prototype._countBits=function(m){return 32-Math.clz32(m)}:c.prototype._countBits=function(m){var C=m,L=0;return C>=4096&&(L+=13,C>>>=13),C>=64&&(L+=7,C>>>=7),C>=8&&(L+=4,C>>>=4),C>=2&&(L+=2,C>>>=2),L+C},c.prototype._zeroBits=function(m){if(m===0)return 26;var C=m,L=0;return C&8191||(L+=13,C>>>=13),C&127||(L+=7,C>>>=7),C&15||(L+=4,C>>>=4),C&3||(L+=2,C>>>=2),C&1||L++,L},c.prototype.bitLength=function(){var m=this.words[this.length-1],C=this._countBits(m);return(this.length-1)*26+C};function _(D){for(var m=new Array(D.bitLength()),C=0;C<m.length;C++){var L=C/26|0,H=C%26;m[C]=D.words[L]>>>H&1}return m}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,C=0;C<this.length;C++){var L=this._zeroBits(this.words[C]);if(m+=L,L!==26)break}return m},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},c.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var C=0;C<m.length;C++)this.words[C]=this.words[C]|m.words[C];return this._strip()},c.prototype.ior=function(m){return F((this.negative|m.negative)===0),this.iuor(m)},c.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},c.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},c.prototype.iuand=function(m){var C;this.length>m.length?C=m:C=this;for(var L=0;L<C.length;L++)this.words[L]=this.words[L]&m.words[L];return this.length=C.length,this._strip()},c.prototype.iand=function(m){return F((this.negative|m.negative)===0),this.iuand(m)},c.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},c.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},c.prototype.iuxor=function(m){var C,L;this.length>m.length?(C=this,L=m):(C=m,L=this);for(var H=0;H<L.length;H++)this.words[H]=C.words[H]^L.words[H];if(this!==C)for(;H<C.length;H++)this.words[H]=C.words[H];return this.length=C.length,this._strip()},c.prototype.ixor=function(m){return F((this.negative|m.negative)===0),this.iuxor(m)},c.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},c.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},c.prototype.inotn=function(m){F(typeof m=="number"&&m>=0);var C=Math.ceil(m/26)|0,L=m%26;this._expand(C),L>0&&C--;for(var H=0;H<C;H++)this.words[H]=~this.words[H]&67108863;return L>0&&(this.words[H]=~this.words[H]&67108863>>26-L),this._strip()},c.prototype.notn=function(m){return this.clone().inotn(m)},c.prototype.setn=function(m,C){F(typeof m=="number"&&m>=0);var L=m/26|0,H=m%26;return this._expand(L+1),C?this.words[L]=this.words[L]|1<<H:this.words[L]=this.words[L]&~(1<<H),this._strip()},c.prototype.iadd=function(m){var C;if(this.negative!==0&&m.negative===0)return this.negative=0,C=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,C=this.isub(m),m.negative=1,C._normSign();var L,H;this.length>m.length?(L=this,H=m):(L=m,H=this);for(var z=0,G=0;G<H.length;G++)C=(L.words[G]|0)+(H.words[G]|0)+z,this.words[G]=C&67108863,z=C>>>26;for(;z!==0&&G<L.length;G++)C=(L.words[G]|0)+z,this.words[G]=C&67108863,z=C>>>26;if(this.length=L.length,z!==0)this.words[this.length]=z,this.length++;else if(L!==this)for(;G<L.length;G++)this.words[G]=L.words[G];return this},c.prototype.add=function(m){var C;return m.negative!==0&&this.negative===0?(m.negative=0,C=this.sub(m),m.negative^=1,C):m.negative===0&&this.negative!==0?(this.negative=0,C=m.sub(this),this.negative=1,C):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},c.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var C=this.iadd(m);return m.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var L=this.cmp(m);if(L===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,z;L>0?(H=this,z=m):(H=m,z=this);for(var G=0,ee=0;ee<z.length;ee++)C=(H.words[ee]|0)-(z.words[ee]|0)+G,G=C>>26,this.words[ee]=C&67108863;for(;G!==0&&ee<H.length;ee++)C=(H.words[ee]|0)+G,G=C>>26,this.words[ee]=C&67108863;if(G===0&&ee<H.length&&H!==this)for(;ee<H.length;ee++)this.words[ee]=H.words[ee];return this.length=Math.max(this.length,ee),H!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(m){return this.clone().isub(m)};function E(D,m,C){C.negative=m.negative^D.negative;var L=D.length+m.length|0;C.length=L,L=L-1|0;var H=D.words[0]|0,z=m.words[0]|0,G=H*z,ee=G&67108863,ne=G/67108864|0;C.words[0]=ee;for(var q=1;q<L;q++){for(var se=ne>>>26,xe=ne&67108863,Ee=Math.min(q,m.length-1),be=Math.max(0,q-D.length+1);be<=Ee;be++){var Pe=q-be|0;H=D.words[Pe]|0,z=m.words[be]|0,G=H*z+xe,se+=G/67108864|0,xe=G&67108863}C.words[q]=xe|0,ne=se|0}return ne!==0?C.words[q]=ne|0:C.length--,C._strip()}var P=function(m,C,L){var H=m.words,z=C.words,G=L.words,ee=0,ne,q,se,xe=H[0]|0,Ee=xe&8191,be=xe>>>13,Pe=H[1]|0,X=Pe&8191,te=Pe>>>13,de=H[2]|0,he=de&8191,we=de>>>13,B=H[3]|0,U=B&8191,le=B>>>13,ge=H[4]|0,_e=ge&8191,ye=ge>>>13,Me=H[5]|0,Be=Me&8191,Ve=Me>>>13,_t=H[6]|0,Je=_t&8191,nt=_t>>>13,Rt=H[7]|0,ce=Rt&8191,ae=Rt>>>13,ue=H[8]|0,ke=ue&8191,Ie=ue>>>13,Ke=H[9]|0,Le=Ke&8191,Xe=Ke>>>13,Bt=z[0]|0,rt=Bt&8191,ct=Bt>>>13,yt=z[1]|0,pt=yt&8191,St=yt>>>13,un=z[2]|0,gt=un&8191,xt=un>>>13,ti=z[3]|0,Ot=ti&8191,Kt=ti>>>13,Ji=z[4]|0,Zt=Ji&8191,zt=Ji>>>13,Vi=z[5]|0,Mt=Vi&8191,ft=Vi>>>13,vt=z[6]|0,De=vt&8191,ze=vt>>>13,Ct=z[7]|0,lt=Ct&8191,ht=Ct>>>13,an=z[8]|0,Dt=an&8191,Vt=an>>>13,qt=z[9]|0,mt=qt&8191,Nt=qt>>>13;L.negative=m.negative^C.negative,L.length=19,ne=Math.imul(Ee,rt),q=Math.imul(Ee,ct),q=q+Math.imul(be,rt)|0,se=Math.imul(be,ct);var Ft=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ne=Math.imul(X,rt),q=Math.imul(X,ct),q=q+Math.imul(te,rt)|0,se=Math.imul(te,ct),ne=ne+Math.imul(Ee,pt)|0,q=q+Math.imul(Ee,St)|0,q=q+Math.imul(be,pt)|0,se=se+Math.imul(be,St)|0;var hn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(hn>>>26)|0,hn&=67108863,ne=Math.imul(he,rt),q=Math.imul(he,ct),q=q+Math.imul(we,rt)|0,se=Math.imul(we,ct),ne=ne+Math.imul(X,pt)|0,q=q+Math.imul(X,St)|0,q=q+Math.imul(te,pt)|0,se=se+Math.imul(te,St)|0,ne=ne+Math.imul(Ee,gt)|0,q=q+Math.imul(Ee,xt)|0,q=q+Math.imul(be,gt)|0,se=se+Math.imul(be,xt)|0;var sn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(sn>>>26)|0,sn&=67108863,ne=Math.imul(U,rt),q=Math.imul(U,ct),q=q+Math.imul(le,rt)|0,se=Math.imul(le,ct),ne=ne+Math.imul(he,pt)|0,q=q+Math.imul(he,St)|0,q=q+Math.imul(we,pt)|0,se=se+Math.imul(we,St)|0,ne=ne+Math.imul(X,gt)|0,q=q+Math.imul(X,xt)|0,q=q+Math.imul(te,gt)|0,se=se+Math.imul(te,xt)|0,ne=ne+Math.imul(Ee,Ot)|0,q=q+Math.imul(Ee,Kt)|0,q=q+Math.imul(be,Ot)|0,se=se+Math.imul(be,Kt)|0;var Ht=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ne=Math.imul(_e,rt),q=Math.imul(_e,ct),q=q+Math.imul(ye,rt)|0,se=Math.imul(ye,ct),ne=ne+Math.imul(U,pt)|0,q=q+Math.imul(U,St)|0,q=q+Math.imul(le,pt)|0,se=se+Math.imul(le,St)|0,ne=ne+Math.imul(he,gt)|0,q=q+Math.imul(he,xt)|0,q=q+Math.imul(we,gt)|0,se=se+Math.imul(we,xt)|0,ne=ne+Math.imul(X,Ot)|0,q=q+Math.imul(X,Kt)|0,q=q+Math.imul(te,Ot)|0,se=se+Math.imul(te,Kt)|0,ne=ne+Math.imul(Ee,Zt)|0,q=q+Math.imul(Ee,zt)|0,q=q+Math.imul(be,Zt)|0,se=se+Math.imul(be,zt)|0;var Sn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,ne=Math.imul(Be,rt),q=Math.imul(Be,ct),q=q+Math.imul(Ve,rt)|0,se=Math.imul(Ve,ct),ne=ne+Math.imul(_e,pt)|0,q=q+Math.imul(_e,St)|0,q=q+Math.imul(ye,pt)|0,se=se+Math.imul(ye,St)|0,ne=ne+Math.imul(U,gt)|0,q=q+Math.imul(U,xt)|0,q=q+Math.imul(le,gt)|0,se=se+Math.imul(le,xt)|0,ne=ne+Math.imul(he,Ot)|0,q=q+Math.imul(he,Kt)|0,q=q+Math.imul(we,Ot)|0,se=se+Math.imul(we,Kt)|0,ne=ne+Math.imul(X,Zt)|0,q=q+Math.imul(X,zt)|0,q=q+Math.imul(te,Zt)|0,se=se+Math.imul(te,zt)|0,ne=ne+Math.imul(Ee,Mt)|0,q=q+Math.imul(Ee,ft)|0,q=q+Math.imul(be,Mt)|0,se=se+Math.imul(be,ft)|0;var mn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(mn>>>26)|0,mn&=67108863,ne=Math.imul(Je,rt),q=Math.imul(Je,ct),q=q+Math.imul(nt,rt)|0,se=Math.imul(nt,ct),ne=ne+Math.imul(Be,pt)|0,q=q+Math.imul(Be,St)|0,q=q+Math.imul(Ve,pt)|0,se=se+Math.imul(Ve,St)|0,ne=ne+Math.imul(_e,gt)|0,q=q+Math.imul(_e,xt)|0,q=q+Math.imul(ye,gt)|0,se=se+Math.imul(ye,xt)|0,ne=ne+Math.imul(U,Ot)|0,q=q+Math.imul(U,Kt)|0,q=q+Math.imul(le,Ot)|0,se=se+Math.imul(le,Kt)|0,ne=ne+Math.imul(he,Zt)|0,q=q+Math.imul(he,zt)|0,q=q+Math.imul(we,Zt)|0,se=se+Math.imul(we,zt)|0,ne=ne+Math.imul(X,Mt)|0,q=q+Math.imul(X,ft)|0,q=q+Math.imul(te,Mt)|0,se=se+Math.imul(te,ft)|0,ne=ne+Math.imul(Ee,De)|0,q=q+Math.imul(Ee,ze)|0,q=q+Math.imul(be,De)|0,se=se+Math.imul(be,ze)|0;var In=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(In>>>26)|0,In&=67108863,ne=Math.imul(ce,rt),q=Math.imul(ce,ct),q=q+Math.imul(ae,rt)|0,se=Math.imul(ae,ct),ne=ne+Math.imul(Je,pt)|0,q=q+Math.imul(Je,St)|0,q=q+Math.imul(nt,pt)|0,se=se+Math.imul(nt,St)|0,ne=ne+Math.imul(Be,gt)|0,q=q+Math.imul(Be,xt)|0,q=q+Math.imul(Ve,gt)|0,se=se+Math.imul(Ve,xt)|0,ne=ne+Math.imul(_e,Ot)|0,q=q+Math.imul(_e,Kt)|0,q=q+Math.imul(ye,Ot)|0,se=se+Math.imul(ye,Kt)|0,ne=ne+Math.imul(U,Zt)|0,q=q+Math.imul(U,zt)|0,q=q+Math.imul(le,Zt)|0,se=se+Math.imul(le,zt)|0,ne=ne+Math.imul(he,Mt)|0,q=q+Math.imul(he,ft)|0,q=q+Math.imul(we,Mt)|0,se=se+Math.imul(we,ft)|0,ne=ne+Math.imul(X,De)|0,q=q+Math.imul(X,ze)|0,q=q+Math.imul(te,De)|0,se=se+Math.imul(te,ze)|0,ne=ne+Math.imul(Ee,lt)|0,q=q+Math.imul(Ee,ht)|0,q=q+Math.imul(be,lt)|0,se=se+Math.imul(be,ht)|0;var Dn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,ne=Math.imul(ke,rt),q=Math.imul(ke,ct),q=q+Math.imul(Ie,rt)|0,se=Math.imul(Ie,ct),ne=ne+Math.imul(ce,pt)|0,q=q+Math.imul(ce,St)|0,q=q+Math.imul(ae,pt)|0,se=se+Math.imul(ae,St)|0,ne=ne+Math.imul(Je,gt)|0,q=q+Math.imul(Je,xt)|0,q=q+Math.imul(nt,gt)|0,se=se+Math.imul(nt,xt)|0,ne=ne+Math.imul(Be,Ot)|0,q=q+Math.imul(Be,Kt)|0,q=q+Math.imul(Ve,Ot)|0,se=se+Math.imul(Ve,Kt)|0,ne=ne+Math.imul(_e,Zt)|0,q=q+Math.imul(_e,zt)|0,q=q+Math.imul(ye,Zt)|0,se=se+Math.imul(ye,zt)|0,ne=ne+Math.imul(U,Mt)|0,q=q+Math.imul(U,ft)|0,q=q+Math.imul(le,Mt)|0,se=se+Math.imul(le,ft)|0,ne=ne+Math.imul(he,De)|0,q=q+Math.imul(he,ze)|0,q=q+Math.imul(we,De)|0,se=se+Math.imul(we,ze)|0,ne=ne+Math.imul(X,lt)|0,q=q+Math.imul(X,ht)|0,q=q+Math.imul(te,lt)|0,se=se+Math.imul(te,ht)|0,ne=ne+Math.imul(Ee,Dt)|0,q=q+Math.imul(Ee,Vt)|0,q=q+Math.imul(be,Dt)|0,se=se+Math.imul(be,Vt)|0;var Xn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,ne=Math.imul(Le,rt),q=Math.imul(Le,ct),q=q+Math.imul(Xe,rt)|0,se=Math.imul(Xe,ct),ne=ne+Math.imul(ke,pt)|0,q=q+Math.imul(ke,St)|0,q=q+Math.imul(Ie,pt)|0,se=se+Math.imul(Ie,St)|0,ne=ne+Math.imul(ce,gt)|0,q=q+Math.imul(ce,xt)|0,q=q+Math.imul(ae,gt)|0,se=se+Math.imul(ae,xt)|0,ne=ne+Math.imul(Je,Ot)|0,q=q+Math.imul(Je,Kt)|0,q=q+Math.imul(nt,Ot)|0,se=se+Math.imul(nt,Kt)|0,ne=ne+Math.imul(Be,Zt)|0,q=q+Math.imul(Be,zt)|0,q=q+Math.imul(Ve,Zt)|0,se=se+Math.imul(Ve,zt)|0,ne=ne+Math.imul(_e,Mt)|0,q=q+Math.imul(_e,ft)|0,q=q+Math.imul(ye,Mt)|0,se=se+Math.imul(ye,ft)|0,ne=ne+Math.imul(U,De)|0,q=q+Math.imul(U,ze)|0,q=q+Math.imul(le,De)|0,se=se+Math.imul(le,ze)|0,ne=ne+Math.imul(he,lt)|0,q=q+Math.imul(he,ht)|0,q=q+Math.imul(we,lt)|0,se=se+Math.imul(we,ht)|0,ne=ne+Math.imul(X,Dt)|0,q=q+Math.imul(X,Vt)|0,q=q+Math.imul(te,Dt)|0,se=se+Math.imul(te,Vt)|0,ne=ne+Math.imul(Ee,mt)|0,q=q+Math.imul(Ee,Nt)|0,q=q+Math.imul(be,mt)|0,se=se+Math.imul(be,Nt)|0;var pn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(pn>>>26)|0,pn&=67108863,ne=Math.imul(Le,pt),q=Math.imul(Le,St),q=q+Math.imul(Xe,pt)|0,se=Math.imul(Xe,St),ne=ne+Math.imul(ke,gt)|0,q=q+Math.imul(ke,xt)|0,q=q+Math.imul(Ie,gt)|0,se=se+Math.imul(Ie,xt)|0,ne=ne+Math.imul(ce,Ot)|0,q=q+Math.imul(ce,Kt)|0,q=q+Math.imul(ae,Ot)|0,se=se+Math.imul(ae,Kt)|0,ne=ne+Math.imul(Je,Zt)|0,q=q+Math.imul(Je,zt)|0,q=q+Math.imul(nt,Zt)|0,se=se+Math.imul(nt,zt)|0,ne=ne+Math.imul(Be,Mt)|0,q=q+Math.imul(Be,ft)|0,q=q+Math.imul(Ve,Mt)|0,se=se+Math.imul(Ve,ft)|0,ne=ne+Math.imul(_e,De)|0,q=q+Math.imul(_e,ze)|0,q=q+Math.imul(ye,De)|0,se=se+Math.imul(ye,ze)|0,ne=ne+Math.imul(U,lt)|0,q=q+Math.imul(U,ht)|0,q=q+Math.imul(le,lt)|0,se=se+Math.imul(le,ht)|0,ne=ne+Math.imul(he,Dt)|0,q=q+Math.imul(he,Vt)|0,q=q+Math.imul(we,Dt)|0,se=se+Math.imul(we,Vt)|0,ne=ne+Math.imul(X,mt)|0,q=q+Math.imul(X,Nt)|0,q=q+Math.imul(te,mt)|0,se=se+Math.imul(te,Nt)|0;var Yn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,ne=Math.imul(Le,gt),q=Math.imul(Le,xt),q=q+Math.imul(Xe,gt)|0,se=Math.imul(Xe,xt),ne=ne+Math.imul(ke,Ot)|0,q=q+Math.imul(ke,Kt)|0,q=q+Math.imul(Ie,Ot)|0,se=se+Math.imul(Ie,Kt)|0,ne=ne+Math.imul(ce,Zt)|0,q=q+Math.imul(ce,zt)|0,q=q+Math.imul(ae,Zt)|0,se=se+Math.imul(ae,zt)|0,ne=ne+Math.imul(Je,Mt)|0,q=q+Math.imul(Je,ft)|0,q=q+Math.imul(nt,Mt)|0,se=se+Math.imul(nt,ft)|0,ne=ne+Math.imul(Be,De)|0,q=q+Math.imul(Be,ze)|0,q=q+Math.imul(Ve,De)|0,se=se+Math.imul(Ve,ze)|0,ne=ne+Math.imul(_e,lt)|0,q=q+Math.imul(_e,ht)|0,q=q+Math.imul(ye,lt)|0,se=se+Math.imul(ye,ht)|0,ne=ne+Math.imul(U,Dt)|0,q=q+Math.imul(U,Vt)|0,q=q+Math.imul(le,Dt)|0,se=se+Math.imul(le,Vt)|0,ne=ne+Math.imul(he,mt)|0,q=q+Math.imul(he,Nt)|0,q=q+Math.imul(we,mt)|0,se=se+Math.imul(we,Nt)|0;var jn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(jn>>>26)|0,jn&=67108863,ne=Math.imul(Le,Ot),q=Math.imul(Le,Kt),q=q+Math.imul(Xe,Ot)|0,se=Math.imul(Xe,Kt),ne=ne+Math.imul(ke,Zt)|0,q=q+Math.imul(ke,zt)|0,q=q+Math.imul(Ie,Zt)|0,se=se+Math.imul(Ie,zt)|0,ne=ne+Math.imul(ce,Mt)|0,q=q+Math.imul(ce,ft)|0,q=q+Math.imul(ae,Mt)|0,se=se+Math.imul(ae,ft)|0,ne=ne+Math.imul(Je,De)|0,q=q+Math.imul(Je,ze)|0,q=q+Math.imul(nt,De)|0,se=se+Math.imul(nt,ze)|0,ne=ne+Math.imul(Be,lt)|0,q=q+Math.imul(Be,ht)|0,q=q+Math.imul(Ve,lt)|0,se=se+Math.imul(Ve,ht)|0,ne=ne+Math.imul(_e,Dt)|0,q=q+Math.imul(_e,Vt)|0,q=q+Math.imul(ye,Dt)|0,se=se+Math.imul(ye,Vt)|0,ne=ne+Math.imul(U,mt)|0,q=q+Math.imul(U,Nt)|0,q=q+Math.imul(le,mt)|0,se=se+Math.imul(le,Nt)|0;var en=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(en>>>26)|0,en&=67108863,ne=Math.imul(Le,Zt),q=Math.imul(Le,zt),q=q+Math.imul(Xe,Zt)|0,se=Math.imul(Xe,zt),ne=ne+Math.imul(ke,Mt)|0,q=q+Math.imul(ke,ft)|0,q=q+Math.imul(Ie,Mt)|0,se=se+Math.imul(Ie,ft)|0,ne=ne+Math.imul(ce,De)|0,q=q+Math.imul(ce,ze)|0,q=q+Math.imul(ae,De)|0,se=se+Math.imul(ae,ze)|0,ne=ne+Math.imul(Je,lt)|0,q=q+Math.imul(Je,ht)|0,q=q+Math.imul(nt,lt)|0,se=se+Math.imul(nt,ht)|0,ne=ne+Math.imul(Be,Dt)|0,q=q+Math.imul(Be,Vt)|0,q=q+Math.imul(Ve,Dt)|0,se=se+Math.imul(Ve,Vt)|0,ne=ne+Math.imul(_e,mt)|0,q=q+Math.imul(_e,Nt)|0,q=q+Math.imul(ye,mt)|0,se=se+Math.imul(ye,Nt)|0;var dn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(dn>>>26)|0,dn&=67108863,ne=Math.imul(Le,Mt),q=Math.imul(Le,ft),q=q+Math.imul(Xe,Mt)|0,se=Math.imul(Xe,ft),ne=ne+Math.imul(ke,De)|0,q=q+Math.imul(ke,ze)|0,q=q+Math.imul(Ie,De)|0,se=se+Math.imul(Ie,ze)|0,ne=ne+Math.imul(ce,lt)|0,q=q+Math.imul(ce,ht)|0,q=q+Math.imul(ae,lt)|0,se=se+Math.imul(ae,ht)|0,ne=ne+Math.imul(Je,Dt)|0,q=q+Math.imul(Je,Vt)|0,q=q+Math.imul(nt,Dt)|0,se=se+Math.imul(nt,Vt)|0,ne=ne+Math.imul(Be,mt)|0,q=q+Math.imul(Be,Nt)|0,q=q+Math.imul(Ve,mt)|0,se=se+Math.imul(Ve,Nt)|0;var Cn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,ne=Math.imul(Le,De),q=Math.imul(Le,ze),q=q+Math.imul(Xe,De)|0,se=Math.imul(Xe,ze),ne=ne+Math.imul(ke,lt)|0,q=q+Math.imul(ke,ht)|0,q=q+Math.imul(Ie,lt)|0,se=se+Math.imul(Ie,ht)|0,ne=ne+Math.imul(ce,Dt)|0,q=q+Math.imul(ce,Vt)|0,q=q+Math.imul(ae,Dt)|0,se=se+Math.imul(ae,Vt)|0,ne=ne+Math.imul(Je,mt)|0,q=q+Math.imul(Je,Nt)|0,q=q+Math.imul(nt,mt)|0,se=se+Math.imul(nt,Nt)|0;var Wn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,ne=Math.imul(Le,lt),q=Math.imul(Le,ht),q=q+Math.imul(Xe,lt)|0,se=Math.imul(Xe,ht),ne=ne+Math.imul(ke,Dt)|0,q=q+Math.imul(ke,Vt)|0,q=q+Math.imul(Ie,Dt)|0,se=se+Math.imul(Ie,Vt)|0,ne=ne+Math.imul(ce,mt)|0,q=q+Math.imul(ce,Nt)|0,q=q+Math.imul(ae,mt)|0,se=se+Math.imul(ae,Nt)|0;var vn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(vn>>>26)|0,vn&=67108863,ne=Math.imul(Le,Dt),q=Math.imul(Le,Vt),q=q+Math.imul(Xe,Dt)|0,se=Math.imul(Xe,Vt),ne=ne+Math.imul(ke,mt)|0,q=q+Math.imul(ke,Nt)|0,q=q+Math.imul(Ie,mt)|0,se=se+Math.imul(Ie,Nt)|0;var An=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(An>>>26)|0,An&=67108863,ne=Math.imul(Le,mt),q=Math.imul(Le,Nt),q=q+Math.imul(Xe,mt)|0,se=Math.imul(Xe,Nt);var Jn=(ee+ne|0)+((q&8191)<<13)|0;return ee=(se+(q>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,G[0]=Ft,G[1]=hn,G[2]=sn,G[3]=Ht,G[4]=Sn,G[5]=mn,G[6]=In,G[7]=Dn,G[8]=Xn,G[9]=pn,G[10]=Yn,G[11]=jn,G[12]=en,G[13]=dn,G[14]=Cn,G[15]=Wn,G[16]=vn,G[17]=An,G[18]=Jn,ee!==0&&(G[19]=ee,L.length++),L};Math.imul||(P=E);function M(D,m,C){C.negative=m.negative^D.negative,C.length=D.length+m.length;for(var L=0,H=0,z=0;z<C.length-1;z++){var G=H;H=0;for(var ee=L&67108863,ne=Math.min(z,m.length-1),q=Math.max(0,z-D.length+1);q<=ne;q++){var se=z-q,xe=D.words[se]|0,Ee=m.words[q]|0,be=xe*Ee,Pe=be&67108863;G=G+(be/67108864|0)|0,Pe=Pe+ee|0,ee=Pe&67108863,G=G+(Pe>>>26)|0,H+=G>>>26,G&=67108863}C.words[z]=ee,L=G,G=H}return L!==0?C.words[z]=L:C.length--,C._strip()}function V(D,m,C){return M(D,m,C)}c.prototype.mulTo=function(m,C){var L,H=this.length+m.length;return this.length===10&&m.length===10?L=P(this,m,C):H<63?L=E(this,m,C):H<1024?L=M(this,m,C):L=V(this,m,C),L};function O(D,m){this.x=D,this.y=m}O.prototype.makeRBT=function(m){for(var C=new Array(m),L=c.prototype._countBits(m)-1,H=0;H<m;H++)C[H]=this.revBin(H,L,m);return C},O.prototype.revBin=function(m,C,L){if(m===0||m===L-1)return m;for(var H=0,z=0;z<C;z++)H|=(m&1)<<C-z-1,m>>=1;return H},O.prototype.permute=function(m,C,L,H,z,G){for(var ee=0;ee<G;ee++)H[ee]=C[m[ee]],z[ee]=L[m[ee]]},O.prototype.transform=function(m,C,L,H,z,G){this.permute(G,m,C,L,H,z);for(var ee=1;ee<z;ee<<=1)for(var ne=ee<<1,q=Math.cos(2*Math.PI/ne),se=Math.sin(2*Math.PI/ne),xe=0;xe<z;xe+=ne)for(var Ee=q,be=se,Pe=0;Pe<ee;Pe++){var X=L[xe+Pe],te=H[xe+Pe],de=L[xe+Pe+ee],he=H[xe+Pe+ee],we=Ee*de-be*he;he=Ee*he+be*de,de=we,L[xe+Pe]=X+de,H[xe+Pe]=te+he,L[xe+Pe+ee]=X-de,H[xe+Pe+ee]=te-he,Pe!==ne&&(we=q*Ee-se*be,be=q*be+se*Ee,Ee=we)}},O.prototype.guessLen13b=function(m,C){var L=Math.max(C,m)|1,H=L&1,z=0;for(L=L/2|0;L;L=L>>>1)z++;return 1<<z+1+H},O.prototype.conjugate=function(m,C,L){if(!(L<=1))for(var H=0;H<L/2;H++){var z=m[H];m[H]=m[L-H-1],m[L-H-1]=z,z=C[H],C[H]=-C[L-H-1],C[L-H-1]=-z}},O.prototype.normalize13b=function(m,C){for(var L=0,H=0;H<C/2;H++){var z=Math.round(m[2*H+1]/C)*8192+Math.round(m[2*H]/C)+L;m[H]=z&67108863,z<67108864?L=0:L=z/67108864|0}return m},O.prototype.convert13b=function(m,C,L,H){for(var z=0,G=0;G<C;G++)z=z+(m[G]|0),L[2*G]=z&8191,z=z>>>13,L[2*G+1]=z&8191,z=z>>>13;for(G=2*C;G<H;++G)L[G]=0;F(z===0),F((z&-8192)===0)},O.prototype.stub=function(m){for(var C=new Array(m),L=0;L<m;L++)C[L]=0;return C},O.prototype.mulp=function(m,C,L){var H=2*this.guessLen13b(m.length,C.length),z=this.makeRBT(H),G=this.stub(H),ee=new Array(H),ne=new Array(H),q=new Array(H),se=new Array(H),xe=new Array(H),Ee=new Array(H),be=L.words;be.length=H,this.convert13b(m.words,m.length,ee,H),this.convert13b(C.words,C.length,se,H),this.transform(ee,G,ne,q,H,z),this.transform(se,G,xe,Ee,H,z);for(var Pe=0;Pe<H;Pe++){var X=ne[Pe]*xe[Pe]-q[Pe]*Ee[Pe];q[Pe]=ne[Pe]*Ee[Pe]+q[Pe]*xe[Pe],ne[Pe]=X}return this.conjugate(ne,q,H),this.transform(ne,q,be,G,H,z),this.conjugate(be,G,H),this.normalize13b(be,H),L.negative=m.negative^C.negative,L.length=m.length+C.length,L._strip()},c.prototype.mul=function(m){var C=new c(null);return C.words=new Array(this.length+m.length),this.mulTo(m,C)},c.prototype.mulf=function(m){var C=new c(null);return C.words=new Array(this.length+m.length),V(this,m,C)},c.prototype.imul=function(m){return this.clone().mulTo(m,this)},c.prototype.imuln=function(m){var C=m<0;C&&(m=-m),F(typeof m=="number"),F(m<67108864);for(var L=0,H=0;H<this.length;H++){var z=(this.words[H]|0)*m,G=(z&67108863)+(L&67108863);L>>=26,L+=z/67108864|0,L+=G>>>26,this.words[H]=G&67108863}return L!==0&&(this.words[H]=L,this.length++),C?this.ineg():this},c.prototype.muln=function(m){return this.clone().imuln(m)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(m){var C=_(m);if(C.length===0)return new c(1);for(var L=this,H=0;H<C.length&&C[H]===0;H++,L=L.sqr());if(++H<C.length)for(var z=L.sqr();H<C.length;H++,z=z.sqr())C[H]!==0&&(L=L.mul(z));return L},c.prototype.iushln=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26,H=67108863>>>26-C<<26-C,z;if(C!==0){var G=0;for(z=0;z<this.length;z++){var ee=this.words[z]&H,ne=(this.words[z]|0)-ee<<C;this.words[z]=ne|G,G=ee>>>26-C}G&&(this.words[z]=G,this.length++)}if(L!==0){for(z=this.length-1;z>=0;z--)this.words[z+L]=this.words[z];for(z=0;z<L;z++)this.words[z]=0;this.length+=L}return this._strip()},c.prototype.ishln=function(m){return F(this.negative===0),this.iushln(m)},c.prototype.iushrn=function(m,C,L){F(typeof m=="number"&&m>=0);var H;C?H=(C-C%26)/26:H=0;var z=m%26,G=Math.min((m-z)/26,this.length),ee=67108863^67108863>>>z<<z,ne=L;if(H-=G,H=Math.max(0,H),ne){for(var q=0;q<G;q++)ne.words[q]=this.words[q];ne.length=G}if(G!==0)if(this.length>G)for(this.length-=G,q=0;q<this.length;q++)this.words[q]=this.words[q+G];else this.words[0]=0,this.length=1;var se=0;for(q=this.length-1;q>=0&&(se!==0||q>=H);q--){var xe=this.words[q]|0;this.words[q]=se<<26-z|xe>>>z,se=xe&ee}return ne&&se!==0&&(ne.words[ne.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(m,C,L){return F(this.negative===0),this.iushrn(m,C,L)},c.prototype.shln=function(m){return this.clone().ishln(m)},c.prototype.ushln=function(m){return this.clone().iushln(m)},c.prototype.shrn=function(m){return this.clone().ishrn(m)},c.prototype.ushrn=function(m){return this.clone().iushrn(m)},c.prototype.testn=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26,H=1<<C;if(this.length<=L)return!1;var z=this.words[L];return!!(z&H)},c.prototype.imaskn=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26;if(F(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(C!==0&&L++,this.length=Math.min(L,this.length),C!==0){var H=67108863^67108863>>>C<<C;this.words[this.length-1]&=H}return this._strip()},c.prototype.maskn=function(m){return this.clone().imaskn(m)},c.prototype.iaddn=function(m){return F(typeof m=="number"),F(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},c.prototype._iaddn=function(m){this.words[0]+=m;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},c.prototype.isubn=function(m){if(F(typeof m=="number"),F(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},c.prototype.addn=function(m){return this.clone().iaddn(m)},c.prototype.subn=function(m){return this.clone().isubn(m)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(m,C,L){var H=m.length+L,z;this._expand(H);var G,ee=0;for(z=0;z<m.length;z++){G=(this.words[z+L]|0)+ee;var ne=(m.words[z]|0)*C;G-=ne&67108863,ee=(G>>26)-(ne/67108864|0),this.words[z+L]=G&67108863}for(;z<this.length-L;z++)G=(this.words[z+L]|0)+ee,ee=G>>26,this.words[z+L]=G&67108863;if(ee===0)return this._strip();for(F(ee===-1),ee=0,z=0;z<this.length;z++)G=-(this.words[z]|0)+ee,ee=G>>26,this.words[z]=G&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(m,C){var L=this.length-m.length,H=this.clone(),z=m,G=z.words[z.length-1]|0,ee=this._countBits(G);L=26-ee,L!==0&&(z=z.ushln(L),H.iushln(L),G=z.words[z.length-1]|0);var ne=H.length-z.length,q;if(C!=="mod"){q=new c(null),q.length=ne+1,q.words=new Array(q.length);for(var se=0;se<q.length;se++)q.words[se]=0}var xe=H.clone()._ishlnsubmul(z,1,ne);xe.negative===0&&(H=xe,q&&(q.words[ne]=1));for(var Ee=ne-1;Ee>=0;Ee--){var be=(H.words[z.length+Ee]|0)*67108864+(H.words[z.length+Ee-1]|0);for(be=Math.min(be/G|0,67108863),H._ishlnsubmul(z,be,Ee);H.negative!==0;)be--,H.negative=0,H._ishlnsubmul(z,1,Ee),H.isZero()||(H.negative^=1);q&&(q.words[Ee]=be)}return q&&q._strip(),H._strip(),C!=="div"&&L!==0&&H.iushrn(L),{div:q||null,mod:H}},c.prototype.divmod=function(m,C,L){if(F(!m.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var H,z,G;return this.negative!==0&&m.negative===0?(G=this.neg().divmod(m,C),C!=="mod"&&(H=G.div.neg()),C!=="div"&&(z=G.mod.neg(),L&&z.negative!==0&&z.iadd(m)),{div:H,mod:z}):this.negative===0&&m.negative!==0?(G=this.divmod(m.neg(),C),C!=="mod"&&(H=G.div.neg()),{div:H,mod:G.mod}):this.negative&m.negative?(G=this.neg().divmod(m.neg(),C),C!=="div"&&(z=G.mod.neg(),L&&z.negative!==0&&z.isub(m)),{div:G.div,mod:z}):m.length>this.length||this.cmp(m)<0?{div:new c(0),mod:this}:m.length===1?C==="div"?{div:this.divn(m.words[0]),mod:null}:C==="mod"?{div:null,mod:new c(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new c(this.modrn(m.words[0]))}:this._wordDiv(m,C)},c.prototype.div=function(m){return this.divmod(m,"div",!1).div},c.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},c.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},c.prototype.divRound=function(m){var C=this.divmod(m);if(C.mod.isZero())return C.div;var L=C.div.negative!==0?C.mod.isub(m):C.mod,H=m.ushrn(1),z=m.andln(1),G=L.cmp(H);return G<0||z===1&&G===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},c.prototype.modrn=function(m){var C=m<0;C&&(m=-m),F(m<=67108863);for(var L=(1<<26)%m,H=0,z=this.length-1;z>=0;z--)H=(L*H+(this.words[z]|0))%m;return C?-H:H},c.prototype.modn=function(m){return this.modrn(m)},c.prototype.idivn=function(m){var C=m<0;C&&(m=-m),F(m<=67108863);for(var L=0,H=this.length-1;H>=0;H--){var z=(this.words[H]|0)+L*67108864;this.words[H]=z/m|0,L=z%m}return this._strip(),C?this.ineg():this},c.prototype.divn=function(m){return this.clone().idivn(m)},c.prototype.egcd=function(m){F(m.negative===0),F(!m.isZero());var C=this,L=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var H=new c(1),z=new c(0),G=new c(0),ee=new c(1),ne=0;C.isEven()&&L.isEven();)C.iushrn(1),L.iushrn(1),++ne;for(var q=L.clone(),se=C.clone();!C.isZero();){for(var xe=0,Ee=1;!(C.words[0]&Ee)&&xe<26;++xe,Ee<<=1);if(xe>0)for(C.iushrn(xe);xe-- >0;)(H.isOdd()||z.isOdd())&&(H.iadd(q),z.isub(se)),H.iushrn(1),z.iushrn(1);for(var be=0,Pe=1;!(L.words[0]&Pe)&&be<26;++be,Pe<<=1);if(be>0)for(L.iushrn(be);be-- >0;)(G.isOdd()||ee.isOdd())&&(G.iadd(q),ee.isub(se)),G.iushrn(1),ee.iushrn(1);C.cmp(L)>=0?(C.isub(L),H.isub(G),z.isub(ee)):(L.isub(C),G.isub(H),ee.isub(z))}return{a:G,b:ee,gcd:L.iushln(ne)}},c.prototype._invmp=function(m){F(m.negative===0),F(!m.isZero());var C=this,L=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var H=new c(1),z=new c(0),G=L.clone();C.cmpn(1)>0&&L.cmpn(1)>0;){for(var ee=0,ne=1;!(C.words[0]&ne)&&ee<26;++ee,ne<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)H.isOdd()&&H.iadd(G),H.iushrn(1);for(var q=0,se=1;!(L.words[0]&se)&&q<26;++q,se<<=1);if(q>0)for(L.iushrn(q);q-- >0;)z.isOdd()&&z.iadd(G),z.iushrn(1);C.cmp(L)>=0?(C.isub(L),H.isub(z)):(L.isub(C),z.isub(H))}var xe;return C.cmpn(1)===0?xe=H:xe=z,xe.cmpn(0)<0&&xe.iadd(m),xe},c.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var C=this.clone(),L=m.clone();C.negative=0,L.negative=0;for(var H=0;C.isEven()&&L.isEven();H++)C.iushrn(1),L.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;L.isEven();)L.iushrn(1);var z=C.cmp(L);if(z<0){var G=C;C=L,L=G}else if(z===0||L.cmpn(1)===0)break;C.isub(L)}while(!0);return L.iushln(H)},c.prototype.invm=function(m){return this.egcd(m).a.umod(m)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(m){return this.words[0]&m},c.prototype.bincn=function(m){F(typeof m=="number");var C=m%26,L=(m-C)/26,H=1<<C;if(this.length<=L)return this._expand(L+1),this.words[L]|=H,this;for(var z=H,G=L;z!==0&&G<this.length;G++){var ee=this.words[G]|0;ee+=z,z=ee>>>26,ee&=67108863,this.words[G]=ee}return z!==0&&(this.words[G]=z,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(m){var C=m<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var L;if(this.length>1)L=1;else{C&&(m=-m),F(m<=67108863,"Number is too big");var H=this.words[0]|0;L=H===m?0:H<m?-1:1}return this.negative!==0?-L|0:L},c.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var C=this.ucmp(m);return this.negative!==0?-C|0:C},c.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var C=0,L=this.length-1;L>=0;L--){var H=this.words[L]|0,z=m.words[L]|0;if(H!==z){H<z?C=-1:H>z&&(C=1);break}}return C},c.prototype.gtn=function(m){return this.cmpn(m)===1},c.prototype.gt=function(m){return this.cmp(m)===1},c.prototype.gten=function(m){return this.cmpn(m)>=0},c.prototype.gte=function(m){return this.cmp(m)>=0},c.prototype.ltn=function(m){return this.cmpn(m)===-1},c.prototype.lt=function(m){return this.cmp(m)===-1},c.prototype.lten=function(m){return this.cmpn(m)<=0},c.prototype.lte=function(m){return this.cmp(m)<=0},c.prototype.eqn=function(m){return this.cmpn(m)===0},c.prototype.eq=function(m){return this.cmp(m)===0},c.red=function(m){return new x(m)},c.prototype.toRed=function(m){return F(!this.red,"Already a number in reduction context"),F(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},c.prototype.fromRed=function(){return F(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(m){return this.red=m,this},c.prototype.forceRed=function(m){return F(!this.red,"Already a number in reduction context"),this._forceRed(m)},c.prototype.redAdd=function(m){return F(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},c.prototype.redIAdd=function(m){return F(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},c.prototype.redSub=function(m){return F(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},c.prototype.redISub=function(m){return F(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},c.prototype.redShl=function(m){return F(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},c.prototype.redMul=function(m){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},c.prototype.redIMul=function(m){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},c.prototype.redSqr=function(){return F(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return F(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return F(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return F(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return F(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(m){return F(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var y={k256:null,p224:null,p192:null,p25519:null};function K(D,m){this.name=D,this.p=new c(m,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var m=new c(null);return m.words=new Array(Math.ceil(this.n/13)),m},K.prototype.ireduce=function(m){var C=m,L;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),L=C.bitLength();while(L>this.n);var H=L<this.n?-1:C.ucmp(this.p);return H===0?(C.words[0]=0,C.length=1):H>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},K.prototype.split=function(m,C){m.iushrn(this.n,0,C)},K.prototype.imulK=function(m){return m.imul(this.k)};function Y(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(Y,K),Y.prototype.split=function(m,C){for(var L=4194303,H=Math.min(m.length,9),z=0;z<H;z++)C.words[z]=m.words[z];if(C.length=H,m.length<=9){m.words[0]=0,m.length=1;return}var G=m.words[9];for(C.words[C.length++]=G&L,z=10;z<m.length;z++){var ee=m.words[z]|0;m.words[z-10]=(ee&L)<<4|G>>>22,G=ee}G>>>=22,m.words[z-10]=G,G===0&&m.length>10?m.length-=10:m.length-=9},Y.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var C=0,L=0;L<m.length;L++){var H=m.words[L]|0;C+=H*977,m.words[L]=C&67108863,C=H*64+(C/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function Z(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(Z,K);function ie(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(ie,K);function J(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(J,K),J.prototype.imulK=function(m){for(var C=0,L=0;L<m.length;L++){var H=(m.words[L]|0)*19+C,z=H&67108863;H>>>=26,m.words[L]=z,C=H}return C!==0&&(m.words[m.length++]=C),m},c._prime=function(m){if(y[m])return y[m];var C;if(m==="k256")C=new Y;else if(m==="p224")C=new Z;else if(m==="p192")C=new ie;else if(m==="p25519")C=new J;else throw new Error("Unknown prime "+m);return y[m]=C,C};function x(D){if(typeof D=="string"){var m=c._prime(D);this.m=m.p,this.prime=m}else F(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}x.prototype._verify1=function(m){F(m.negative===0,"red works only with positives"),F(m.red,"red works only with red numbers")},x.prototype._verify2=function(m,C){F((m.negative|C.negative)===0,"red works only with positives"),F(m.red&&m.red===C.red,"red works only with red numbers")},x.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(b(m,m.umod(this.m)._forceRed(this)),m)},x.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},x.prototype.add=function(m,C){this._verify2(m,C);var L=m.add(C);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},x.prototype.iadd=function(m,C){this._verify2(m,C);var L=m.iadd(C);return L.cmp(this.m)>=0&&L.isub(this.m),L},x.prototype.sub=function(m,C){this._verify2(m,C);var L=m.sub(C);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},x.prototype.isub=function(m,C){this._verify2(m,C);var L=m.isub(C);return L.cmpn(0)<0&&L.iadd(this.m),L},x.prototype.shl=function(m,C){return this._verify1(m),this.imod(m.ushln(C))},x.prototype.imul=function(m,C){return this._verify2(m,C),this.imod(m.imul(C))},x.prototype.mul=function(m,C){return this._verify2(m,C),this.imod(m.mul(C))},x.prototype.isqr=function(m){return this.imul(m,m.clone())},x.prototype.sqr=function(m){return this.mul(m,m)},x.prototype.sqrt=function(m){if(m.isZero())return m.clone();var C=this.m.andln(3);if(F(C%2===1),C===3){var L=this.m.add(new c(1)).iushrn(2);return this.pow(m,L)}for(var H=this.m.subn(1),z=0;!H.isZero()&&H.andln(1)===0;)z++,H.iushrn(1);F(!H.isZero());var G=new c(1).toRed(this),ee=G.redNeg(),ne=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new c(2*q*q).toRed(this);this.pow(q,ne).cmp(ee)!==0;)q.redIAdd(ee);for(var se=this.pow(q,H),xe=this.pow(m,H.addn(1).iushrn(1)),Ee=this.pow(m,H),be=z;Ee.cmp(G)!==0;){for(var Pe=Ee,X=0;Pe.cmp(G)!==0;X++)Pe=Pe.redSqr();F(X<be);var te=this.pow(se,new c(1).iushln(be-X-1));xe=xe.redMul(te),se=te.redSqr(),Ee=Ee.redMul(se),be=X}return xe},x.prototype.invm=function(m){var C=m._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},x.prototype.pow=function(m,C){if(C.isZero())return new c(1).toRed(this);if(C.cmpn(1)===0)return m.clone();var L=4,H=new Array(1<<L);H[0]=new c(1).toRed(this),H[1]=m;for(var z=2;z<H.length;z++)H[z]=this.mul(H[z-1],m);var G=H[0],ee=0,ne=0,q=C.bitLength()%26;for(q===0&&(q=26),z=C.length-1;z>=0;z--){for(var se=C.words[z],xe=q-1;xe>=0;xe--){var Ee=se>>xe&1;if(G!==H[0]&&(G=this.sqr(G)),Ee===0&&ee===0){ne=0;continue}ee<<=1,ee|=Ee,ne++,!(ne!==L&&(z!==0||xe!==0))&&(G=this.mul(G,H[ee]),ne=0,ee=0)}q=26}return G},x.prototype.convertTo=function(m){var C=m.umod(this.m);return C===m?C.clone():C},x.prototype.convertFrom=function(m){var C=m.clone();return C.red=null,C},c.mont=function(m){return new W(m)};function W(D){x.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(W,x),W.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},W.prototype.convertFrom=function(m){var C=this.imod(m.mul(this.rinv));return C.red=null,C},W.prototype.imul=function(m,C){if(m.isZero()||C.isZero())return m.words[0]=0,m.length=1,m;var L=m.imul(C),H=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=L.isub(H).iushrn(this.shift),G=z;return z.cmp(this.m)>=0?G=z.isub(this.m):z.cmpn(0)<0&&(G=z.iadd(this.m)),G._forceRed(this)},W.prototype.mul=function(m,C){if(m.isZero()||C.isZero())return new c(0)._forceRed(this);var L=m.mul(C),H=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=L.isub(H).iushrn(this.shift),G=z;return z.cmp(this.m)>=0?G=z.isub(this.m):z.cmpn(0)<0&&(G=z.iadd(this.m)),G._forceRed(this)},W.prototype.invm=function(m){var C=this.imod(m._invmp(this.m).mul(this.r2));return C._forceRed(this)}}(s,this)},55715:(s,j,R)=>{"use strict";s.exports=R(62951)},20:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(47108),F=R(46737),T=R(56698),c=R(35359),h=R(74847),p=R(62951);Object.keys(p).forEach(function(N){p[N].id=S.from(p[N].id,"hex"),p[N.toLowerCase()]=p[N]});function v(N){F.Writable.call(this);var d=p[N];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=I(d.hash),this._tag=d.id,this._signType=d.sign}T(v,F.Writable),v.prototype._write=function(d,g,f){this._hash.update(d),f()},v.prototype.update=function(d,g){return this._hash.update(typeof d=="string"?S.from(d,g):d),this},v.prototype.sign=function(d,g){this.end();var f=this._hash.digest(),_=c(f,d,this._hashType,this._signType,this._tag);return g?_.toString(g):_};function w(N){F.Writable.call(this);var d=p[N];if(!d)throw new Error("Unknown message digest");this._hash=I(d.hash),this._tag=d.id,this._signType=d.sign}T(w,F.Writable),w.prototype._write=function(d,g,f){this._hash.update(d),f()},w.prototype.update=function(d,g){return this._hash.update(typeof d=="string"?S.from(d,g):d),this},w.prototype.verify=function(d,g,f){var _=typeof g=="string"?S.from(g,f):g;this.end();var E=this._hash.digest();return h(_,E,d,this._signType,this._tag)};function b(N){return new v(N)}function l(N){return new w(N)}s.exports={Sign:b,Verify:l,createSign:b,createVerify:l}},35359:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(83507),F=R(67332),T=R(86729).ec,c=R(26162),h=R(78170),p=R(64589),v=1;function w(P,M,V,O,y){var K=h(M);if(K.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return b(P,K)}else if(K.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return l(P,K,V)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");if(M.padding!==void 0&&M.padding!==v)throw new Error("illegal or unsupported padding mode");P=S.concat([y,P]);for(var Y=K.modulus.byteLength(),Z=[0,1];P.length+Z.length+1<Y;)Z.push(255);Z.push(0);for(var ie=-1;++ie<P.length;)Z.push(P[ie]);var J=F(Z,K);return J}function b(P,M){var V=p[M.curve.join(".")];if(!V)throw new Error("unknown curve "+M.curve.join("."));var O=new T(V),y=O.keyFromPrivate(M.privateKey),K=y.sign(P);return S.from(K.toDER())}function l(P,M,V){for(var O=M.params.priv_key,y=M.params.p,K=M.params.q,Y=M.params.g,Z=new c(0),ie,J=g(P,K).mod(K),x=!1,W=d(O,K,P,V);x===!1;)ie=_(K,W,V),Z=E(Y,ie,y,K),x=ie.invm(K).imul(J.add(O.mul(Z))).mod(K),x.cmpn(0)===0&&(x=!1,Z=new c(0));return N(Z,x)}function N(P,M){P=P.toArray(),M=M.toArray(),P[0]&128&&(P=[0].concat(P)),M[0]&128&&(M=[0].concat(M));var V=P.length+M.length+4,O=[48,V,2,P.length];return O=O.concat(P,[2,M.length],M),S.from(O)}function d(P,M,V,O){if(P=S.from(P.toArray()),P.length<M.byteLength()){var y=S.alloc(M.byteLength()-P.length);P=S.concat([y,P])}var K=V.length,Y=f(V,M),Z=S.alloc(K);Z.fill(1);var ie=S.alloc(K);return ie=I(O,ie).update(Z).update(S.from([0])).update(P).update(Y).digest(),Z=I(O,ie).update(Z).digest(),ie=I(O,ie).update(Z).update(S.from([1])).update(P).update(Y).digest(),Z=I(O,ie).update(Z).digest(),{k:ie,v:Z}}function g(P,M){var V=new c(P),O=(P.length<<3)-M.bitLength();return O>0&&V.ishrn(O),V}function f(P,M){P=g(P,M),P=P.mod(M);var V=S.from(P.toArray());if(V.length<M.byteLength()){var O=S.alloc(M.byteLength()-V.length);V=S.concat([O,V])}return V}function _(P,M,V){var O,y;do{for(O=S.alloc(0);O.length*8<P.bitLength();)M.v=I(V,M.k).update(M.v).digest(),O=S.concat([O,M.v]);y=g(O,P),M.k=I(V,M.k).update(M.v).update(S.from([0])).digest(),M.v=I(V,M.k).update(M.v).digest()}while(y.cmp(P)!==-1);return y}function E(P,M,V,O){return P.toRed(c.mont(V)).redPow(M).fromRed().mod(O)}s.exports=w,s.exports.getKey=d,s.exports.makeKey=_},74847:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(26162),F=R(86729).ec,T=R(78170),c=R(64589);function h(b,l,N,d,g){var f=T(N);if(f.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return p(b,l,f)}else if(f.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return v(b,l,f)}if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");l=S.concat([g,l]);for(var _=f.modulus.byteLength(),E=[1],P=0;l.length+E.length+2<_;)E.push(255),P+=1;E.push(0);for(var M=-1;++M<l.length;)E.push(l[M]);E=S.from(E);var V=I.mont(f.modulus);b=new I(b).toRed(V),b=b.redPow(new I(f.publicExponent)),b=S.from(b.fromRed().toArray());var O=P<8?1:0;for(_=Math.min(b.length,E.length),b.length!==E.length&&(O=1),M=-1;++M<_;)O|=b[M]^E[M];return O===0}function p(b,l,N){var d=c[N.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+N.data.algorithm.curve.join("."));var g=new F(d),f=N.data.subjectPrivateKey.data;return g.verify(l,b,f)}function v(b,l,N){var d=N.data.p,g=N.data.q,f=N.data.g,_=N.data.pub_key,E=T.signature.decode(b,"der"),P=E.s,M=E.r;w(P,g),w(M,g);var V=I.mont(d),O=P.invm(g),y=f.toRed(V).redPow(new I(l).mul(O).mod(g)).fromRed().mul(_.toRed(V).redPow(M.mul(O).mod(g)).fromRed()).mod(d).mod(g);return y.cmp(M)===0}function w(b,l){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(l)>=0)throw new Error("invalid sig")}s.exports=h},26162:function(s,j,R){s=R.nmd(s),function(S,I){"use strict";function F(D,m){if(!D)throw new Error(m||"Assertion failed")}function T(D,m){D.super_=m;var C=function(){};C.prototype=m.prototype,D.prototype=new C,D.prototype.constructor=D}function c(D,m,C){if(c.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((m==="le"||m==="be")&&(C=m,m=10),this._init(D||0,m||10,C||"be"))}typeof S=="object"?S.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=R(38664).Buffer}catch{}c.isBN=function(m){return m instanceof c?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===c.wordSize&&Array.isArray(m.words)},c.max=function(m,C){return m.cmp(C)>0?m:C},c.min=function(m,C){return m.cmp(C)<0?m:C},c.prototype._init=function(m,C,L){if(typeof m=="number")return this._initNumber(m,C,L);if(typeof m=="object")return this._initArray(m,C,L);C==="hex"&&(C=16),F(C===(C|0)&&C>=2&&C<=36),m=m.toString().replace(/\s+/g,"");var H=0;m[0]==="-"&&(H++,this.negative=1),H<m.length&&(C===16?this._parseHex(m,H,L):(this._parseBase(m,C,H),L==="le"&&this._initArray(this.toArray(),C,L)))},c.prototype._initNumber=function(m,C,L){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(F(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),C,L)},c.prototype._initArray=function(m,C,L){if(F(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var z,G,ee=0;if(L==="be")for(H=m.length-1,z=0;H>=0;H-=3)G=m[H]|m[H-1]<<8|m[H-2]<<16,this.words[z]|=G<<ee&67108863,this.words[z+1]=G>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,z++);else if(L==="le")for(H=0,z=0;H<m.length;H+=3)G=m[H]|m[H+1]<<8|m[H+2]<<16,this.words[z]|=G<<ee&67108863,this.words[z+1]=G>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,z++);return this._strip()};function p(D,m){var C=D.charCodeAt(m);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;F(!1,"Invalid character in "+D)}function v(D,m,C){var L=p(D,C);return C-1>=m&&(L|=p(D,C-1)<<4),L}c.prototype._parseHex=function(m,C,L){this.length=Math.ceil((m.length-C)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var z=0,G=0,ee;if(L==="be")for(H=m.length-1;H>=C;H-=2)ee=v(m,C,H)<<z,this.words[G]|=ee&67108863,z>=18?(z-=18,G+=1,this.words[G]|=ee>>>26):z+=8;else{var ne=m.length-C;for(H=ne%2===0?C+1:C;H<m.length;H+=2)ee=v(m,C,H)<<z,this.words[G]|=ee&67108863,z>=18?(z-=18,G+=1,this.words[G]|=ee>>>26):z+=8}this._strip()};function w(D,m,C,L){for(var H=0,z=0,G=Math.min(D.length,C),ee=m;ee<G;ee++){var ne=D.charCodeAt(ee)-48;H*=L,ne>=49?z=ne-49+10:ne>=17?z=ne-17+10:z=ne,F(ne>=0&&z<L,"Invalid character"),H+=z}return H}c.prototype._parseBase=function(m,C,L){this.words=[0],this.length=1;for(var H=0,z=1;z<=67108863;z*=C)H++;H--,z=z/C|0;for(var G=m.length-L,ee=G%H,ne=Math.min(G,G-ee)+L,q=0,se=L;se<ne;se+=H)q=w(m,se,se+H,C),this.imuln(z),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(ee!==0){var xe=1;for(q=w(m,se,m.length,C),se=0;se<ee;se++)xe*=C;this.imuln(xe),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},c.prototype.copy=function(m){m.words=new Array(this.length);for(var C=0;C<this.length;C++)m.words[C]=this.words[C];m.length=this.length,m.negative=this.negative,m.red=this.red};function b(D,m){D.words=m.words,D.length=m.length,D.negative=m.negative,D.red=m.red}if(c.prototype._move=function(m){b(m,this)},c.prototype.clone=function(){var m=new c(null);return this.copy(m),m},c.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{c.prototype.inspect=l}else c.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(m,C){m=m||10,C=C|0||1;var L;if(m===16||m==="hex"){L="";for(var H=0,z=0,G=0;G<this.length;G++){var ee=this.words[G],ne=((ee<<H|z)&16777215).toString(16);z=ee>>>24-H&16777215,H+=2,H>=26&&(H-=26,G--),z!==0||G!==this.length-1?L=N[6-ne.length]+ne+L:L=ne+L}for(z!==0&&(L=z.toString(16)+L);L.length%C!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(m===(m|0)&&m>=2&&m<=36){var q=d[m],se=g[m];L="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var Ee=xe.modrn(se).toString(m);xe=xe.idivn(se),xe.isZero()?L=Ee+L:L=N[q-Ee.length]+Ee+L}for(this.isZero()&&(L="0"+L);L.length%C!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}F(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&F(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},c.prototype.toJSON=function(){return this.toString(16,2)},h&&(c.prototype.toBuffer=function(m,C){return this.toArrayLike(h,m,C)}),c.prototype.toArray=function(m,C){return this.toArrayLike(Array,m,C)};var f=function(m,C){return m.allocUnsafe?m.allocUnsafe(C):new m(C)};c.prototype.toArrayLike=function(m,C,L){this._strip();var H=this.byteLength(),z=L||Math.max(1,H);F(H<=z,"byte array longer than desired length"),F(z>0,"Requested array length <= 0");var G=f(m,z),ee=C==="le"?"LE":"BE";return this["_toArrayLike"+ee](G,H),G},c.prototype._toArrayLikeLE=function(m,C){for(var L=0,H=0,z=0,G=0;z<this.length;z++){var ee=this.words[z]<<G|H;m[L++]=ee&255,L<m.length&&(m[L++]=ee>>8&255),L<m.length&&(m[L++]=ee>>16&255),G===6?(L<m.length&&(m[L++]=ee>>24&255),H=0,G=0):(H=ee>>>24,G+=2)}if(L<m.length)for(m[L++]=H;L<m.length;)m[L++]=0},c.prototype._toArrayLikeBE=function(m,C){for(var L=m.length-1,H=0,z=0,G=0;z<this.length;z++){var ee=this.words[z]<<G|H;m[L--]=ee&255,L>=0&&(m[L--]=ee>>8&255),L>=0&&(m[L--]=ee>>16&255),G===6?(L>=0&&(m[L--]=ee>>24&255),H=0,G=0):(H=ee>>>24,G+=2)}if(L>=0)for(m[L--]=H;L>=0;)m[L--]=0},Math.clz32?c.prototype._countBits=function(m){return 32-Math.clz32(m)}:c.prototype._countBits=function(m){var C=m,L=0;return C>=4096&&(L+=13,C>>>=13),C>=64&&(L+=7,C>>>=7),C>=8&&(L+=4,C>>>=4),C>=2&&(L+=2,C>>>=2),L+C},c.prototype._zeroBits=function(m){if(m===0)return 26;var C=m,L=0;return C&8191||(L+=13,C>>>=13),C&127||(L+=7,C>>>=7),C&15||(L+=4,C>>>=4),C&3||(L+=2,C>>>=2),C&1||L++,L},c.prototype.bitLength=function(){var m=this.words[this.length-1],C=this._countBits(m);return(this.length-1)*26+C};function _(D){for(var m=new Array(D.bitLength()),C=0;C<m.length;C++){var L=C/26|0,H=C%26;m[C]=D.words[L]>>>H&1}return m}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,C=0;C<this.length;C++){var L=this._zeroBits(this.words[C]);if(m+=L,L!==26)break}return m},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},c.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var C=0;C<m.length;C++)this.words[C]=this.words[C]|m.words[C];return this._strip()},c.prototype.ior=function(m){return F((this.negative|m.negative)===0),this.iuor(m)},c.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},c.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},c.prototype.iuand=function(m){var C;this.length>m.length?C=m:C=this;for(var L=0;L<C.length;L++)this.words[L]=this.words[L]&m.words[L];return this.length=C.length,this._strip()},c.prototype.iand=function(m){return F((this.negative|m.negative)===0),this.iuand(m)},c.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},c.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},c.prototype.iuxor=function(m){var C,L;this.length>m.length?(C=this,L=m):(C=m,L=this);for(var H=0;H<L.length;H++)this.words[H]=C.words[H]^L.words[H];if(this!==C)for(;H<C.length;H++)this.words[H]=C.words[H];return this.length=C.length,this._strip()},c.prototype.ixor=function(m){return F((this.negative|m.negative)===0),this.iuxor(m)},c.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},c.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},c.prototype.inotn=function(m){F(typeof m=="number"&&m>=0);var C=Math.ceil(m/26)|0,L=m%26;this._expand(C),L>0&&C--;for(var H=0;H<C;H++)this.words[H]=~this.words[H]&67108863;return L>0&&(this.words[H]=~this.words[H]&67108863>>26-L),this._strip()},c.prototype.notn=function(m){return this.clone().inotn(m)},c.prototype.setn=function(m,C){F(typeof m=="number"&&m>=0);var L=m/26|0,H=m%26;return this._expand(L+1),C?this.words[L]=this.words[L]|1<<H:this.words[L]=this.words[L]&~(1<<H),this._strip()},c.prototype.iadd=function(m){var C;if(this.negative!==0&&m.negative===0)return this.negative=0,C=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,C=this.isub(m),m.negative=1,C._normSign();var L,H;this.length>m.length?(L=this,H=m):(L=m,H=this);for(var z=0,G=0;G<H.length;G++)C=(L.words[G]|0)+(H.words[G]|0)+z,this.words[G]=C&67108863,z=C>>>26;for(;z!==0&&G<L.length;G++)C=(L.words[G]|0)+z,this.words[G]=C&67108863,z=C>>>26;if(this.length=L.length,z!==0)this.words[this.length]=z,this.length++;else if(L!==this)for(;G<L.length;G++)this.words[G]=L.words[G];return this},c.prototype.add=function(m){var C;return m.negative!==0&&this.negative===0?(m.negative=0,C=this.sub(m),m.negative^=1,C):m.negative===0&&this.negative!==0?(this.negative=0,C=m.sub(this),this.negative=1,C):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},c.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var C=this.iadd(m);return m.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var L=this.cmp(m);if(L===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,z;L>0?(H=this,z=m):(H=m,z=this);for(var G=0,ee=0;ee<z.length;ee++)C=(H.words[ee]|0)-(z.words[ee]|0)+G,G=C>>26,this.words[ee]=C&67108863;for(;G!==0&&ee<H.length;ee++)C=(H.words[ee]|0)+G,G=C>>26,this.words[ee]=C&67108863;if(G===0&&ee<H.length&&H!==this)for(;ee<H.length;ee++)this.words[ee]=H.words[ee];return this.length=Math.max(this.length,ee),H!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(m){return this.clone().isub(m)};function E(D,m,C){C.negative=m.negative^D.negative;var L=D.length+m.length|0;C.length=L,L=L-1|0;var H=D.words[0]|0,z=m.words[0]|0,G=H*z,ee=G&67108863,ne=G/67108864|0;C.words[0]=ee;for(var q=1;q<L;q++){for(var se=ne>>>26,xe=ne&67108863,Ee=Math.min(q,m.length-1),be=Math.max(0,q-D.length+1);be<=Ee;be++){var Pe=q-be|0;H=D.words[Pe]|0,z=m.words[be]|0,G=H*z+xe,se+=G/67108864|0,xe=G&67108863}C.words[q]=xe|0,ne=se|0}return ne!==0?C.words[q]=ne|0:C.length--,C._strip()}var P=function(m,C,L){var H=m.words,z=C.words,G=L.words,ee=0,ne,q,se,xe=H[0]|0,Ee=xe&8191,be=xe>>>13,Pe=H[1]|0,X=Pe&8191,te=Pe>>>13,de=H[2]|0,he=de&8191,we=de>>>13,B=H[3]|0,U=B&8191,le=B>>>13,ge=H[4]|0,_e=ge&8191,ye=ge>>>13,Me=H[5]|0,Be=Me&8191,Ve=Me>>>13,_t=H[6]|0,Je=_t&8191,nt=_t>>>13,Rt=H[7]|0,ce=Rt&8191,ae=Rt>>>13,ue=H[8]|0,ke=ue&8191,Ie=ue>>>13,Ke=H[9]|0,Le=Ke&8191,Xe=Ke>>>13,Bt=z[0]|0,rt=Bt&8191,ct=Bt>>>13,yt=z[1]|0,pt=yt&8191,St=yt>>>13,un=z[2]|0,gt=un&8191,xt=un>>>13,ti=z[3]|0,Ot=ti&8191,Kt=ti>>>13,Ji=z[4]|0,Zt=Ji&8191,zt=Ji>>>13,Vi=z[5]|0,Mt=Vi&8191,ft=Vi>>>13,vt=z[6]|0,De=vt&8191,ze=vt>>>13,Ct=z[7]|0,lt=Ct&8191,ht=Ct>>>13,an=z[8]|0,Dt=an&8191,Vt=an>>>13,qt=z[9]|0,mt=qt&8191,Nt=qt>>>13;L.negative=m.negative^C.negative,L.length=19,ne=Math.imul(Ee,rt),q=Math.imul(Ee,ct),q=q+Math.imul(be,rt)|0,se=Math.imul(be,ct);var Ft=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ne=Math.imul(X,rt),q=Math.imul(X,ct),q=q+Math.imul(te,rt)|0,se=Math.imul(te,ct),ne=ne+Math.imul(Ee,pt)|0,q=q+Math.imul(Ee,St)|0,q=q+Math.imul(be,pt)|0,se=se+Math.imul(be,St)|0;var hn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(hn>>>26)|0,hn&=67108863,ne=Math.imul(he,rt),q=Math.imul(he,ct),q=q+Math.imul(we,rt)|0,se=Math.imul(we,ct),ne=ne+Math.imul(X,pt)|0,q=q+Math.imul(X,St)|0,q=q+Math.imul(te,pt)|0,se=se+Math.imul(te,St)|0,ne=ne+Math.imul(Ee,gt)|0,q=q+Math.imul(Ee,xt)|0,q=q+Math.imul(be,gt)|0,se=se+Math.imul(be,xt)|0;var sn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(sn>>>26)|0,sn&=67108863,ne=Math.imul(U,rt),q=Math.imul(U,ct),q=q+Math.imul(le,rt)|0,se=Math.imul(le,ct),ne=ne+Math.imul(he,pt)|0,q=q+Math.imul(he,St)|0,q=q+Math.imul(we,pt)|0,se=se+Math.imul(we,St)|0,ne=ne+Math.imul(X,gt)|0,q=q+Math.imul(X,xt)|0,q=q+Math.imul(te,gt)|0,se=se+Math.imul(te,xt)|0,ne=ne+Math.imul(Ee,Ot)|0,q=q+Math.imul(Ee,Kt)|0,q=q+Math.imul(be,Ot)|0,se=se+Math.imul(be,Kt)|0;var Ht=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ne=Math.imul(_e,rt),q=Math.imul(_e,ct),q=q+Math.imul(ye,rt)|0,se=Math.imul(ye,ct),ne=ne+Math.imul(U,pt)|0,q=q+Math.imul(U,St)|0,q=q+Math.imul(le,pt)|0,se=se+Math.imul(le,St)|0,ne=ne+Math.imul(he,gt)|0,q=q+Math.imul(he,xt)|0,q=q+Math.imul(we,gt)|0,se=se+Math.imul(we,xt)|0,ne=ne+Math.imul(X,Ot)|0,q=q+Math.imul(X,Kt)|0,q=q+Math.imul(te,Ot)|0,se=se+Math.imul(te,Kt)|0,ne=ne+Math.imul(Ee,Zt)|0,q=q+Math.imul(Ee,zt)|0,q=q+Math.imul(be,Zt)|0,se=se+Math.imul(be,zt)|0;var Sn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,ne=Math.imul(Be,rt),q=Math.imul(Be,ct),q=q+Math.imul(Ve,rt)|0,se=Math.imul(Ve,ct),ne=ne+Math.imul(_e,pt)|0,q=q+Math.imul(_e,St)|0,q=q+Math.imul(ye,pt)|0,se=se+Math.imul(ye,St)|0,ne=ne+Math.imul(U,gt)|0,q=q+Math.imul(U,xt)|0,q=q+Math.imul(le,gt)|0,se=se+Math.imul(le,xt)|0,ne=ne+Math.imul(he,Ot)|0,q=q+Math.imul(he,Kt)|0,q=q+Math.imul(we,Ot)|0,se=se+Math.imul(we,Kt)|0,ne=ne+Math.imul(X,Zt)|0,q=q+Math.imul(X,zt)|0,q=q+Math.imul(te,Zt)|0,se=se+Math.imul(te,zt)|0,ne=ne+Math.imul(Ee,Mt)|0,q=q+Math.imul(Ee,ft)|0,q=q+Math.imul(be,Mt)|0,se=se+Math.imul(be,ft)|0;var mn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(mn>>>26)|0,mn&=67108863,ne=Math.imul(Je,rt),q=Math.imul(Je,ct),q=q+Math.imul(nt,rt)|0,se=Math.imul(nt,ct),ne=ne+Math.imul(Be,pt)|0,q=q+Math.imul(Be,St)|0,q=q+Math.imul(Ve,pt)|0,se=se+Math.imul(Ve,St)|0,ne=ne+Math.imul(_e,gt)|0,q=q+Math.imul(_e,xt)|0,q=q+Math.imul(ye,gt)|0,se=se+Math.imul(ye,xt)|0,ne=ne+Math.imul(U,Ot)|0,q=q+Math.imul(U,Kt)|0,q=q+Math.imul(le,Ot)|0,se=se+Math.imul(le,Kt)|0,ne=ne+Math.imul(he,Zt)|0,q=q+Math.imul(he,zt)|0,q=q+Math.imul(we,Zt)|0,se=se+Math.imul(we,zt)|0,ne=ne+Math.imul(X,Mt)|0,q=q+Math.imul(X,ft)|0,q=q+Math.imul(te,Mt)|0,se=se+Math.imul(te,ft)|0,ne=ne+Math.imul(Ee,De)|0,q=q+Math.imul(Ee,ze)|0,q=q+Math.imul(be,De)|0,se=se+Math.imul(be,ze)|0;var In=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(In>>>26)|0,In&=67108863,ne=Math.imul(ce,rt),q=Math.imul(ce,ct),q=q+Math.imul(ae,rt)|0,se=Math.imul(ae,ct),ne=ne+Math.imul(Je,pt)|0,q=q+Math.imul(Je,St)|0,q=q+Math.imul(nt,pt)|0,se=se+Math.imul(nt,St)|0,ne=ne+Math.imul(Be,gt)|0,q=q+Math.imul(Be,xt)|0,q=q+Math.imul(Ve,gt)|0,se=se+Math.imul(Ve,xt)|0,ne=ne+Math.imul(_e,Ot)|0,q=q+Math.imul(_e,Kt)|0,q=q+Math.imul(ye,Ot)|0,se=se+Math.imul(ye,Kt)|0,ne=ne+Math.imul(U,Zt)|0,q=q+Math.imul(U,zt)|0,q=q+Math.imul(le,Zt)|0,se=se+Math.imul(le,zt)|0,ne=ne+Math.imul(he,Mt)|0,q=q+Math.imul(he,ft)|0,q=q+Math.imul(we,Mt)|0,se=se+Math.imul(we,ft)|0,ne=ne+Math.imul(X,De)|0,q=q+Math.imul(X,ze)|0,q=q+Math.imul(te,De)|0,se=se+Math.imul(te,ze)|0,ne=ne+Math.imul(Ee,lt)|0,q=q+Math.imul(Ee,ht)|0,q=q+Math.imul(be,lt)|0,se=se+Math.imul(be,ht)|0;var Dn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,ne=Math.imul(ke,rt),q=Math.imul(ke,ct),q=q+Math.imul(Ie,rt)|0,se=Math.imul(Ie,ct),ne=ne+Math.imul(ce,pt)|0,q=q+Math.imul(ce,St)|0,q=q+Math.imul(ae,pt)|0,se=se+Math.imul(ae,St)|0,ne=ne+Math.imul(Je,gt)|0,q=q+Math.imul(Je,xt)|0,q=q+Math.imul(nt,gt)|0,se=se+Math.imul(nt,xt)|0,ne=ne+Math.imul(Be,Ot)|0,q=q+Math.imul(Be,Kt)|0,q=q+Math.imul(Ve,Ot)|0,se=se+Math.imul(Ve,Kt)|0,ne=ne+Math.imul(_e,Zt)|0,q=q+Math.imul(_e,zt)|0,q=q+Math.imul(ye,Zt)|0,se=se+Math.imul(ye,zt)|0,ne=ne+Math.imul(U,Mt)|0,q=q+Math.imul(U,ft)|0,q=q+Math.imul(le,Mt)|0,se=se+Math.imul(le,ft)|0,ne=ne+Math.imul(he,De)|0,q=q+Math.imul(he,ze)|0,q=q+Math.imul(we,De)|0,se=se+Math.imul(we,ze)|0,ne=ne+Math.imul(X,lt)|0,q=q+Math.imul(X,ht)|0,q=q+Math.imul(te,lt)|0,se=se+Math.imul(te,ht)|0,ne=ne+Math.imul(Ee,Dt)|0,q=q+Math.imul(Ee,Vt)|0,q=q+Math.imul(be,Dt)|0,se=se+Math.imul(be,Vt)|0;var Xn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,ne=Math.imul(Le,rt),q=Math.imul(Le,ct),q=q+Math.imul(Xe,rt)|0,se=Math.imul(Xe,ct),ne=ne+Math.imul(ke,pt)|0,q=q+Math.imul(ke,St)|0,q=q+Math.imul(Ie,pt)|0,se=se+Math.imul(Ie,St)|0,ne=ne+Math.imul(ce,gt)|0,q=q+Math.imul(ce,xt)|0,q=q+Math.imul(ae,gt)|0,se=se+Math.imul(ae,xt)|0,ne=ne+Math.imul(Je,Ot)|0,q=q+Math.imul(Je,Kt)|0,q=q+Math.imul(nt,Ot)|0,se=se+Math.imul(nt,Kt)|0,ne=ne+Math.imul(Be,Zt)|0,q=q+Math.imul(Be,zt)|0,q=q+Math.imul(Ve,Zt)|0,se=se+Math.imul(Ve,zt)|0,ne=ne+Math.imul(_e,Mt)|0,q=q+Math.imul(_e,ft)|0,q=q+Math.imul(ye,Mt)|0,se=se+Math.imul(ye,ft)|0,ne=ne+Math.imul(U,De)|0,q=q+Math.imul(U,ze)|0,q=q+Math.imul(le,De)|0,se=se+Math.imul(le,ze)|0,ne=ne+Math.imul(he,lt)|0,q=q+Math.imul(he,ht)|0,q=q+Math.imul(we,lt)|0,se=se+Math.imul(we,ht)|0,ne=ne+Math.imul(X,Dt)|0,q=q+Math.imul(X,Vt)|0,q=q+Math.imul(te,Dt)|0,se=se+Math.imul(te,Vt)|0,ne=ne+Math.imul(Ee,mt)|0,q=q+Math.imul(Ee,Nt)|0,q=q+Math.imul(be,mt)|0,se=se+Math.imul(be,Nt)|0;var pn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(pn>>>26)|0,pn&=67108863,ne=Math.imul(Le,pt),q=Math.imul(Le,St),q=q+Math.imul(Xe,pt)|0,se=Math.imul(Xe,St),ne=ne+Math.imul(ke,gt)|0,q=q+Math.imul(ke,xt)|0,q=q+Math.imul(Ie,gt)|0,se=se+Math.imul(Ie,xt)|0,ne=ne+Math.imul(ce,Ot)|0,q=q+Math.imul(ce,Kt)|0,q=q+Math.imul(ae,Ot)|0,se=se+Math.imul(ae,Kt)|0,ne=ne+Math.imul(Je,Zt)|0,q=q+Math.imul(Je,zt)|0,q=q+Math.imul(nt,Zt)|0,se=se+Math.imul(nt,zt)|0,ne=ne+Math.imul(Be,Mt)|0,q=q+Math.imul(Be,ft)|0,q=q+Math.imul(Ve,Mt)|0,se=se+Math.imul(Ve,ft)|0,ne=ne+Math.imul(_e,De)|0,q=q+Math.imul(_e,ze)|0,q=q+Math.imul(ye,De)|0,se=se+Math.imul(ye,ze)|0,ne=ne+Math.imul(U,lt)|0,q=q+Math.imul(U,ht)|0,q=q+Math.imul(le,lt)|0,se=se+Math.imul(le,ht)|0,ne=ne+Math.imul(he,Dt)|0,q=q+Math.imul(he,Vt)|0,q=q+Math.imul(we,Dt)|0,se=se+Math.imul(we,Vt)|0,ne=ne+Math.imul(X,mt)|0,q=q+Math.imul(X,Nt)|0,q=q+Math.imul(te,mt)|0,se=se+Math.imul(te,Nt)|0;var Yn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,ne=Math.imul(Le,gt),q=Math.imul(Le,xt),q=q+Math.imul(Xe,gt)|0,se=Math.imul(Xe,xt),ne=ne+Math.imul(ke,Ot)|0,q=q+Math.imul(ke,Kt)|0,q=q+Math.imul(Ie,Ot)|0,se=se+Math.imul(Ie,Kt)|0,ne=ne+Math.imul(ce,Zt)|0,q=q+Math.imul(ce,zt)|0,q=q+Math.imul(ae,Zt)|0,se=se+Math.imul(ae,zt)|0,ne=ne+Math.imul(Je,Mt)|0,q=q+Math.imul(Je,ft)|0,q=q+Math.imul(nt,Mt)|0,se=se+Math.imul(nt,ft)|0,ne=ne+Math.imul(Be,De)|0,q=q+Math.imul(Be,ze)|0,q=q+Math.imul(Ve,De)|0,se=se+Math.imul(Ve,ze)|0,ne=ne+Math.imul(_e,lt)|0,q=q+Math.imul(_e,ht)|0,q=q+Math.imul(ye,lt)|0,se=se+Math.imul(ye,ht)|0,ne=ne+Math.imul(U,Dt)|0,q=q+Math.imul(U,Vt)|0,q=q+Math.imul(le,Dt)|0,se=se+Math.imul(le,Vt)|0,ne=ne+Math.imul(he,mt)|0,q=q+Math.imul(he,Nt)|0,q=q+Math.imul(we,mt)|0,se=se+Math.imul(we,Nt)|0;var jn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(jn>>>26)|0,jn&=67108863,ne=Math.imul(Le,Ot),q=Math.imul(Le,Kt),q=q+Math.imul(Xe,Ot)|0,se=Math.imul(Xe,Kt),ne=ne+Math.imul(ke,Zt)|0,q=q+Math.imul(ke,zt)|0,q=q+Math.imul(Ie,Zt)|0,se=se+Math.imul(Ie,zt)|0,ne=ne+Math.imul(ce,Mt)|0,q=q+Math.imul(ce,ft)|0,q=q+Math.imul(ae,Mt)|0,se=se+Math.imul(ae,ft)|0,ne=ne+Math.imul(Je,De)|0,q=q+Math.imul(Je,ze)|0,q=q+Math.imul(nt,De)|0,se=se+Math.imul(nt,ze)|0,ne=ne+Math.imul(Be,lt)|0,q=q+Math.imul(Be,ht)|0,q=q+Math.imul(Ve,lt)|0,se=se+Math.imul(Ve,ht)|0,ne=ne+Math.imul(_e,Dt)|0,q=q+Math.imul(_e,Vt)|0,q=q+Math.imul(ye,Dt)|0,se=se+Math.imul(ye,Vt)|0,ne=ne+Math.imul(U,mt)|0,q=q+Math.imul(U,Nt)|0,q=q+Math.imul(le,mt)|0,se=se+Math.imul(le,Nt)|0;var en=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(en>>>26)|0,en&=67108863,ne=Math.imul(Le,Zt),q=Math.imul(Le,zt),q=q+Math.imul(Xe,Zt)|0,se=Math.imul(Xe,zt),ne=ne+Math.imul(ke,Mt)|0,q=q+Math.imul(ke,ft)|0,q=q+Math.imul(Ie,Mt)|0,se=se+Math.imul(Ie,ft)|0,ne=ne+Math.imul(ce,De)|0,q=q+Math.imul(ce,ze)|0,q=q+Math.imul(ae,De)|0,se=se+Math.imul(ae,ze)|0,ne=ne+Math.imul(Je,lt)|0,q=q+Math.imul(Je,ht)|0,q=q+Math.imul(nt,lt)|0,se=se+Math.imul(nt,ht)|0,ne=ne+Math.imul(Be,Dt)|0,q=q+Math.imul(Be,Vt)|0,q=q+Math.imul(Ve,Dt)|0,se=se+Math.imul(Ve,Vt)|0,ne=ne+Math.imul(_e,mt)|0,q=q+Math.imul(_e,Nt)|0,q=q+Math.imul(ye,mt)|0,se=se+Math.imul(ye,Nt)|0;var dn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(dn>>>26)|0,dn&=67108863,ne=Math.imul(Le,Mt),q=Math.imul(Le,ft),q=q+Math.imul(Xe,Mt)|0,se=Math.imul(Xe,ft),ne=ne+Math.imul(ke,De)|0,q=q+Math.imul(ke,ze)|0,q=q+Math.imul(Ie,De)|0,se=se+Math.imul(Ie,ze)|0,ne=ne+Math.imul(ce,lt)|0,q=q+Math.imul(ce,ht)|0,q=q+Math.imul(ae,lt)|0,se=se+Math.imul(ae,ht)|0,ne=ne+Math.imul(Je,Dt)|0,q=q+Math.imul(Je,Vt)|0,q=q+Math.imul(nt,Dt)|0,se=se+Math.imul(nt,Vt)|0,ne=ne+Math.imul(Be,mt)|0,q=q+Math.imul(Be,Nt)|0,q=q+Math.imul(Ve,mt)|0,se=se+Math.imul(Ve,Nt)|0;var Cn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,ne=Math.imul(Le,De),q=Math.imul(Le,ze),q=q+Math.imul(Xe,De)|0,se=Math.imul(Xe,ze),ne=ne+Math.imul(ke,lt)|0,q=q+Math.imul(ke,ht)|0,q=q+Math.imul(Ie,lt)|0,se=se+Math.imul(Ie,ht)|0,ne=ne+Math.imul(ce,Dt)|0,q=q+Math.imul(ce,Vt)|0,q=q+Math.imul(ae,Dt)|0,se=se+Math.imul(ae,Vt)|0,ne=ne+Math.imul(Je,mt)|0,q=q+Math.imul(Je,Nt)|0,q=q+Math.imul(nt,mt)|0,se=se+Math.imul(nt,Nt)|0;var Wn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,ne=Math.imul(Le,lt),q=Math.imul(Le,ht),q=q+Math.imul(Xe,lt)|0,se=Math.imul(Xe,ht),ne=ne+Math.imul(ke,Dt)|0,q=q+Math.imul(ke,Vt)|0,q=q+Math.imul(Ie,Dt)|0,se=se+Math.imul(Ie,Vt)|0,ne=ne+Math.imul(ce,mt)|0,q=q+Math.imul(ce,Nt)|0,q=q+Math.imul(ae,mt)|0,se=se+Math.imul(ae,Nt)|0;var vn=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(vn>>>26)|0,vn&=67108863,ne=Math.imul(Le,Dt),q=Math.imul(Le,Vt),q=q+Math.imul(Xe,Dt)|0,se=Math.imul(Xe,Vt),ne=ne+Math.imul(ke,mt)|0,q=q+Math.imul(ke,Nt)|0,q=q+Math.imul(Ie,mt)|0,se=se+Math.imul(Ie,Nt)|0;var An=(ee+ne|0)+((q&8191)<<13)|0;ee=(se+(q>>>13)|0)+(An>>>26)|0,An&=67108863,ne=Math.imul(Le,mt),q=Math.imul(Le,Nt),q=q+Math.imul(Xe,mt)|0,se=Math.imul(Xe,Nt);var Jn=(ee+ne|0)+((q&8191)<<13)|0;return ee=(se+(q>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,G[0]=Ft,G[1]=hn,G[2]=sn,G[3]=Ht,G[4]=Sn,G[5]=mn,G[6]=In,G[7]=Dn,G[8]=Xn,G[9]=pn,G[10]=Yn,G[11]=jn,G[12]=en,G[13]=dn,G[14]=Cn,G[15]=Wn,G[16]=vn,G[17]=An,G[18]=Jn,ee!==0&&(G[19]=ee,L.length++),L};Math.imul||(P=E);function M(D,m,C){C.negative=m.negative^D.negative,C.length=D.length+m.length;for(var L=0,H=0,z=0;z<C.length-1;z++){var G=H;H=0;for(var ee=L&67108863,ne=Math.min(z,m.length-1),q=Math.max(0,z-D.length+1);q<=ne;q++){var se=z-q,xe=D.words[se]|0,Ee=m.words[q]|0,be=xe*Ee,Pe=be&67108863;G=G+(be/67108864|0)|0,Pe=Pe+ee|0,ee=Pe&67108863,G=G+(Pe>>>26)|0,H+=G>>>26,G&=67108863}C.words[z]=ee,L=G,G=H}return L!==0?C.words[z]=L:C.length--,C._strip()}function V(D,m,C){return M(D,m,C)}c.prototype.mulTo=function(m,C){var L,H=this.length+m.length;return this.length===10&&m.length===10?L=P(this,m,C):H<63?L=E(this,m,C):H<1024?L=M(this,m,C):L=V(this,m,C),L};function O(D,m){this.x=D,this.y=m}O.prototype.makeRBT=function(m){for(var C=new Array(m),L=c.prototype._countBits(m)-1,H=0;H<m;H++)C[H]=this.revBin(H,L,m);return C},O.prototype.revBin=function(m,C,L){if(m===0||m===L-1)return m;for(var H=0,z=0;z<C;z++)H|=(m&1)<<C-z-1,m>>=1;return H},O.prototype.permute=function(m,C,L,H,z,G){for(var ee=0;ee<G;ee++)H[ee]=C[m[ee]],z[ee]=L[m[ee]]},O.prototype.transform=function(m,C,L,H,z,G){this.permute(G,m,C,L,H,z);for(var ee=1;ee<z;ee<<=1)for(var ne=ee<<1,q=Math.cos(2*Math.PI/ne),se=Math.sin(2*Math.PI/ne),xe=0;xe<z;xe+=ne)for(var Ee=q,be=se,Pe=0;Pe<ee;Pe++){var X=L[xe+Pe],te=H[xe+Pe],de=L[xe+Pe+ee],he=H[xe+Pe+ee],we=Ee*de-be*he;he=Ee*he+be*de,de=we,L[xe+Pe]=X+de,H[xe+Pe]=te+he,L[xe+Pe+ee]=X-de,H[xe+Pe+ee]=te-he,Pe!==ne&&(we=q*Ee-se*be,be=q*be+se*Ee,Ee=we)}},O.prototype.guessLen13b=function(m,C){var L=Math.max(C,m)|1,H=L&1,z=0;for(L=L/2|0;L;L=L>>>1)z++;return 1<<z+1+H},O.prototype.conjugate=function(m,C,L){if(!(L<=1))for(var H=0;H<L/2;H++){var z=m[H];m[H]=m[L-H-1],m[L-H-1]=z,z=C[H],C[H]=-C[L-H-1],C[L-H-1]=-z}},O.prototype.normalize13b=function(m,C){for(var L=0,H=0;H<C/2;H++){var z=Math.round(m[2*H+1]/C)*8192+Math.round(m[2*H]/C)+L;m[H]=z&67108863,z<67108864?L=0:L=z/67108864|0}return m},O.prototype.convert13b=function(m,C,L,H){for(var z=0,G=0;G<C;G++)z=z+(m[G]|0),L[2*G]=z&8191,z=z>>>13,L[2*G+1]=z&8191,z=z>>>13;for(G=2*C;G<H;++G)L[G]=0;F(z===0),F((z&-8192)===0)},O.prototype.stub=function(m){for(var C=new Array(m),L=0;L<m;L++)C[L]=0;return C},O.prototype.mulp=function(m,C,L){var H=2*this.guessLen13b(m.length,C.length),z=this.makeRBT(H),G=this.stub(H),ee=new Array(H),ne=new Array(H),q=new Array(H),se=new Array(H),xe=new Array(H),Ee=new Array(H),be=L.words;be.length=H,this.convert13b(m.words,m.length,ee,H),this.convert13b(C.words,C.length,se,H),this.transform(ee,G,ne,q,H,z),this.transform(se,G,xe,Ee,H,z);for(var Pe=0;Pe<H;Pe++){var X=ne[Pe]*xe[Pe]-q[Pe]*Ee[Pe];q[Pe]=ne[Pe]*Ee[Pe]+q[Pe]*xe[Pe],ne[Pe]=X}return this.conjugate(ne,q,H),this.transform(ne,q,be,G,H,z),this.conjugate(be,G,H),this.normalize13b(be,H),L.negative=m.negative^C.negative,L.length=m.length+C.length,L._strip()},c.prototype.mul=function(m){var C=new c(null);return C.words=new Array(this.length+m.length),this.mulTo(m,C)},c.prototype.mulf=function(m){var C=new c(null);return C.words=new Array(this.length+m.length),V(this,m,C)},c.prototype.imul=function(m){return this.clone().mulTo(m,this)},c.prototype.imuln=function(m){var C=m<0;C&&(m=-m),F(typeof m=="number"),F(m<67108864);for(var L=0,H=0;H<this.length;H++){var z=(this.words[H]|0)*m,G=(z&67108863)+(L&67108863);L>>=26,L+=z/67108864|0,L+=G>>>26,this.words[H]=G&67108863}return L!==0&&(this.words[H]=L,this.length++),C?this.ineg():this},c.prototype.muln=function(m){return this.clone().imuln(m)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(m){var C=_(m);if(C.length===0)return new c(1);for(var L=this,H=0;H<C.length&&C[H]===0;H++,L=L.sqr());if(++H<C.length)for(var z=L.sqr();H<C.length;H++,z=z.sqr())C[H]!==0&&(L=L.mul(z));return L},c.prototype.iushln=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26,H=67108863>>>26-C<<26-C,z;if(C!==0){var G=0;for(z=0;z<this.length;z++){var ee=this.words[z]&H,ne=(this.words[z]|0)-ee<<C;this.words[z]=ne|G,G=ee>>>26-C}G&&(this.words[z]=G,this.length++)}if(L!==0){for(z=this.length-1;z>=0;z--)this.words[z+L]=this.words[z];for(z=0;z<L;z++)this.words[z]=0;this.length+=L}return this._strip()},c.prototype.ishln=function(m){return F(this.negative===0),this.iushln(m)},c.prototype.iushrn=function(m,C,L){F(typeof m=="number"&&m>=0);var H;C?H=(C-C%26)/26:H=0;var z=m%26,G=Math.min((m-z)/26,this.length),ee=67108863^67108863>>>z<<z,ne=L;if(H-=G,H=Math.max(0,H),ne){for(var q=0;q<G;q++)ne.words[q]=this.words[q];ne.length=G}if(G!==0)if(this.length>G)for(this.length-=G,q=0;q<this.length;q++)this.words[q]=this.words[q+G];else this.words[0]=0,this.length=1;var se=0;for(q=this.length-1;q>=0&&(se!==0||q>=H);q--){var xe=this.words[q]|0;this.words[q]=se<<26-z|xe>>>z,se=xe&ee}return ne&&se!==0&&(ne.words[ne.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(m,C,L){return F(this.negative===0),this.iushrn(m,C,L)},c.prototype.shln=function(m){return this.clone().ishln(m)},c.prototype.ushln=function(m){return this.clone().iushln(m)},c.prototype.shrn=function(m){return this.clone().ishrn(m)},c.prototype.ushrn=function(m){return this.clone().iushrn(m)},c.prototype.testn=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26,H=1<<C;if(this.length<=L)return!1;var z=this.words[L];return!!(z&H)},c.prototype.imaskn=function(m){F(typeof m=="number"&&m>=0);var C=m%26,L=(m-C)/26;if(F(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(C!==0&&L++,this.length=Math.min(L,this.length),C!==0){var H=67108863^67108863>>>C<<C;this.words[this.length-1]&=H}return this._strip()},c.prototype.maskn=function(m){return this.clone().imaskn(m)},c.prototype.iaddn=function(m){return F(typeof m=="number"),F(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},c.prototype._iaddn=function(m){this.words[0]+=m;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},c.prototype.isubn=function(m){if(F(typeof m=="number"),F(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},c.prototype.addn=function(m){return this.clone().iaddn(m)},c.prototype.subn=function(m){return this.clone().isubn(m)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(m,C,L){var H=m.length+L,z;this._expand(H);var G,ee=0;for(z=0;z<m.length;z++){G=(this.words[z+L]|0)+ee;var ne=(m.words[z]|0)*C;G-=ne&67108863,ee=(G>>26)-(ne/67108864|0),this.words[z+L]=G&67108863}for(;z<this.length-L;z++)G=(this.words[z+L]|0)+ee,ee=G>>26,this.words[z+L]=G&67108863;if(ee===0)return this._strip();for(F(ee===-1),ee=0,z=0;z<this.length;z++)G=-(this.words[z]|0)+ee,ee=G>>26,this.words[z]=G&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(m,C){var L=this.length-m.length,H=this.clone(),z=m,G=z.words[z.length-1]|0,ee=this._countBits(G);L=26-ee,L!==0&&(z=z.ushln(L),H.iushln(L),G=z.words[z.length-1]|0);var ne=H.length-z.length,q;if(C!=="mod"){q=new c(null),q.length=ne+1,q.words=new Array(q.length);for(var se=0;se<q.length;se++)q.words[se]=0}var xe=H.clone()._ishlnsubmul(z,1,ne);xe.negative===0&&(H=xe,q&&(q.words[ne]=1));for(var Ee=ne-1;Ee>=0;Ee--){var be=(H.words[z.length+Ee]|0)*67108864+(H.words[z.length+Ee-1]|0);for(be=Math.min(be/G|0,67108863),H._ishlnsubmul(z,be,Ee);H.negative!==0;)be--,H.negative=0,H._ishlnsubmul(z,1,Ee),H.isZero()||(H.negative^=1);q&&(q.words[Ee]=be)}return q&&q._strip(),H._strip(),C!=="div"&&L!==0&&H.iushrn(L),{div:q||null,mod:H}},c.prototype.divmod=function(m,C,L){if(F(!m.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var H,z,G;return this.negative!==0&&m.negative===0?(G=this.neg().divmod(m,C),C!=="mod"&&(H=G.div.neg()),C!=="div"&&(z=G.mod.neg(),L&&z.negative!==0&&z.iadd(m)),{div:H,mod:z}):this.negative===0&&m.negative!==0?(G=this.divmod(m.neg(),C),C!=="mod"&&(H=G.div.neg()),{div:H,mod:G.mod}):this.negative&m.negative?(G=this.neg().divmod(m.neg(),C),C!=="div"&&(z=G.mod.neg(),L&&z.negative!==0&&z.isub(m)),{div:G.div,mod:z}):m.length>this.length||this.cmp(m)<0?{div:new c(0),mod:this}:m.length===1?C==="div"?{div:this.divn(m.words[0]),mod:null}:C==="mod"?{div:null,mod:new c(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new c(this.modrn(m.words[0]))}:this._wordDiv(m,C)},c.prototype.div=function(m){return this.divmod(m,"div",!1).div},c.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},c.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},c.prototype.divRound=function(m){var C=this.divmod(m);if(C.mod.isZero())return C.div;var L=C.div.negative!==0?C.mod.isub(m):C.mod,H=m.ushrn(1),z=m.andln(1),G=L.cmp(H);return G<0||z===1&&G===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},c.prototype.modrn=function(m){var C=m<0;C&&(m=-m),F(m<=67108863);for(var L=(1<<26)%m,H=0,z=this.length-1;z>=0;z--)H=(L*H+(this.words[z]|0))%m;return C?-H:H},c.prototype.modn=function(m){return this.modrn(m)},c.prototype.idivn=function(m){var C=m<0;C&&(m=-m),F(m<=67108863);for(var L=0,H=this.length-1;H>=0;H--){var z=(this.words[H]|0)+L*67108864;this.words[H]=z/m|0,L=z%m}return this._strip(),C?this.ineg():this},c.prototype.divn=function(m){return this.clone().idivn(m)},c.prototype.egcd=function(m){F(m.negative===0),F(!m.isZero());var C=this,L=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var H=new c(1),z=new c(0),G=new c(0),ee=new c(1),ne=0;C.isEven()&&L.isEven();)C.iushrn(1),L.iushrn(1),++ne;for(var q=L.clone(),se=C.clone();!C.isZero();){for(var xe=0,Ee=1;!(C.words[0]&Ee)&&xe<26;++xe,Ee<<=1);if(xe>0)for(C.iushrn(xe);xe-- >0;)(H.isOdd()||z.isOdd())&&(H.iadd(q),z.isub(se)),H.iushrn(1),z.iushrn(1);for(var be=0,Pe=1;!(L.words[0]&Pe)&&be<26;++be,Pe<<=1);if(be>0)for(L.iushrn(be);be-- >0;)(G.isOdd()||ee.isOdd())&&(G.iadd(q),ee.isub(se)),G.iushrn(1),ee.iushrn(1);C.cmp(L)>=0?(C.isub(L),H.isub(G),z.isub(ee)):(L.isub(C),G.isub(H),ee.isub(z))}return{a:G,b:ee,gcd:L.iushln(ne)}},c.prototype._invmp=function(m){F(m.negative===0),F(!m.isZero());var C=this,L=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var H=new c(1),z=new c(0),G=L.clone();C.cmpn(1)>0&&L.cmpn(1)>0;){for(var ee=0,ne=1;!(C.words[0]&ne)&&ee<26;++ee,ne<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)H.isOdd()&&H.iadd(G),H.iushrn(1);for(var q=0,se=1;!(L.words[0]&se)&&q<26;++q,se<<=1);if(q>0)for(L.iushrn(q);q-- >0;)z.isOdd()&&z.iadd(G),z.iushrn(1);C.cmp(L)>=0?(C.isub(L),H.isub(z)):(L.isub(C),z.isub(H))}var xe;return C.cmpn(1)===0?xe=H:xe=z,xe.cmpn(0)<0&&xe.iadd(m),xe},c.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var C=this.clone(),L=m.clone();C.negative=0,L.negative=0;for(var H=0;C.isEven()&&L.isEven();H++)C.iushrn(1),L.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;L.isEven();)L.iushrn(1);var z=C.cmp(L);if(z<0){var G=C;C=L,L=G}else if(z===0||L.cmpn(1)===0)break;C.isub(L)}while(!0);return L.iushln(H)},c.prototype.invm=function(m){return this.egcd(m).a.umod(m)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(m){return this.words[0]&m},c.prototype.bincn=function(m){F(typeof m=="number");var C=m%26,L=(m-C)/26,H=1<<C;if(this.length<=L)return this._expand(L+1),this.words[L]|=H,this;for(var z=H,G=L;z!==0&&G<this.length;G++){var ee=this.words[G]|0;ee+=z,z=ee>>>26,ee&=67108863,this.words[G]=ee}return z!==0&&(this.words[G]=z,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(m){var C=m<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var L;if(this.length>1)L=1;else{C&&(m=-m),F(m<=67108863,"Number is too big");var H=this.words[0]|0;L=H===m?0:H<m?-1:1}return this.negative!==0?-L|0:L},c.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var C=this.ucmp(m);return this.negative!==0?-C|0:C},c.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var C=0,L=this.length-1;L>=0;L--){var H=this.words[L]|0,z=m.words[L]|0;if(H!==z){H<z?C=-1:H>z&&(C=1);break}}return C},c.prototype.gtn=function(m){return this.cmpn(m)===1},c.prototype.gt=function(m){return this.cmp(m)===1},c.prototype.gten=function(m){return this.cmpn(m)>=0},c.prototype.gte=function(m){return this.cmp(m)>=0},c.prototype.ltn=function(m){return this.cmpn(m)===-1},c.prototype.lt=function(m){return this.cmp(m)===-1},c.prototype.lten=function(m){return this.cmpn(m)<=0},c.prototype.lte=function(m){return this.cmp(m)<=0},c.prototype.eqn=function(m){return this.cmpn(m)===0},c.prototype.eq=function(m){return this.cmp(m)===0},c.red=function(m){return new x(m)},c.prototype.toRed=function(m){return F(!this.red,"Already a number in reduction context"),F(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},c.prototype.fromRed=function(){return F(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(m){return this.red=m,this},c.prototype.forceRed=function(m){return F(!this.red,"Already a number in reduction context"),this._forceRed(m)},c.prototype.redAdd=function(m){return F(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},c.prototype.redIAdd=function(m){return F(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},c.prototype.redSub=function(m){return F(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},c.prototype.redISub=function(m){return F(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},c.prototype.redShl=function(m){return F(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},c.prototype.redMul=function(m){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},c.prototype.redIMul=function(m){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},c.prototype.redSqr=function(){return F(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return F(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return F(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return F(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return F(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(m){return F(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var y={k256:null,p224:null,p192:null,p25519:null};function K(D,m){this.name=D,this.p=new c(m,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var m=new c(null);return m.words=new Array(Math.ceil(this.n/13)),m},K.prototype.ireduce=function(m){var C=m,L;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),L=C.bitLength();while(L>this.n);var H=L<this.n?-1:C.ucmp(this.p);return H===0?(C.words[0]=0,C.length=1):H>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},K.prototype.split=function(m,C){m.iushrn(this.n,0,C)},K.prototype.imulK=function(m){return m.imul(this.k)};function Y(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(Y,K),Y.prototype.split=function(m,C){for(var L=4194303,H=Math.min(m.length,9),z=0;z<H;z++)C.words[z]=m.words[z];if(C.length=H,m.length<=9){m.words[0]=0,m.length=1;return}var G=m.words[9];for(C.words[C.length++]=G&L,z=10;z<m.length;z++){var ee=m.words[z]|0;m.words[z-10]=(ee&L)<<4|G>>>22,G=ee}G>>>=22,m.words[z-10]=G,G===0&&m.length>10?m.length-=10:m.length-=9},Y.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var C=0,L=0;L<m.length;L++){var H=m.words[L]|0;C+=H*977,m.words[L]=C&67108863,C=H*64+(C/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function Z(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(Z,K);function ie(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(ie,K);function J(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(J,K),J.prototype.imulK=function(m){for(var C=0,L=0;L<m.length;L++){var H=(m.words[L]|0)*19+C,z=H&67108863;H>>>=26,m.words[L]=z,C=H}return C!==0&&(m.words[m.length++]=C),m},c._prime=function(m){if(y[m])return y[m];var C;if(m==="k256")C=new Y;else if(m==="p224")C=new Z;else if(m==="p192")C=new ie;else if(m==="p25519")C=new J;else throw new Error("Unknown prime "+m);return y[m]=C,C};function x(D){if(typeof D=="string"){var m=c._prime(D);this.m=m.p,this.prime=m}else F(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}x.prototype._verify1=function(m){F(m.negative===0,"red works only with positives"),F(m.red,"red works only with red numbers")},x.prototype._verify2=function(m,C){F((m.negative|C.negative)===0,"red works only with positives"),F(m.red&&m.red===C.red,"red works only with red numbers")},x.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(b(m,m.umod(this.m)._forceRed(this)),m)},x.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},x.prototype.add=function(m,C){this._verify2(m,C);var L=m.add(C);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},x.prototype.iadd=function(m,C){this._verify2(m,C);var L=m.iadd(C);return L.cmp(this.m)>=0&&L.isub(this.m),L},x.prototype.sub=function(m,C){this._verify2(m,C);var L=m.sub(C);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},x.prototype.isub=function(m,C){this._verify2(m,C);var L=m.isub(C);return L.cmpn(0)<0&&L.iadd(this.m),L},x.prototype.shl=function(m,C){return this._verify1(m),this.imod(m.ushln(C))},x.prototype.imul=function(m,C){return this._verify2(m,C),this.imod(m.imul(C))},x.prototype.mul=function(m,C){return this._verify2(m,C),this.imod(m.mul(C))},x.prototype.isqr=function(m){return this.imul(m,m.clone())},x.prototype.sqr=function(m){return this.mul(m,m)},x.prototype.sqrt=function(m){if(m.isZero())return m.clone();var C=this.m.andln(3);if(F(C%2===1),C===3){var L=this.m.add(new c(1)).iushrn(2);return this.pow(m,L)}for(var H=this.m.subn(1),z=0;!H.isZero()&&H.andln(1)===0;)z++,H.iushrn(1);F(!H.isZero());var G=new c(1).toRed(this),ee=G.redNeg(),ne=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new c(2*q*q).toRed(this);this.pow(q,ne).cmp(ee)!==0;)q.redIAdd(ee);for(var se=this.pow(q,H),xe=this.pow(m,H.addn(1).iushrn(1)),Ee=this.pow(m,H),be=z;Ee.cmp(G)!==0;){for(var Pe=Ee,X=0;Pe.cmp(G)!==0;X++)Pe=Pe.redSqr();F(X<be);var te=this.pow(se,new c(1).iushln(be-X-1));xe=xe.redMul(te),se=te.redSqr(),Ee=Ee.redMul(se),be=X}return xe},x.prototype.invm=function(m){var C=m._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},x.prototype.pow=function(m,C){if(C.isZero())return new c(1).toRed(this);if(C.cmpn(1)===0)return m.clone();var L=4,H=new Array(1<<L);H[0]=new c(1).toRed(this),H[1]=m;for(var z=2;z<H.length;z++)H[z]=this.mul(H[z-1],m);var G=H[0],ee=0,ne=0,q=C.bitLength()%26;for(q===0&&(q=26),z=C.length-1;z>=0;z--){for(var se=C.words[z],xe=q-1;xe>=0;xe--){var Ee=se>>xe&1;if(G!==H[0]&&(G=this.sqr(G)),Ee===0&&ee===0){ne=0;continue}ee<<=1,ee|=Ee,ne++,!(ne!==L&&(z!==0||xe!==0))&&(G=this.mul(G,H[ee]),ne=0,ee=0)}q=26}return G},x.prototype.convertTo=function(m){var C=m.umod(this.m);return C===m?C.clone():C},x.prototype.convertFrom=function(m){var C=m.clone();return C.red=null,C},c.mont=function(m){return new W(m)};function W(D){x.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(W,x),W.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},W.prototype.convertFrom=function(m){var C=this.imod(m.mul(this.rinv));return C.red=null,C},W.prototype.imul=function(m,C){if(m.isZero()||C.isZero())return m.words[0]=0,m.length=1,m;var L=m.imul(C),H=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=L.isub(H).iushrn(this.shift),G=z;return z.cmp(this.m)>=0?G=z.isub(this.m):z.cmpn(0)<0&&(G=z.iadd(this.m)),G._forceRed(this)},W.prototype.mul=function(m,C){if(m.isZero()||C.isZero())return new c(0)._forceRed(this);var L=m.mul(C),H=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=L.isub(H).iushrn(this.shift),G=z;return z.cmp(this.m)>=0?G=z.isub(this.m):z.cmpn(0)<0&&(G=z.iadd(this.m)),G._forceRed(this)},W.prototype.invm=function(m){var C=this.imod(m._invmp(this.m).mul(this.r2));return C._forceRed(this)}}(s,this)},2686:s=>{"use strict";function j(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var R={};function S(h,p,v){v||(v=Error);function w(l,N,d){return typeof p=="string"?p:p(l,N,d)}var b=function(l){j(N,l);function N(d,g,f){return l.call(this,w(d,g,f))||this}return N}(v);b.prototype.name=v.name,b.prototype.code=h,R[h]=b}function I(h,p){if(Array.isArray(h)){var v=h.length;return h=h.map(function(w){return String(w)}),v>2?"one of ".concat(p," ").concat(h.slice(0,v-1).join(", "),", or ")+h[v-1]:v===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function F(h,p,v){return h.substr(!v||v<0?0:+v,p.length)===p}function T(h,p,v){return(v===void 0||v>h.length)&&(v=h.length),h.substring(v-p.length,v)===p}function c(h,p,v){return typeof v!="number"&&(v=0),v+p.length>h.length?!1:h.indexOf(p,v)!==-1}S("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(h,p,v){var w;typeof p=="string"&&F(p,"not ")?(w="must not be",p=p.replace(/^not /,"")):w="must be";var b;if(T(h," argument"))b="The ".concat(h," ").concat(w," ").concat(I(p,"type"));else{var l=c(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(w," ").concat(I(p,"type"))}return b+=". Received type ".concat(typeof v),b},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=R},26248:(s,j,R)=>{"use strict";var S=R(65606),I=Object.keys||function(l){var N=[];for(var d in l)N.push(d);return N};s.exports=v;var F=R(30206),T=R(7314);R(56698)(v,F);for(var c=I(T.prototype),h=0;h<c.length;h++){var p=c[h];v.prototype[p]||(v.prototype[p]=T.prototype[p])}function v(l){if(!(this instanceof v))return new v(l);F.call(this,l),T.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(N){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=N,this._writableState.destroyed=N)}})},75242:(s,j,R)=>{"use strict";s.exports=I;var S=R(81816);R(56698)(I,S);function I(F){if(!(this instanceof I))return new I(F);S.call(this,F)}I.prototype._transform=function(F,T,c){c(null,F)}},30206:(s,j,R)=>{"use strict";var S=R(65606);s.exports=x;var I;x.ReadableState=J;var F=R(37007).EventEmitter,T=function(U,le){return U.listeners(le).length},c=R(5567),h=R(48287).Buffer,p=(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function v(B){return h.from(B)}function w(B){return h.isBuffer(B)||B instanceof p}var b=R(92668),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var N=R(72851),d=R(36278),g=R(57385),f=g.getHighWaterMark,_=R(2686).F,E=_.ERR_INVALID_ARG_TYPE,P=_.ERR_STREAM_PUSH_AFTER_EOF,M=_.ERR_METHOD_NOT_IMPLEMENTED,V=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,y,K;R(56698)(x,c);var Y=d.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ie(B,U,le){if(typeof B.prependListener=="function")return B.prependListener(U,le);!B._events||!B._events[U]?B.on(U,le):Array.isArray(B._events[U])?B._events[U].unshift(le):B._events[U]=[le,B._events[U]]}function J(B,U,le){I=I||R(26248),B=B||{},typeof le!="boolean"&&(le=U instanceof I),this.objectMode=!!B.objectMode,le&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=f(this,B,"readableHighWaterMark",le),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(O||(O=R(83141).I),this.decoder=new O(B.encoding),this.encoding=B.encoding)}function x(B){if(I=I||R(26248),!(this instanceof x))return new x(B);var U=this instanceof I;this._readableState=new J(B,this,U),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),c.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(B,U){U(B)},x.prototype.push=function(B,U){var le=this._readableState,ge;return le.objectMode?ge=!0:typeof B=="string"&&(U=U||le.defaultEncoding,U!==le.encoding&&(B=h.from(B,U),U=""),ge=!0),W(this,B,U,!1,ge)},x.prototype.unshift=function(B){return W(this,B,null,!0,!1)};function W(B,U,le,ge,_e){l("readableAddChunk",U);var ye=B._readableState;if(U===null)ye.reading=!1,z(B,ye);else{var Me;if(_e||(Me=m(ye,U)),Me)Y(B,Me);else if(ye.objectMode||U&&U.length>0)if(typeof U!="string"&&!ye.objectMode&&Object.getPrototypeOf(U)!==h.prototype&&(U=v(U)),ge)ye.endEmitted?Y(B,new V):D(B,ye,U,!0);else if(ye.ended)Y(B,new P);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?D(B,ye,U,!1):ne(B,ye)):D(B,ye,U,!1)}else ge||(ye.reading=!1,ne(B,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function D(B,U,le,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,B.emit("data",le)):(U.length+=U.objectMode?1:le.length,ge?U.buffer.unshift(le):U.buffer.push(le),U.needReadable&&G(B)),ne(B,U)}function m(B,U){var le;return!w(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(le=new E("chunk",["string","Buffer","Uint8Array"],U)),le}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(B){O||(O=R(83141).I);var U=new O(B);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ge="";le!==null;)ge+=U.write(le.data),le=le.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var C=1073741824;function L(B){return B>=C?B=C:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function H(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=L(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}x.prototype.read=function(B){l("read",B),B=parseInt(B,10);var U=this._readableState,le=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return l("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?de(this):G(this),null;if(B=H(B,U),B===0&&U.ended)return U.length===0&&de(this),null;var ge=U.needReadable;l("need readable",ge),(U.length===0||U.length-B<U.highWaterMark)&&(ge=!0,l("length less than watermark",ge)),U.ended||U.reading?(ge=!1,l("reading or ended",ge)):ge&&(l("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=H(le,U)));var _e;return B>0?_e=te(B,U):_e=null,_e===null?(U.needReadable=U.length<=U.highWaterMark,B=0):(U.length-=B,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),le!==B&&U.ended&&de(this)),_e!==null&&this.emit("data",_e),_e};function z(B,U){if(l("onEofChunk"),!U.ended){if(U.decoder){var le=U.decoder.end();le&&le.length&&(U.buffer.push(le),U.length+=U.objectMode?1:le.length)}U.ended=!0,U.sync?G(B):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ee(B)))}}function G(B){var U=B._readableState;l("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(l("emitReadable",U.flowing),U.emittedReadable=!0,S.nextTick(ee,B))}function ee(B){var U=B._readableState;l("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(B.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,X(B)}function ne(B,U){U.readingMore||(U.readingMore=!0,S.nextTick(q,B,U))}function q(B,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var le=U.length;if(l("maybeReadMore read 0"),B.read(0),le===U.length)break}U.readingMore=!1}x.prototype._read=function(B){Y(this,new M("_read()"))},x.prototype.pipe=function(B,U){var le=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=B;break;case 1:ge.pipes=[ge.pipes,B];break;default:ge.pipes.push(B);break}ge.pipesCount+=1,l("pipe count=%d opts=%j",ge.pipesCount,U);var _e=(!U||U.end!==!1)&&B!==S.stdout&&B!==S.stderr,ye=_e?Be:ue;ge.endEmitted?S.nextTick(ye):le.once("end",ye),B.on("unpipe",Me);function Me(ke,Ie){l("onunpipe"),ke===le&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Je())}function Be(){l("onend"),B.end()}var Ve=se(le);B.on("drain",Ve);var _t=!1;function Je(){l("cleanup"),B.removeListener("close",ce),B.removeListener("finish",ae),B.removeListener("drain",Ve),B.removeListener("error",Rt),B.removeListener("unpipe",Me),le.removeListener("end",Be),le.removeListener("end",ue),le.removeListener("data",nt),_t=!0,ge.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ve()}le.on("data",nt);function nt(ke){l("ondata");var Ie=B.write(ke);l("dest.write",Ie),Ie===!1&&((ge.pipesCount===1&&ge.pipes===B||ge.pipesCount>1&&we(ge.pipes,B)!==-1)&&!_t&&(l("false write response, pause",ge.awaitDrain),ge.awaitDrain++),le.pause())}function Rt(ke){l("onerror",ke),ue(),B.removeListener("error",Rt),T(B,"error")===0&&Y(B,ke)}ie(B,"error",Rt);function ce(){B.removeListener("finish",ae),ue()}B.once("close",ce);function ae(){l("onfinish"),B.removeListener("close",ce),ue()}B.once("finish",ae);function ue(){l("unpipe"),le.unpipe(B)}return B.emit("pipe",le),ge.flowing||(l("pipe resume"),le.resume()),B};function se(B){return function(){var le=B._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&T(B,"data")&&(le.flowing=!0,X(B))}}x.prototype.unpipe=function(B){var U=this._readableState,le={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,le),this);if(!B){var ge=U.pipes,_e=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ye=0;ye<_e;ye++)ge[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=we(U.pipes,B);return Me===-1?this:(U.pipes.splice(Me,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,le),this)},x.prototype.on=function(B,U){var le=c.prototype.on.call(this,B,U),ge=this._readableState;return B==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):B==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,l("on readable",ge.length,ge.reading),ge.length?G(this):ge.reading||S.nextTick(Ee,this)),le},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(B,U){var le=c.prototype.removeListener.call(this,B,U);return B==="readable"&&S.nextTick(xe,this),le},x.prototype.removeAllListeners=function(B){var U=c.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&S.nextTick(xe,this),U};function xe(B){var U=B._readableState;U.readableListening=B.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:B.listenerCount("data")>0&&B.resume()}function Ee(B){l("readable nexttick read 0"),B.read(0)}x.prototype.resume=function(){var B=this._readableState;return B.flowing||(l("resume"),B.flowing=!B.readableListening,be(this,B)),B.paused=!1,this};function be(B,U){U.resumeScheduled||(U.resumeScheduled=!0,S.nextTick(Pe,B,U))}function Pe(B,U){l("resume",U.reading),U.reading||B.read(0),U.resumeScheduled=!1,B.emit("resume"),X(B),U.flowing&&!U.reading&&B.read(0)}x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var U=B._readableState;for(l("flow",U.flowing);U.flowing&&B.read()!==null;);}x.prototype.wrap=function(B){var U=this,le=this._readableState,ge=!1;B.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&U.push(Me)}U.push(null)}),B.on("data",function(Me){if(l("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var Be=U.push(Me);Be||(ge=!0,B.pause())}});for(var _e in B)this[_e]===void 0&&typeof B[_e]=="function"&&(this[_e]=function(Be){return function(){return B[Be].apply(B,arguments)}}(_e));for(var ye=0;ye<Z.length;ye++)B.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Me){l("wrapped _read",Me),ge&&(ge=!1,B.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=R(72485)),y(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),x._fromList=te,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(B,U){if(U.length===0)return null;var le;return U.objectMode?le=U.buffer.shift():!B||B>=U.length?(U.decoder?le=U.buffer.join(""):U.buffer.length===1?le=U.buffer.first():le=U.buffer.concat(U.length),U.buffer.clear()):le=U.buffer.consume(B,U.decoder),le}function de(B){var U=B._readableState;l("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,S.nextTick(he,U,B))}function he(B,U){if(l("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"),B.autoDestroy)){var le=U._writableState;(!le||le.autoDestroy&&le.finished)&&U.destroy()}}typeof Symbol=="function"&&(x.from=function(B,U){return K===void 0&&(K=R(28591)),K(x,B,U)});function we(B,U){for(var le=0,ge=B.length;le<ge;le++)if(B[le]===U)return le;return-1}},81816:(s,j,R)=>{"use strict";s.exports=v;var S=R(2686).F,I=S.ERR_METHOD_NOT_IMPLEMENTED,F=S.ERR_MULTIPLE_CALLBACK,T=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=S.ERR_TRANSFORM_WITH_LENGTH_0,h=R(26248);R(56698)(v,h);function p(l,N){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(g===null)return this.emit("error",new F);d.writechunk=null,d.writecb=null,N!=null&&this.push(N),g(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function v(l){if(!(this instanceof v))return new v(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",w)}function w(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(N,d){b(l,N,d)}):b(this,null,null)}v.prototype.push=function(l,N){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,N)},v.prototype._transform=function(l,N,d){d(new I("_transform()"))},v.prototype._write=function(l,N,d){var g=this._transformState;if(g.writecb=d,g.writechunk=l,g.writeencoding=N,!g.transforming){var f=this._readableState;(g.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},v.prototype._read=function(l){var N=this._transformState;N.writechunk!==null&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},v.prototype._destroy=function(l,N){h.prototype._destroy.call(this,l,function(d){N(d)})};function b(l,N,d){if(N)return l.emit("error",N);if(d!=null&&l.push(d),l._writableState.length)throw new c;if(l._transformState.transforming)throw new T;return l.push(null)}},7314:(s,j,R)=>{"use strict";var S=R(65606);s.exports=J;function I(X,te,de){this.chunk=X,this.encoding=te,this.callback=de,this.next=null}function F(X){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,X)}}var T;J.WritableState=Z;var c={deprecate:R(94643)},h=R(5567),p=R(48287).Buffer,v=(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function w(X){return p.from(X)}function b(X){return p.isBuffer(X)||X instanceof v}var l=R(36278),N=R(57385),d=N.getHighWaterMark,g=R(2686).F,f=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,P=g.ERR_STREAM_CANNOT_PIPE,M=g.ERR_STREAM_DESTROYED,V=g.ERR_STREAM_NULL_VALUES,O=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,K=l.errorOrDestroy;R(56698)(J,h);function Y(){}function Z(X,te,de){T=T||R(26248),X=X||{},typeof de!="boolean"&&(de=te instanceof T),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=d(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=X.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){z(te,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new F(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,de=[];te;)de.push(te),te=te.next;return de},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(te){return ie.call(this,te)?!0:this!==J?!1:te&&te._writableState instanceof Z}})):ie=function(te){return te instanceof this};function J(X){T=T||R(26248);var te=this instanceof T;if(!te&&!ie.call(J,this))return new J(X);this._writableState=new Z(X,this,te),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),h.call(this)}J.prototype.pipe=function(){K(this,new P)};function x(X,te){var de=new O;K(X,de),S.nextTick(te,de)}function W(X,te,de,he){var we;return de===null?we=new V:typeof de!="string"&&!te.objectMode&&(we=new f("chunk",["string","Buffer"],de)),we?(K(X,we),S.nextTick(he,we),!1):!0}J.prototype.write=function(X,te,de){var he=this._writableState,we=!1,B=!he.objectMode&&b(X);return B&&!p.isBuffer(X)&&(X=w(X)),typeof te=="function"&&(de=te,te=null),B?te="buffer":te||(te=he.defaultEncoding),typeof de!="function"&&(de=Y),he.ending?x(this,de):(B||W(this,he,X,de))&&(he.pendingcb++,we=m(this,he,B,X,te,de)),we},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ne(this,X))},J.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(X,te,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof te=="string"&&(te=p.from(te,de)),te}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(X,te,de,he,we,B){if(!de){var U=D(te,he,we);he!==U&&(de=!0,we="buffer",he=U)}var le=te.objectMode?1:he.length;te.length+=le;var ge=te.length<te.highWaterMark;if(ge||(te.needDrain=!0),te.writing||te.corked){var _e=te.lastBufferedRequest;te.lastBufferedRequest={chunk:he,encoding:we,isBuf:de,callback:B,next:null},_e?_e.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else C(X,te,!1,le,he,we,B);return ge}function C(X,te,de,he,we,B,U){te.writelen=he,te.writecb=U,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new M("write")):de?X._writev(we,te.onwrite):X._write(we,B,te.onwrite),te.sync=!1}function L(X,te,de,he,we){--te.pendingcb,de?(S.nextTick(we,he),S.nextTick(Ee,X,te),X._writableState.errorEmitted=!0,K(X,he)):(we(he),X._writableState.errorEmitted=!0,K(X,he),Ee(X,te))}function H(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function z(X,te){var de=X._writableState,he=de.sync,we=de.writecb;if(typeof we!="function")throw new E;if(H(de),te)L(X,de,he,te,we);else{var B=q(de)||X.destroyed;!B&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&ne(X,de),he?S.nextTick(G,X,de,B,we):G(X,de,B,we)}}function G(X,te,de,he){de||ee(X,te),te.pendingcb--,he(),Ee(X,te)}function ee(X,te){te.length===0&&te.needDrain&&(te.needDrain=!1,X.emit("drain"))}function ne(X,te){te.bufferProcessing=!0;var de=te.bufferedRequest;if(X._writev&&de&&de.next){var he=te.bufferedRequestCount,we=new Array(he),B=te.corkedRequestsFree;B.entry=de;for(var U=0,le=!0;de;)we[U]=de,de.isBuf||(le=!1),de=de.next,U+=1;we.allBuffers=le,C(X,te,!0,te.length,we,"",B.finish),te.pendingcb++,te.lastBufferedRequest=null,B.next?(te.corkedRequestsFree=B.next,B.next=null):te.corkedRequestsFree=new F(te),te.bufferedRequestCount=0}else{for(;de;){var ge=de.chunk,_e=de.encoding,ye=de.callback,Me=te.objectMode?1:ge.length;if(C(X,te,!1,Me,ge,_e,ye),de=de.next,te.bufferedRequestCount--,te.writing)break}de===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=de,te.bufferProcessing=!1}J.prototype._write=function(X,te,de){de(new _("_write()"))},J.prototype._writev=null,J.prototype.end=function(X,te,de){var he=this._writableState;return typeof X=="function"?(de=X,X=null,te=null):typeof te=="function"&&(de=te,te=null),X!=null&&this.write(X,te),he.corked&&(he.corked=1,this.uncork()),he.ending||be(this,he,de),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function se(X,te){X._final(function(de){te.pendingcb--,de&&K(X,de),te.prefinished=!0,X.emit("prefinish"),Ee(X,te)})}function xe(X,te){!te.prefinished&&!te.finalCalled&&(typeof X._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(se,X,te)):(te.prefinished=!0,X.emit("prefinish")))}function Ee(X,te){var de=q(te);if(de&&(xe(X,te),te.pendingcb===0&&(te.finished=!0,X.emit("finish"),te.autoDestroy))){var he=X._readableState;(!he||he.autoDestroy&&he.endEmitted)&&X.destroy()}return de}function be(X,te,de){te.ending=!0,Ee(X,te),de&&(te.finished?S.nextTick(de):X.once("finish",de)),te.ended=!0,X.writable=!1}function Pe(X,te,de){var he=X.entry;for(X.entry=null;he;){var we=he.callback;te.pendingcb--,we(de),he=he.next}te.corkedRequestsFree.next=X}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(X,te){te(X)}},72485:(s,j,R)=>{"use strict";var S=R(65606),I;function F(O,y,K){return y=T(y),y in O?Object.defineProperty(O,y,{value:K,enumerable:!0,configurable:!0,writable:!0}):O[y]=K,O}function T(O){var y=c(O,"string");return typeof y=="symbol"?y:String(y)}function c(O,y){if(typeof O!="object"||O===null)return O;var K=O[Symbol.toPrimitive];if(K!==void 0){var Y=K.call(O,y||"default");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(O)}var h=R(23532),p=Symbol("lastResolve"),v=Symbol("lastReject"),w=Symbol("error"),b=Symbol("ended"),l=Symbol("lastPromise"),N=Symbol("handlePromise"),d=Symbol("stream");function g(O,y){return{value:O,done:y}}function f(O){var y=O[p];if(y!==null){var K=O[d].read();K!==null&&(O[l]=null,O[p]=null,O[v]=null,y(g(K,!1)))}}function _(O){S.nextTick(f,O)}function E(O,y){return function(K,Y){O.then(function(){if(y[b]){K(g(void 0,!0));return}y[N](K,Y)},Y)}}var P=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((I={get stream(){return this[d]},next:function(){var y=this,K=this[w];if(K!==null)return Promise.reject(K);if(this[b])return Promise.resolve(g(void 0,!0));if(this[d].destroyed)return new Promise(function(J,x){S.nextTick(function(){y[w]?x(y[w]):J(g(void 0,!0))})});var Y=this[l],Z;if(Y)Z=new Promise(E(Y,this));else{var ie=this[d].read();if(ie!==null)return Promise.resolve(g(ie,!1));Z=new Promise(this[N])}return this[l]=Z,Z}},F(I,Symbol.asyncIterator,function(){return this}),F(I,"return",function(){var y=this;return new Promise(function(K,Y){y[d].destroy(null,function(Z){if(Z){Y(Z);return}K(g(void 0,!0))})})}),I),P),V=function(y){var K,Y=Object.create(M,(K={},F(K,d,{value:y,writable:!0}),F(K,p,{value:null,writable:!0}),F(K,v,{value:null,writable:!0}),F(K,w,{value:null,writable:!0}),F(K,b,{value:y._readableState.endEmitted,writable:!0}),F(K,N,{value:function(ie,J){var x=Y[d].read();x?(Y[l]=null,Y[p]=null,Y[v]=null,ie(g(x,!1))):(Y[p]=ie,Y[v]=J)},writable:!0}),K));return Y[l]=null,h(y,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=Y[v];ie!==null&&(Y[l]=null,Y[p]=null,Y[v]=null,ie(Z)),Y[w]=Z;return}var J=Y[p];J!==null&&(Y[l]=null,Y[p]=null,Y[v]=null,J(g(void 0,!0))),Y[b]=!0}),y.on("readable",_.bind(null,Y)),Y};s.exports=V},72851:(s,j,R)=>{"use strict";function S(f,_){var E=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);_&&(P=P.filter(function(M){return Object.getOwnPropertyDescriptor(f,M).enumerable})),E.push.apply(E,P)}return E}function I(f){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?S(Object(E),!0).forEach(function(P){F(f,P,E[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(E)):S(Object(E)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(E,P))})}return f}function F(f,_,E){return _=p(_),_ in f?Object.defineProperty(f,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):f[_]=E,f}function T(f,_){if(!(f instanceof _))throw new TypeError("Cannot call a class as a function")}function c(f,_){for(var E=0;E<_.length;E++){var P=_[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,p(P.key),P)}}function h(f,_,E){return _&&c(f.prototype,_),E&&c(f,E),Object.defineProperty(f,"prototype",{writable:!1}),f}function p(f){var _=v(f,"string");return typeof _=="symbol"?_:String(_)}function v(f,_){if(typeof f!="object"||f===null)return f;var E=f[Symbol.toPrimitive];if(E!==void 0){var P=E.call(f,_||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(f)}var w=R(48287),b=w.Buffer,l=R(21638),N=l.inspect,d=N&&N.custom||"inspect";function g(f,_,E){b.prototype.copy.call(f,_,E)}s.exports=function(){function f(){T(this,f),this.head=null,this.tail=null,this.length=0}return h(f,[{key:"push",value:function(E){var P={data:E,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length}},{key:"unshift",value:function(E){var P={data:E,next:this.head};this.length===0&&(this.tail=P),this.head=P,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var P=this.head,M=""+P.data;P=P.next;)M+=E+P.data;return M}},{key:"concat",value:function(E){if(this.length===0)return b.alloc(0);for(var P=b.allocUnsafe(E>>>0),M=this.head,V=0;M;)g(M.data,P,V),V+=M.data.length,M=M.next;return P}},{key:"consume",value:function(E,P){var M;return E<this.head.data.length?(M=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?M=this.shift():M=P?this._getString(E):this._getBuffer(E),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var P=this.head,M=1,V=P.data;for(E-=V.length;P=P.next;){var O=P.data,y=E>O.length?O.length:E;if(y===O.length?V+=O:V+=O.slice(0,E),E-=y,E===0){y===O.length?(++M,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=O.slice(y));break}++M}return this.length-=M,V}},{key:"_getBuffer",value:function(E){var P=b.allocUnsafe(E),M=this.head,V=1;for(M.data.copy(P),E-=M.data.length;M=M.next;){var O=M.data,y=E>O.length?O.length:E;if(O.copy(P,P.length-E,0,y),E-=y,E===0){y===O.length?(++V,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=O.slice(y));break}++V}return this.length-=V,P}},{key:d,value:function(E,P){return N(this,I(I({},P),{},{depth:0,customInspect:!1}))}}]),f}()},36278:(s,j,R)=>{"use strict";var S=R(65606);function I(v,w){var b=this,l=this._readableState&&this._readableState.destroyed,N=this._writableState&&this._writableState.destroyed;return l||N?(w?w(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(h,this,v)):S.nextTick(h,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(d){!w&&d?b._writableState?b._writableState.errorEmitted?S.nextTick(T,b):(b._writableState.errorEmitted=!0,S.nextTick(F,b,d)):S.nextTick(F,b,d):w?(S.nextTick(T,b),w(d)):S.nextTick(T,b)}),this)}function F(v,w){h(v,w),T(v)}function T(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(v,w){v.emit("error",w)}function p(v,w){var b=v._readableState,l=v._writableState;b&&b.autoDestroy||l&&l.autoDestroy?v.destroy(w):v.emit("error",w)}s.exports={destroy:I,undestroy:c,errorOrDestroy:p}},23532:(s,j,R)=>{"use strict";var S=R(2686).F.ERR_STREAM_PREMATURE_CLOSE;function I(h){var p=!1;return function(){if(!p){p=!0;for(var v=arguments.length,w=new Array(v),b=0;b<v;b++)w[b]=arguments[b];h.apply(this,w)}}}function F(){}function T(h){return h.setHeader&&typeof h.abort=="function"}function c(h,p,v){if(typeof p=="function")return c(h,null,p);p||(p={}),v=I(v||F);var w=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||d()},N=h._writableState&&h._writableState.finished,d=function(){b=!1,N=!0,w||v.call(h)},g=h._readableState&&h._readableState.endEmitted,f=function(){w=!1,g=!0,b||v.call(h)},_=function(V){v.call(h,V)},E=function(){var V;if(w&&!g)return(!h._readableState||!h._readableState.ended)&&(V=new S),v.call(h,V);if(b&&!N)return(!h._writableState||!h._writableState.ended)&&(V=new S),v.call(h,V)},P=function(){h.req.on("finish",d)};return T(h)?(h.on("complete",d),h.on("abort",E),h.req?P():h.on("request",P)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",f),h.on("finish",d),p.error!==!1&&h.on("error",_),h.on("close",E),function(){h.removeListener("complete",d),h.removeListener("abort",E),h.removeListener("request",P),h.req&&h.req.removeListener("finish",d),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",d),h.removeListener("end",f),h.removeListener("error",_),h.removeListener("close",E)}}s.exports=c},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,j,R)=>{"use strict";var S;function I(d){var g=!1;return function(){g||(g=!0,d.apply(void 0,arguments))}}var F=R(2686).F,T=F.ERR_MISSING_ARGS,c=F.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function p(d){return d.setHeader&&typeof d.abort=="function"}function v(d,g,f,_){_=I(_);var E=!1;d.on("close",function(){E=!0}),S===void 0&&(S=R(23532)),S(d,{readable:g,writable:f},function(M){if(M)return _(M);E=!0,_()});var P=!1;return function(M){if(!E&&!P){if(P=!0,p(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();_(M||new c("pipe"))}}}function w(d){d()}function b(d,g){return d.pipe(g)}function l(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function N(){for(var d=arguments.length,g=new Array(d),f=0;f<d;f++)g[f]=arguments[f];var _=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new T("streams");var E,P=g.map(function(M,V){var O=V<g.length-1,y=V>0;return v(M,O,y,function(K){E||(E=K),K&&P.forEach(w),!O&&(P.forEach(w),_(E))})});return g.reduce(b)}s.exports=N},57385:(s,j,R)=>{"use strict";var S=R(2686).F.ERR_INVALID_OPT_VALUE;function I(T,c,h){return T.highWaterMark!=null?T.highWaterMark:c?T[h]:null}function F(T,c,h,p){var v=I(c,p,h);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var w=p?h:"highWaterMark";throw new S(w,v)}return Math.floor(v)}return T.objectMode?16:16384}s.exports={getHighWaterMark:F}},5567:(s,j,R)=>{s.exports=R(37007).EventEmitter},46737:(s,j,R)=>{j=s.exports=R(30206),j.Stream=j,j.Readable=j,j.Writable=R(7314),j.Duplex=R(26248),j.Transform=R(81816),j.PassThrough=R(75242),j.finished=R(23532),j.pipeline=R(43440)},30295:(s,j,R)=>{var S=R(48287).Buffer;s.exports=function(F,T){for(var c=Math.min(F.length,T.length),h=new S(c),p=0;p<c;++p)h[p]=F[p]^T[p];return h}},48287:(s,j,R)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const S=R(67526),I=R(251),F=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=p,j.SlowBuffer=P,j.INSPECT_MAX_BYTES=50;const T=2147483647;j.kMaxLength=T,p.TYPED_ARRAY_SUPPORT=c(),!p.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const ce=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(ce,ae),ce.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function h(ce){if(ce>T)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const ae=new Uint8Array(ce);return Object.setPrototypeOf(ae,p.prototype),ae}function p(ce,ae,ue){if(typeof ce=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(ce)}return v(ce,ae,ue)}p.poolSize=8192;function v(ce,ae,ue){if(typeof ce=="string")return N(ce,ae);if(ArrayBuffer.isView(ce))return g(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(Ve(ce,ArrayBuffer)||ce&&Ve(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ve(ce,SharedArrayBuffer)||ce&&Ve(ce.buffer,SharedArrayBuffer)))return f(ce,ae,ue);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ke=ce.valueOf&&ce.valueOf();if(ke!=null&&ke!==ce)return p.from(ke,ae,ue);const Ie=_(ce);if(Ie)return Ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return p.from(ce[Symbol.toPrimitive]("string"),ae,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}p.from=function(ce,ae,ue){return v(ce,ae,ue)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function w(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function b(ce,ae,ue){return w(ce),ce<=0?h(ce):ae!==void 0?typeof ue=="string"?h(ce).fill(ae,ue):h(ce).fill(ae):h(ce)}p.alloc=function(ce,ae,ue){return b(ce,ae,ue)};function l(ce){return w(ce),h(ce<0?0:E(ce)|0)}p.allocUnsafe=function(ce){return l(ce)},p.allocUnsafeSlow=function(ce){return l(ce)};function N(ce,ae){if((typeof ae!="string"||ae==="")&&(ae="utf8"),!p.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);const ue=M(ce,ae)|0;let ke=h(ue);const Ie=ke.write(ce,ae);return Ie!==ue&&(ke=ke.slice(0,Ie)),ke}function d(ce){const ae=ce.length<0?0:E(ce.length)|0,ue=h(ae);for(let ke=0;ke<ae;ke+=1)ue[ke]=ce[ke]&255;return ue}function g(ce){if(Ve(ce,Uint8Array)){const ae=new Uint8Array(ce);return f(ae.buffer,ae.byteOffset,ae.byteLength)}return d(ce)}function f(ce,ae,ue){if(ae<0||ce.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<ae+(ue||0))throw new RangeError('"length" is outside of buffer bounds');let ke;return ae===void 0&&ue===void 0?ke=new Uint8Array(ce):ue===void 0?ke=new Uint8Array(ce,ae):ke=new Uint8Array(ce,ae,ue),Object.setPrototypeOf(ke,p.prototype),ke}function _(ce){if(p.isBuffer(ce)){const ae=E(ce.length)|0,ue=h(ae);return ue.length===0||ce.copy(ue,0,0,ae),ue}if(ce.length!==void 0)return typeof ce.length!="number"||_t(ce.length)?h(0):d(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return d(ce.data)}function E(ce){if(ce>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return ce|0}function P(ce){return+ce!=ce&&(ce=0),p.alloc(+ce)}p.isBuffer=function(ae){return ae!=null&&ae._isBuffer===!0&&ae!==p.prototype},p.compare=function(ae,ue){if(Ve(ae,Uint8Array)&&(ae=p.from(ae,ae.offset,ae.byteLength)),Ve(ue,Uint8Array)&&(ue=p.from(ue,ue.offset,ue.byteLength)),!p.isBuffer(ae)||!p.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ae===ue)return 0;let ke=ae.length,Ie=ue.length;for(let Ke=0,Le=Math.min(ke,Ie);Ke<Le;++Ke)if(ae[Ke]!==ue[Ke]){ke=ae[Ke],Ie=ue[Ke];break}return ke<Ie?-1:Ie<ke?1:0},p.isEncoding=function(ae){switch(String(ae).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ae,ue){if(!Array.isArray(ae))throw new TypeError('"list" argument must be an Array of Buffers');if(ae.length===0)return p.alloc(0);let ke;if(ue===void 0)for(ue=0,ke=0;ke<ae.length;++ke)ue+=ae[ke].length;const Ie=p.allocUnsafe(ue);let Ke=0;for(ke=0;ke<ae.length;++ke){let Le=ae[ke];if(Ve(Le,Uint8Array))Ke+Le.length>Ie.length?(p.isBuffer(Le)||(Le=p.from(Le)),Le.copy(Ie,Ke)):Uint8Array.prototype.set.call(Ie,Le,Ke);else if(p.isBuffer(Le))Le.copy(Ie,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Le.length}return Ie};function M(ce,ae){if(p.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Ve(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const ue=ce.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&ue===0)return 0;let Ie=!1;for(;;)switch(ae){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return ge(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue*2;case"hex":return ue>>>1;case"base64":return Me(ce).length;default:if(Ie)return ke?-1:ge(ce).length;ae=(""+ae).toLowerCase(),Ie=!0}}p.byteLength=M;function V(ce,ae,ue){let ke=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((ue===void 0||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0,ae>>>=0,ue<=ae))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return z(this,ae,ue);case"utf8":case"utf-8":return D(this,ae,ue);case"ascii":return L(this,ae,ue);case"latin1":case"binary":return H(this,ae,ue);case"base64":return W(this,ae,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ae,ue);default:if(ke)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),ke=!0}}p.prototype._isBuffer=!0;function O(ce,ae,ue){const ke=ce[ae];ce[ae]=ce[ue],ce[ue]=ke}p.prototype.swap16=function(){const ae=this.length;if(ae%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ue=0;ue<ae;ue+=2)O(this,ue,ue+1);return this},p.prototype.swap32=function(){const ae=this.length;if(ae%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ue=0;ue<ae;ue+=4)O(this,ue,ue+3),O(this,ue+1,ue+2);return this},p.prototype.swap64=function(){const ae=this.length;if(ae%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ue=0;ue<ae;ue+=8)O(this,ue,ue+7),O(this,ue+1,ue+6),O(this,ue+2,ue+5),O(this,ue+3,ue+4);return this},p.prototype.toString=function(){const ae=this.length;return ae===0?"":arguments.length===0?D(this,0,ae):V.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(ae){if(!p.isBuffer(ae))throw new TypeError("Argument must be a Buffer");return this===ae?!0:p.compare(this,ae)===0},p.prototype.inspect=function(){let ae="";const ue=j.INSPECT_MAX_BYTES;return ae=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(ae+=" ... "),"<Buffer "+ae+">"},F&&(p.prototype[F]=p.prototype.inspect),p.prototype.compare=function(ae,ue,ke,Ie,Ke){if(Ve(ae,Uint8Array)&&(ae=p.from(ae,ae.offset,ae.byteLength)),!p.isBuffer(ae))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ae);if(ue===void 0&&(ue=0),ke===void 0&&(ke=ae?ae.length:0),Ie===void 0&&(Ie=0),Ke===void 0&&(Ke=this.length),ue<0||ke>ae.length||Ie<0||Ke>this.length)throw new RangeError("out of range index");if(Ie>=Ke&&ue>=ke)return 0;if(Ie>=Ke)return-1;if(ue>=ke)return 1;if(ue>>>=0,ke>>>=0,Ie>>>=0,Ke>>>=0,this===ae)return 0;let Le=Ke-Ie,Xe=ke-ue;const Bt=Math.min(Le,Xe),rt=this.slice(Ie,Ke),ct=ae.slice(ue,ke);for(let yt=0;yt<Bt;++yt)if(rt[yt]!==ct[yt]){Le=rt[yt],Xe=ct[yt];break}return Le<Xe?-1:Xe<Le?1:0};function y(ce,ae,ue,ke,Ie){if(ce.length===0)return-1;if(typeof ue=="string"?(ke=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),ue=+ue,_t(ue)&&(ue=Ie?0:ce.length-1),ue<0&&(ue=ce.length+ue),ue>=ce.length){if(Ie)return-1;ue=ce.length-1}else if(ue<0)if(Ie)ue=0;else return-1;if(typeof ae=="string"&&(ae=p.from(ae,ke)),p.isBuffer(ae))return ae.length===0?-1:K(ce,ae,ue,ke,Ie);if(typeof ae=="number")return ae=ae&255,typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(ce,ae,ue):Uint8Array.prototype.lastIndexOf.call(ce,ae,ue):K(ce,[ae],ue,ke,Ie);throw new TypeError("val must be string, number or Buffer")}function K(ce,ae,ue,ke,Ie){let Ke=1,Le=ce.length,Xe=ae.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(ce.length<2||ae.length<2)return-1;Ke=2,Le/=2,Xe/=2,ue/=2}function Bt(ct,yt){return Ke===1?ct[yt]:ct.readUInt16BE(yt*Ke)}let rt;if(Ie){let ct=-1;for(rt=ue;rt<Le;rt++)if(Bt(ce,rt)===Bt(ae,ct===-1?0:rt-ct)){if(ct===-1&&(ct=rt),rt-ct+1===Xe)return ct*Ke}else ct!==-1&&(rt-=rt-ct),ct=-1}else for(ue+Xe>Le&&(ue=Le-Xe),rt=ue;rt>=0;rt--){let ct=!0;for(let yt=0;yt<Xe;yt++)if(Bt(ce,rt+yt)!==Bt(ae,yt)){ct=!1;break}if(ct)return rt}return-1}p.prototype.includes=function(ae,ue,ke){return this.indexOf(ae,ue,ke)!==-1},p.prototype.indexOf=function(ae,ue,ke){return y(this,ae,ue,ke,!0)},p.prototype.lastIndexOf=function(ae,ue,ke){return y(this,ae,ue,ke,!1)};function Y(ce,ae,ue,ke){ue=Number(ue)||0;const Ie=ce.length-ue;ke?(ke=Number(ke),ke>Ie&&(ke=Ie)):ke=Ie;const Ke=ae.length;ke>Ke/2&&(ke=Ke/2);let Le;for(Le=0;Le<ke;++Le){const Xe=parseInt(ae.substr(Le*2,2),16);if(_t(Xe))return Le;ce[ue+Le]=Xe}return Le}function Z(ce,ae,ue,ke){return Be(ge(ae,ce.length-ue),ce,ue,ke)}function ie(ce,ae,ue,ke){return Be(_e(ae),ce,ue,ke)}function J(ce,ae,ue,ke){return Be(Me(ae),ce,ue,ke)}function x(ce,ae,ue,ke){return Be(ye(ae,ce.length-ue),ce,ue,ke)}p.prototype.write=function(ae,ue,ke,Ie){if(ue===void 0)Ie="utf8",ke=this.length,ue=0;else if(ke===void 0&&typeof ue=="string")Ie=ue,ke=this.length,ue=0;else if(isFinite(ue))ue=ue>>>0,isFinite(ke)?(ke=ke>>>0,Ie===void 0&&(Ie="utf8")):(Ie=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-ue;if((ke===void 0||ke>Ke)&&(ke=Ke),ae.length>0&&(ke<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let Le=!1;for(;;)switch(Ie){case"hex":return Y(this,ae,ue,ke);case"utf8":case"utf-8":return Z(this,ae,ue,ke);case"ascii":case"latin1":case"binary":return ie(this,ae,ue,ke);case"base64":return J(this,ae,ue,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,ae,ue,ke);default:if(Le)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Le=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(ce,ae,ue){return ae===0&&ue===ce.length?S.fromByteArray(ce):S.fromByteArray(ce.slice(ae,ue))}function D(ce,ae,ue){ue=Math.min(ce.length,ue);const ke=[];let Ie=ae;for(;Ie<ue;){const Ke=ce[Ie];let Le=null,Xe=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Ie+Xe<=ue){let Bt,rt,ct,yt;switch(Xe){case 1:Ke<128&&(Le=Ke);break;case 2:Bt=ce[Ie+1],(Bt&192)===128&&(yt=(Ke&31)<<6|Bt&63,yt>127&&(Le=yt));break;case 3:Bt=ce[Ie+1],rt=ce[Ie+2],(Bt&192)===128&&(rt&192)===128&&(yt=(Ke&15)<<12|(Bt&63)<<6|rt&63,yt>2047&&(yt<55296||yt>57343)&&(Le=yt));break;case 4:Bt=ce[Ie+1],rt=ce[Ie+2],ct=ce[Ie+3],(Bt&192)===128&&(rt&192)===128&&(ct&192)===128&&(yt=(Ke&15)<<18|(Bt&63)<<12|(rt&63)<<6|ct&63,yt>65535&&yt<1114112&&(Le=yt))}}Le===null?(Le=65533,Xe=1):Le>65535&&(Le-=65536,ke.push(Le>>>10&1023|55296),Le=56320|Le&1023),ke.push(Le),Ie+=Xe}return C(ke)}const m=4096;function C(ce){const ae=ce.length;if(ae<=m)return String.fromCharCode.apply(String,ce);let ue="",ke=0;for(;ke<ae;)ue+=String.fromCharCode.apply(String,ce.slice(ke,ke+=m));return ue}function L(ce,ae,ue){let ke="";ue=Math.min(ce.length,ue);for(let Ie=ae;Ie<ue;++Ie)ke+=String.fromCharCode(ce[Ie]&127);return ke}function H(ce,ae,ue){let ke="";ue=Math.min(ce.length,ue);for(let Ie=ae;Ie<ue;++Ie)ke+=String.fromCharCode(ce[Ie]);return ke}function z(ce,ae,ue){const ke=ce.length;(!ae||ae<0)&&(ae=0),(!ue||ue<0||ue>ke)&&(ue=ke);let Ie="";for(let Ke=ae;Ke<ue;++Ke)Ie+=Je[ce[Ke]];return Ie}function G(ce,ae,ue){const ke=ce.slice(ae,ue);let Ie="";for(let Ke=0;Ke<ke.length-1;Ke+=2)Ie+=String.fromCharCode(ke[Ke]+ke[Ke+1]*256);return Ie}p.prototype.slice=function(ae,ue){const ke=this.length;ae=~~ae,ue=ue===void 0?ke:~~ue,ae<0?(ae+=ke,ae<0&&(ae=0)):ae>ke&&(ae=ke),ue<0?(ue+=ke,ue<0&&(ue=0)):ue>ke&&(ue=ke),ue<ae&&(ue=ae);const Ie=this.subarray(ae,ue);return Object.setPrototypeOf(Ie,p.prototype),Ie};function ee(ce,ae,ue){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+ae>ue)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(ae,ue,ke){ae=ae>>>0,ue=ue>>>0,ke||ee(ae,ue,this.length);let Ie=this[ae],Ke=1,Le=0;for(;++Le<ue&&(Ke*=256);)Ie+=this[ae+Le]*Ke;return Ie},p.prototype.readUintBE=p.prototype.readUIntBE=function(ae,ue,ke){ae=ae>>>0,ue=ue>>>0,ke||ee(ae,ue,this.length);let Ie=this[ae+--ue],Ke=1;for(;ue>0&&(Ke*=256);)Ie+=this[ae+--ue]*Ke;return Ie},p.prototype.readUint8=p.prototype.readUInt8=function(ae,ue){return ae=ae>>>0,ue||ee(ae,1,this.length),this[ae]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,2,this.length),this[ae]|this[ae+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,2,this.length),this[ae]<<8|this[ae+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),(this[ae]|this[ae+1]<<8|this[ae+2]<<16)+this[ae+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),this[ae]*16777216+(this[ae+1]<<16|this[ae+2]<<8|this[ae+3])},p.prototype.readBigUInt64LE=nt(function(ae){ae=ae>>>0,we(ae,"offset");const ue=this[ae],ke=this[ae+7];(ue===void 0||ke===void 0)&&B(ae,this.length-8);const Ie=ue+this[++ae]*2**8+this[++ae]*2**16+this[++ae]*2**24,Ke=this[++ae]+this[++ae]*2**8+this[++ae]*2**16+ke*2**24;return BigInt(Ie)+(BigInt(Ke)<<BigInt(32))}),p.prototype.readBigUInt64BE=nt(function(ae){ae=ae>>>0,we(ae,"offset");const ue=this[ae],ke=this[ae+7];(ue===void 0||ke===void 0)&&B(ae,this.length-8);const Ie=ue*2**24+this[++ae]*2**16+this[++ae]*2**8+this[++ae],Ke=this[++ae]*2**24+this[++ae]*2**16+this[++ae]*2**8+ke;return(BigInt(Ie)<<BigInt(32))+BigInt(Ke)}),p.prototype.readIntLE=function(ae,ue,ke){ae=ae>>>0,ue=ue>>>0,ke||ee(ae,ue,this.length);let Ie=this[ae],Ke=1,Le=0;for(;++Le<ue&&(Ke*=256);)Ie+=this[ae+Le]*Ke;return Ke*=128,Ie>=Ke&&(Ie-=Math.pow(2,8*ue)),Ie},p.prototype.readIntBE=function(ae,ue,ke){ae=ae>>>0,ue=ue>>>0,ke||ee(ae,ue,this.length);let Ie=ue,Ke=1,Le=this[ae+--Ie];for(;Ie>0&&(Ke*=256);)Le+=this[ae+--Ie]*Ke;return Ke*=128,Le>=Ke&&(Le-=Math.pow(2,8*ue)),Le},p.prototype.readInt8=function(ae,ue){return ae=ae>>>0,ue||ee(ae,1,this.length),this[ae]&128?(255-this[ae]+1)*-1:this[ae]},p.prototype.readInt16LE=function(ae,ue){ae=ae>>>0,ue||ee(ae,2,this.length);const ke=this[ae]|this[ae+1]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt16BE=function(ae,ue){ae=ae>>>0,ue||ee(ae,2,this.length);const ke=this[ae+1]|this[ae]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt32LE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),this[ae]|this[ae+1]<<8|this[ae+2]<<16|this[ae+3]<<24},p.prototype.readInt32BE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),this[ae]<<24|this[ae+1]<<16|this[ae+2]<<8|this[ae+3]},p.prototype.readBigInt64LE=nt(function(ae){ae=ae>>>0,we(ae,"offset");const ue=this[ae],ke=this[ae+7];(ue===void 0||ke===void 0)&&B(ae,this.length-8);const Ie=this[ae+4]+this[ae+5]*2**8+this[ae+6]*2**16+(ke<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(ue+this[++ae]*256+this[++ae]*65536+this[++ae]*16777216)}),p.prototype.readBigInt64BE=nt(function(ae){ae=ae>>>0,we(ae,"offset");const ue=this[ae],ke=this[ae+7];(ue===void 0||ke===void 0)&&B(ae,this.length-8);const Ie=(ue<<24)+this[++ae]*2**16+this[++ae]*2**8+this[++ae];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++ae]*16777216+this[++ae]*65536+this[++ae]*256+ke)}),p.prototype.readFloatLE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),I.read(this,ae,!0,23,4)},p.prototype.readFloatBE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,4,this.length),I.read(this,ae,!1,23,4)},p.prototype.readDoubleLE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,8,this.length),I.read(this,ae,!0,52,8)},p.prototype.readDoubleBE=function(ae,ue){return ae=ae>>>0,ue||ee(ae,8,this.length),I.read(this,ae,!1,52,8)};function ne(ce,ae,ue,ke,Ie,Ke){if(!p.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>Ie||ae<Ke)throw new RangeError('"value" argument is out of bounds');if(ue+ke>ce.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(ae,ue,ke,Ie){if(ae=+ae,ue=ue>>>0,ke=ke>>>0,!Ie){const Xe=Math.pow(2,8*ke)-1;ne(this,ae,ue,ke,Xe,0)}let Ke=1,Le=0;for(this[ue]=ae&255;++Le<ke&&(Ke*=256);)this[ue+Le]=ae/Ke&255;return ue+ke},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(ae,ue,ke,Ie){if(ae=+ae,ue=ue>>>0,ke=ke>>>0,!Ie){const Xe=Math.pow(2,8*ke)-1;ne(this,ae,ue,ke,Xe,0)}let Ke=ke-1,Le=1;for(this[ue+Ke]=ae&255;--Ke>=0&&(Le*=256);)this[ue+Ke]=ae/Le&255;return ue+ke},p.prototype.writeUint8=p.prototype.writeUInt8=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,1,255,0),this[ue]=ae&255,ue+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,2,65535,0),this[ue]=ae&255,this[ue+1]=ae>>>8,ue+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,2,65535,0),this[ue]=ae>>>8,this[ue+1]=ae&255,ue+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,4,4294967295,0),this[ue+3]=ae>>>24,this[ue+2]=ae>>>16,this[ue+1]=ae>>>8,this[ue]=ae&255,ue+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,4,4294967295,0),this[ue]=ae>>>24,this[ue+1]=ae>>>16,this[ue+2]=ae>>>8,this[ue+3]=ae&255,ue+4};function q(ce,ae,ue,ke,Ie){he(ae,ke,Ie,ce,ue,7);let Ke=Number(ae&BigInt(4294967295));ce[ue++]=Ke,Ke=Ke>>8,ce[ue++]=Ke,Ke=Ke>>8,ce[ue++]=Ke,Ke=Ke>>8,ce[ue++]=Ke;let Le=Number(ae>>BigInt(32)&BigInt(4294967295));return ce[ue++]=Le,Le=Le>>8,ce[ue++]=Le,Le=Le>>8,ce[ue++]=Le,Le=Le>>8,ce[ue++]=Le,ue}function se(ce,ae,ue,ke,Ie){he(ae,ke,Ie,ce,ue,7);let Ke=Number(ae&BigInt(4294967295));ce[ue+7]=Ke,Ke=Ke>>8,ce[ue+6]=Ke,Ke=Ke>>8,ce[ue+5]=Ke,Ke=Ke>>8,ce[ue+4]=Ke;let Le=Number(ae>>BigInt(32)&BigInt(4294967295));return ce[ue+3]=Le,Le=Le>>8,ce[ue+2]=Le,Le=Le>>8,ce[ue+1]=Le,Le=Le>>8,ce[ue]=Le,ue+8}p.prototype.writeBigUInt64LE=nt(function(ae,ue=0){return q(this,ae,ue,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=nt(function(ae,ue=0){return se(this,ae,ue,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(ae,ue,ke,Ie){if(ae=+ae,ue=ue>>>0,!Ie){const Bt=Math.pow(2,8*ke-1);ne(this,ae,ue,ke,Bt-1,-Bt)}let Ke=0,Le=1,Xe=0;for(this[ue]=ae&255;++Ke<ke&&(Le*=256);)ae<0&&Xe===0&&this[ue+Ke-1]!==0&&(Xe=1),this[ue+Ke]=(ae/Le>>0)-Xe&255;return ue+ke},p.prototype.writeIntBE=function(ae,ue,ke,Ie){if(ae=+ae,ue=ue>>>0,!Ie){const Bt=Math.pow(2,8*ke-1);ne(this,ae,ue,ke,Bt-1,-Bt)}let Ke=ke-1,Le=1,Xe=0;for(this[ue+Ke]=ae&255;--Ke>=0&&(Le*=256);)ae<0&&Xe===0&&this[ue+Ke+1]!==0&&(Xe=1),this[ue+Ke]=(ae/Le>>0)-Xe&255;return ue+ke},p.prototype.writeInt8=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,1,127,-128),ae<0&&(ae=255+ae+1),this[ue]=ae&255,ue+1},p.prototype.writeInt16LE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,2,32767,-32768),this[ue]=ae&255,this[ue+1]=ae>>>8,ue+2},p.prototype.writeInt16BE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,2,32767,-32768),this[ue]=ae>>>8,this[ue+1]=ae&255,ue+2},p.prototype.writeInt32LE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,4,2147483647,-2147483648),this[ue]=ae&255,this[ue+1]=ae>>>8,this[ue+2]=ae>>>16,this[ue+3]=ae>>>24,ue+4},p.prototype.writeInt32BE=function(ae,ue,ke){return ae=+ae,ue=ue>>>0,ke||ne(this,ae,ue,4,2147483647,-2147483648),ae<0&&(ae=4294967295+ae+1),this[ue]=ae>>>24,this[ue+1]=ae>>>16,this[ue+2]=ae>>>8,this[ue+3]=ae&255,ue+4},p.prototype.writeBigInt64LE=nt(function(ae,ue=0){return q(this,ae,ue,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=nt(function(ae,ue=0){return se(this,ae,ue,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(ce,ae,ue,ke,Ie,Ke){if(ue+ke>ce.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function Ee(ce,ae,ue,ke,Ie){return ae=+ae,ue=ue>>>0,Ie||xe(ce,ae,ue,4,34028234663852886e22,-34028234663852886e22),I.write(ce,ae,ue,ke,23,4),ue+4}p.prototype.writeFloatLE=function(ae,ue,ke){return Ee(this,ae,ue,!0,ke)},p.prototype.writeFloatBE=function(ae,ue,ke){return Ee(this,ae,ue,!1,ke)};function be(ce,ae,ue,ke,Ie){return ae=+ae,ue=ue>>>0,Ie||xe(ce,ae,ue,8,17976931348623157e292,-17976931348623157e292),I.write(ce,ae,ue,ke,52,8),ue+8}p.prototype.writeDoubleLE=function(ae,ue,ke){return be(this,ae,ue,!0,ke)},p.prototype.writeDoubleBE=function(ae,ue,ke){return be(this,ae,ue,!1,ke)},p.prototype.copy=function(ae,ue,ke,Ie){if(!p.isBuffer(ae))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Ie&&Ie!==0&&(Ie=this.length),ue>=ae.length&&(ue=ae.length),ue||(ue=0),Ie>0&&Ie<ke&&(Ie=ke),Ie===ke||ae.length===0||this.length===0)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),ae.length-ue<Ie-ke&&(Ie=ae.length-ue+ke);const Ke=Ie-ke;return this===ae&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ue,ke,Ie):Uint8Array.prototype.set.call(ae,this.subarray(ke,Ie),ue),Ke},p.prototype.fill=function(ae,ue,ke,Ie){if(typeof ae=="string"){if(typeof ue=="string"?(Ie=ue,ue=0,ke=this.length):typeof ke=="string"&&(Ie=ke,ke=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!p.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(ae.length===1){const Le=ae.charCodeAt(0);(Ie==="utf8"&&Le<128||Ie==="latin1")&&(ae=Le)}}else typeof ae=="number"?ae=ae&255:typeof ae=="boolean"&&(ae=Number(ae));if(ue<0||this.length<ue||this.length<ke)throw new RangeError("Out of range index");if(ke<=ue)return this;ue=ue>>>0,ke=ke===void 0?this.length:ke>>>0,ae||(ae=0);let Ke;if(typeof ae=="number")for(Ke=ue;Ke<ke;++Ke)this[Ke]=ae;else{const Le=p.isBuffer(ae)?ae:p.from(ae,Ie),Xe=Le.length;if(Xe===0)throw new TypeError('The value "'+ae+'" is invalid for argument "value"');for(Ke=0;Ke<ke-ue;++Ke)this[Ke+ue]=Le[Ke%Xe]}return this};const Pe={};function X(ce,ae,ue){Pe[ce]=class extends ue{constructor(){super(),Object.defineProperty(this,"message",{value:ae.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(ce,ae){return`The "${ce}" argument must be of type number. Received type ${typeof ae}`},TypeError),X("ERR_OUT_OF_RANGE",function(ce,ae,ue){let ke=`The value of "${ce}" is out of range.`,Ie=ue;return Number.isInteger(ue)&&Math.abs(ue)>4294967296?Ie=te(String(ue)):typeof ue=="bigint"&&(Ie=String(ue),(ue>BigInt(2)**BigInt(32)||ue<-(BigInt(2)**BigInt(32)))&&(Ie=te(Ie)),Ie+="n"),ke+=` It must be ${ae}. Received ${Ie}`,ke},RangeError);function te(ce){let ae="",ue=ce.length;const ke=ce[0]==="-"?1:0;for(;ue>=ke+4;ue-=3)ae=`_${ce.slice(ue-3,ue)}${ae}`;return`${ce.slice(0,ue)}${ae}`}function de(ce,ae,ue){we(ae,"offset"),(ce[ae]===void 0||ce[ae+ue]===void 0)&&B(ae,ce.length-(ue+1))}function he(ce,ae,ue,ke,Ie,Ke){if(ce>ue||ce<ae){const Le=typeof ae=="bigint"?"n":"";let Xe;throw Ke>3?ae===0||ae===BigInt(0)?Xe=`>= 0${Le} and < 2${Le} ** ${(Ke+1)*8}${Le}`:Xe=`>= -(2${Le} ** ${(Ke+1)*8-1}${Le}) and < 2 ** ${(Ke+1)*8-1}${Le}`:Xe=`>= ${ae}${Le} and <= ${ue}${Le}`,new Pe.ERR_OUT_OF_RANGE("value",Xe,ce)}de(ke,Ie,Ke)}function we(ce,ae){if(typeof ce!="number")throw new Pe.ERR_INVALID_ARG_TYPE(ae,"number",ce)}function B(ce,ae,ue){throw Math.floor(ce)!==ce?(we(ce,ue),new Pe.ERR_OUT_OF_RANGE(ue||"offset","an integer",ce)):ae<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE(ue||"offset",`>= ${ue?1:0} and <= ${ae}`,ce)}const U=/[^+/0-9A-Za-z-_]/g;function le(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(U,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function ge(ce,ae){ae=ae||1/0;let ue;const ke=ce.length;let Ie=null;const Ke=[];for(let Le=0;Le<ke;++Le){if(ue=ce.charCodeAt(Le),ue>55295&&ue<57344){if(!Ie){if(ue>56319){(ae-=3)>-1&&Ke.push(239,191,189);continue}else if(Le+1===ke){(ae-=3)>-1&&Ke.push(239,191,189);continue}Ie=ue;continue}if(ue<56320){(ae-=3)>-1&&Ke.push(239,191,189),Ie=ue;continue}ue=(Ie-55296<<10|ue-56320)+65536}else Ie&&(ae-=3)>-1&&Ke.push(239,191,189);if(Ie=null,ue<128){if((ae-=1)<0)break;Ke.push(ue)}else if(ue<2048){if((ae-=2)<0)break;Ke.push(ue>>6|192,ue&63|128)}else if(ue<65536){if((ae-=3)<0)break;Ke.push(ue>>12|224,ue>>6&63|128,ue&63|128)}else if(ue<1114112){if((ae-=4)<0)break;Ke.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,ue&63|128)}else throw new Error("Invalid code point")}return Ke}function _e(ce){const ae=[];for(let ue=0;ue<ce.length;++ue)ae.push(ce.charCodeAt(ue)&255);return ae}function ye(ce,ae){let ue,ke,Ie;const Ke=[];for(let Le=0;Le<ce.length&&!((ae-=2)<0);++Le)ue=ce.charCodeAt(Le),ke=ue>>8,Ie=ue%256,Ke.push(Ie),Ke.push(ke);return Ke}function Me(ce){return S.toByteArray(le(ce))}function Be(ce,ae,ue,ke){let Ie;for(Ie=0;Ie<ke&&!(Ie+ue>=ae.length||Ie>=ce.length);++Ie)ae[Ie+ue]=ce[Ie];return Ie}function Ve(ce,ae){return ce instanceof ae||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===ae.name}function _t(ce){return ce!==ce}const Je=function(){const ce="0123456789abcdef",ae=new Array(256);for(let ue=0;ue<16;++ue){const ke=ue*16;for(let Ie=0;Ie<16;++Ie)ae[ke+Ie]=ce[ue]+ce[Ie]}return ae}();function nt(ce){return typeof BigInt=="undefined"?Rt:ce}function Rt(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},13144:(s,j,R)=>{"use strict";var S=R(84742),I=R(11002),F=R(10076),T=R(47119);s.exports=T||S.call(F,I)},12205:(s,j,R)=>{"use strict";var S=R(84742),I=R(11002),F=R(13144);s.exports=function(){return F(S,I,arguments)}},11002:s=>{"use strict";s.exports=Function.prototype.apply},10076:s=>{"use strict";s.exports=Function.prototype.call},73126:(s,j,R)=>{"use strict";var S=R(84742),I=R(69675),F=R(10076),T=R(13144);s.exports=function(h){if(h.length<1||typeof h[0]!="function")throw new I("a function is required");return T(S,F,h)}},80702:s=>{"use strict";var j="Function.prototype.bind called on incompatible ",R=Object.prototype.toString,S=Math.max,I="[object Function]",F=function(p,v){for(var w=[],b=0;b<p.length;b+=1)w[b]=p[b];for(var l=0;l<v.length;l+=1)w[l+p.length]=v[l];return w},T=function(p,v){for(var w=[],b=v||0,l=0;b<p.length;b+=1,l+=1)w[l]=p[b];return w},c=function(h,p){for(var v="",w=0;w<h.length;w+=1)v+=h[w],w+1<h.length&&(v+=p);return v};s.exports=function(p){var v=this;if(typeof v!="function"||R.apply(v)!==I)throw new TypeError(j+v);for(var w=T(arguments,1),b,l=function(){if(this instanceof b){var _=v.apply(this,F(w,arguments));return Object(_)===_?_:this}return v.apply(p,F(w,arguments))},N=S(0,v.length-w.length),d=[],g=0;g<N;g++)d[g]="$"+g;if(b=Function("binder","return function ("+c(d,",")+"){ return binder.apply(this,arguments); }")(l),v.prototype){var f=function(){};f.prototype=v.prototype,b.prototype=new f,f.prototype=null}return b}},84742:(s,j,R)=>{"use strict";var S=R(80702);s.exports=Function.prototype.bind||S},47119:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply},10487:(s,j,R)=>{"use strict";var S=R(96897),I=R(30655),F=R(73126),T=R(12205);s.exports=function(h){var p=F(arguments),v=h.length-(arguments.length-1);return S(p,1+(v>0?v:0),!0)},I?I(s.exports,"apply",{value:T}):s.exports.apply=T},36556:(s,j,R)=>{"use strict";var S=R(70453),I=R(73126),F=I([S("%String.prototype.indexOf%")]);s.exports=function(c,h){var p=S(c,!!h);return typeof p=="function"&&F(c,".prototype.")>-1?I([p]):p}},56168:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(88310).Transform,F=R(83141).I,T=R(56698);function c(w){I.call(this),this.hashMode=typeof w=="string",this.hashMode?this[w]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}T(c,I);var h=typeof Uint8Array!="undefined",p=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&ArrayBuffer.isView&&(S.prototype instanceof Uint8Array||S.TYPED_ARRAY_SUPPORT);function v(w,b){if(w instanceof S)return w;if(typeof w=="string")return S.from(w,b);if(p&&ArrayBuffer.isView(w)){if(w.byteLength===0)return S.alloc(0);var l=S.from(w.buffer,w.byteOffset,w.byteLength);if(l.byteLength===w.byteLength)return l}if(h&&w instanceof Uint8Array||S.isBuffer(w)&&w.constructor&&typeof w.constructor.isBuffer=="function"&&w.constructor.isBuffer(w))return S.from(w);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}c.prototype.update=function(w,b,l){var N=v(w,b),d=this._update(N);return this.hashMode?this:(l&&(d=this._toString(d,l)),d)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(w,b,l){var N;try{this.hashMode?this._update(w):this.push(this._update(w))}catch(d){N=d}finally{l(N)}},c.prototype._flush=function(w){var b;try{this.push(this.__final())}catch(l){b=l}w(b)},c.prototype._finalOrDigest=function(w){var b=this.__final()||S.alloc(0);return w&&(b=this._toString(b,w,!0)),b},c.prototype._toString=function(w,b,l){if(this._decoder||(this._decoder=new F(b),this._encoding=b),this._encoding!==b)throw new Error("can\u2019t switch encodings");var N=this._decoder.write(w);return l&&(N+=this._decoder.end()),N},s.exports=c},61324:(s,j,R)=>{var S=R(48287).Buffer,I=R(86729),F=R(39404);s.exports=function(v){return new c(v)};var T={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};T.p224=T.secp224r1,T.p256=T.secp256r1=T.prime256v1,T.p192=T.secp192r1=T.prime192v1,T.p384=T.secp384r1,T.p521=T.secp521r1;function c(p){this.curveType=T[p],this.curveType||(this.curveType={name:p}),this.curve=new I.ec(this.curveType.name),this.keys=void 0}c.prototype.generateKeys=function(p,v){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,v)},c.prototype.computeSecret=function(p,v,w){v=v||"utf8",S.isBuffer(p)||(p=new S(p,v));var b=this.curve.keyFromPublic(p).getPublic(),l=b.mul(this.keys.getPrivate()).getX();return h(l,w,this.curveType.byteLength)},c.prototype.getPublicKey=function(p,v){var w=this.keys.getPublic(v==="compressed",!0);return v==="hybrid"&&(w[w.length-1]%2?w[0]=7:w[0]=6),h(w,p)},c.prototype.getPrivateKey=function(p){return h(this.keys.getPrivate(),p)},c.prototype.setPublicKey=function(p,v){return v=v||"utf8",S.isBuffer(p)||(p=new S(p,v)),this.keys._importPublic(p),this},c.prototype.setPrivateKey=function(p,v){v=v||"utf8",S.isBuffer(p)||(p=new S(p,v));var w=new F(p);return w=w.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(w),this};function h(p,v,w){Array.isArray(p)||(p=p.toArray());var b=new S(p);if(w&&b.length<w){var l=new S(w-b.length);l.fill(0),b=S.concat([l,b])}return v?b.toString(v):b}},47108:(s,j,R)=>{"use strict";var S=R(56698),I=R(88276),F=R(66011),T=R(62802),c=R(56168);function h(p){c.call(this,"digest"),this._hash=p}S(h,c),h.prototype._update=function(p){this._hash.update(p)},h.prototype._final=function(){return this._hash.digest()},s.exports=function(v){return v=v.toLowerCase(),v==="md5"?new I:v==="rmd160"||v==="ripemd160"?new F:new h(T(v))}},20320:(s,j,R)=>{var S=R(88276);s.exports=function(I){return new S().update(I).digest()}},83507:(s,j,R)=>{"use strict";var S=R(56698),I=R(41800),F=R(56168),T=R(92861).Buffer,c=R(20320),h=R(66011),p=R(62802),v=T.alloc(128);function w(b,l){F.call(this,"digest"),typeof l=="string"&&(l=T.from(l));var N=b==="sha512"||b==="sha384"?128:64;if(this._alg=b,this._key=l,l.length>N){var d=b==="rmd160"?new h:p(b);l=d.update(l).digest()}else l.length<N&&(l=T.concat([l,v],N));for(var g=this._ipad=T.allocUnsafe(N),f=this._opad=T.allocUnsafe(N),_=0;_<N;_++)g[_]=l[_]^54,f[_]=l[_]^92;this._hash=b==="rmd160"?new h:p(b),this._hash.update(g)}S(w,F),w.prototype._update=function(b){this._hash.update(b)},w.prototype._final=function(){var b=this._hash.digest(),l=this._alg==="rmd160"?new h:p(this._alg);return l.update(this._opad).update(b).digest()},s.exports=function(l,N){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new w("rmd160",N):l==="md5"?new I(c,N):new w(l,N)}},41800:(s,j,R)=>{"use strict";var S=R(56698),I=R(92861).Buffer,F=R(56168),T=I.alloc(128),c=64;function h(p,v){F.call(this,"digest"),typeof v=="string"&&(v=I.from(v)),this._alg=p,this._key=v,v.length>c?v=p(v):v.length<c&&(v=I.concat([v,T],c));for(var w=this._ipad=I.allocUnsafe(c),b=this._opad=I.allocUnsafe(c),l=0;l<c;l++)w[l]=v[l]^54,b[l]=v[l]^92;this._hash=[w]}S(h,F),h.prototype._update=function(p){this._hash.push(p)},h.prototype._final=function(){var p=this._alg(I.concat(this._hash));return this._alg(I.concat([this._opad,p]))},s.exports=h},74945:function(s,j){var R=typeof self!="undefined"?self:this,S=function(){function F(){this.fetch=!1,this.DOMException=R.DOMException}return F.prototype=R,new F}();(function(F){var T=function(c){var h={searchParams:"URLSearchParams"in F,iterable:"Symbol"in F&&"iterator"in Symbol,blob:"FileReader"in F&&"Blob"in F&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in F,arrayBuffer:"ArrayBuffer"in F};function p(W){return W&&DataView.prototype.isPrototypeOf(W)}if(h.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(W){return W&&v.indexOf(Object.prototype.toString.call(W))>-1};function b(W){if(typeof W!="string"&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(W))throw new TypeError("Invalid character in header field name");return W.toLowerCase()}function l(W){return typeof W!="string"&&(W=String(W)),W}function N(W){var D={next:function(){var m=W.shift();return{done:m===void 0,value:m}}};return h.iterable&&(D[Symbol.iterator]=function(){return D}),D}function d(W){this.map={},W instanceof d?W.forEach(function(D,m){this.append(m,D)},this):Array.isArray(W)?W.forEach(function(D){this.append(D[0],D[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(D){this.append(D,W[D])},this)}d.prototype.append=function(W,D){W=b(W),D=l(D);var m=this.map[W];this.map[W]=m?m+", "+D:D},d.prototype.delete=function(W){delete this.map[b(W)]},d.prototype.get=function(W){return W=b(W),this.has(W)?this.map[W]:null},d.prototype.has=function(W){return this.map.hasOwnProperty(b(W))},d.prototype.set=function(W,D){this.map[b(W)]=l(D)},d.prototype.forEach=function(W,D){for(var m in this.map)this.map.hasOwnProperty(m)&&W.call(D,this.map[m],m,this)},d.prototype.keys=function(){var W=[];return this.forEach(function(D,m){W.push(m)}),N(W)},d.prototype.values=function(){var W=[];return this.forEach(function(D){W.push(D)}),N(W)},d.prototype.entries=function(){var W=[];return this.forEach(function(D,m){W.push([m,D])}),N(W)},h.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function g(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function f(W){return new Promise(function(D,m){W.onload=function(){D(W.result)},W.onerror=function(){m(W.error)}})}function _(W){var D=new FileReader,m=f(D);return D.readAsArrayBuffer(W),m}function E(W){var D=new FileReader,m=f(D);return D.readAsText(W),m}function P(W){for(var D=new Uint8Array(W),m=new Array(D.length),C=0;C<D.length;C++)m[C]=String.fromCharCode(D[C]);return m.join("")}function M(W){if(W.slice)return W.slice(0);var D=new Uint8Array(W.byteLength);return D.set(new Uint8Array(W)),D.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(W){this._bodyInit=W,W?typeof W=="string"?this._bodyText=W:h.blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:h.formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():h.arrayBuffer&&h.blob&&p(W)?(this._bodyArrayBuffer=M(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||w(W))?this._bodyArrayBuffer=M(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||(typeof W=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var W=g(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var W=g(this);if(W)return W;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(W){var D=W.toUpperCase();return O.indexOf(D)>-1?D:W}function K(W,D){D=D||{};var m=D.body;if(W instanceof K){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,D.headers||(this.headers=new d(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!m&&W._bodyInit!=null&&(m=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new d(D.headers)),this.method=y(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(m)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function Y(W){var D=new FormData;return W.trim().split("&").forEach(function(m){if(m){var C=m.split("="),L=C.shift().replace(/\+/g," "),H=C.join("=").replace(/\+/g," ");D.append(decodeURIComponent(L),decodeURIComponent(H))}}),D}function Z(W){var D=new d,m=W.replace(/\r?\n[\t ]+/g," ");return m.split(/\r?\n/).forEach(function(C){var L=C.split(":"),H=L.shift().trim();if(H){var z=L.join(":").trim();D.append(H,z)}}),D}V.call(K.prototype);function ie(W,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new d(D.headers),this.url=D.url||"",this._initBody(W)}V.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},ie.error=function(){var W=new ie(null,{status:0,statusText:""});return W.type="error",W};var J=[301,302,303,307,308];ie.redirect=function(W,D){if(J.indexOf(D)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:D,headers:{location:W}})},c.DOMException=F.DOMException;try{new c.DOMException}catch{c.DOMException=function(D,m){this.message=D,this.name=m;var C=Error(D);this.stack=C.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function x(W,D){return new Promise(function(m,C){var L=new K(W,D);if(L.signal&&L.signal.aborted)return C(new c.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function z(){H.abort()}H.onload=function(){var G={status:H.status,statusText:H.statusText,headers:Z(H.getAllResponseHeaders()||"")};G.url="responseURL"in H?H.responseURL:G.headers.get("X-Request-URL");var ee="response"in H?H.response:H.responseText;m(new ie(ee,G))},H.onerror=function(){C(new TypeError("Network request failed"))},H.ontimeout=function(){C(new TypeError("Network request failed"))},H.onabort=function(){C(new c.DOMException("Aborted","AbortError"))},H.open(L.method,L.url,!0),L.credentials==="include"?H.withCredentials=!0:L.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&h.blob&&(H.responseType="blob"),L.headers.forEach(function(G,ee){H.setRequestHeader(ee,G)}),L.signal&&(L.signal.addEventListener("abort",z),H.onreadystatechange=function(){H.readyState===4&&L.signal.removeEventListener("abort",z)}),H.send(typeof L._bodyInit=="undefined"?null:L._bodyInit)})}return x.polyfill=!0,F.fetch||(F.fetch=x,F.Headers=d,F.Request=K,F.Response=ie),c.Headers=d,c.Request=K,c.Response=ie,c.fetch=x,Object.defineProperty(c,"__esModule",{value:!0}),c}({})})(S),S.fetch.ponyfill=!0,delete S.fetch.polyfill;var I=S;j=I.fetch,j.default=I.fetch,j.fetch=I.fetch,j.Headers=I.Headers,j.Request=I.Request,j.Response=I.Response,s.exports=j},91565:(s,j,R)=>{"use strict";var S;S=S=S=R(53209),j.n1=R(47108),S=R(83507);var I=R(55715),F=Object.keys(I),T=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(F);S=function(){return T};var c=R(78396);S=c.pbkdf2,S=c.pbkdf2Sync;var h=R(30125);S=h.Cipher,S=h.createCipher,S=h.Cipheriv,S=h.createCipheriv,S=h.Decipher,S=h.createDecipher,S=h.Decipheriv,S=h.createDecipheriv,S=h.getCiphers,S=h.listCiphers;var p=R(15380);S=p.DiffieHellmanGroup,S=p.createDiffieHellmanGroup,S=p.getDiffieHellman,S=p.createDiffieHellman,S=p.DiffieHellman;var v=R(20);S=v.createSign,S=v.Sign,S=v.createVerify,S=v.Verify,R(61324);var w=R(97168);S=w.publicEncrypt,S=w.privateEncrypt,S=w.publicDecrypt,S=w.privateDecrypt;var b=R(76983);S=b.randomFill,S=b.randomFillSync,S=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},S={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(j,R){s.exports=R()})(this,function(){"use strict";var j="millisecond",R="second",S="minute",I="hour",F="day",T="week",c="month",h="quarter",p="year",v="date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},N=function(y,K,Y){var Z=String(y);return!Z||Z.length>=K?y:""+Array(K+1-Z.length).join(Y)+y},d={s:N,z:function(y){var K=-y.utcOffset(),Y=Math.abs(K),Z=Math.floor(Y/60),ie=Y%60;return(K<=0?"+":"-")+N(Z,2,"0")+":"+N(ie,2,"0")},m:function y(K,Y){if(K.date()<Y.date())return-y(Y,K);var Z=12*(Y.year()-K.year())+(Y.month()-K.month()),ie=K.clone().add(Z,c),J=Y-ie<0,x=K.clone().add(Z+(J?-1:1),c);return+(-(Z+(Y-ie)/(J?ie-x:x-ie))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:c,y:p,w:T,d:F,D:v,h:I,m:S,s:R,ms:j,Q:h}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},g="en",f={};f[g]=l;var _=function(y){return y instanceof V},E=function(y,K,Y){var Z;if(!y)return g;if(typeof y=="string")f[y]&&(Z=y),K&&(f[y]=K,Z=y);else{var ie=y.name;f[ie]=y,Z=ie}return!Y&&Z&&(g=Z),Z||!Y&&g},P=function(y,K){if(_(y))return y.clone();var Y=typeof K=="object"?K:{};return Y.date=y,Y.args=arguments,new V(Y)},M=d;M.l=E,M.i=_,M.w=function(y,K){return P(y,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var V=function(){function y(Y){this.$L=E(Y.locale,null,!0),this.parse(Y)}var K=y.prototype;return K.parse=function(Y){this.$d=function(Z){var ie=Z.date,J=Z.utc;if(ie===null)return new Date(NaN);if(M.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var x=ie.match(w);if(x){var W=x[2]-1||0,D=(x[7]||"0").substring(0,3);return J?new Date(Date.UTC(x[1],W,x[3]||1,x[4]||0,x[5]||0,x[6]||0,D)):new Date(x[1],W,x[3]||1,x[4]||0,x[5]||0,x[6]||0,D)}}return new Date(ie)}(Y),this.$x=Y.x||{},this.init()},K.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},K.$utils=function(){return M},K.isValid=function(){return this.$d.toString()!=="Invalid Date"},K.isSame=function(Y,Z){var ie=P(Y);return this.startOf(Z)<=ie&&ie<=this.endOf(Z)},K.isAfter=function(Y,Z){return P(Y)<this.startOf(Z)},K.isBefore=function(Y,Z){return this.endOf(Z)<P(Y)},K.$g=function(Y,Z,ie){return M.u(Y)?this[Z]:this.set(ie,Y)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(Y,Z){var ie=this,J=!!M.u(Z)||Z,x=M.p(Y),W=function(ee,ne){var q=M.w(ie.$u?Date.UTC(ie.$y,ne,ee):new Date(ie.$y,ne,ee),ie);return J?q:q.endOf(F)},D=function(ee,ne){return M.w(ie.toDate()[ee].apply(ie.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ne)),ie)},m=this.$W,C=this.$M,L=this.$D,H="set"+(this.$u?"UTC":"");switch(x){case p:return J?W(1,0):W(31,11);case c:return J?W(1,C):W(0,C+1);case T:var z=this.$locale().weekStart||0,G=(m<z?m+7:m)-z;return W(J?L-G:L+(6-G),C);case F:case v:return D(H+"Hours",0);case I:return D(H+"Minutes",1);case S:return D(H+"Seconds",2);case R:return D(H+"Milliseconds",3);default:return this.clone()}},K.endOf=function(Y){return this.startOf(Y,!1)},K.$set=function(Y,Z){var ie,J=M.p(Y),x="set"+(this.$u?"UTC":""),W=(ie={},ie[F]=x+"Date",ie[v]=x+"Date",ie[c]=x+"Month",ie[p]=x+"FullYear",ie[I]=x+"Hours",ie[S]=x+"Minutes",ie[R]=x+"Seconds",ie[j]=x+"Milliseconds",ie)[J],D=J===F?this.$D+(Z-this.$W):Z;if(J===c||J===p){var m=this.clone().set(v,1);m.$d[W](D),m.init(),this.$d=m.set(v,Math.min(this.$D,m.daysInMonth())).$d}else W&&this.$d[W](D);return this.init(),this},K.set=function(Y,Z){return this.clone().$set(Y,Z)},K.get=function(Y){return this[M.p(Y)]()},K.add=function(Y,Z){var ie,J=this;Y=Number(Y);var x=M.p(Z),W=function(C){var L=P(J);return M.w(L.date(L.date()+Math.round(C*Y)),J)};if(x===c)return this.set(c,this.$M+Y);if(x===p)return this.set(p,this.$y+Y);if(x===F)return W(1);if(x===T)return W(7);var D=(ie={},ie[S]=6e4,ie[I]=36e5,ie[R]=1e3,ie)[x]||1,m=this.$d.getTime()+Y*D;return M.w(m,this)},K.subtract=function(Y,Z){return this.add(-1*Y,Z)},K.format=function(Y){var Z=this;if(!this.isValid())return"Invalid Date";var ie=Y||"YYYY-MM-DDTHH:mm:ssZ",J=M.z(this),x=this.$locale(),W=this.$H,D=this.$m,m=this.$M,C=x.weekdays,L=x.months,H=function(ne,q,se,xe){return ne&&(ne[q]||ne(Z,ie))||se[q].substr(0,xe)},z=function(ne){return M.s(W%12||12,ne,"0")},G=x.meridiem||function(ne,q,se){var xe=ne<12?"AM":"PM";return se?xe.toLowerCase():xe},ee={YY:String(this.$y).slice(-2),YYYY:this.$y,M:m+1,MM:M.s(m+1,2,"0"),MMM:H(x.monthsShort,m,L,3),MMMM:H(L,m),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:H(x.weekdaysMin,this.$W,C,2),ddd:H(x.weekdaysShort,this.$W,C,3),dddd:C[this.$W],H:String(W),HH:M.s(W,2,"0"),h:z(1),hh:z(2),a:G(W,D,!0),A:G(W,D,!1),m:String(D),mm:M.s(D,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:J};return ie.replace(b,function(ne,q){return q||ee[ne]||J.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(Y,Z,ie){var J,x=M.p(Z),W=P(Y),D=6e4*(W.utcOffset()-this.utcOffset()),m=this-W,C=M.m(this,W);return C=(J={},J[p]=C/12,J[c]=C,J[h]=C/3,J[T]=(m-D)/6048e5,J[F]=(m-D)/864e5,J[I]=m/36e5,J[S]=m/6e4,J[R]=m/1e3,J)[x]||m,ie?C:M.a(C)},K.daysInMonth=function(){return this.endOf(c).$D},K.$locale=function(){return f[this.$L]},K.locale=function(Y,Z){if(!Y)return this.$L;var ie=this.clone(),J=E(Y,Z,!0);return J&&(ie.$L=J),ie},K.clone=function(){return M.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},y}(),O=V.prototype;return P.prototype=O,[["$ms",j],["$s",R],["$m",S],["$H",I],["$W",F],["$M",c],["$y",p],["$D",v]].forEach(function(y){O[y[1]]=function(K){return this.$g(K,y[0],y[1])}}),P.extend=function(y,K){return y.$i||(y(K,V,P),y.$i=!0),P},P.locale=E,P.isDayjs=_,P.unix=function(y){return P(1e3*y)},P.en=f[g],P.Ls=f,P.p={},P})},6279:function(s){(function(j,R){s.exports=R()})(this,function(){"use strict";return function(j,R,S){j=j||{};var I=R.prototype,F={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T(h,p,v,w){return I.fromToBase(h,p,v,w)}S.en.relativeTime=F,I.fromToBase=function(h,p,v,w,b){for(var l,N,d,g=v.$locale().relativeTime||F,f=j.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=f.length,E=0;E<_;E+=1){var P=f[E];P.d&&(l=w?S(h).diff(v,P.d,!0):v.diff(h,P.d,!0));var M=(j.rounding||Math.round)(Math.abs(l));if(d=l>0,M<=P.r||!P.r){M<=1&&E>0&&(P=f[E-1]);var V=g[P.l];b&&(M=b(""+M)),N=typeof V=="string"?V.replace("%d",M):V(M,p,P.l,d);break}}if(p)return N;var O=d?g.future:g.past;return typeof O=="function"?O(N):O.replace("%s",N)},I.to=function(h,p){return T(h,p,this,!0)},I.from=function(h,p){return T(h,p,this)};var c=function(h){return h.$u?S.utc():S()};I.toNow=function(h){return this.to(c(this),h)},I.fromNow=function(h){return this.from(c(this),h)}}})},53581:function(s){(function(j,R){s.exports=R()})(this,function(){"use strict";return function(j,R,S){S.updateLocale=function(I,F){var T=S.Ls[I];if(T)return(F?Object.keys(F):[]).forEach(function(c){T[c]=F[c]}),T}}})},30041:(s,j,R)=>{"use strict";var S=R(30655),I=R(58068),F=R(69675),T=R(75795);s.exports=function(h,p,v){if(!h||typeof h!="object"&&typeof h!="function")throw new F("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new F("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new F("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new F("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new F("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new F("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,b=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,N=arguments.length>6?arguments[6]:!1,d=!!T&&T(h,p);if(S)S(h,p,{configurable:l===null&&d?d.configurable:!l,enumerable:w===null&&d?d.enumerable:!w,value:v,writable:b===null&&d?d.writable:!b});else if(N||!w&&!b&&!l)h[p]=v;else throw new I("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},29560:(s,j,R)=>{"use strict";j.utils=R(87626),j.Cipher=R(82808),j.DES=R(82211),j.CBC=R(3389),j.EDE=R(65279)},3389:(s,j,R)=>{"use strict";var S=R(43349),I=R(56698),F={};function T(h){S.equal(h.length,8,"Invalid IV length"),this.iv=new Array(8);for(var p=0;p<this.iv.length;p++)this.iv[p]=h[p]}function c(h){function p(l){h.call(this,l),this._cbcInit()}I(p,h);for(var v=Object.keys(F),w=0;w<v.length;w++){var b=v[w];p.prototype[b]=F[b]}return p.create=function(N){return new p(N)},p}j.instantiate=c,F._cbcInit=function(){var p=new T(this.options.iv);this._cbcState=p},F._update=function(p,v,w,b){var l=this._cbcState,N=this.constructor.super_.prototype,d=l.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)d[g]^=p[v+g];N._update.call(this,d,0,w,b);for(var g=0;g<this.blockSize;g++)d[g]=w[b+g]}else{N._update.call(this,p,v,w,b);for(var g=0;g<this.blockSize;g++)w[b+g]^=d[g];for(var g=0;g<this.blockSize;g++)d[g]=p[v+g]}}},82808:(s,j,R)=>{"use strict";var S=R(43349);function I(F){this.options=F,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=I,I.prototype._init=function(){},I.prototype.update=function(T){return T.length===0?[]:this.type==="decrypt"?this._updateDecrypt(T):this._updateEncrypt(T)},I.prototype._buffer=function(T,c){for(var h=Math.min(this.buffer.length-this.bufferOff,T.length-c),p=0;p<h;p++)this.buffer[this.bufferOff+p]=T[c+p];return this.bufferOff+=h,h},I.prototype._flushBuffer=function(T,c){return this._update(this.buffer,0,T,c),this.bufferOff=0,this.blockSize},I.prototype._updateEncrypt=function(T){var c=0,h=0,p=(this.bufferOff+T.length)/this.blockSize|0,v=new Array(p*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(T,c),this.bufferOff===this.buffer.length&&(h+=this._flushBuffer(v,h)));for(var w=T.length-(T.length-c)%this.blockSize;c<w;c+=this.blockSize)this._update(T,c,v,h),h+=this.blockSize;for(;c<T.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=T[c];return v},I.prototype._updateDecrypt=function(T){for(var c=0,h=0,p=Math.ceil((this.bufferOff+T.length)/this.blockSize)-1,v=new Array(p*this.blockSize);p>0;p--)c+=this._buffer(T,c),h+=this._flushBuffer(v,h);return c+=this._buffer(T,c),v},I.prototype.final=function(T){var c;T&&(c=this.update(T));var h;return this.type==="encrypt"?h=this._finalEncrypt():h=this._finalDecrypt(),c?c.concat(h):h},I.prototype._pad=function(T,c){if(c===0)return!1;for(;c<T.length;)T[c++]=0;return!0},I.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var T=new Array(this.blockSize);return this._update(this.buffer,0,T,0),T},I.prototype._unpad=function(T){return T},I.prototype._finalDecrypt=function(){S.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var T=new Array(this.blockSize);return this._flushBuffer(T,0),this._unpad(T)}},82211:(s,j,R)=>{"use strict";var S=R(43349),I=R(56698),F=R(87626),T=R(82808);function c(){this.tmp=new Array(2),this.keys=null}function h(v){T.call(this,v);var w=new c;this._desState=w,this.deriveKeys(w,v.key)}I(h,T),s.exports=h,h.create=function(w){return new h(w)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(w,b){w.keys=new Array(32),S.equal(b.length,this.blockSize,"Invalid key length");var l=F.readUInt32BE(b,0),N=F.readUInt32BE(b,4);F.pc1(l,N,w.tmp,0),l=w.tmp[0],N=w.tmp[1];for(var d=0;d<w.keys.length;d+=2){var g=p[d>>>1];l=F.r28shl(l,g),N=F.r28shl(N,g),F.pc2(l,N,w.keys,d)}},h.prototype._update=function(w,b,l,N){var d=this._desState,g=F.readUInt32BE(w,b),f=F.readUInt32BE(w,b+4);F.ip(g,f,d.tmp,0),g=d.tmp[0],f=d.tmp[1],this.type==="encrypt"?this._encrypt(d,g,f,d.tmp,0):this._decrypt(d,g,f,d.tmp,0),g=d.tmp[0],f=d.tmp[1],F.writeUInt32BE(l,g,N),F.writeUInt32BE(l,f,N+4)},h.prototype._pad=function(w,b){for(var l=w.length-b,N=b;N<w.length;N++)w[N]=l;return!0},h.prototype._unpad=function(w){for(var b=w[w.length-1],l=w.length-b;l<w.length;l++)S.equal(w[l],b);return w.slice(0,w.length-b)},h.prototype._encrypt=function(w,b,l,N,d){for(var g=b,f=l,_=0;_<w.keys.length;_+=2){var E=w.keys[_],P=w.keys[_+1];F.expand(f,w.tmp,0),E^=w.tmp[0],P^=w.tmp[1];var M=F.substitute(E,P),V=F.permute(M),O=f;f=(g^V)>>>0,g=O}F.rip(f,g,N,d)},h.prototype._decrypt=function(w,b,l,N,d){for(var g=l,f=b,_=w.keys.length-2;_>=0;_-=2){var E=w.keys[_],P=w.keys[_+1];F.expand(g,w.tmp,0),E^=w.tmp[0],P^=w.tmp[1];var M=F.substitute(E,P),V=F.permute(M),O=g;g=(f^V)>>>0,f=O}F.rip(g,f,N,d)}},65279:(s,j,R)=>{"use strict";var S=R(43349),I=R(56698),F=R(82808),T=R(82211);function c(p,v){S.equal(v.length,24,"Invalid key length");var w=v.slice(0,8),b=v.slice(8,16),l=v.slice(16,24);p==="encrypt"?this.ciphers=[T.create({type:"encrypt",key:w}),T.create({type:"decrypt",key:b}),T.create({type:"encrypt",key:l})]:this.ciphers=[T.create({type:"decrypt",key:l}),T.create({type:"encrypt",key:b}),T.create({type:"decrypt",key:w})]}function h(p){F.call(this,p);var v=new c(this.type,this.options.key);this._edeState=v}I(h,F),s.exports=h,h.create=function(v){return new h(v)},h.prototype._update=function(v,w,b,l){var N=this._edeState;N.ciphers[0]._update(v,w,b,l),N.ciphers[1]._update(b,l,b,l),N.ciphers[2]._update(b,l,b,l)},h.prototype._pad=T.prototype._pad,h.prototype._unpad=T.prototype._unpad},87626:(s,j)=>{"use strict";j.readUInt32BE=function(T,c){var h=T[0+c]<<24|T[1+c]<<16|T[2+c]<<8|T[3+c];return h>>>0},j.writeUInt32BE=function(T,c,h){T[0+h]=c>>>24,T[1+h]=c>>>16&255,T[2+h]=c>>>8&255,T[3+h]=c&255},j.ip=function(T,c,h,p){for(var v=0,w=0,b=6;b>=0;b-=2){for(var l=0;l<=24;l+=8)v<<=1,v|=c>>>l+b&1;for(var l=0;l<=24;l+=8)v<<=1,v|=T>>>l+b&1}for(var b=6;b>=0;b-=2){for(var l=1;l<=25;l+=8)w<<=1,w|=c>>>l+b&1;for(var l=1;l<=25;l+=8)w<<=1,w|=T>>>l+b&1}h[p+0]=v>>>0,h[p+1]=w>>>0},j.rip=function(T,c,h,p){for(var v=0,w=0,b=0;b<4;b++)for(var l=24;l>=0;l-=8)v<<=1,v|=c>>>l+b&1,v<<=1,v|=T>>>l+b&1;for(var b=4;b<8;b++)for(var l=24;l>=0;l-=8)w<<=1,w|=c>>>l+b&1,w<<=1,w|=T>>>l+b&1;h[p+0]=v>>>0,h[p+1]=w>>>0},j.pc1=function(T,c,h,p){for(var v=0,w=0,b=7;b>=5;b--){for(var l=0;l<=24;l+=8)v<<=1,v|=c>>l+b&1;for(var l=0;l<=24;l+=8)v<<=1,v|=T>>l+b&1}for(var l=0;l<=24;l+=8)v<<=1,v|=c>>l+b&1;for(var b=1;b<=3;b++){for(var l=0;l<=24;l+=8)w<<=1,w|=c>>l+b&1;for(var l=0;l<=24;l+=8)w<<=1,w|=T>>l+b&1}for(var l=0;l<=24;l+=8)w<<=1,w|=T>>l+b&1;h[p+0]=v>>>0,h[p+1]=w>>>0},j.r28shl=function(T,c){return T<<c&268435455|T>>>28-c};var R=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(T,c,h,p){for(var v=0,w=0,b=R.length>>>1,l=0;l<b;l++)v<<=1,v|=T>>>R[l]&1;for(var l=b;l<R.length;l++)w<<=1,w|=c>>>R[l]&1;h[p+0]=v>>>0,h[p+1]=w>>>0},j.expand=function(T,c,h){var p=0,v=0;p=(T&1)<<5|T>>>27;for(var w=23;w>=15;w-=4)p<<=6,p|=T>>>w&63;for(var w=11;w>=3;w-=4)v|=T>>>w&63,v<<=6;v|=(T&31)<<1|T>>>31,c[h+0]=p>>>0,c[h+1]=v>>>0};var S=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(T,c){for(var h=0,p=0;p<4;p++){var v=T>>>18-p*6&63,w=S[p*64+v];h<<=4,h|=w}for(var p=0;p<4;p++){var v=c>>>18-p*6&63,w=S[4*64+p*64+v];h<<=4,h|=w}return h>>>0};var I=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(T){for(var c=0,h=0;h<I.length;h++)c<<=1,c|=T>>>I[h]&1;return c>>>0},j.padSplit=function(T,c,h){for(var p=T.toString(2);p.length<c;)p="0"+p;for(var v=[],w=0;w<c;w+=h)v.push(p.slice(w,w+h));return v.join(" ")}},15380:(s,j,R)=>{var S=R(48287).Buffer,I=R(4934),F=R(23241),T=R(14910);function c(v){var w=new S(F[v].prime,"hex"),b=new S(F[v].gen,"hex");return new T(w,b)}var h={binary:!0,hex:!0,base64:!0};function p(v,w,b,l){return S.isBuffer(w)||h[w]===void 0?p(v,"binary",w,b):(w=w||"binary",l=l||"binary",b=b||new S([2]),S.isBuffer(b)||(b=new S(b,l)),typeof v=="number"?new T(I(v,b),b,!0):(S.isBuffer(v)||(v=new S(v,w)),new T(v,b,!0)))}j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=c,j.createDiffieHellman=j.DiffieHellman=p},14910:(s,j,R)=>{var S=R(48287).Buffer,I=R(39404),F=R(52244),T=new F,c=new I(24),h=new I(11),p=new I(10),v=new I(3),w=new I(7),b=R(4934),l=R(53209);s.exports=_;function N(P,M){return M=M||"utf8",S.isBuffer(P)||(P=new S(P,M)),this._pub=new I(P),this}function d(P,M){return M=M||"utf8",S.isBuffer(P)||(P=new S(P,M)),this._priv=new I(P),this}var g={};function f(P,M){var V=M.toString("hex"),O=[V,P.toString(16)].join("_");if(O in g)return g[O];var y=0;if(P.isEven()||!b.simpleSieve||!b.fermatTest(P)||!T.test(P))return y+=1,V==="02"||V==="05"?y+=8:y+=4,g[O]=y,y;T.test(P.shrn(1))||(y+=2);var K;switch(V){case"02":P.mod(c).cmp(h)&&(y+=8);break;case"05":K=P.mod(p),K.cmp(v)&&K.cmp(w)&&(y+=8);break;default:y+=4}return g[O]=y,y}function _(P,M,V){this.setGenerator(M),this.__prime=new I(P),this._prime=I.mont(this.__prime),this._primeLen=P.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,V?(this.setPublicKey=N,this.setPrivateKey=d):this._primeCode=8}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=f(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new I(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(P){P=new I(P),P=P.toRed(this._prime);var M=P.redPow(this._priv).fromRed(),V=new S(M.toArray()),O=this.getPrime();if(V.length<O.length){var y=new S(O.length-V.length);y.fill(0),V=S.concat([y,V])}return V},_.prototype.getPublicKey=function(M){return E(this._pub,M)},_.prototype.getPrivateKey=function(M){return E(this._priv,M)},_.prototype.getPrime=function(P){return E(this.__prime,P)},_.prototype.getGenerator=function(P){return E(this._gen,P)},_.prototype.setGenerator=function(P,M){return M=M||"utf8",S.isBuffer(P)||(P=new S(P,M)),this.__gen=P,this._gen=new I(P),this};function E(P,M){var V=new S(P.toArray());return M?V.toString(M):V}},4934:(s,j,R)=>{var S=R(53209);s.exports=O,O.simpleSieve=M,O.fermatTest=V;var I=R(39404),F=new I(24),T=R(52244),c=new T,h=new I(1),p=new I(2),v=new I(5),w=new I(16),b=new I(8),l=new I(10),N=new I(3),d=new I(7),g=new I(11),f=new I(4),_=new I(12),E=null;function P(){if(E!==null)return E;var y=1048576,K=[];K[0]=2;for(var Y=1,Z=3;Z<y;Z+=2){for(var ie=Math.ceil(Math.sqrt(Z)),J=0;J<Y&&K[J]<=ie&&Z%K[J]!==0;J++);Y!==J&&K[J]<=ie||(K[Y++]=Z)}return E=K,K}function M(y){for(var K=P(),Y=0;Y<K.length;Y++)if(y.modn(K[Y])===0)return y.cmpn(K[Y])===0;return!0}function V(y){var K=I.mont(y);return p.toRed(K).redPow(y.subn(1)).fromRed().cmpn(1)===0}function O(y,K){if(y<16)return K===2||K===5?new I([140,123]):new I([140,39]);K=new I(K);for(var Y,Z;;){for(Y=new I(S(Math.ceil(y/8)));Y.bitLength()>y;)Y.ishrn(1);if(Y.isEven()&&Y.iadd(h),Y.testn(1)||Y.iadd(p),K.cmp(p)){if(!K.cmp(v))for(;Y.mod(l).cmp(N);)Y.iadd(f)}else for(;Y.mod(F).cmp(g);)Y.iadd(f);if(Z=Y.shrn(1),M(Z)&&M(Y)&&V(Z)&&V(Y)&&c.test(Z)&&c.test(Y))return Y}}},7176:(s,j,R)=>{"use strict";var S=R(73126),I=R(75795),F;try{F=[].__proto__===Array.prototype}catch(p){if(!p||typeof p!="object"||!("code"in p)||p.code!=="ERR_PROTO_ACCESS")throw p}var T=!!F&&I&&I(Object.prototype,"__proto__"),c=Object,h=c.getPrototypeOf;s.exports=T&&typeof T.get=="function"?S([T.get]):typeof h=="function"?function(v){return h(v==null?v:c(v))}:!1},86729:(s,j,R)=>{"use strict";var S=j;S.version=R(1636).rE,S.utils=R(47011),S.rand=R(15037),S.curve=R(894),S.curves=R(60480),S.ec=R(57447),S.eddsa=R(8650)},36677:(s,j,R)=>{"use strict";var S=R(39404),I=R(47011),F=I.getNAF,T=I.getJSF,c=I.assert;function h(v,w){this.type=v,this.p=new S(w.p,16),this.red=w.prime?S.red(w.prime):S.mont(this.p),this.zero=new S(0).toRed(this.red),this.one=new S(1).toRed(this.red),this.two=new S(2).toRed(this.red),this.n=w.n&&new S(w.n,16),this.g=w.g&&this.pointFromJSON(w.g,w.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(w,b){c(w.precomputed);var l=w._getDoubles(),N=F(b,1,this._bitLength),d=(1<<l.step+1)-(l.step%2===0?2:1);d/=3;var g=[],f,_;for(f=0;f<N.length;f+=l.step){_=0;for(var E=f+l.step-1;E>=f;E--)_=(_<<1)+N[E];g.push(_)}for(var P=this.jpoint(null,null,null),M=this.jpoint(null,null,null),V=d;V>0;V--){for(f=0;f<g.length;f++)_=g[f],_===V?M=M.mixedAdd(l.points[f]):_===-V&&(M=M.mixedAdd(l.points[f].neg()));P=P.add(M)}return P.toP()},h.prototype._wnafMul=function(w,b){var l=4,N=w._getNAFPoints(l);l=N.wnd;for(var d=N.points,g=F(b,l,this._bitLength),f=this.jpoint(null,null,null),_=g.length-1;_>=0;_--){for(var E=0;_>=0&&g[_]===0;_--)E++;if(_>=0&&E++,f=f.dblp(E),_<0)break;var P=g[_];c(P!==0),w.type==="affine"?P>0?f=f.mixedAdd(d[P-1>>1]):f=f.mixedAdd(d[-P-1>>1].neg()):P>0?f=f.add(d[P-1>>1]):f=f.add(d[-P-1>>1].neg())}return w.type==="affine"?f.toP():f},h.prototype._wnafMulAdd=function(w,b,l,N,d){var g=this._wnafT1,f=this._wnafT2,_=this._wnafT3,E=0,P,M,V;for(P=0;P<N;P++){V=b[P];var O=V._getNAFPoints(w);g[P]=O.wnd,f[P]=O.points}for(P=N-1;P>=1;P-=2){var y=P-1,K=P;if(g[y]!==1||g[K]!==1){_[y]=F(l[y],g[y],this._bitLength),_[K]=F(l[K],g[K],this._bitLength),E=Math.max(_[y].length,E),E=Math.max(_[K].length,E);continue}var Y=[b[y],null,null,b[K]];b[y].y.cmp(b[K].y)===0?(Y[1]=b[y].add(b[K]),Y[2]=b[y].toJ().mixedAdd(b[K].neg())):b[y].y.cmp(b[K].y.redNeg())===0?(Y[1]=b[y].toJ().mixedAdd(b[K]),Y[2]=b[y].add(b[K].neg())):(Y[1]=b[y].toJ().mixedAdd(b[K]),Y[2]=b[y].toJ().mixedAdd(b[K].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],ie=T(l[y],l[K]);for(E=Math.max(ie[0].length,E),_[y]=new Array(E),_[K]=new Array(E),M=0;M<E;M++){var J=ie[0][M]|0,x=ie[1][M]|0;_[y][M]=Z[(J+1)*3+(x+1)],_[K][M]=0,f[y]=Y}}var W=this.jpoint(null,null,null),D=this._wnafT4;for(P=E;P>=0;P--){for(var m=0;P>=0;){var C=!0;for(M=0;M<N;M++)D[M]=_[M][P]|0,D[M]!==0&&(C=!1);if(!C)break;m++,P--}if(P>=0&&m++,W=W.dblp(m),P<0)break;for(M=0;M<N;M++){var L=D[M];L!==0&&(L>0?V=f[M][L-1>>1]:L<0&&(V=f[M][-L-1>>1].neg()),V.type==="affine"?W=W.mixedAdd(V):W=W.add(V))}}for(P=0;P<N;P++)f[P]=null;return d?W:W.toP()};function p(v,w){this.curve=v,this.type=w,this.precomputed=null}h.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(w,b){w=I.toArray(w,b);var l=this.p.byteLength();if((w[0]===4||w[0]===6||w[0]===7)&&w.length-1===2*l){w[0]===6?c(w[w.length-1]%2===0):w[0]===7&&c(w[w.length-1]%2===1);var N=this.point(w.slice(1,1+l),w.slice(1+l,1+2*l));return N}else if((w[0]===2||w[0]===3)&&w.length-1===l)return this.pointFromX(w.slice(1,1+l),w[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(w){return this.encode(w,!0)},p.prototype._encode=function(w){var b=this.curve.p.byteLength(),l=this.getX().toArray("be",b);return w?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",b))},p.prototype.encode=function(w,b){return I.encode(this._encode(b),w)},p.prototype.precompute=function(w){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,w),b.beta=this._getBeta(),this.precomputed=b,this},p.prototype._hasDoubles=function(w){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return b?b.points.length>=Math.ceil((w.bitLength()+1)/b.step):!1},p.prototype._getDoubles=function(w,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],N=this,d=0;d<b;d+=w){for(var g=0;g<w;g++)N=N.dbl();l.push(N)}return{step:w,points:l}},p.prototype._getNAFPoints=function(w){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],l=(1<<w)-1,N=l===1?null:this.dbl(),d=1;d<l;d++)b[d]=b[d-1].add(N);return{wnd:w,points:b}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(w){for(var b=this,l=0;l<w;l++)b=b.dbl();return b}},31298:(s,j,R)=>{"use strict";var S=R(47011),I=R(39404),F=R(56698),T=R(36677),c=S.assert;function h(v){this.twisted=(v.a|0)!==1,this.mOneA=this.twisted&&(v.a|0)===-1,this.extended=this.mOneA,T.call(this,"edwards",v),this.a=new I(v.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new I(v.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new I(v.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(v.c|0)===1}F(h,T),s.exports=h,h.prototype._mulA=function(w){return this.mOneA?w.redNeg():this.a.redMul(w)},h.prototype._mulC=function(w){return this.oneC?w:this.c.redMul(w)},h.prototype.jpoint=function(w,b,l,N){return this.point(w,b,l,N)},h.prototype.pointFromX=function(w,b){w=new I(w,16),w.red||(w=w.toRed(this.red));var l=w.redSqr(),N=this.c2.redSub(this.a.redMul(l)),d=this.one.redSub(this.c2.redMul(this.d).redMul(l)),g=N.redMul(d.redInvm()),f=g.redSqrt();if(f.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var _=f.fromRed().isOdd();return(b&&!_||!b&&_)&&(f=f.redNeg()),this.point(w,f)},h.prototype.pointFromY=function(w,b){w=new I(w,16),w.red||(w=w.toRed(this.red));var l=w.redSqr(),N=l.redSub(this.c2),d=l.redMul(this.d).redMul(this.c2).redSub(this.a),g=N.redMul(d.redInvm());if(g.cmp(this.zero)===0){if(b)throw new Error("invalid point");return this.point(this.zero,w)}var f=g.redSqrt();if(f.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==b&&(f=f.redNeg()),this.point(f,w)},h.prototype.validate=function(w){if(w.isInfinity())return!0;w.normalize();var b=w.x.redSqr(),l=w.y.redSqr(),N=b.redMul(this.a).redAdd(l),d=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(l)));return N.cmp(d)===0};function p(v,w,b,l,N){T.BasePoint.call(this,v,"projective"),w===null&&b===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new I(w,16),this.y=new I(b,16),this.z=l?new I(l,16):this.curve.one,this.t=N&&new I(N,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}F(p,T.BasePoint),h.prototype.pointFromJSON=function(w){return p.fromJSON(this,w)},h.prototype.point=function(w,b,l,N){return new p(this,w,b,l,N)},p.fromJSON=function(w,b){return new p(w,b[0],b[1],b[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var w=this.x.redSqr(),b=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var N=this.curve._mulA(w),d=this.x.redAdd(this.y).redSqr().redISub(w).redISub(b),g=N.redAdd(b),f=g.redSub(l),_=N.redSub(b),E=d.redMul(f),P=g.redMul(_),M=d.redMul(_),V=f.redMul(g);return this.curve.point(E,P,V,M)},p.prototype._projDbl=function(){var w=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),l=this.y.redSqr(),N,d,g,f,_,E;if(this.curve.twisted){f=this.curve._mulA(b);var P=f.redAdd(l);this.zOne?(N=w.redSub(b).redSub(l).redMul(P.redSub(this.curve.two)),d=P.redMul(f.redSub(l)),g=P.redSqr().redSub(P).redSub(P)):(_=this.z.redSqr(),E=P.redSub(_).redISub(_),N=w.redSub(b).redISub(l).redMul(E),d=P.redMul(f.redSub(l)),g=P.redMul(E))}else f=b.redAdd(l),_=this.curve._mulC(this.z).redSqr(),E=f.redSub(_).redSub(_),N=this.curve._mulC(w.redISub(f)).redMul(E),d=this.curve._mulC(f).redMul(b.redISub(l)),g=f.redMul(E);return this.curve.point(N,d,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(w){var b=this.y.redSub(this.x).redMul(w.y.redSub(w.x)),l=this.y.redAdd(this.x).redMul(w.y.redAdd(w.x)),N=this.t.redMul(this.curve.dd).redMul(w.t),d=this.z.redMul(w.z.redAdd(w.z)),g=l.redSub(b),f=d.redSub(N),_=d.redAdd(N),E=l.redAdd(b),P=g.redMul(f),M=_.redMul(E),V=g.redMul(E),O=f.redMul(_);return this.curve.point(P,M,O,V)},p.prototype._projAdd=function(w){var b=this.z.redMul(w.z),l=b.redSqr(),N=this.x.redMul(w.x),d=this.y.redMul(w.y),g=this.curve.d.redMul(N).redMul(d),f=l.redSub(g),_=l.redAdd(g),E=this.x.redAdd(this.y).redMul(w.x.redAdd(w.y)).redISub(N).redISub(d),P=b.redMul(f).redMul(E),M,V;return this.curve.twisted?(M=b.redMul(_).redMul(d.redSub(this.curve._mulA(N))),V=f.redMul(_)):(M=b.redMul(_).redMul(d.redSub(N)),V=this.curve._mulC(f).redMul(_)),this.curve.point(P,M,V)},p.prototype.add=function(w){return this.isInfinity()?w:w.isInfinity()?this:this.curve.extended?this._extAdd(w):this._projAdd(w)},p.prototype.mul=function(w){return this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve._wnafMul(this,w)},p.prototype.mulAdd=function(w,b,l){return this.curve._wnafMulAdd(1,[this,b],[w,l],2,!1)},p.prototype.jmulAdd=function(w,b,l){return this.curve._wnafMulAdd(1,[this,b],[w,l],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var w=this.z.redInvm();return this.x=this.x.redMul(w),this.y=this.y.redMul(w),this.t&&(this.t=this.t.redMul(w)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(w){return this===w||this.getX().cmp(w.getX())===0&&this.getY().cmp(w.getY())===0},p.prototype.eqXToP=function(w){var b=w.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(b)===0)return!0;for(var l=w.clone(),N=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(N),this.x.cmp(b)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},894:(s,j,R)=>{"use strict";var S=j;S.base=R(36677),S.short=R(39188),S.mont=R(30370),S.edwards=R(31298)},30370:(s,j,R)=>{"use strict";var S=R(39404),I=R(56698),F=R(36677),T=R(47011);function c(p){F.call(this,"mont",p),this.a=new S(p.a,16).toRed(this.red),this.b=new S(p.b,16).toRed(this.red),this.i4=new S(4).toRed(this.red).redInvm(),this.two=new S(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}I(c,F),s.exports=c,c.prototype.validate=function(v){var w=v.normalize().x,b=w.redSqr(),l=b.redMul(w).redAdd(b.redMul(this.a)).redAdd(w),N=l.redSqrt();return N.redSqr().cmp(l)===0};function h(p,v,w){F.BasePoint.call(this,p,"projective"),v===null&&w===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new S(v,16),this.z=new S(w,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}I(h,F.BasePoint),c.prototype.decodePoint=function(v,w){return this.point(T.toArray(v,w),1)},c.prototype.point=function(v,w){return new h(this,v,w)},c.prototype.pointFromJSON=function(v){return h.fromJSON(this,v)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(v,w){return new h(v,w[0],w[1]||v.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var v=this.x.redAdd(this.z),w=v.redSqr(),b=this.x.redSub(this.z),l=b.redSqr(),N=w.redSub(l),d=w.redMul(l),g=N.redMul(l.redAdd(this.curve.a24.redMul(N)));return this.curve.point(d,g)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(v,w){var b=this.x.redAdd(this.z),l=this.x.redSub(this.z),N=v.x.redAdd(v.z),d=v.x.redSub(v.z),g=d.redMul(b),f=N.redMul(l),_=w.z.redMul(g.redAdd(f).redSqr()),E=w.x.redMul(g.redISub(f).redSqr());return this.curve.point(_,E)},h.prototype.mul=function(v){for(var w=v.clone(),b=this,l=this.curve.point(null,null),N=this,d=[];w.cmpn(0)!==0;w.iushrn(1))d.push(w.andln(1));for(var g=d.length-1;g>=0;g--)d[g]===0?(b=b.diffAdd(l,N),l=l.dbl()):(l=b.diffAdd(l,N),b=b.dbl());return l},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(v){return this.getX().cmp(v.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,j,R)=>{"use strict";var S=R(47011),I=R(39404),F=R(56698),T=R(36677),c=S.assert;function h(w){T.call(this,"short",w),this.a=new I(w.a,16).toRed(this.red),this.b=new I(w.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(w),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}F(h,T),s.exports=h,h.prototype._getEndomorphism=function(b){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,N;if(b.beta)l=new I(b.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);l=d[0].cmp(d[1])<0?d[0]:d[1],l=l.toRed(this.red)}if(b.lambda)N=new I(b.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(l))===0?N=g[0]:(N=g[1],c(this.g.mul(N).x.cmp(this.g.x.redMul(l))===0))}var f;return b.basis?f=b.basis.map(function(_){return{a:new I(_.a,16),b:new I(_.b,16)}}):f=this._getEndoBasis(N),{beta:l,lambda:N,basis:f}}},h.prototype._getEndoRoots=function(b){var l=b===this.p?this.red:I.mont(b),N=new I(2).toRed(l).redInvm(),d=N.redNeg(),g=new I(3).toRed(l).redNeg().redSqrt().redMul(N),f=d.redAdd(g).fromRed(),_=d.redSub(g).fromRed();return[f,_]},h.prototype._getEndoBasis=function(b){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),N=b,d=this.n.clone(),g=new I(1),f=new I(0),_=new I(0),E=new I(1),P,M,V,O,y,K,Y,Z=0,ie,J;N.cmpn(0)!==0;){var x=d.div(N);ie=d.sub(x.mul(N)),J=_.sub(x.mul(g));var W=E.sub(x.mul(f));if(!V&&ie.cmp(l)<0)P=Y.neg(),M=g,V=ie.neg(),O=J;else if(V&&++Z===2)break;Y=ie,d=N,N=ie,_=g,g=J,E=f,f=W}y=ie.neg(),K=J;var D=V.sqr().add(O.sqr()),m=y.sqr().add(K.sqr());return m.cmp(D)>=0&&(y=P,K=M),V.negative&&(V=V.neg(),O=O.neg()),y.negative&&(y=y.neg(),K=K.neg()),[{a:V,b:O},{a:y,b:K}]},h.prototype._endoSplit=function(b){var l=this.endo.basis,N=l[0],d=l[1],g=d.b.mul(b).divRound(this.n),f=N.b.neg().mul(b).divRound(this.n),_=g.mul(N.a),E=f.mul(d.a),P=g.mul(N.b),M=f.mul(d.b),V=b.sub(_).sub(E),O=P.add(M).neg();return{k1:V,k2:O}},h.prototype.pointFromX=function(b,l){b=new I(b,16),b.red||(b=b.toRed(this.red));var N=b.redSqr().redMul(b).redIAdd(b.redMul(this.a)).redIAdd(this.b),d=N.redSqrt();if(d.redSqr().redSub(N).cmp(this.zero)!==0)throw new Error("invalid point");var g=d.fromRed().isOdd();return(l&&!g||!l&&g)&&(d=d.redNeg()),this.point(b,d)},h.prototype.validate=function(b){if(b.inf)return!0;var l=b.x,N=b.y,d=this.a.redMul(l),g=l.redSqr().redMul(l).redIAdd(d).redIAdd(this.b);return N.redSqr().redISub(g).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(b,l,N){for(var d=this._endoWnafT1,g=this._endoWnafT2,f=0;f<b.length;f++){var _=this._endoSplit(l[f]),E=b[f],P=E._getBeta();_.k1.negative&&(_.k1.ineg(),E=E.neg(!0)),_.k2.negative&&(_.k2.ineg(),P=P.neg(!0)),d[f*2]=E,d[f*2+1]=P,g[f*2]=_.k1,g[f*2+1]=_.k2}for(var M=this._wnafMulAdd(1,d,g,f*2,N),V=0;V<f*2;V++)d[V]=null,g[V]=null;return M};function p(w,b,l,N){T.BasePoint.call(this,w,"affine"),b===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new I(b,16),this.y=new I(l,16),N&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}F(p,T.BasePoint),h.prototype.point=function(b,l,N){return new p(this,b,l,N)},h.prototype.pointFromJSON=function(b,l){return p.fromJSON(this,b,l)},p.prototype._getBeta=function(){if(this.curve.endo){var b=this.precomputed;if(b&&b.beta)return b.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(b){var N=this.curve,d=function(g){return N.point(g.x.redMul(N.endo.beta),g.y)};b.beta=l,l.precomputed={beta:null,naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(d)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(d)}}}return l}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(b,l,N){typeof l=="string"&&(l=JSON.parse(l));var d=b.point(l[0],l[1],N);if(!l[2])return d;function g(_){return b.point(_[0],_[1],N)}var f=l[2];return d.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[d].concat(f.doubles.points.map(g))},naf:f.naf&&{wnd:f.naf.wnd,points:[d].concat(f.naf.points.map(g))}},d},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(b){if(this.inf)return b;if(b.inf)return this;if(this.eq(b))return this.dbl();if(this.neg().eq(b))return this.curve.point(null,null);if(this.x.cmp(b.x)===0)return this.curve.point(null,null);var l=this.y.redSub(b.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(b.x).redInvm()));var N=l.redSqr().redISub(this.x).redISub(b.x),d=l.redMul(this.x.redSub(N)).redISub(this.y);return this.curve.point(N,d)},p.prototype.dbl=function(){if(this.inf)return this;var b=this.y.redAdd(this.y);if(b.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,N=this.x.redSqr(),d=b.redInvm(),g=N.redAdd(N).redIAdd(N).redIAdd(l).redMul(d),f=g.redSqr().redISub(this.x.redAdd(this.x)),_=g.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,_)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(b){return b=new I(b,16),this.isInfinity()?this:this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve.endo?this.curve._endoWnafMulAdd([this],[b]):this.curve._wnafMul(this,b)},p.prototype.mulAdd=function(b,l,N){var d=[this,l],g=[b,N];return this.curve.endo?this.curve._endoWnafMulAdd(d,g):this.curve._wnafMulAdd(1,d,g,2)},p.prototype.jmulAdd=function(b,l,N){var d=[this,l],g=[b,N];return this.curve.endo?this.curve._endoWnafMulAdd(d,g,!0):this.curve._wnafMulAdd(1,d,g,2,!0)},p.prototype.eq=function(b){return this===b||this.inf===b.inf&&(this.inf||this.x.cmp(b.x)===0&&this.y.cmp(b.y)===0)},p.prototype.neg=function(b){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(b&&this.precomputed){var N=this.precomputed,d=function(g){return g.neg()};l.precomputed={naf:N.naf&&{wnd:N.naf.wnd,points:N.naf.points.map(d)},doubles:N.doubles&&{step:N.doubles.step,points:N.doubles.points.map(d)}}}return l},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var b=this.curve.jpoint(this.x,this.y,this.curve.one);return b};function v(w,b,l,N){T.BasePoint.call(this,w,"jacobian"),b===null&&l===null&&N===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new I(0)):(this.x=new I(b,16),this.y=new I(l,16),this.z=new I(N,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}F(v,T.BasePoint),h.prototype.jpoint=function(b,l,N){return new v(this,b,l,N)},v.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var b=this.z.redInvm(),l=b.redSqr(),N=this.x.redMul(l),d=this.y.redMul(l).redMul(b);return this.curve.point(N,d)},v.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},v.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var l=b.z.redSqr(),N=this.z.redSqr(),d=this.x.redMul(l),g=b.x.redMul(N),f=this.y.redMul(l.redMul(b.z)),_=b.y.redMul(N.redMul(this.z)),E=d.redSub(g),P=f.redSub(_);if(E.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=E.redSqr(),V=M.redMul(E),O=d.redMul(M),y=P.redSqr().redIAdd(V).redISub(O).redISub(O),K=P.redMul(O.redISub(y)).redISub(f.redMul(V)),Y=this.z.redMul(b.z).redMul(E);return this.curve.jpoint(y,K,Y)},v.prototype.mixedAdd=function(b){if(this.isInfinity())return b.toJ();if(b.isInfinity())return this;var l=this.z.redSqr(),N=this.x,d=b.x.redMul(l),g=this.y,f=b.y.redMul(l).redMul(this.z),_=N.redSub(d),E=g.redSub(f);if(_.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=_.redSqr(),M=P.redMul(_),V=N.redMul(P),O=E.redSqr().redIAdd(M).redISub(V).redISub(V),y=E.redMul(V.redISub(O)).redISub(g.redMul(M)),K=this.z.redMul(_);return this.curve.jpoint(O,y,K)},v.prototype.dblp=function(b){if(b===0)return this;if(this.isInfinity())return this;if(!b)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var N=this;for(l=0;l<b;l++)N=N.dbl();return N}var d=this.curve.a,g=this.curve.tinv,f=this.x,_=this.y,E=this.z,P=E.redSqr().redSqr(),M=_.redAdd(_);for(l=0;l<b;l++){var V=f.redSqr(),O=M.redSqr(),y=O.redSqr(),K=V.redAdd(V).redIAdd(V).redIAdd(d.redMul(P)),Y=f.redMul(O),Z=K.redSqr().redISub(Y.redAdd(Y)),ie=Y.redISub(Z),J=K.redMul(ie);J=J.redIAdd(J).redISub(y);var x=M.redMul(E);l+1<b&&(P=P.redMul(y)),f=Z,E=x,M=J}return this.curve.jpoint(f,M.redMul(g),E)},v.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},v.prototype._zeroDbl=function(){var b,l,N;if(this.zOne){var d=this.x.redSqr(),g=this.y.redSqr(),f=g.redSqr(),_=this.x.redAdd(g).redSqr().redISub(d).redISub(f);_=_.redIAdd(_);var E=d.redAdd(d).redIAdd(d),P=E.redSqr().redISub(_).redISub(_),M=f.redIAdd(f);M=M.redIAdd(M),M=M.redIAdd(M),b=P,l=E.redMul(_.redISub(P)).redISub(M),N=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),O=this.y.redSqr(),y=O.redSqr(),K=this.x.redAdd(O).redSqr().redISub(V).redISub(y);K=K.redIAdd(K);var Y=V.redAdd(V).redIAdd(V),Z=Y.redSqr(),ie=y.redIAdd(y);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),b=Z.redISub(K).redISub(K),l=Y.redMul(K.redISub(b)).redISub(ie),N=this.y.redMul(this.z),N=N.redIAdd(N)}return this.curve.jpoint(b,l,N)},v.prototype._threeDbl=function(){var b,l,N;if(this.zOne){var d=this.x.redSqr(),g=this.y.redSqr(),f=g.redSqr(),_=this.x.redAdd(g).redSqr().redISub(d).redISub(f);_=_.redIAdd(_);var E=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),P=E.redSqr().redISub(_).redISub(_);b=P;var M=f.redIAdd(f);M=M.redIAdd(M),M=M.redIAdd(M),l=E.redMul(_.redISub(P)).redISub(M),N=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),O=this.y.redSqr(),y=this.x.redMul(O),K=this.x.redSub(V).redMul(this.x.redAdd(V));K=K.redAdd(K).redIAdd(K);var Y=y.redIAdd(y);Y=Y.redIAdd(Y);var Z=Y.redAdd(Y);b=K.redSqr().redISub(Z),N=this.y.redAdd(this.z).redSqr().redISub(O).redISub(V);var ie=O.redSqr();ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),l=K.redMul(Y.redISub(b)).redISub(ie)}return this.curve.jpoint(b,l,N)},v.prototype._dbl=function(){var b=this.curve.a,l=this.x,N=this.y,d=this.z,g=d.redSqr().redSqr(),f=l.redSqr(),_=N.redSqr(),E=f.redAdd(f).redIAdd(f).redIAdd(b.redMul(g)),P=l.redAdd(l);P=P.redIAdd(P);var M=P.redMul(_),V=E.redSqr().redISub(M.redAdd(M)),O=M.redISub(V),y=_.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var K=E.redMul(O).redISub(y),Y=N.redAdd(N).redMul(d);return this.curve.jpoint(V,K,Y)},v.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var b=this.x.redSqr(),l=this.y.redSqr(),N=this.z.redSqr(),d=l.redSqr(),g=b.redAdd(b).redIAdd(b),f=g.redSqr(),_=this.x.redAdd(l).redSqr().redISub(b).redISub(d);_=_.redIAdd(_),_=_.redAdd(_).redIAdd(_),_=_.redISub(f);var E=_.redSqr(),P=d.redIAdd(d);P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var M=g.redIAdd(_).redSqr().redISub(f).redISub(E).redISub(P),V=l.redMul(M);V=V.redIAdd(V),V=V.redIAdd(V);var O=this.x.redMul(E).redISub(V);O=O.redIAdd(O),O=O.redIAdd(O);var y=this.y.redMul(M.redMul(P.redISub(M)).redISub(_.redMul(E)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var K=this.z.redAdd(_).redSqr().redISub(N).redISub(E);return this.curve.jpoint(O,y,K)},v.prototype.mul=function(b,l){return b=new I(b,l),this.curve._wnafMul(this,b)},v.prototype.eq=function(b){if(b.type==="affine")return this.eq(b.toJ());if(this===b)return!0;var l=this.z.redSqr(),N=b.z.redSqr();if(this.x.redMul(N).redISub(b.x.redMul(l)).cmpn(0)!==0)return!1;var d=l.redMul(this.z),g=N.redMul(b.z);return this.y.redMul(g).redISub(b.y.redMul(d)).cmpn(0)===0},v.prototype.eqXToP=function(b){var l=this.z.redSqr(),N=b.toRed(this.curve.red).redMul(l);if(this.x.cmp(N)===0)return!0;for(var d=b.clone(),g=this.curve.redN.redMul(l);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(N.redIAdd(g),this.x.cmp(N)===0)return!0}},v.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,j,R)=>{"use strict";var S=j,I=R(77952),F=R(894),T=R(47011),c=T.assert;function h(w){w.type==="short"?this.curve=new F.short(w):w.type==="edwards"?this.curve=new F.edwards(w):this.curve=new F.mont(w),this.g=this.curve.g,this.n=this.curve.n,this.hash=w.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}S.PresetCurve=h;function p(w,b){Object.defineProperty(S,w,{configurable:!0,enumerable:!0,get:function(){var l=new h(b);return Object.defineProperty(S,w,{configurable:!0,enumerable:!0,value:l}),l}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:I.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:I.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:I.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:I.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:I.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v;try{v=R(74011)}catch{v=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:I.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v]})},57447:(s,j,R)=>{"use strict";var S=R(39404),I=R(32723),F=R(47011),T=R(60480),c=R(15037),h=F.assert,p=R(61200),v=R(28545);function w(b){if(!(this instanceof w))return new w(b);typeof b=="string"&&(h(Object.prototype.hasOwnProperty.call(T,b),"Unknown curve "+b),b=T[b]),b instanceof T.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}s.exports=w,w.prototype.keyPair=function(l){return new p(this,l)},w.prototype.keyFromPrivate=function(l,N){return p.fromPrivate(this,l,N)},w.prototype.keyFromPublic=function(l,N){return p.fromPublic(this,l,N)},w.prototype.genKeyPair=function(l){l||(l={});for(var N=new I({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||c(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),g=this.n.sub(new S(2));;){var f=new S(N.generate(d));if(!(f.cmp(g)>0))return f.iaddn(1),this.keyFromPrivate(f)}},w.prototype._truncateToN=function(l,N,d){var g;if(S.isBN(l)||typeof l=="number")l=new S(l,16),g=l.byteLength();else if(typeof l=="object")g=l.length,l=new S(l,16);else{var f=l.toString();g=f.length+1>>>1,l=new S(f,16)}typeof d!="number"&&(d=g*8);var _=d-this.n.bitLength();return _>0&&(l=l.ushrn(_)),!N&&l.cmp(this.n)>=0?l.sub(this.n):l},w.prototype.sign=function(l,N,d,g){if(typeof d=="object"&&(g=d,d=null),g||(g={}),typeof l!="string"&&typeof l!="number"&&!S.isBN(l)){h(typeof l=="object"&&l&&typeof l.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),h(l.length>>>0===l.length);for(var f=0;f<l.length;f++)h((l[f]&255)===l[f])}N=this.keyFromPrivate(N,d),l=this._truncateToN(l,!1,g.msgBitLength),h(!l.isNeg(),"Can not sign a negative message");var _=this.n.byteLength(),E=N.getPrivate().toArray("be",_),P=l.toArray("be",_);h(new S(P).eq(l),"Can not sign message");for(var M=new I({hash:this.hash,entropy:E,nonce:P,pers:g.pers,persEnc:g.persEnc||"utf8"}),V=this.n.sub(new S(1)),O=0;;O++){var y=g.k?g.k(O):new S(M.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(V)>=0)){var K=this.g.mul(y);if(!K.isInfinity()){var Y=K.getX(),Z=Y.umod(this.n);if(Z.cmpn(0)!==0){var ie=y.invm(this.n).mul(Z.mul(N.getPrivate()).iadd(l));if(ie=ie.umod(this.n),ie.cmpn(0)!==0){var J=(K.getY().isOdd()?1:0)|(Y.cmp(Z)!==0?2:0);return g.canonical&&ie.cmp(this.nh)>0&&(ie=this.n.sub(ie),J^=1),new v({r:Z,s:ie,recoveryParam:J})}}}}}},w.prototype.verify=function(l,N,d,g,f){f||(f={}),l=this._truncateToN(l,!1,f.msgBitLength),d=this.keyFromPublic(d,g),N=new v(N,"hex");var _=N.r,E=N.s;if(_.cmpn(1)<0||_.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var P=E.invm(this.n),M=P.mul(l).umod(this.n),V=P.mul(_).umod(this.n),O;return this.curve._maxwellTrick?(O=this.g.jmulAdd(M,d.getPublic(),V),O.isInfinity()?!1:O.eqXToP(_)):(O=this.g.mulAdd(M,d.getPublic(),V),O.isInfinity()?!1:O.getX().umod(this.n).cmp(_)===0)},w.prototype.recoverPubKey=function(b,l,N,d){h((3&N)===N,"The recovery param is more than two bits"),l=new v(l,d);var g=this.n,f=new S(b),_=l.r,E=l.s,P=N&1,M=N>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");M?_=this.curve.pointFromX(_.add(this.curve.n),P):_=this.curve.pointFromX(_,P);var V=l.r.invm(g),O=g.sub(f).mul(V).umod(g),y=E.mul(V).umod(g);return this.g.mulAdd(O,_,y)},w.prototype.getKeyRecoveryParam=function(b,l,N,d){if(l=new v(l,d),l.recoveryParam!==null)return l.recoveryParam;for(var g=0;g<4;g++){var f;try{f=this.recoverPubKey(b,l,g)}catch{continue}if(f.eq(N))return g}throw new Error("Unable to find valid recovery factor")}},61200:(s,j,R)=>{"use strict";var S=R(39404),I=R(47011),F=I.assert;function T(c,h){this.ec=c,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}s.exports=T,T.fromPublic=function(h,p,v){return p instanceof T?p:new T(h,{pub:p,pubEnc:v})},T.fromPrivate=function(h,p,v){return p instanceof T?p:new T(h,{priv:p,privEnc:v})},T.prototype.validate=function(){var h=this.getPublic();return h.isInfinity()?{result:!1,reason:"Invalid public key"}:h.validate()?h.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},T.prototype.getPublic=function(h,p){return typeof h=="string"&&(p=h,h=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,h):this.pub},T.prototype.getPrivate=function(h){return h==="hex"?this.priv.toString(16,2):this.priv},T.prototype._importPrivate=function(h,p){this.priv=new S(h,p||16),this.priv=this.priv.umod(this.ec.curve.n)},T.prototype._importPublic=function(h,p){if(h.x||h.y){this.ec.curve.type==="mont"?F(h.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&F(h.x&&h.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(h.x,h.y);return}this.pub=this.ec.curve.decodePoint(h,p)},T.prototype.derive=function(h){return h.validate()||F(h.validate(),"public point not validated"),h.mul(this.priv).getX()},T.prototype.sign=function(h,p,v){return this.ec.sign(h,this,p,v)},T.prototype.verify=function(h,p,v){return this.ec.verify(h,p,this,void 0,v)},T.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,j,R)=>{"use strict";var S=R(39404),I=R(47011),F=I.assert;function T(w,b){if(w instanceof T)return w;this._importDER(w,b)||(F(w.r&&w.s,"Signature without r or s"),this.r=new S(w.r,16),this.s=new S(w.s,16),w.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=w.recoveryParam)}s.exports=T;function c(){this.place=0}function h(w,b){var l=w[b.place++];if(!(l&128))return l;var N=l&15;if(N===0||N>4||w[b.place]===0)return!1;for(var d=0,g=0,f=b.place;g<N;g++,f++)d<<=8,d|=w[f],d>>>=0;return d<=127?!1:(b.place=f,d)}function p(w){for(var b=0,l=w.length-1;!w[b]&&!(w[b+1]&128)&&b<l;)b++;return b===0?w:w.slice(b)}T.prototype._importDER=function(b,l){b=I.toArray(b,l);var N=new c;if(b[N.place++]!==48)return!1;var d=h(b,N);if(d===!1||d+N.place!==b.length||b[N.place++]!==2)return!1;var g=h(b,N);if(g===!1||b[N.place]&128)return!1;var f=b.slice(N.place,g+N.place);if(N.place+=g,b[N.place++]!==2)return!1;var _=h(b,N);if(_===!1||b.length!==_+N.place||b[N.place]&128)return!1;var E=b.slice(N.place,_+N.place);if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new S(f),this.s=new S(E),this.recoveryParam=null,!0};function v(w,b){if(b<128){w.push(b);return}var l=1+(Math.log(b)/Math.LN2>>>3);for(w.push(l|128);--l;)w.push(b>>>(l<<3)&255);w.push(b)}T.prototype.toDER=function(b){var l=this.r.toArray(),N=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),N[0]&128&&(N=[0].concat(N)),l=p(l),N=p(N);!N[0]&&!(N[1]&128);)N=N.slice(1);var d=[2];v(d,l.length),d=d.concat(l),d.push(2),v(d,N.length);var g=d.concat(N),f=[48];return v(f,g.length),f=f.concat(g),I.encode(f,b)}},8650:(s,j,R)=>{"use strict";var S=R(77952),I=R(60480),F=R(47011),T=F.assert,c=F.parseBytes,h=R(46661),p=R(90220);function v(w){if(T(w==="ed25519","only tested with ed25519 so far"),!(this instanceof v))return new v(w);w=I[w].curve,this.curve=w,this.g=w.g,this.g.precompute(w.n.bitLength()+1),this.pointClass=w.point().constructor,this.encodingLength=Math.ceil(w.n.bitLength()/8),this.hash=S.sha512}s.exports=v,v.prototype.sign=function(b,l){b=c(b);var N=this.keyFromSecret(l),d=this.hashInt(N.messagePrefix(),b),g=this.g.mul(d),f=this.encodePoint(g),_=this.hashInt(f,N.pubBytes(),b).mul(N.priv()),E=d.add(_).umod(this.curve.n);return this.makeSignature({R:g,S:E,Rencoded:f})},v.prototype.verify=function(b,l,N){if(b=c(b),l=this.makeSignature(l),l.S().gte(l.eddsa.curve.n)||l.S().isNeg())return!1;var d=this.keyFromPublic(N),g=this.hashInt(l.Rencoded(),d.pubBytes(),b),f=this.g.mul(l.S()),_=l.R().add(d.pub().mul(g));return _.eq(f)},v.prototype.hashInt=function(){for(var b=this.hash(),l=0;l<arguments.length;l++)b.update(arguments[l]);return F.intFromLE(b.digest()).umod(this.curve.n)},v.prototype.keyFromPublic=function(b){return h.fromPublic(this,b)},v.prototype.keyFromSecret=function(b){return h.fromSecret(this,b)},v.prototype.makeSignature=function(b){return b instanceof p?b:new p(this,b)},v.prototype.encodePoint=function(b){var l=b.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=b.getX().isOdd()?128:0,l},v.prototype.decodePoint=function(b){b=F.parseBytes(b);var l=b.length-1,N=b.slice(0,l).concat(b[l]&-129),d=(b[l]&128)!==0,g=F.intFromLE(N);return this.curve.pointFromY(g,d)},v.prototype.encodeInt=function(b){return b.toArray("le",this.encodingLength)},v.prototype.decodeInt=function(b){return F.intFromLE(b)},v.prototype.isPoint=function(b){return b instanceof this.pointClass}},46661:(s,j,R)=>{"use strict";var S=R(47011),I=S.assert,F=S.parseBytes,T=S.cachedProperty;function c(h,p){this.eddsa=h,this._secret=F(p.secret),h.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=F(p.pub)}c.fromPublic=function(p,v){return v instanceof c?v:new c(p,{pub:v})},c.fromSecret=function(p,v){return v instanceof c?v:new c(p,{secret:v})},c.prototype.secret=function(){return this._secret},T(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),T(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),T(c,"privBytes",function(){var p=this.eddsa,v=this.hash(),w=p.encodingLength-1,b=v.slice(0,p.encodingLength);return b[0]&=248,b[w]&=127,b[w]|=64,b}),T(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),T(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),T(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(p){return I(this._secret,"KeyPair can only verify"),this.eddsa.sign(p,this)},c.prototype.verify=function(p,v){return this.eddsa.verify(p,v,this)},c.prototype.getSecret=function(p){return I(this._secret,"KeyPair is public only"),S.encode(this.secret(),p)},c.prototype.getPublic=function(p){return S.encode(this.pubBytes(),p)},s.exports=c},90220:(s,j,R)=>{"use strict";var S=R(39404),I=R(47011),F=I.assert,T=I.cachedProperty,c=I.parseBytes;function h(p,v){this.eddsa=p,typeof v!="object"&&(v=c(v)),Array.isArray(v)&&(F(v.length===p.encodingLength*2,"Signature has invalid size"),v={R:v.slice(0,p.encodingLength),S:v.slice(p.encodingLength)}),F(v.R&&v.S,"Signature without R or S"),p.isPoint(v.R)&&(this._R=v.R),v.S instanceof S&&(this._S=v.S),this._Rencoded=Array.isArray(v.R)?v.R:v.Rencoded,this._Sencoded=Array.isArray(v.S)?v.S:v.Sencoded}T(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),T(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),T(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),T(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return I.encode(this.toBytes(),"hex").toUpperCase()},s.exports=h},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,j,R)=>{"use strict";var S=j,I=R(39404),F=R(43349),T=R(64367);S.assert=F,S.toArray=T.toArray,S.zero2=T.zero2,S.toHex=T.toHex,S.encode=T.encode;function c(b,l,N){var d=new Array(Math.max(b.bitLength(),N)+1),g;for(g=0;g<d.length;g+=1)d[g]=0;var f=1<<l+1,_=b.clone();for(g=0;g<d.length;g++){var E,P=_.andln(f-1);_.isOdd()?(P>(f>>1)-1?E=(f>>1)-P:E=P,_.isubn(E)):E=0,d[g]=E,_.iushrn(1)}return d}S.getNAF=c;function h(b,l){var N=[[],[]];b=b.clone(),l=l.clone();for(var d=0,g=0,f;b.cmpn(-d)>0||l.cmpn(-g)>0;){var _=b.andln(3)+d&3,E=l.andln(3)+g&3;_===3&&(_=-1),E===3&&(E=-1);var P;_&1?(f=b.andln(7)+d&7,(f===3||f===5)&&E===2?P=-_:P=_):P=0,N[0].push(P);var M;E&1?(f=l.andln(7)+g&7,(f===3||f===5)&&_===2?M=-E:M=E):M=0,N[1].push(M),2*d===P+1&&(d=1-d),2*g===M+1&&(g=1-g),b.iushrn(1),l.iushrn(1)}return N}S.getJSF=h;function p(b,l,N){var d="_"+l;b.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=N.call(this)}}S.cachedProperty=p;function v(b){return typeof b=="string"?S.toArray(b,"hex"):b}S.parseBytes=v;function w(b){return new I(b,"hex","le")}S.intFromLE=w},30655:s=>{"use strict";var j=Object.defineProperty||!1;if(j)try{j({},"a",{value:1})}catch{j=!1}s.exports=j},41237:s=>{"use strict";s.exports=EvalError},69383:s=>{"use strict";s.exports=Error},79290:s=>{"use strict";s.exports=RangeError},79538:s=>{"use strict";s.exports=ReferenceError},58068:s=>{"use strict";s.exports=SyntaxError},69675:s=>{"use strict";s.exports=TypeError},35345:s=>{"use strict";s.exports=URIError},79612:s=>{"use strict";s.exports=Object},37007:s=>{"use strict";var j=typeof Reflect=="object"?Reflect:null,R=j&&typeof j.apply=="function"?j.apply:function(P,M,V){return Function.prototype.apply.call(P,M,V)},S;j&&typeof j.ownKeys=="function"?S=j.ownKeys:Object.getOwnPropertySymbols?S=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:S=function(P){return Object.getOwnPropertyNames(P)};function I(E){console&&console.warn&&console.warn(E)}var F=Number.isNaN||function(P){return P!==P};function T(){T.init.call(this)}s.exports=T,s.exports.once=_,T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var c=10;function h(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(E){if(typeof E!="number"||E<0||F(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");c=E}}),T.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||F(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function p(E){return E._maxListeners===void 0?T.defaultMaxListeners:E._maxListeners}T.prototype.getMaxListeners=function(){return p(this)},T.prototype.emit=function(P){for(var M=[],V=1;V<arguments.length;V++)M.push(arguments[V]);var O=P==="error",y=this._events;if(y!==void 0)O=O&&y.error===void 0;else if(!O)return!1;if(O){var K;if(M.length>0&&(K=M[0]),K instanceof Error)throw K;var Y=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw Y.context=K,Y}var Z=y[P];if(Z===void 0)return!1;if(typeof Z=="function")R(Z,this,M);else for(var ie=Z.length,J=d(Z,ie),V=0;V<ie;++V)R(J[V],this,M);return!0};function v(E,P,M,V){var O,y,K;if(h(M),y=E._events,y===void 0?(y=E._events=Object.create(null),E._eventsCount=0):(y.newListener!==void 0&&(E.emit("newListener",P,M.listener?M.listener:M),y=E._events),K=y[P]),K===void 0)K=y[P]=M,++E._eventsCount;else if(typeof K=="function"?K=y[P]=V?[M,K]:[K,M]:V?K.unshift(M):K.push(M),O=p(E),O>0&&K.length>O&&!K.warned){K.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=E,Y.type=P,Y.count=K.length,I(Y)}return E}T.prototype.addListener=function(P,M){return v(this,P,M,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(P,M){return v(this,P,M,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(E,P,M){var V={fired:!1,wrapFn:void 0,target:E,type:P,listener:M},O=w.bind(V);return O.listener=M,V.wrapFn=O,O}T.prototype.once=function(P,M){return h(M),this.on(P,b(this,P,M)),this},T.prototype.prependOnceListener=function(P,M){return h(M),this.prependListener(P,b(this,P,M)),this},T.prototype.removeListener=function(P,M){var V,O,y,K,Y;if(h(M),O=this._events,O===void 0)return this;if(V=O[P],V===void 0)return this;if(V===M||V.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete O[P],O.removeListener&&this.emit("removeListener",P,V.listener||M));else if(typeof V!="function"){for(y=-1,K=V.length-1;K>=0;K--)if(V[K]===M||V[K].listener===M){Y=V[K].listener,y=K;break}if(y<0)return this;y===0?V.shift():g(V,y),V.length===1&&(O[P]=V[0]),O.removeListener!==void 0&&this.emit("removeListener",P,Y||M)}return this},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(P){var M,V,O;if(V=this._events,V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete V[P]),this;if(arguments.length===0){var y=Object.keys(V),K;for(O=0;O<y.length;++O)K=y[O],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=V[P],typeof M=="function")this.removeListener(P,M);else if(M!==void 0)for(O=M.length-1;O>=0;O--)this.removeListener(P,M[O]);return this};function l(E,P,M){var V=E._events;if(V===void 0)return[];var O=V[P];return O===void 0?[]:typeof O=="function"?M?[O.listener||O]:[O]:M?f(O):d(O,O.length)}T.prototype.listeners=function(P){return l(this,P,!0)},T.prototype.rawListeners=function(P){return l(this,P,!1)},T.listenerCount=function(E,P){return typeof E.listenerCount=="function"?E.listenerCount(P):N.call(E,P)},T.prototype.listenerCount=N;function N(E){var P=this._events;if(P!==void 0){var M=P[E];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}T.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]};function d(E,P){for(var M=new Array(P),V=0;V<P;++V)M[V]=E[V];return M}function g(E,P){for(;P+1<E.length;P++)E[P]=E[P+1];E.pop()}function f(E){for(var P=new Array(E.length),M=0;M<P.length;++M)P[M]=E[M].listener||E[M];return P}function _(E,P){return new Promise(function(M,V){function O(){y!==void 0&&E.removeListener("error",y),M([].slice.call(arguments))}var y;P!=="error"&&(y=function(Y){E.removeListener(P,O),V(Y)},E.once("error",y)),E.once(P,O)})}},68078:(s,j,R)=>{var S=R(92861).Buffer,I=R(88276);function F(T,c,h,p){if(S.isBuffer(T)||(T=S.from(T,"binary")),c&&(S.isBuffer(c)||(c=S.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var v=h/8,w=S.alloc(v),b=S.alloc(p||0),l=S.alloc(0);v>0||p>0;){var N=new I;N.update(l),N.update(T),c&&N.update(c),l=N.digest();var d=0;if(v>0){var g=w.length-v;d=Math.min(v,l.length),l.copy(w,g,0,d),v-=d}if(d<l.length&&p>0){var f=b.length-p,_=Math.min(p,l.length-d);l.copy(b,f,d,d+_),p-=_}}return l.fill(0),{key:w,iv:b}}s.exports=F},32017:s=>{"use strict";s.exports=function j(R,S){if(R===S)return!0;if(R&&S&&typeof R=="object"&&typeof S=="object"){if(R.constructor!==S.constructor)return!1;var I,F,T;if(Array.isArray(R)){if(I=R.length,I!=S.length)return!1;for(F=I;F--!==0;)if(!j(R[F],S[F]))return!1;return!0}if(R.constructor===RegExp)return R.source===S.source&&R.flags===S.flags;if(R.valueOf!==Object.prototype.valueOf)return R.valueOf()===S.valueOf();if(R.toString!==Object.prototype.toString)return R.toString()===S.toString();if(T=Object.keys(R),I=T.length,I!==Object.keys(S).length)return!1;for(F=I;F--!==0;)if(!Object.prototype.hasOwnProperty.call(S,T[F]))return!1;for(F=I;F--!==0;){var c=T[F];if(!j(R[c],S[c]))return!1}return!0}return R!==R&&S!==S}},72492:s=>{"use strict";s.exports=function(j,R){R||(R={}),typeof R=="function"&&(R={cmp:R});var S=typeof R.cycles=="boolean"?R.cycles:!1,I=R.cmp&&function(T){return function(c){return function(h,p){var v={key:h,value:c[h]},w={key:p,value:c[p]};return T(v,w)}}}(R.cmp),F=[];return function T(c){if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c!==void 0){if(typeof c=="number")return isFinite(c)?""+c:"null";if(typeof c!="object")return JSON.stringify(c);var h,p;if(Array.isArray(c)){for(p="[",h=0;h<c.length;h++)h&&(p+=","),p+=T(c[h])||"null";return p+"]"}if(c===null)return"null";if(F.indexOf(c)!==-1){if(S)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var v=F.push(c)-1,w=Object.keys(c).sort(I&&I(c));for(p="",h=0;h<w.length;h++){var b=w[h],l=T(c[b]);l&&(p&&(p+=","),p+=JSON.stringify(b)+":"+l)}return F.splice(v,1),"{"+p+"}"}}(j)}},82682:(s,j,R)=>{"use strict";var S=R(69600),I=Object.prototype.toString,F=Object.prototype.hasOwnProperty,T=function(w,b,l){for(var N=0,d=w.length;N<d;N++)F.call(w,N)&&(l==null?b(w[N],N,w):b.call(l,w[N],N,w))},c=function(w,b,l){for(var N=0,d=w.length;N<d;N++)l==null?b(w.charAt(N),N,w):b.call(l,w.charAt(N),N,w)},h=function(w,b,l){for(var N in w)F.call(w,N)&&(l==null?b(w[N],N,w):b.call(l,w[N],N,w))};function p(v){return I.call(v)==="[object Array]"}s.exports=function(w,b,l){if(!S(b))throw new TypeError("iterator must be a function");var N;arguments.length>=3&&(N=l),p(w)?T(w,b,N):typeof w=="string"?c(w,b,N):h(w,b,N)}},70453:(s,j,R)=>{"use strict";var S,I=R(79612),F=R(69383),T=R(41237),c=R(79290),h=R(79538),p=R(58068),v=R(69675),w=R(35345),b=R(71514),l=R(58968),N=R(6188),d=R(68002),g=R(75880),f=R(70414),_=R(73093),E=Function,P=function(te){try{return E('"use strict"; return ('+te+").constructor;")()}catch{}},M=R(75795),V=R(30655),O=function(){throw new v},y=M?function(){try{return arguments.callee,O}catch{try{return M(arguments,"callee").get}catch{return O}}}():O,K=R(64119)(),Y=R(93628),Z=R(71064),ie=R(48648),J=R(11002),x=R(10076),W={},D=typeof Uint8Array=="undefined"||!Y?S:Y(Uint8Array),m={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?S:ArrayBuffer,"%ArrayIteratorPrototype%":K&&Y?Y([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics=="undefined"?S:Atomics,"%BigInt%":typeof BigInt=="undefined"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":F,"%eval%":eval,"%EvalError%":T,"%Float16Array%":typeof Float16Array=="undefined"?S:Float16Array,"%Float32Array%":typeof Float32Array=="undefined"?S:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?S:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array=="undefined"?S:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?S:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&Y?Y(Y([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map=="undefined"?S:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!K||!Y?S:Y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":I,"%Object.getOwnPropertyDescriptor%":M,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?S:Promise,"%Proxy%":typeof Proxy=="undefined"?S:Proxy,"%RangeError%":c,"%ReferenceError%":h,"%Reflect%":typeof Reflect=="undefined"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?S:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!K||!Y?S:Y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&Y?Y(""[Symbol.iterator]()):S,"%Symbol%":K?Symbol:S,"%SyntaxError%":p,"%ThrowTypeError%":y,"%TypedArray%":D,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array=="undefined"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?S:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap=="undefined"?S:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?S:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?S:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":J,"%Object.defineProperty%":V,"%Object.getPrototypeOf%":Z,"%Math.abs%":b,"%Math.floor%":l,"%Math.max%":N,"%Math.min%":d,"%Math.pow%":g,"%Math.round%":f,"%Math.sign%":_,"%Reflect.getPrototypeOf%":ie};if(Y)try{null.error}catch(te){var C=Y(Y(te));m["%Error.prototype%"]=C}var L=function te(de){var he;if(de==="%AsyncFunction%")he=P("async function () {}");else if(de==="%GeneratorFunction%")he=P("function* () {}");else if(de==="%AsyncGeneratorFunction%")he=P("async function* () {}");else if(de==="%AsyncGenerator%"){var we=te("%AsyncGeneratorFunction%");we&&(he=we.prototype)}else if(de==="%AsyncIteratorPrototype%"){var B=te("%AsyncGenerator%");B&&Y&&(he=Y(B.prototype))}return m[de]=he,he},H={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=R(96135),G=R(9957),ee=z.call(x,Array.prototype.concat),ne=z.call(J,Array.prototype.splice),q=z.call(x,String.prototype.replace),se=z.call(x,String.prototype.slice),xe=z.call(x,RegExp.prototype.exec),Ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Pe=function(de){var he=se(de,0,1),we=se(de,-1);if(he==="%"&&we!=="%")throw new p("invalid intrinsic syntax, expected closing `%`");if(we==="%"&&he!=="%")throw new p("invalid intrinsic syntax, expected opening `%`");var B=[];return q(de,Ee,function(U,le,ge,_e){B[B.length]=ge?q(_e,be,"$1"):le||U}),B},X=function(de,he){var we=de,B;if(G(H,we)&&(B=H[we],we="%"+B[0]+"%"),G(m,we)){var U=m[we];if(U===W&&(U=L(we)),typeof U=="undefined"&&!he)throw new v("intrinsic "+de+" exists, but is not available. Please file an issue!");return{alias:B,name:we,value:U}}throw new p("intrinsic "+de+" does not exist!")};s.exports=function(de,he){if(typeof de!="string"||de.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof he!="boolean")throw new v('"allowMissing" argument must be a boolean');if(xe(/^%?[^%]*%?$/,de)===null)throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var we=Pe(de),B=we.length>0?we[0]:"",U=X("%"+B+"%",he),le=U.name,ge=U.value,_e=!1,ye=U.alias;ye&&(B=ye[0],ne(we,ee([0,1],ye)));for(var Me=1,Be=!0;Me<we.length;Me+=1){var Ve=we[Me],_t=se(Ve,0,1),Je=se(Ve,-1);if((_t==='"'||_t==="'"||_t==="`"||Je==='"'||Je==="'"||Je==="`")&&_t!==Je)throw new p("property names with quotes must have matching quotes");if((Ve==="constructor"||!Be)&&(_e=!0),B+="."+Ve,le="%"+B+"%",G(m,le))ge=m[le];else if(ge!=null){if(!(Ve in ge)){if(!he)throw new v("base intrinsic for "+de+" exists, but the property is not available.");return}if(M&&Me+1>=we.length){var nt=M(ge,Ve);Be=!!nt,Be&&"get"in nt&&!("originalValue"in nt.get)?ge=nt.get:ge=ge[Ve]}else Be=G(ge,Ve),ge=ge[Ve];Be&&!_e&&(m[le]=ge)}}return ge}},39609:s=>{"use strict";var j="Function.prototype.bind called on incompatible ",R=Object.prototype.toString,S=Math.max,I="[object Function]",F=function(p,v){for(var w=[],b=0;b<p.length;b+=1)w[b]=p[b];for(var l=0;l<v.length;l+=1)w[l+p.length]=v[l];return w},T=function(p,v){for(var w=[],b=v||0,l=0;b<p.length;b+=1,l+=1)w[l]=p[b];return w},c=function(h,p){for(var v="",w=0;w<h.length;w+=1)v+=h[w],w+1<h.length&&(v+=p);return v};s.exports=function(p){var v=this;if(typeof v!="function"||R.apply(v)!==I)throw new TypeError(j+v);for(var w=T(arguments,1),b,l=function(){if(this instanceof b){var _=v.apply(this,F(w,arguments));return Object(_)===_?_:this}return v.apply(p,F(w,arguments))},N=S(0,v.length-w.length),d=[],g=0;g<N;g++)d[g]="$"+g;if(b=Function("binder","return function ("+c(d,",")+"){ return binder.apply(this,arguments); }")(l),v.prototype){var f=function(){};f.prototype=v.prototype,b.prototype=new f,f.prototype=null}return b}},96135:(s,j,R)=>{"use strict";var S=R(39609);s.exports=Function.prototype.bind||S},64119:(s,j,R)=>{"use strict";var S=typeof Symbol!="undefined"&&Symbol,I=R(85669);s.exports=function(){return typeof S!="function"||typeof Symbol!="function"||typeof S("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:I()}},85669:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var R={},S=Symbol("test"),I=Object(S);if(typeof S=="string"||Object.prototype.toString.call(S)!=="[object Symbol]"||Object.prototype.toString.call(I)!=="[object Symbol]")return!1;var F=42;R[S]=F;for(var T in R)return!1;if(typeof Object.keys=="function"&&Object.keys(R).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(R).length!==0)return!1;var c=Object.getOwnPropertySymbols(R);if(c.length!==1||c[0]!==S||!Object.prototype.propertyIsEnumerable.call(R,S))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(R,S);if(h.value!==F||h.enumerable!==!0)return!1}return!0}},71064:(s,j,R)=>{"use strict";var S=R(79612);s.exports=S.getPrototypeOf||null},48648:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect.getPrototypeOf||null},93628:(s,j,R)=>{"use strict";var S=R(48648),I=R(71064),F=R(7176);s.exports=S?function(c){return S(c)}:I?function(c){if(!c||typeof c!="object"&&typeof c!="function")throw new TypeError("getProto: not an object");return I(c)}:F?function(c){return F(c)}:null},6549:s=>{"use strict";s.exports=Object.getOwnPropertyDescriptor},75795:(s,j,R)=>{"use strict";var S=R(6549);if(S)try{S([],"length")}catch{S=null}s.exports=S},58667:(s,j,R)=>{var S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"additions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletions"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequestBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestBranchInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestBranch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:13224}};S.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
	additions
	deletions
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

mutation UpdatePullRequestBranch($input: UpdatePullRequestBranchInput!) {
	updatePullRequestBranch(input: $input) {
		pullRequest {
			id
			headRefOid
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function F(v){return v.filter(function(w){if(w.kind!=="FragmentDefinition")return!0;var b=w.name.value;return I[b]?!1:(I[b]=!0,!0)})}S.definitions=S.definitions.concat(F(R(72256).definitions));function T(v,w){if(v.kind==="FragmentSpread")w.add(v.name.value);else if(v.kind==="VariableDefinition"){var b=v.type;b.kind==="NamedType"&&w.add(b.name.value)}v.selectionSet&&v.selectionSet.selections.forEach(function(l){T(l,w)}),v.variableDefinitions&&v.variableDefinitions.forEach(function(l){T(l,w)}),v.definitions&&v.definitions.forEach(function(l){T(l,w)})}var c={};(function(){S.definitions.forEach(function(w){if(w.name){var b=new Set;T(w,b),c[w.name.value]=b}})})();function h(v,w){for(var b=0;b<v.definitions.length;b++){var l=v.definitions[b];if(l.name&&l.name.value==w)return l}}function p(v,w){var b={kind:v.kind,definitions:[h(v,w)]};v.hasOwnProperty("loc")&&(b.loc=v.loc);var l=c[w]||new Set,N=new Set,d=new Set;for(l.forEach(function(f){d.add(f)});d.size>0;){var g=d;d=new Set,g.forEach(function(f){if(!N.has(f)){N.add(f);var _=c[f]||new Set;_.forEach(function(E){d.add(E)})}})}return N.forEach(function(f){var _=h(v,f);_&&b.definitions.push(_)}),b}s.exports=S,s.exports.Issue=p(S,"Issue"),s.exports.IssueWithComments=p(S,"IssueWithComments"),s.exports.Issues=p(S,"Issues"),s.exports.PullRequest=p(S,"PullRequest"),s.exports.PullRequestForHead=p(S,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=p(S,"PullRequestMergeabilityMergeRequirements"),s.exports.LatestUpdates=p(S,"LatestUpdates"),s.exports.LatestIssueUpdates=p(S,"LatestIssueUpdates"),s.exports.GetAssignableUsers=p(S,"GetAssignableUsers"),s.exports.CreatePullRequest=p(S,"CreatePullRequest"),s.exports.RevertPullRequest=p(S,"RevertPullRequest"),s.exports.GetSuggestedActors=p(S,"GetSuggestedActors"),s.exports.DequeuePullRequest=p(S,"DequeuePullRequest"),s.exports.EnqueuePullRequest=p(S,"EnqueuePullRequest"),s.exports.ReplaceActorsForAssignable=p(S,"ReplaceActorsForAssignable"),s.exports.UpdatePullRequestBranch=p(S,"UpdatePullRequestBranch")},8575:(s,j,R)=>{var S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequestBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestBranchInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestBranch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:13874}};S.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	comments(first: 1) {
		totalCount
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation UpdatePullRequestBranch($input: UpdatePullRequestBranchInput!) {
	updatePullRequestBranch(input: $input) {
		pullRequest {
			id
			headRefOid
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function F(v){return v.filter(function(w){if(w.kind!=="FragmentDefinition")return!0;var b=w.name.value;return I[b]?!1:(I[b]=!0,!0)})}S.definitions=S.definitions.concat(F(R(72256).definitions));function T(v,w){if(v.kind==="FragmentSpread")w.add(v.name.value);else if(v.kind==="VariableDefinition"){var b=v.type;b.kind==="NamedType"&&w.add(b.name.value)}v.selectionSet&&v.selectionSet.selections.forEach(function(l){T(l,w)}),v.variableDefinitions&&v.variableDefinitions.forEach(function(l){T(l,w)}),v.definitions&&v.definitions.forEach(function(l){T(l,w)})}var c={};(function(){S.definitions.forEach(function(w){if(w.name){var b=new Set;T(w,b),c[w.name.value]=b}})})();function h(v,w){for(var b=0;b<v.definitions.length;b++){var l=v.definitions[b];if(l.name&&l.name.value==w)return l}}function p(v,w){var b={kind:v.kind,definitions:[h(v,w)]};v.hasOwnProperty("loc")&&(b.loc=v.loc);var l=c[w]||new Set,N=new Set,d=new Set;for(l.forEach(function(f){d.add(f)});d.size>0;){var g=d;d=new Set,g.forEach(function(f){if(!N.has(f)){N.add(f);var _=c[f]||new Set;_.forEach(function(E){d.add(E)})}})}return N.forEach(function(f){var _=h(v,f);_&&b.definitions.push(_)}),b}s.exports=S,s.exports.Issue=p(S,"Issue"),s.exports.IssueWithComments=p(S,"IssueWithComments"),s.exports.Issues=p(S,"Issues"),s.exports.PullRequest=p(S,"PullRequest"),s.exports.PullRequestForHead=p(S,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=p(S,"PullRequestMergeabilityMergeRequirements"),s.exports.GetSuggestedActors=p(S,"GetSuggestedActors"),s.exports.LatestUpdates=p(S,"LatestUpdates"),s.exports.LatestIssueUpdates=p(S,"LatestIssueUpdates"),s.exports.GetAssignableUsers=p(S,"GetAssignableUsers"),s.exports.CreatePullRequest=p(S,"CreatePullRequest"),s.exports.ReplaceActorsForAssignable=p(S,"ReplaceActorsForAssignable"),s.exports.GetRepoProjects=p(S,"GetRepoProjects"),s.exports.GetOrgProjects=p(S,"GetOrgProjects"),s.exports.AddPullRequestToProject=p(S,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=p(S,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=p(S,"DequeuePullRequest"),s.exports.EnqueuePullRequest=p(S,"EnqueuePullRequest"),s.exports.UpdatePullRequestBranch=p(S,"UpdatePullRequestBranch")},87831:(s,j,R)=>{var S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:10953}};S.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment Node on Node {
	id
}

fragment Actor on Actor  { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function F(v){return v.filter(function(w){if(w.kind!=="FragmentDefinition")return!0;var b=w.name.value;return I[b]?!1:(I[b]=!0,!0)})}S.definitions=S.definitions.concat(F(R(72256).definitions));function T(v,w){if(v.kind==="FragmentSpread")w.add(v.name.value);else if(v.kind==="VariableDefinition"){var b=v.type;b.kind==="NamedType"&&w.add(b.name.value)}v.selectionSet&&v.selectionSet.selections.forEach(function(l){T(l,w)}),v.variableDefinitions&&v.variableDefinitions.forEach(function(l){T(l,w)}),v.definitions&&v.definitions.forEach(function(l){T(l,w)})}var c={};(function(){S.definitions.forEach(function(w){if(w.name){var b=new Set;T(w,b),c[w.name.value]=b}})})();function h(v,w){for(var b=0;b<v.definitions.length;b++){var l=v.definitions[b];if(l.name&&l.name.value==w)return l}}function p(v,w){var b={kind:v.kind,definitions:[h(v,w)]};v.hasOwnProperty("loc")&&(b.loc=v.loc);var l=c[w]||new Set,N=new Set,d=new Set;for(l.forEach(function(f){d.add(f)});d.size>0;){var g=d;d=new Set,g.forEach(function(f){if(!N.has(f)){N.add(f);var _=c[f]||new Set;_.forEach(function(E){d.add(E)})}})}return N.forEach(function(f){var _=h(v,f);_&&b.definitions.push(_)}),b}s.exports=S,s.exports.Issue=p(S,"Issue"),s.exports.IssueWithComments=p(S,"IssueWithComments"),s.exports.Issues=p(S,"Issues"),s.exports.PullRequest=p(S,"PullRequest"),s.exports.PullRequestForHead=p(S,"PullRequestForHead"),s.exports.GetAssignableUsers=p(S,"GetAssignableUsers"),s.exports.LatestUpdates=p(S,"LatestUpdates"),s.exports.LatestIssueUpdates=p(S,"LatestIssueUpdates"),s.exports.CreatePullRequest=p(S,"CreatePullRequest"),s.exports.RevertPullRequest=p(S,"RevertPullRequest")},72256:s=>{var j={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnassignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CrossReferencedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"repository"},name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"willCloseTarget"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClosedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReopenedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"BaseRefChangedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previousRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BaseRefChangedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestActivityTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"APPROVED"},{kind:"EnumValue",value:"CHANGES_REQUESTED"},{kind:"EnumValue",value:"COMMENTED"},{kind:"EnumValue",value:"DISMISSED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestNumberFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestNumbers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestNumberFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToDraft"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ConvertPullRequestToDraftInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertPullRequestToDraft"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssue"},name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issue"},name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issues"},name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BaseRefChangedEvent"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:22247}};j.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment Node on Node {\r
	id\r
}\r
\r
fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.\r
	__typename\r
	login\r
	avatarUrl\r
	url\r
}\r
\r
fragment User on User {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Organization on Organization {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Team on Team { # Team is not an Actor\r
	name\r
	avatarUrl\r
	url\r
	slug\r
	...Node\r
}\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		...Node\r
		...Actor\r
		...User\r
		...Organization\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
	...Reactable\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		committedDate\r
		statusCheckRollup {\r
			state\r
		}\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment UnassignedEvent on UnassignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment CrossReferencedEvent on CrossReferencedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	source {\r
		... on PullRequest {\r
			number\r
			url\r
			title\r
			repository: baseRepository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
		... on Issue {\r
			number\r
			url\r
			title\r
			repository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
	}\r
	willCloseTarget\r
}\r
\r
fragment ClosedEvent on ClosedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment ReopenedEvent on ReopenedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment BaseRefChangedEvent on BaseRefChangedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	currentRefName\r
	previousRefName\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		...User\r
		...Organization\r
		...Node\r
		...Actor\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
	...Reactable\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
				... on Actor {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
					...BaseRefChangedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestActivityTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 5) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...ClosedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!, $author: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviews(last: 1, author: $author, states: [APPROVED, CHANGES_REQUESTED, COMMENTED, DISMISSED]) {\r
				nodes {\r
					commit {\r
						oid\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				...Team\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
						...Team\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		...Actor\r
		...Node\r
		...User\r
		...Organization\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					...Node\r
					...Actor\r
					...User\r
					...Organization\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		...User\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
fragment PullRequestNumberFragment on PullRequest {\r
	number\r
	title\r
	author {\r
		login\r
	}\r
}\r
\r
query PullRequestNumbers($owner: String!, $name: String!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequests(first: $first, states: OPEN, orderBy: { field: CREATED_AT, direction: DESC }) {\r
			nodes {\r
				...PullRequestNumberFragment\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation ConvertToDraft($input: ConvertPullRequestToDraftInput!) {\r
	convertPullRequestToDraft(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdateIssue($input: UpdateIssueInput!) {\r
	updateIssue(input: $input) {\r
		issue {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updateIssue: updatePullRequest(input: $input) {\r
		issue: pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String, $query: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/", query: $query) {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxPullRequest($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues: pullRequests(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on PullRequest {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
					...BaseRefChangedEvent\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var R={};function S(h){return h.filter(function(p){if(p.kind!=="FragmentDefinition")return!0;var v=p.name.value;return R[v]?!1:(R[v]=!0,!0)})}function I(h,p){if(h.kind==="FragmentSpread")p.add(h.name.value);else if(h.kind==="VariableDefinition"){var v=h.type;v.kind==="NamedType"&&p.add(v.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(w){I(w,p)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(w){I(w,p)}),h.definitions&&h.definitions.forEach(function(w){I(w,p)})}var F={};(function(){j.definitions.forEach(function(p){if(p.name){var v=new Set;I(p,v),F[p.name.value]=v}})})();function T(h,p){for(var v=0;v<h.definitions.length;v++){var w=h.definitions[v];if(w.name&&w.name.value==p)return w}}function c(h,p){var v={kind:h.kind,definitions:[T(h,p)]};h.hasOwnProperty("loc")&&(v.loc=h.loc);var w=F[p]||new Set,b=new Set,l=new Set;for(w.forEach(function(d){l.add(d)});l.size>0;){var N=l;l=new Set,N.forEach(function(d){if(!b.has(d)){b.add(d);var g=F[d]||new Set;g.forEach(function(f){l.add(f)})}})}return b.forEach(function(d){var g=T(h,d);g&&v.definitions.push(g)}),v}s.exports=j,s.exports.TimelineEvents=c(j,"TimelineEvents"),s.exports.PullRequestActivityTimelineEvents=c(j,"PullRequestActivityTimelineEvents"),s.exports.IssueTimelineEvents=c(j,"IssueTimelineEvents"),s.exports.LatestReviewCommit=c(j,"LatestReviewCommit"),s.exports.LatestReviews=c(j,"LatestReviews"),s.exports.GetOrganizationTeamsCount=c(j,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=c(j,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=c(j,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=c(j,"GetReviewRequests"),s.exports.GetParticipants=c(j,"GetParticipants"),s.exports.GetPendingReviewId=c(j,"GetPendingReviewId"),s.exports.PullRequestComments=c(j,"PullRequestComments"),s.exports.LegacyPullRequestComments=c(j,"LegacyPullRequestComments"),s.exports.Viewer=c(j,"Viewer"),s.exports.PullRequestFiles=c(j,"PullRequestFiles"),s.exports.GetUser=c(j,"GetUser"),s.exports.PullRequestMergeability=c(j,"PullRequestMergeability"),s.exports.PullRequestState=c(j,"PullRequestState"),s.exports.PullRequestTemplates=c(j,"PullRequestTemplates"),s.exports.PullRequestNumbers=c(j,"PullRequestNumbers"),s.exports.AddComment=c(j,"AddComment"),s.exports.AddReviewThread=c(j,"AddReviewThread"),s.exports.LegacyAddReviewThread=c(j,"LegacyAddReviewThread"),s.exports.AddReviewers=c(j,"AddReviewers"),s.exports.EditComment=c(j,"EditComment"),s.exports.ReadyForReview=c(j,"ReadyForReview"),s.exports.ConvertToDraft=c(j,"ConvertToDraft"),s.exports.StartReview=c(j,"StartReview"),s.exports.SubmitReview=c(j,"SubmitReview"),s.exports.DeleteReview=c(j,"DeleteReview"),s.exports.AddReaction=c(j,"AddReaction"),s.exports.DeleteReaction=c(j,"DeleteReaction"),s.exports.UpdateIssue=c(j,"UpdateIssue"),s.exports.UpdatePullRequest=c(j,"UpdatePullRequest"),s.exports.AddIssueComment=c(j,"AddIssueComment"),s.exports.EditIssueComment=c(j,"EditIssueComment"),s.exports.GetMentionableUsers=c(j,"GetMentionableUsers"),s.exports.GetBranch=c(j,"GetBranch"),s.exports.ListBranches=c(j,"ListBranches"),s.exports.MaxIssue=c(j,"MaxIssue"),s.exports.MaxPullRequest=c(j,"MaxPullRequest"),s.exports.GetMilestones=c(j,"GetMilestones"),s.exports.GetViewerPermission=c(j,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=c(j,"GetRepositoryForkDetails"),s.exports.GetChecks=c(j,"GetChecks"),s.exports.GetChecksWithoutSuite=c(j,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=c(j,"MergeQueueForBranch"),s.exports.GetFileContent=c(j,"GetFileContent"),s.exports.ResolveReviewThread=c(j,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=c(j,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=c(j,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=c(j,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=c(j,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=c(j,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=c(j,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=c(j,"UnmarkFileAsViewed"),s.exports.MergePullRequest=c(j,"MergePullRequest")},77358:(s,j,R)=>{var S=R(50246),I=S.parse;function F(E){return E.replace(/[\s,]+/g," ").trim()}var T={},c={};function h(E){return F(E.source.body.substring(E.start,E.end))}function p(){T={},c={}}var v=!0;function w(E){for(var P={},M=[],V=0;V<E.definitions.length;V++){var O=E.definitions[V];if(O.kind==="FragmentDefinition"){var y=O.name.value,K=h(O.loc);c.hasOwnProperty(y)&&!c[y][K]?(v&&console.warn("Warning: fragment with name "+y+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),c[y][K]=!0):c.hasOwnProperty(y)||(c[y]={},c[y][K]=!0),P[K]||(P[K]=!0,M.push(O))}else M.push(O)}return E.definitions=M,E}function b(){v=!1}function l(E,P){var M=Object.prototype.toString.call(E);if(M==="[object Array]")return E.map(function(Y){return l(Y,P)});if(M!=="[object Object]")throw new Error("Unexpected input.");P&&E.loc&&delete E.loc,E.loc&&(delete E.loc.startToken,delete E.loc.endToken);var V=Object.keys(E),O,y,K;for(O in V)V.hasOwnProperty(O)&&(y=E[V[O]],K=Object.prototype.toString.call(y),(K==="[object Object]"||K==="[object Array]")&&(E[V[O]]=l(y,!0)));return E}var N=!1;function d(E){var P=F(E);if(T[P])return T[P];var M=I(E,{experimentalFragmentVariables:N});if(!M||M.kind!=="Document")throw new Error("Not a valid GraphQL document.");return M=w(M),M=l(M,!1),T[P]=M,M}function g(){N=!0}function f(){N=!1}function _(){for(var E=Array.prototype.slice.call(arguments),P=E[0],M=typeof P=="string"?P:P[0],V=1;V<E.length;V++)E[V]&&E[V].kind&&E[V].kind==="Document"?M+=E[V].loc.source.body:M+=E[V],M+=P[V];return d(M)}_.default=_,_.resetCaches=p,_.disableFragmentWarnings=b,_.enableExperimentalFragmentVariables=g,_.disableExperimentalFragmentVariables=f,s.exports=_},61702:(s,j,R)=>{"use strict";function S(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Y){return typeof Y}:S=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},S(y)}Object.defineProperty(j,"__esModule",{value:!0}),j.printError=O,j.GraphQLError=void 0;var I=h(R(55569)),F=R(25888),T=R(99530),c=R(40825);function h(y){return y&&y.__esModule?y:{default:y}}function p(y,K){if(!(y instanceof K))throw new TypeError("Cannot call a class as a function")}function v(y,K){for(var Y=0;Y<K.length;Y++){var Z=K[Y];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(y,Z.key,Z)}}function w(y,K,Y){return K&&v(y.prototype,K),Y&&v(y,Y),y}function b(y,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(K&&K.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),K&&P(y,K)}function l(y){var K=_();return function(){var Z=M(y),ie;if(K){var J=M(this).constructor;ie=Reflect.construct(Z,arguments,J)}else ie=Z.apply(this,arguments);return N(this,ie)}}function N(y,K){return K&&(S(K)==="object"||typeof K=="function")?K:d(y)}function d(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function g(y){var K=typeof Map=="function"?new Map:void 0;return g=function(Z){if(Z===null||!E(Z))return Z;if(typeof Z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K!="undefined"){if(K.has(Z))return K.get(Z);K.set(Z,ie)}function ie(){return f(Z,arguments,M(this).constructor)}return ie.prototype=Object.create(Z.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),P(ie,Z)},g(y)}function f(y,K,Y){return _()?f=Reflect.construct:f=function(ie,J,x){var W=[null];W.push.apply(W,J);var D=Function.bind.apply(ie,W),m=new D;return x&&P(m,x.prototype),m},f.apply(null,arguments)}function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function P(y,K){return P=Object.setPrototypeOf||function(Z,ie){return Z.__proto__=ie,Z},P(y,K)}function M(y){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},M(y)}var V=function(y){b(Y,y);var K=l(Y);function Y(Z,ie,J,x,W,D,m){var C,L,H,z,G;p(this,Y),G=K.call(this,Z);var ee=Array.isArray(ie)?ie.length!==0?ie:void 0:ie?[ie]:void 0,ne=J;if(!ne&&ee){var q;ne=(q=ee[0].loc)===null||q===void 0?void 0:q.source}var se=x;!se&&ee&&(se=ee.reduce(function(Pe,X){return X.loc&&Pe.push(X.loc.start),Pe},[])),se&&se.length===0&&(se=void 0);var xe;x&&J?xe=x.map(function(Pe){return(0,T.getLocation)(J,Pe)}):ee&&(xe=ee.reduce(function(Pe,X){return X.loc&&Pe.push((0,T.getLocation)(X.loc.source,X.loc.start)),Pe},[]));var Ee=m;if(Ee==null&&D!=null){var be=D.extensions;(0,I.default)(be)&&(Ee=be)}return Object.defineProperties(d(G),{name:{value:"GraphQLError"},message:{value:Z,enumerable:!0,writable:!0},locations:{value:(C=xe)!==null&&C!==void 0?C:void 0,enumerable:xe!=null},path:{value:W!=null?W:void 0,enumerable:W!=null},nodes:{value:ee!=null?ee:void 0},source:{value:(L=ne)!==null&&L!==void 0?L:void 0},positions:{value:(H=se)!==null&&H!==void 0?H:void 0},originalError:{value:D},extensions:{value:(z=Ee)!==null&&z!==void 0?z:void 0,enumerable:Ee!=null}}),D!=null&&D.stack?(Object.defineProperty(d(G),"stack",{value:D.stack,writable:!0,configurable:!0}),N(G)):(Error.captureStackTrace?Error.captureStackTrace(d(G),Y):Object.defineProperty(d(G),"stack",{value:Error().stack,writable:!0,configurable:!0}),G)}return w(Y,[{key:"toString",value:function(){return O(this)}},{key:F.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),Y}(g(Error));j.GraphQLError=V;function O(y){var K=y.message;if(y.nodes)for(var Y=0,Z=y.nodes;Y<Z.length;Y++){var ie=Z[Y];ie.loc&&(K+=`

`+(0,c.printLocation)(ie.loc))}else if(y.source&&y.locations)for(var J=0,x=y.locations;J<x.length;J++){var W=x[J];K+=`

`+(0,c.printSourceLocation)(y.source,W)}return K}},51352:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.syntaxError=I;var S=R(61702);function I(F,T,c){return new S.GraphQLError("Syntax Error: ".concat(c),void 0,F,[T])}},63580:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=T;var S=F(R(61321)),I=F(R(98493));function F(c){return c&&c.__esModule?c:{default:c}}function T(c){var h=c.prototype.toJSON;typeof h=="function"||(0,S.default)(0),c.prototype.inspect=h,I.default&&(c.prototype[I.default]=h)}},93028:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=R;function R(S,I){var F=!!S;if(!F)throw new Error(I)}},29657:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=h;var S=I(R(98493));function I(d){return d&&d.__esModule?d:{default:d}}function F(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(f){return typeof f}:F=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},F(d)}var T=10,c=2;function h(d){return p(d,[])}function p(d,g){switch(F(d)){case"string":return JSON.stringify(d);case"function":return d.name?"[function ".concat(d.name,"]"):"[function]";case"object":return d===null?"null":v(d,g);default:return String(d)}}function v(d,g){if(g.indexOf(d)!==-1)return"[Circular]";var f=[].concat(g,[d]),_=l(d);if(_!==void 0){var E=_.call(d);if(E!==d)return typeof E=="string"?E:p(E,f)}else if(Array.isArray(d))return b(d,f);return w(d,f)}function w(d,g){var f=Object.keys(d);if(f.length===0)return"{}";if(g.length>c)return"["+N(d)+"]";var _=f.map(function(E){var P=p(d[E],g);return E+": "+P});return"{ "+_.join(", ")+" }"}function b(d,g){if(d.length===0)return"[]";if(g.length>c)return"[Array]";for(var f=Math.min(T,d.length),_=d.length-f,E=[],P=0;P<f;++P)E.push(p(d[P],g));return _===1?E.push("... 1 more item"):_>1&&E.push("... ".concat(_," more items")),"["+E.join(", ")+"]"}function l(d){var g=d[String(S.default)];if(typeof g=="function")return g;if(typeof d.inspect=="function")return d.inspect}function N(d){var g=Object.prototype.toString.call(d).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof d.constructor=="function"){var f=d.constructor.name;if(typeof f=="string"&&f!=="")return f}return g}},79527:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var R=function(I,F){return I instanceof F};j.default=R},61321:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=R;function R(S,I){var F=!!S;if(!F)throw new Error(I!=null?I:"Unexpected invariant triggered.")}},55569:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=S;function R(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(T){return typeof T}:R=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},R(I)}function S(I){return R(I)=="object"&&I!==null}},98493:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,S=R;j.default=S},76257:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isNode=c,j.Token=j.Location=void 0;var S=I(R(63580));function I(h){return h&&h.__esModule?h:{default:h}}var F=function(){function h(v,w,b){this.start=v.start,this.end=w.end,this.startToken=v,this.endToken=w,this.source=b}var p=h.prototype;return p.toJSON=function(){return{start:this.start,end:this.end}},h}();j.Location=F,(0,S.default)(F);var T=function(){function h(v,w,b,l,N,d,g){this.kind=v,this.start=w,this.end=b,this.line=l,this.column=N,this.value=g,this.prev=d,this.next=null}var p=h.prototype;return p.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},h}();j.Token=T,(0,S.default)(T);function c(h){return h!=null&&typeof h.kind=="string"}},69165:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dedentBlockStringValue=R,j.getBlockStringIndentation=I,j.printBlockString=F;function R(T){var c=T.split(/\r\n|[\n\r]/g),h=I(T);if(h!==0)for(var p=1;p<c.length;p++)c[p]=c[p].slice(h);for(var v=0;v<c.length&&S(c[v]);)++v;for(var w=c.length;w>v&&S(c[w-1]);)--w;return c.slice(v,w).join(`
`)}function S(T){for(var c=0;c<T.length;++c)if(T[c]!==" "&&T[c]!=="	")return!1;return!0}function I(T){for(var c,h=!0,p=!0,v=0,w=null,b=0;b<T.length;++b)switch(T.charCodeAt(b)){case 13:T.charCodeAt(b+1)===10&&++b;case 10:h=!1,p=!0,v=0;break;case 9:case 32:++v;break;default:p&&!h&&(w===null||v<w)&&(w=v),p=!1}return(c=w)!==null&&c!==void 0?c:0}function F(T){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=T.indexOf(`
`)===-1,v=T[0]===" "||T[0]==="	",w=T[T.length-1]==='"',b=T[T.length-1]==="\\",l=!p||w||b||h,N="";return l&&!(p&&v)&&(N+=`
`+c),N+=c?T.replace(/\n/g,`
`+c):T,l&&(N+=`
`),'"""'+N.replace(/"""/g,'\\"""')+'"""'}},5919:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.DirectiveLocation=void 0;var R=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});j.DirectiveLocation=R},7030:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.Kind=void 0;var R=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});j.Kind=R},46083:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isPunctuatorTokenKind=h,j.Lexer=void 0;var S=R(51352),I=R(76257),F=R(73038),T=R(69165),c=function(){function M(O){var y=new I.Token(F.TokenKind.SOF,0,0,0,0,null);this.source=O,this.lastToken=y,this.token=y,this.line=1,this.lineStart=0}var V=M.prototype;return V.advance=function(){this.lastToken=this.token;var y=this.token=this.lookahead();return y},V.lookahead=function(){var y=this.token;if(y.kind!==F.TokenKind.EOF)do{var K;y=(K=y.next)!==null&&K!==void 0?K:y.next=v(this,y)}while(y.kind===F.TokenKind.COMMENT);return y},M}();j.Lexer=c;function h(M){return M===F.TokenKind.BANG||M===F.TokenKind.DOLLAR||M===F.TokenKind.AMP||M===F.TokenKind.PAREN_L||M===F.TokenKind.PAREN_R||M===F.TokenKind.SPREAD||M===F.TokenKind.COLON||M===F.TokenKind.EQUALS||M===F.TokenKind.AT||M===F.TokenKind.BRACKET_L||M===F.TokenKind.BRACKET_R||M===F.TokenKind.BRACE_L||M===F.TokenKind.PIPE||M===F.TokenKind.BRACE_R}function p(M){return isNaN(M)?F.TokenKind.EOF:M<127?JSON.stringify(String.fromCharCode(M)):'"\\u'.concat(("00"+M.toString(16).toUpperCase()).slice(-4),'"')}function v(M,V){for(var O=M.source,y=O.body,K=y.length,Y=V.end;Y<K;){var Z=y.charCodeAt(Y),ie=M.line,J=1+Y-M.lineStart;switch(Z){case 65279:case 9:case 32:case 44:++Y;continue;case 10:++Y,++M.line,M.lineStart=Y;continue;case 13:y.charCodeAt(Y+1)===10?Y+=2:++Y,++M.line,M.lineStart=Y;continue;case 33:return new I.Token(F.TokenKind.BANG,Y,Y+1,ie,J,V);case 35:return b(O,Y,ie,J,V);case 36:return new I.Token(F.TokenKind.DOLLAR,Y,Y+1,ie,J,V);case 38:return new I.Token(F.TokenKind.AMP,Y,Y+1,ie,J,V);case 40:return new I.Token(F.TokenKind.PAREN_L,Y,Y+1,ie,J,V);case 41:return new I.Token(F.TokenKind.PAREN_R,Y,Y+1,ie,J,V);case 46:if(y.charCodeAt(Y+1)===46&&y.charCodeAt(Y+2)===46)return new I.Token(F.TokenKind.SPREAD,Y,Y+3,ie,J,V);break;case 58:return new I.Token(F.TokenKind.COLON,Y,Y+1,ie,J,V);case 61:return new I.Token(F.TokenKind.EQUALS,Y,Y+1,ie,J,V);case 64:return new I.Token(F.TokenKind.AT,Y,Y+1,ie,J,V);case 91:return new I.Token(F.TokenKind.BRACKET_L,Y,Y+1,ie,J,V);case 93:return new I.Token(F.TokenKind.BRACKET_R,Y,Y+1,ie,J,V);case 123:return new I.Token(F.TokenKind.BRACE_L,Y,Y+1,ie,J,V);case 124:return new I.Token(F.TokenKind.PIPE,Y,Y+1,ie,J,V);case 125:return new I.Token(F.TokenKind.BRACE_R,Y,Y+1,ie,J,V);case 34:return y.charCodeAt(Y+1)===34&&y.charCodeAt(Y+2)===34?g(O,Y,ie,J,V,M):d(O,Y,ie,J,V);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l(O,Y,Z,ie,J,V);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return E(O,Y,ie,J,V)}throw(0,S.syntaxError)(O,Y,w(Z))}var x=M.line,W=1+Y-M.lineStart;return new I.Token(F.TokenKind.EOF,K,K,x,W,V)}function w(M){return M<32&&M!==9&&M!==10&&M!==13?"Cannot contain the invalid character ".concat(p(M),"."):M===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(p(M),".")}function b(M,V,O,y,K){var Y=M.body,Z,ie=V;do Z=Y.charCodeAt(++ie);while(!isNaN(Z)&&(Z>31||Z===9));return new I.Token(F.TokenKind.COMMENT,V,ie,O,y,K,Y.slice(V+1,ie))}function l(M,V,O,y,K,Y){var Z=M.body,ie=O,J=V,x=!1;if(ie===45&&(ie=Z.charCodeAt(++J)),ie===48){if(ie=Z.charCodeAt(++J),ie>=48&&ie<=57)throw(0,S.syntaxError)(M,J,"Invalid number, unexpected digit after 0: ".concat(p(ie),"."))}else J=N(M,J,ie),ie=Z.charCodeAt(J);if(ie===46&&(x=!0,ie=Z.charCodeAt(++J),J=N(M,J,ie),ie=Z.charCodeAt(J)),(ie===69||ie===101)&&(x=!0,ie=Z.charCodeAt(++J),(ie===43||ie===45)&&(ie=Z.charCodeAt(++J)),J=N(M,J,ie),ie=Z.charCodeAt(J)),ie===46||P(ie))throw(0,S.syntaxError)(M,J,"Invalid number, expected digit but got: ".concat(p(ie),"."));return new I.Token(x?F.TokenKind.FLOAT:F.TokenKind.INT,V,J,y,K,Y,Z.slice(V,J))}function N(M,V,O){var y=M.body,K=V,Y=O;if(Y>=48&&Y<=57){do Y=y.charCodeAt(++K);while(Y>=48&&Y<=57);return K}throw(0,S.syntaxError)(M,K,"Invalid number, expected digit but got: ".concat(p(Y),"."))}function d(M,V,O,y,K){for(var Y=M.body,Z=V+1,ie=Z,J=0,x="";Z<Y.length&&!isNaN(J=Y.charCodeAt(Z))&&J!==10&&J!==13;){if(J===34)return x+=Y.slice(ie,Z),new I.Token(F.TokenKind.STRING,V,Z+1,O,y,K,x);if(J<32&&J!==9)throw(0,S.syntaxError)(M,Z,"Invalid character within String: ".concat(p(J),"."));if(++Z,J===92){switch(x+=Y.slice(ie,Z-1),J=Y.charCodeAt(Z),J){case 34:x+='"';break;case 47:x+="/";break;case 92:x+="\\";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:{var W=f(Y.charCodeAt(Z+1),Y.charCodeAt(Z+2),Y.charCodeAt(Z+3),Y.charCodeAt(Z+4));if(W<0){var D=Y.slice(Z+1,Z+5);throw(0,S.syntaxError)(M,Z,"Invalid character escape sequence: \\u".concat(D,"."))}x+=String.fromCharCode(W),Z+=4;break}default:throw(0,S.syntaxError)(M,Z,"Invalid character escape sequence: \\".concat(String.fromCharCode(J),"."))}++Z,ie=Z}}throw(0,S.syntaxError)(M,Z,"Unterminated string.")}function g(M,V,O,y,K,Y){for(var Z=M.body,ie=V+3,J=ie,x=0,W="";ie<Z.length&&!isNaN(x=Z.charCodeAt(ie));){if(x===34&&Z.charCodeAt(ie+1)===34&&Z.charCodeAt(ie+2)===34)return W+=Z.slice(J,ie),new I.Token(F.TokenKind.BLOCK_STRING,V,ie+3,O,y,K,(0,T.dedentBlockStringValue)(W));if(x<32&&x!==9&&x!==10&&x!==13)throw(0,S.syntaxError)(M,ie,"Invalid character within String: ".concat(p(x),"."));x===10?(++ie,++Y.line,Y.lineStart=ie):x===13?(Z.charCodeAt(ie+1)===10?ie+=2:++ie,++Y.line,Y.lineStart=ie):x===92&&Z.charCodeAt(ie+1)===34&&Z.charCodeAt(ie+2)===34&&Z.charCodeAt(ie+3)===34?(W+=Z.slice(J,ie)+'"""',ie+=4,J=ie):++ie}throw(0,S.syntaxError)(M,ie,"Unterminated string.")}function f(M,V,O,y){return _(M)<<12|_(V)<<8|_(O)<<4|_(y)}function _(M){return M>=48&&M<=57?M-48:M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:-1}function E(M,V,O,y,K){for(var Y=M.body,Z=Y.length,ie=V+1,J=0;ie!==Z&&!isNaN(J=Y.charCodeAt(ie))&&(J===95||J>=48&&J<=57||J>=65&&J<=90||J>=97&&J<=122);)++ie;return new I.Token(F.TokenKind.NAME,V,ie,O,y,K,Y.slice(V,ie))}function P(M){return M===95||M>=65&&M<=90||M>=97&&M<=122}},99530:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getLocation=R;function R(S,I){for(var F=/\r\n|[\n\r]/g,T=1,c=I+1,h;(h=F.exec(S.body))&&h.index<I;)T+=1,c=I+1-(h.index+h[0].length);return{line:T,column:c}}},50246:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.parse=v,j.parseValue=w,j.parseType=b,j.Parser=void 0;var S=R(51352),I=R(7030),F=R(76257),T=R(73038),c=R(46876),h=R(5919),p=R(46083);function v(g,f){var _=new l(g,f);return _.parseDocument()}function w(g,f){var _=new l(g,f);_.expectToken(T.TokenKind.SOF);var E=_.parseValueLiteral(!1);return _.expectToken(T.TokenKind.EOF),E}function b(g,f){var _=new l(g,f);_.expectToken(T.TokenKind.SOF);var E=_.parseTypeReference();return _.expectToken(T.TokenKind.EOF),E}var l=function(){function g(_,E){var P=(0,c.isSource)(_)?_:new c.Source(_);this._lexer=new p.Lexer(P),this._options=E}var f=g.prototype;return f.parseName=function(){var E=this.expectToken(T.TokenKind.NAME);return{kind:I.Kind.NAME,value:E.value,loc:this.loc(E)}},f.parseDocument=function(){var E=this._lexer.token;return{kind:I.Kind.DOCUMENT,definitions:this.many(T.TokenKind.SOF,this.parseDefinition,T.TokenKind.EOF),loc:this.loc(E)}},f.parseDefinition=function(){if(this.peek(T.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(T.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},f.parseOperationDefinition=function(){var E=this._lexer.token;if(this.peek(T.TokenKind.BRACE_L))return{kind:I.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(E)};var P=this.parseOperationType(),M;return this.peek(T.TokenKind.NAME)&&(M=this.parseName()),{kind:I.Kind.OPERATION_DEFINITION,operation:P,name:M,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},f.parseOperationType=function(){var E=this.expectToken(T.TokenKind.NAME);switch(E.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(E)},f.parseVariableDefinitions=function(){return this.optionalMany(T.TokenKind.PAREN_L,this.parseVariableDefinition,T.TokenKind.PAREN_R)},f.parseVariableDefinition=function(){var E=this._lexer.token;return{kind:I.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(T.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(T.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(E)}},f.parseVariable=function(){var E=this._lexer.token;return this.expectToken(T.TokenKind.DOLLAR),{kind:I.Kind.VARIABLE,name:this.parseName(),loc:this.loc(E)}},f.parseSelectionSet=function(){var E=this._lexer.token;return{kind:I.Kind.SELECTION_SET,selections:this.many(T.TokenKind.BRACE_L,this.parseSelection,T.TokenKind.BRACE_R),loc:this.loc(E)}},f.parseSelection=function(){return this.peek(T.TokenKind.SPREAD)?this.parseFragment():this.parseField()},f.parseField=function(){var E=this._lexer.token,P=this.parseName(),M,V;return this.expectOptionalToken(T.TokenKind.COLON)?(M=P,V=this.parseName()):V=P,{kind:I.Kind.FIELD,alias:M,name:V,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(T.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(E)}},f.parseArguments=function(E){var P=E?this.parseConstArgument:this.parseArgument;return this.optionalMany(T.TokenKind.PAREN_L,P,T.TokenKind.PAREN_R)},f.parseArgument=function(){var E=this._lexer.token,P=this.parseName();return this.expectToken(T.TokenKind.COLON),{kind:I.Kind.ARGUMENT,name:P,value:this.parseValueLiteral(!1),loc:this.loc(E)}},f.parseConstArgument=function(){var E=this._lexer.token;return{kind:I.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(T.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(E)}},f.parseFragment=function(){var E=this._lexer.token;this.expectToken(T.TokenKind.SPREAD);var P=this.expectOptionalKeyword("on");return!P&&this.peek(T.TokenKind.NAME)?{kind:I.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(E)}:{kind:I.Kind.INLINE_FRAGMENT,typeCondition:P?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},f.parseFragmentDefinition=function(){var E,P=this._lexer.token;return this.expectKeyword("fragment"),((E=this._options)===null||E===void 0?void 0:E.experimentalFragmentVariables)===!0?{kind:I.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(P)}:{kind:I.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(P)}},f.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},f.parseValueLiteral=function(E){var P=this._lexer.token;switch(P.kind){case T.TokenKind.BRACKET_L:return this.parseList(E);case T.TokenKind.BRACE_L:return this.parseObject(E);case T.TokenKind.INT:return this._lexer.advance(),{kind:I.Kind.INT,value:P.value,loc:this.loc(P)};case T.TokenKind.FLOAT:return this._lexer.advance(),{kind:I.Kind.FLOAT,value:P.value,loc:this.loc(P)};case T.TokenKind.STRING:case T.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case T.TokenKind.NAME:switch(this._lexer.advance(),P.value){case"true":return{kind:I.Kind.BOOLEAN,value:!0,loc:this.loc(P)};case"false":return{kind:I.Kind.BOOLEAN,value:!1,loc:this.loc(P)};case"null":return{kind:I.Kind.NULL,loc:this.loc(P)};default:return{kind:I.Kind.ENUM,value:P.value,loc:this.loc(P)}}case T.TokenKind.DOLLAR:if(!E)return this.parseVariable();break}throw this.unexpected()},f.parseStringLiteral=function(){var E=this._lexer.token;return this._lexer.advance(),{kind:I.Kind.STRING,value:E.value,block:E.kind===T.TokenKind.BLOCK_STRING,loc:this.loc(E)}},f.parseList=function(E){var P=this,M=this._lexer.token,V=function(){return P.parseValueLiteral(E)};return{kind:I.Kind.LIST,values:this.any(T.TokenKind.BRACKET_L,V,T.TokenKind.BRACKET_R),loc:this.loc(M)}},f.parseObject=function(E){var P=this,M=this._lexer.token,V=function(){return P.parseObjectField(E)};return{kind:I.Kind.OBJECT,fields:this.any(T.TokenKind.BRACE_L,V,T.TokenKind.BRACE_R),loc:this.loc(M)}},f.parseObjectField=function(E){var P=this._lexer.token,M=this.parseName();return this.expectToken(T.TokenKind.COLON),{kind:I.Kind.OBJECT_FIELD,name:M,value:this.parseValueLiteral(E),loc:this.loc(P)}},f.parseDirectives=function(E){for(var P=[];this.peek(T.TokenKind.AT);)P.push(this.parseDirective(E));return P},f.parseDirective=function(E){var P=this._lexer.token;return this.expectToken(T.TokenKind.AT),{kind:I.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(E),loc:this.loc(P)}},f.parseTypeReference=function(){var E=this._lexer.token,P;return this.expectOptionalToken(T.TokenKind.BRACKET_L)?(P=this.parseTypeReference(),this.expectToken(T.TokenKind.BRACKET_R),P={kind:I.Kind.LIST_TYPE,type:P,loc:this.loc(E)}):P=this.parseNamedType(),this.expectOptionalToken(T.TokenKind.BANG)?{kind:I.Kind.NON_NULL_TYPE,type:P,loc:this.loc(E)}:P},f.parseNamedType=function(){var E=this._lexer.token;return{kind:I.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(E)}},f.parseTypeSystemDefinition=function(){var E=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(E.kind===T.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(E)},f.peekDescription=function(){return this.peek(T.TokenKind.STRING)||this.peek(T.TokenKind.BLOCK_STRING)},f.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},f.parseSchemaDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("schema");var M=this.parseDirectives(!0),V=this.many(T.TokenKind.BRACE_L,this.parseOperationTypeDefinition,T.TokenKind.BRACE_R);return{kind:I.Kind.SCHEMA_DEFINITION,description:P,directives:M,operationTypes:V,loc:this.loc(E)}},f.parseOperationTypeDefinition=function(){var E=this._lexer.token,P=this.parseOperationType();this.expectToken(T.TokenKind.COLON);var M=this.parseNamedType();return{kind:I.Kind.OPERATION_TYPE_DEFINITION,operation:P,type:M,loc:this.loc(E)}},f.parseScalarTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("scalar");var M=this.parseName(),V=this.parseDirectives(!0);return{kind:I.Kind.SCALAR_TYPE_DEFINITION,description:P,name:M,directives:V,loc:this.loc(E)}},f.parseObjectTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("type");var M=this.parseName(),V=this.parseImplementsInterfaces(),O=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:I.Kind.OBJECT_TYPE_DEFINITION,description:P,name:M,interfaces:V,directives:O,fields:y,loc:this.loc(E)}},f.parseImplementsInterfaces=function(){var E;if(!this.expectOptionalKeyword("implements"))return[];if(((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLImplementsInterfaces)===!0){var P=[];this.expectOptionalToken(T.TokenKind.AMP);do P.push(this.parseNamedType());while(this.expectOptionalToken(T.TokenKind.AMP)||this.peek(T.TokenKind.NAME));return P}return this.delimitedMany(T.TokenKind.AMP,this.parseNamedType)},f.parseFieldsDefinition=function(){var E;return((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLEmptyFields)===!0&&this.peek(T.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===T.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(T.TokenKind.BRACE_L,this.parseFieldDefinition,T.TokenKind.BRACE_R)},f.parseFieldDefinition=function(){var E=this._lexer.token,P=this.parseDescription(),M=this.parseName(),V=this.parseArgumentDefs();this.expectToken(T.TokenKind.COLON);var O=this.parseTypeReference(),y=this.parseDirectives(!0);return{kind:I.Kind.FIELD_DEFINITION,description:P,name:M,arguments:V,type:O,directives:y,loc:this.loc(E)}},f.parseArgumentDefs=function(){return this.optionalMany(T.TokenKind.PAREN_L,this.parseInputValueDef,T.TokenKind.PAREN_R)},f.parseInputValueDef=function(){var E=this._lexer.token,P=this.parseDescription(),M=this.parseName();this.expectToken(T.TokenKind.COLON);var V=this.parseTypeReference(),O;this.expectOptionalToken(T.TokenKind.EQUALS)&&(O=this.parseValueLiteral(!0));var y=this.parseDirectives(!0);return{kind:I.Kind.INPUT_VALUE_DEFINITION,description:P,name:M,type:V,defaultValue:O,directives:y,loc:this.loc(E)}},f.parseInterfaceTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("interface");var M=this.parseName(),V=this.parseImplementsInterfaces(),O=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:I.Kind.INTERFACE_TYPE_DEFINITION,description:P,name:M,interfaces:V,directives:O,fields:y,loc:this.loc(E)}},f.parseUnionTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("union");var M=this.parseName(),V=this.parseDirectives(!0),O=this.parseUnionMemberTypes();return{kind:I.Kind.UNION_TYPE_DEFINITION,description:P,name:M,directives:V,types:O,loc:this.loc(E)}},f.parseUnionMemberTypes=function(){return this.expectOptionalToken(T.TokenKind.EQUALS)?this.delimitedMany(T.TokenKind.PIPE,this.parseNamedType):[]},f.parseEnumTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("enum");var M=this.parseName(),V=this.parseDirectives(!0),O=this.parseEnumValuesDefinition();return{kind:I.Kind.ENUM_TYPE_DEFINITION,description:P,name:M,directives:V,values:O,loc:this.loc(E)}},f.parseEnumValuesDefinition=function(){return this.optionalMany(T.TokenKind.BRACE_L,this.parseEnumValueDefinition,T.TokenKind.BRACE_R)},f.parseEnumValueDefinition=function(){var E=this._lexer.token,P=this.parseDescription(),M=this.parseName(),V=this.parseDirectives(!0);return{kind:I.Kind.ENUM_VALUE_DEFINITION,description:P,name:M,directives:V,loc:this.loc(E)}},f.parseInputObjectTypeDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("input");var M=this.parseName(),V=this.parseDirectives(!0),O=this.parseInputFieldsDefinition();return{kind:I.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:P,name:M,directives:V,fields:O,loc:this.loc(E)}},f.parseInputFieldsDefinition=function(){return this.optionalMany(T.TokenKind.BRACE_L,this.parseInputValueDef,T.TokenKind.BRACE_R)},f.parseTypeSystemExtension=function(){var E=this._lexer.lookahead();if(E.kind===T.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(E)},f.parseSchemaExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var P=this.parseDirectives(!0),M=this.optionalMany(T.TokenKind.BRACE_L,this.parseOperationTypeDefinition,T.TokenKind.BRACE_R);if(P.length===0&&M.length===0)throw this.unexpected();return{kind:I.Kind.SCHEMA_EXTENSION,directives:P,operationTypes:M,loc:this.loc(E)}},f.parseScalarTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var P=this.parseName(),M=this.parseDirectives(!0);if(M.length===0)throw this.unexpected();return{kind:I.Kind.SCALAR_TYPE_EXTENSION,name:P,directives:M,loc:this.loc(E)}},f.parseObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var P=this.parseName(),M=this.parseImplementsInterfaces(),V=this.parseDirectives(!0),O=this.parseFieldsDefinition();if(M.length===0&&V.length===0&&O.length===0)throw this.unexpected();return{kind:I.Kind.OBJECT_TYPE_EXTENSION,name:P,interfaces:M,directives:V,fields:O,loc:this.loc(E)}},f.parseInterfaceTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var P=this.parseName(),M=this.parseImplementsInterfaces(),V=this.parseDirectives(!0),O=this.parseFieldsDefinition();if(M.length===0&&V.length===0&&O.length===0)throw this.unexpected();return{kind:I.Kind.INTERFACE_TYPE_EXTENSION,name:P,interfaces:M,directives:V,fields:O,loc:this.loc(E)}},f.parseUnionTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var P=this.parseName(),M=this.parseDirectives(!0),V=this.parseUnionMemberTypes();if(M.length===0&&V.length===0)throw this.unexpected();return{kind:I.Kind.UNION_TYPE_EXTENSION,name:P,directives:M,types:V,loc:this.loc(E)}},f.parseEnumTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var P=this.parseName(),M=this.parseDirectives(!0),V=this.parseEnumValuesDefinition();if(M.length===0&&V.length===0)throw this.unexpected();return{kind:I.Kind.ENUM_TYPE_EXTENSION,name:P,directives:M,values:V,loc:this.loc(E)}},f.parseInputObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var P=this.parseName(),M=this.parseDirectives(!0),V=this.parseInputFieldsDefinition();if(M.length===0&&V.length===0)throw this.unexpected();return{kind:I.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:P,directives:M,fields:V,loc:this.loc(E)}},f.parseDirectiveDefinition=function(){var E=this._lexer.token,P=this.parseDescription();this.expectKeyword("directive"),this.expectToken(T.TokenKind.AT);var M=this.parseName(),V=this.parseArgumentDefs(),O=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var y=this.parseDirectiveLocations();return{kind:I.Kind.DIRECTIVE_DEFINITION,description:P,name:M,arguments:V,repeatable:O,locations:y,loc:this.loc(E)}},f.parseDirectiveLocations=function(){return this.delimitedMany(T.TokenKind.PIPE,this.parseDirectiveLocation)},f.parseDirectiveLocation=function(){var E=this._lexer.token,P=this.parseName();if(h.DirectiveLocation[P.value]!==void 0)return P;throw this.unexpected(E)},f.loc=function(E){var P;if(((P=this._options)===null||P===void 0?void 0:P.noLocation)!==!0)return new F.Location(E,this._lexer.lastToken,this._lexer.source)},f.peek=function(E){return this._lexer.token.kind===E},f.expectToken=function(E){var P=this._lexer.token;if(P.kind===E)return this._lexer.advance(),P;throw(0,S.syntaxError)(this._lexer.source,P.start,"Expected ".concat(d(E),", found ").concat(N(P),"."))},f.expectOptionalToken=function(E){var P=this._lexer.token;if(P.kind===E)return this._lexer.advance(),P},f.expectKeyword=function(E){var P=this._lexer.token;if(P.kind===T.TokenKind.NAME&&P.value===E)this._lexer.advance();else throw(0,S.syntaxError)(this._lexer.source,P.start,'Expected "'.concat(E,'", found ').concat(N(P),"."))},f.expectOptionalKeyword=function(E){var P=this._lexer.token;return P.kind===T.TokenKind.NAME&&P.value===E?(this._lexer.advance(),!0):!1},f.unexpected=function(E){var P=E!=null?E:this._lexer.token;return(0,S.syntaxError)(this._lexer.source,P.start,"Unexpected ".concat(N(P),"."))},f.any=function(E,P,M){this.expectToken(E);for(var V=[];!this.expectOptionalToken(M);)V.push(P.call(this));return V},f.optionalMany=function(E,P,M){if(this.expectOptionalToken(E)){var V=[];do V.push(P.call(this));while(!this.expectOptionalToken(M));return V}return[]},f.many=function(E,P,M){this.expectToken(E);var V=[];do V.push(P.call(this));while(!this.expectOptionalToken(M));return V},f.delimitedMany=function(E,P){this.expectOptionalToken(E);var M=[];do M.push(P.call(this));while(this.expectOptionalToken(E));return M},g}();j.Parser=l;function N(g){var f=g.value;return d(g.kind)+(f!=null?' "'.concat(f,'"'):"")}function d(g){return(0,p.isPunctuatorTokenKind)(g)?'"'.concat(g,'"'):g}},40825:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.printLocation=I,j.printSourceLocation=F;var S=R(99530);function I(p){return F(p.source,(0,S.getLocation)(p.source,p.start))}function F(p,v){var w=p.locationOffset.column-1,b=c(w)+p.body,l=v.line-1,N=p.locationOffset.line-1,d=v.line+N,g=v.line===1?w:0,f=v.column+g,_="".concat(p.name,":").concat(d,":").concat(f,`
`),E=b.split(/\r\n|[\n\r]/g),P=E[l];if(P.length>120){for(var M=Math.floor(f/80),V=f%80,O=[],y=0;y<P.length;y+=80)O.push(P.slice(y,y+80));return _+T([["".concat(d),O[0]]].concat(O.slice(1,M+1).map(function(K){return["",K]}),[[" ",c(V-1)+"^"],["",O[M+1]]]))}return _+T([["".concat(d-1),E[l-1]],["".concat(d),P],["",c(f-1)+"^"],["".concat(d+1),E[l+1]]])}function T(p){var v=p.filter(function(b){var l=b[0],N=b[1];return N!==void 0}),w=Math.max.apply(Math,v.map(function(b){var l=b[0];return l.length}));return v.map(function(b){var l=b[0],N=b[1];return h(w,l)+(N?" | "+N:" |")}).join(`
`)}function c(p){return Array(p+1).join(" ")}function h(p,v){return c(p-v.length)+v}},70585:(s,j,R)=>{"use strict";var S;S={value:!0},j.y=T;var I=R(9111),F=R(69165);function T(g){return(0,I.visit)(g,{leave:h})}var c=80,h={Name:function(f){return f.value},Variable:function(f){return"$"+f.name},Document:function(f){return v(f.definitions,`

`)+`
`},OperationDefinition:function(f){var _=f.operation,E=f.name,P=b("(",v(f.variableDefinitions,", "),")"),M=v(f.directives," "),V=f.selectionSet;return!E&&!M&&!P&&_==="query"?V:v([_,v([E,P]),M,V]," ")},VariableDefinition:function(f){var _=f.variable,E=f.type,P=f.defaultValue,M=f.directives;return _+": "+E+b(" = ",P)+b(" ",v(M," "))},SelectionSet:function(f){var _=f.selections;return w(_)},Field:function(f){var _=f.alias,E=f.name,P=f.arguments,M=f.directives,V=f.selectionSet,O=b("",_,": ")+E,y=O+b("(",v(P,", "),")");return y.length>c&&(y=O+b(`(
`,l(v(P,`
`)),`
)`)),v([y,v(M," "),V]," ")},Argument:function(f){var _=f.name,E=f.value;return _+": "+E},FragmentSpread:function(f){var _=f.name,E=f.directives;return"..."+_+b(" ",v(E," "))},InlineFragment:function(f){var _=f.typeCondition,E=f.directives,P=f.selectionSet;return v(["...",b("on ",_),v(E," "),P]," ")},FragmentDefinition:function(f){var _=f.name,E=f.typeCondition,P=f.variableDefinitions,M=f.directives,V=f.selectionSet;return"fragment ".concat(_).concat(b("(",v(P,", "),")")," ")+"on ".concat(E," ").concat(b("",v(M," ")," "))+V},IntValue:function(f){var _=f.value;return _},FloatValue:function(f){var _=f.value;return _},StringValue:function(f,_){var E=f.value,P=f.block;return P?(0,F.printBlockString)(E,_==="description"?"":"  "):JSON.stringify(E)},BooleanValue:function(f){var _=f.value;return _?"true":"false"},NullValue:function(){return"null"},EnumValue:function(f){var _=f.value;return _},ListValue:function(f){var _=f.values;return"["+v(_,", ")+"]"},ObjectValue:function(f){var _=f.fields;return"{"+v(_,", ")+"}"},ObjectField:function(f){var _=f.name,E=f.value;return _+": "+E},Directive:function(f){var _=f.name,E=f.arguments;return"@"+_+b("(",v(E,", "),")")},NamedType:function(f){var _=f.name;return _},ListType:function(f){var _=f.type;return"["+_+"]"},NonNullType:function(f){var _=f.type;return _+"!"},SchemaDefinition:p(function(g){var f=g.directives,_=g.operationTypes;return v(["schema",v(f," "),w(_)]," ")}),OperationTypeDefinition:function(f){var _=f.operation,E=f.type;return _+": "+E},ScalarTypeDefinition:p(function(g){var f=g.name,_=g.directives;return v(["scalar",f,v(_," ")]," ")}),ObjectTypeDefinition:p(function(g){var f=g.name,_=g.interfaces,E=g.directives,P=g.fields;return v(["type",f,b("implements ",v(_," & ")),v(E," "),w(P)]," ")}),FieldDefinition:p(function(g){var f=g.name,_=g.arguments,E=g.type,P=g.directives;return f+(d(_)?b(`(
`,l(v(_,`
`)),`
)`):b("(",v(_,", "),")"))+": "+E+b(" ",v(P," "))}),InputValueDefinition:p(function(g){var f=g.name,_=g.type,E=g.defaultValue,P=g.directives;return v([f+": "+_,b("= ",E),v(P," ")]," ")}),InterfaceTypeDefinition:p(function(g){var f=g.name,_=g.interfaces,E=g.directives,P=g.fields;return v(["interface",f,b("implements ",v(_," & ")),v(E," "),w(P)]," ")}),UnionTypeDefinition:p(function(g){var f=g.name,_=g.directives,E=g.types;return v(["union",f,v(_," "),E&&E.length!==0?"= "+v(E," | "):""]," ")}),EnumTypeDefinition:p(function(g){var f=g.name,_=g.directives,E=g.values;return v(["enum",f,v(_," "),w(E)]," ")}),EnumValueDefinition:p(function(g){var f=g.name,_=g.directives;return v([f,v(_," ")]," ")}),InputObjectTypeDefinition:p(function(g){var f=g.name,_=g.directives,E=g.fields;return v(["input",f,v(_," "),w(E)]," ")}),DirectiveDefinition:p(function(g){var f=g.name,_=g.arguments,E=g.repeatable,P=g.locations;return"directive @"+f+(d(_)?b(`(
`,l(v(_,`
`)),`
)`):b("(",v(_,", "),")"))+(E?" repeatable":"")+" on "+v(P," | ")}),SchemaExtension:function(f){var _=f.directives,E=f.operationTypes;return v(["extend schema",v(_," "),w(E)]," ")},ScalarTypeExtension:function(f){var _=f.name,E=f.directives;return v(["extend scalar",_,v(E," ")]," ")},ObjectTypeExtension:function(f){var _=f.name,E=f.interfaces,P=f.directives,M=f.fields;return v(["extend type",_,b("implements ",v(E," & ")),v(P," "),w(M)]," ")},InterfaceTypeExtension:function(f){var _=f.name,E=f.interfaces,P=f.directives,M=f.fields;return v(["extend interface",_,b("implements ",v(E," & ")),v(P," "),w(M)]," ")},UnionTypeExtension:function(f){var _=f.name,E=f.directives,P=f.types;return v(["extend union",_,v(E," "),P&&P.length!==0?"= "+v(P," | "):""]," ")},EnumTypeExtension:function(f){var _=f.name,E=f.directives,P=f.values;return v(["extend enum",_,v(E," "),w(P)]," ")},InputObjectTypeExtension:function(f){var _=f.name,E=f.directives,P=f.fields;return v(["extend input",_,v(E," "),w(P)]," ")}};function p(g){return function(f){return v([f.description,g(f)],`
`)}}function v(g){var f,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(f=g==null?void 0:g.filter(function(E){return E}).join(_))!==null&&f!==void 0?f:""}function w(g){return b(`{
`,l(v(g,`
`)),`
}`)}function b(g,f){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return f!=null&&f!==""?g+f+_:""}function l(g){return b("  ",g.replace(/\n/g,`
  `))}function N(g){return g.indexOf(`
`)!==-1}function d(g){return g!=null&&g.some(N)}},46876:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isSource=w,j.Source=void 0;var S=R(25888),I=c(R(29657)),F=c(R(93028)),T=c(R(79527));function c(b){return b&&b.__esModule?b:{default:b}}function h(b,l){for(var N=0;N<l.length;N++){var d=l[N];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(b,d.key,d)}}function p(b,l,N){return l&&h(b.prototype,l),N&&h(b,N),b}var v=function(){function b(l){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof l=="string"||(0,F.default)(0,"Body must be a string. Received: ".concat((0,I.default)(l),".")),this.body=l,this.name=N,this.locationOffset=d,this.locationOffset.line>0||(0,F.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,F.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return p(b,[{key:S.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),b}();j.Source=v;function w(b){return(0,T.default)(b,v)}},73038:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.TokenKind=void 0;var R=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});j.TokenKind=R},9111:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.visit=h,j.visitInParallel=p,j.getVisitFn=v,j.BREAK=j.QueryDocumentKeys=void 0;var S=F(R(29657)),I=R(76257);function F(w){return w&&w.__esModule?w:{default:w}}var T={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};j.QueryDocumentKeys=T;var c=Object.freeze({});j.BREAK=c;function h(w,b){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,N=void 0,d=Array.isArray(w),g=[w],f=-1,_=[],E=void 0,P=void 0,M=void 0,V=[],O=[],y=w;do{f++;var K=f===g.length,Y=K&&_.length!==0;if(K){if(P=O.length===0?void 0:V[V.length-1],E=M,M=O.pop(),Y){if(d)E=E.slice();else{for(var Z={},ie=0,J=Object.keys(E);ie<J.length;ie++){var x=J[ie];Z[x]=E[x]}E=Z}for(var W=0,D=0;D<_.length;D++){var m=_[D][0],C=_[D][1];d&&(m-=W),d&&C===null?(E.splice(m,1),W++):E[m]=C}}f=N.index,g=N.keys,_=N.edits,d=N.inArray,N=N.prev}else{if(P=M?d?f:g[f]:void 0,E=M?M[P]:y,E==null)continue;M&&V.push(P)}var L=void 0;if(!Array.isArray(E)){if(!(0,I.isNode)(E))throw new Error("Invalid AST Node: ".concat((0,S.default)(E),"."));var H=v(b,E.kind,K);if(H){if(L=H.call(b,E,P,M,V,O),L===c)break;if(L===!1){if(!K){V.pop();continue}}else if(L!==void 0&&(_.push([P,L]),!K))if((0,I.isNode)(L))E=L;else{V.pop();continue}}}if(L===void 0&&Y&&_.push([P,E]),K)V.pop();else{var z;N={inArray:d,index:f,keys:g,edits:_,prev:N},d=Array.isArray(E),g=d?E:(z=l[E.kind])!==null&&z!==void 0?z:[],f=-1,_=[],M&&O.push(M),M=E}}while(N!==void 0);return _.length!==0&&(y=_[_.length-1][1]),y}function p(w){var b=new Array(w.length);return{enter:function(N){for(var d=0;d<w.length;d++)if(b[d]==null){var g=v(w[d],N.kind,!1);if(g){var f=g.apply(w[d],arguments);if(f===!1)b[d]=N;else if(f===c)b[d]=c;else if(f!==void 0)return f}}},leave:function(N){for(var d=0;d<w.length;d++)if(b[d]==null){var g=v(w[d],N.kind,!0);if(g){var f=g.apply(w[d],arguments);if(f===c)b[d]=c;else if(f!==void 0&&f!==!1)return f}}else b[d]===N&&(b[d]=null)}}}function v(w,b,l){var N=w[b];if(N){if(!l&&typeof N=="function")return N;var d=l?N.leave:N.enter;if(typeof d=="function")return d}else{var g=l?w.leave:w.enter;if(g){if(typeof g=="function")return g;var f=g[b];if(typeof f=="function")return f}}}},25888:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SYMBOL_TO_STRING_TAG=j.SYMBOL_ASYNC_ITERATOR=j.SYMBOL_ITERATOR=void 0;var R=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";j.SYMBOL_ITERATOR=R;var S=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";j.SYMBOL_ASYNC_ITERATOR=S;var I=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";j.SYMBOL_TO_STRING_TAG=I},30592:(s,j,R)=>{"use strict";var S=R(30655),I=function(){return!!S};I.hasArrayLengthDefineBug=function(){if(!S)return null;try{return S([],"length",{value:1}).length!==1}catch{return!0}},s.exports=I},48896:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var R={},S=Symbol("test"),I=Object(S);if(typeof S=="string"||Object.prototype.toString.call(S)!=="[object Symbol]"||Object.prototype.toString.call(I)!=="[object Symbol]")return!1;var F=42;R[S]=F;for(var T in R)return!1;if(typeof Object.keys=="function"&&Object.keys(R).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(R).length!==0)return!1;var c=Object.getOwnPropertySymbols(R);if(c.length!==1||c[0]!==S||!Object.prototype.propertyIsEnumerable.call(R,S))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(R,S);if(h.value!==F||h.enumerable!==!0)return!1}return!0}},49092:(s,j,R)=>{"use strict";var S=R(48896);s.exports=function(){return S()&&!!Symbol.toStringTag}},4729:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(61603).Transform,F=R(56698);function T(h,p){if(!S.isBuffer(h)&&typeof h!="string")throw new TypeError(p+" must be a string or a buffer")}function c(h){I.call(this),this._block=S.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}F(c,I),c.prototype._transform=function(h,p,v){var w=null;try{this.update(h,p)}catch(b){w=b}v(w)},c.prototype._flush=function(h){var p=null;try{this.push(this.digest())}catch(v){p=v}h(p)},c.prototype.update=function(h,p){if(T(h,"Data"),this._finalized)throw new Error("Digest already called");S.isBuffer(h)||(h=S.from(h,p));for(var v=this._block,w=0;this._blockOffset+h.length-w>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)v[b++]=h[w++];this._update(),this._blockOffset=0}for(;w<h.length;)v[this._blockOffset++]=h[w++];for(var l=0,N=h.length*8;N>0;++l)this._length[l]+=N,N=this._length[l]/4294967296|0,N>0&&(this._length[l]-=4294967296*N);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var p=this._digest();h!==void 0&&(p=p.toString(h)),this._block.fill(0),this._blockOffset=0;for(var v=0;v<4;++v)this._length[v]=0;return p},c.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=c},92260:s=>{"use strict";function j(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var R={};function S(h,p,v){v||(v=Error);function w(l,N,d){return typeof p=="string"?p:p(l,N,d)}var b=function(l){j(N,l);function N(d,g,f){return l.call(this,w(d,g,f))||this}return N}(v);b.prototype.name=v.name,b.prototype.code=h,R[h]=b}function I(h,p){if(Array.isArray(h)){var v=h.length;return h=h.map(function(w){return String(w)}),v>2?"one of ".concat(p," ").concat(h.slice(0,v-1).join(", "),", or ")+h[v-1]:v===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function F(h,p,v){return h.substr(!v||v<0?0:+v,p.length)===p}function T(h,p,v){return(v===void 0||v>h.length)&&(v=h.length),h.substring(v-p.length,v)===p}function c(h,p,v){return typeof v!="number"&&(v=0),v+p.length>h.length?!1:h.indexOf(p,v)!==-1}S("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(h,p,v){var w;typeof p=="string"&&F(p,"not ")?(w="must not be",p=p.replace(/^not /,"")):w="must be";var b;if(T(h," argument"))b="The ".concat(h," ").concat(w," ").concat(I(p,"type"));else{var l=c(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(w," ").concat(I(p,"type"))}return b+=". Received type ".concat(typeof v),b},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=R},92818:(s,j,R)=>{"use strict";var S=R(65606),I=Object.keys||function(l){var N=[];for(var d in l)N.push(d);return N};s.exports=v;var F=R(6736),T=R(62192);R(56698)(v,F);for(var c=I(T.prototype),h=0;h<c.length;h++){var p=c[h];v.prototype[p]||(v.prototype[p]=T.prototype[p])}function v(l){if(!(this instanceof v))return new v(l);F.call(this,l),T.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(N){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=N,this._writableState.destroyed=N)}})},35860:(s,j,R)=>{"use strict";s.exports=I;var S=R(13054);R(56698)(I,S);function I(F){if(!(this instanceof I))return new I(F);S.call(this,F)}I.prototype._transform=function(F,T,c){c(null,F)}},6736:(s,j,R)=>{"use strict";var S=R(65606);s.exports=x;var I;x.ReadableState=J;var F=R(37007).EventEmitter,T=function(U,le){return U.listeners(le).length},c=R(71181),h=R(48287).Buffer,p=R.g.Uint8Array||function(){};function v(B){return h.from(B)}function w(B){return h.isBuffer(B)||B instanceof p}var b=R(92382),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var N=R(12389),d=R(41468),g=R(8775),f=g.getHighWaterMark,_=R(92260).F,E=_.ERR_INVALID_ARG_TYPE,P=_.ERR_STREAM_PUSH_AFTER_EOF,M=_.ERR_METHOD_NOT_IMPLEMENTED,V=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,y,K;R(56698)(x,c);var Y=d.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ie(B,U,le){if(typeof B.prependListener=="function")return B.prependListener(U,le);!B._events||!B._events[U]?B.on(U,le):Array.isArray(B._events[U])?B._events[U].unshift(le):B._events[U]=[le,B._events[U]]}function J(B,U,le){I=I||R(92818),B=B||{},typeof le!="boolean"&&(le=U instanceof I),this.objectMode=!!B.objectMode,le&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=f(this,B,"readableHighWaterMark",le),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(O||(O=R(83141).I),this.decoder=new O(B.encoding),this.encoding=B.encoding)}function x(B){if(I=I||R(92818),!(this instanceof x))return new x(B);var U=this instanceof I;this._readableState=new J(B,this,U),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),c.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(B,U){U(B)},x.prototype.push=function(B,U){var le=this._readableState,ge;return le.objectMode?ge=!0:typeof B=="string"&&(U=U||le.defaultEncoding,U!==le.encoding&&(B=h.from(B,U),U=""),ge=!0),W(this,B,U,!1,ge)},x.prototype.unshift=function(B){return W(this,B,null,!0,!1)};function W(B,U,le,ge,_e){l("readableAddChunk",U);var ye=B._readableState;if(U===null)ye.reading=!1,z(B,ye);else{var Me;if(_e||(Me=m(ye,U)),Me)Y(B,Me);else if(ye.objectMode||U&&U.length>0)if(typeof U!="string"&&!ye.objectMode&&Object.getPrototypeOf(U)!==h.prototype&&(U=v(U)),ge)ye.endEmitted?Y(B,new V):D(B,ye,U,!0);else if(ye.ended)Y(B,new P);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?D(B,ye,U,!1):ne(B,ye)):D(B,ye,U,!1)}else ge||(ye.reading=!1,ne(B,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function D(B,U,le,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,B.emit("data",le)):(U.length+=U.objectMode?1:le.length,ge?U.buffer.unshift(le):U.buffer.push(le),U.needReadable&&G(B)),ne(B,U)}function m(B,U){var le;return!w(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(le=new E("chunk",["string","Buffer","Uint8Array"],U)),le}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(B){O||(O=R(83141).I);var U=new O(B);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ge="";le!==null;)ge+=U.write(le.data),le=le.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var C=1073741824;function L(B){return B>=C?B=C:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function H(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=L(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}x.prototype.read=function(B){l("read",B),B=parseInt(B,10);var U=this._readableState,le=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return l("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?de(this):G(this),null;if(B=H(B,U),B===0&&U.ended)return U.length===0&&de(this),null;var ge=U.needReadable;l("need readable",ge),(U.length===0||U.length-B<U.highWaterMark)&&(ge=!0,l("length less than watermark",ge)),U.ended||U.reading?(ge=!1,l("reading or ended",ge)):ge&&(l("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=H(le,U)));var _e;return B>0?_e=te(B,U):_e=null,_e===null?(U.needReadable=U.length<=U.highWaterMark,B=0):(U.length-=B,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),le!==B&&U.ended&&de(this)),_e!==null&&this.emit("data",_e),_e};function z(B,U){if(l("onEofChunk"),!U.ended){if(U.decoder){var le=U.decoder.end();le&&le.length&&(U.buffer.push(le),U.length+=U.objectMode?1:le.length)}U.ended=!0,U.sync?G(B):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ee(B)))}}function G(B){var U=B._readableState;l("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(l("emitReadable",U.flowing),U.emittedReadable=!0,S.nextTick(ee,B))}function ee(B){var U=B._readableState;l("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(B.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,X(B)}function ne(B,U){U.readingMore||(U.readingMore=!0,S.nextTick(q,B,U))}function q(B,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var le=U.length;if(l("maybeReadMore read 0"),B.read(0),le===U.length)break}U.readingMore=!1}x.prototype._read=function(B){Y(this,new M("_read()"))},x.prototype.pipe=function(B,U){var le=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=B;break;case 1:ge.pipes=[ge.pipes,B];break;default:ge.pipes.push(B);break}ge.pipesCount+=1,l("pipe count=%d opts=%j",ge.pipesCount,U);var _e=(!U||U.end!==!1)&&B!==S.stdout&&B!==S.stderr,ye=_e?Be:ue;ge.endEmitted?S.nextTick(ye):le.once("end",ye),B.on("unpipe",Me);function Me(ke,Ie){l("onunpipe"),ke===le&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Je())}function Be(){l("onend"),B.end()}var Ve=se(le);B.on("drain",Ve);var _t=!1;function Je(){l("cleanup"),B.removeListener("close",ce),B.removeListener("finish",ae),B.removeListener("drain",Ve),B.removeListener("error",Rt),B.removeListener("unpipe",Me),le.removeListener("end",Be),le.removeListener("end",ue),le.removeListener("data",nt),_t=!0,ge.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ve()}le.on("data",nt);function nt(ke){l("ondata");var Ie=B.write(ke);l("dest.write",Ie),Ie===!1&&((ge.pipesCount===1&&ge.pipes===B||ge.pipesCount>1&&we(ge.pipes,B)!==-1)&&!_t&&(l("false write response, pause",ge.awaitDrain),ge.awaitDrain++),le.pause())}function Rt(ke){l("onerror",ke),ue(),B.removeListener("error",Rt),T(B,"error")===0&&Y(B,ke)}ie(B,"error",Rt);function ce(){B.removeListener("finish",ae),ue()}B.once("close",ce);function ae(){l("onfinish"),B.removeListener("close",ce),ue()}B.once("finish",ae);function ue(){l("unpipe"),le.unpipe(B)}return B.emit("pipe",le),ge.flowing||(l("pipe resume"),le.resume()),B};function se(B){return function(){var le=B._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&T(B,"data")&&(le.flowing=!0,X(B))}}x.prototype.unpipe=function(B){var U=this._readableState,le={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,le),this);if(!B){var ge=U.pipes,_e=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ye=0;ye<_e;ye++)ge[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=we(U.pipes,B);return Me===-1?this:(U.pipes.splice(Me,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,le),this)},x.prototype.on=function(B,U){var le=c.prototype.on.call(this,B,U),ge=this._readableState;return B==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):B==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,l("on readable",ge.length,ge.reading),ge.length?G(this):ge.reading||S.nextTick(Ee,this)),le},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(B,U){var le=c.prototype.removeListener.call(this,B,U);return B==="readable"&&S.nextTick(xe,this),le},x.prototype.removeAllListeners=function(B){var U=c.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&S.nextTick(xe,this),U};function xe(B){var U=B._readableState;U.readableListening=B.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:B.listenerCount("data")>0&&B.resume()}function Ee(B){l("readable nexttick read 0"),B.read(0)}x.prototype.resume=function(){var B=this._readableState;return B.flowing||(l("resume"),B.flowing=!B.readableListening,be(this,B)),B.paused=!1,this};function be(B,U){U.resumeScheduled||(U.resumeScheduled=!0,S.nextTick(Pe,B,U))}function Pe(B,U){l("resume",U.reading),U.reading||B.read(0),U.resumeScheduled=!1,B.emit("resume"),X(B),U.flowing&&!U.reading&&B.read(0)}x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var U=B._readableState;for(l("flow",U.flowing);U.flowing&&B.read()!==null;);}x.prototype.wrap=function(B){var U=this,le=this._readableState,ge=!1;B.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&U.push(Me)}U.push(null)}),B.on("data",function(Me){if(l("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var Be=U.push(Me);Be||(ge=!0,B.pause())}});for(var _e in B)this[_e]===void 0&&typeof B[_e]=="function"&&(this[_e]=function(Be){return function(){return B[Be].apply(B,arguments)}}(_e));for(var ye=0;ye<Z.length;ye++)B.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Me){l("wrapped _read",Me),ge&&(ge=!1,B.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=R(74743)),y(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),x._fromList=te,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(B,U){if(U.length===0)return null;var le;return U.objectMode?le=U.buffer.shift():!B||B>=U.length?(U.decoder?le=U.buffer.join(""):U.buffer.length===1?le=U.buffer.first():le=U.buffer.concat(U.length),U.buffer.clear()):le=U.buffer.consume(B,U.decoder),le}function de(B){var U=B._readableState;l("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,S.nextTick(he,U,B))}function he(B,U){if(l("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"),B.autoDestroy)){var le=U._writableState;(!le||le.autoDestroy&&le.finished)&&U.destroy()}}typeof Symbol=="function"&&(x.from=function(B,U){return K===void 0&&(K=R(45049)),K(x,B,U)});function we(B,U){for(var le=0,ge=B.length;le<ge;le++)if(B[le]===U)return le;return-1}},13054:(s,j,R)=>{"use strict";s.exports=v;var S=R(92260).F,I=S.ERR_METHOD_NOT_IMPLEMENTED,F=S.ERR_MULTIPLE_CALLBACK,T=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=S.ERR_TRANSFORM_WITH_LENGTH_0,h=R(92818);R(56698)(v,h);function p(l,N){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(g===null)return this.emit("error",new F);d.writechunk=null,d.writecb=null,N!=null&&this.push(N),g(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function v(l){if(!(this instanceof v))return new v(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",w)}function w(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(N,d){b(l,N,d)}):b(this,null,null)}v.prototype.push=function(l,N){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,N)},v.prototype._transform=function(l,N,d){d(new I("_transform()"))},v.prototype._write=function(l,N,d){var g=this._transformState;if(g.writecb=d,g.writechunk=l,g.writeencoding=N,!g.transforming){var f=this._readableState;(g.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},v.prototype._read=function(l){var N=this._transformState;N.writechunk!==null&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},v.prototype._destroy=function(l,N){h.prototype._destroy.call(this,l,function(d){N(d)})};function b(l,N,d){if(N)return l.emit("error",N);if(d!=null&&l.push(d),l._writableState.length)throw new c;if(l._transformState.transforming)throw new T;return l.push(null)}},62192:(s,j,R)=>{"use strict";var S=R(65606);s.exports=J;function I(X,te,de){this.chunk=X,this.encoding=te,this.callback=de,this.next=null}function F(X){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,X)}}var T;J.WritableState=Z;var c={deprecate:R(94643)},h=R(71181),p=R(48287).Buffer,v=R.g.Uint8Array||function(){};function w(X){return p.from(X)}function b(X){return p.isBuffer(X)||X instanceof v}var l=R(41468),N=R(8775),d=N.getHighWaterMark,g=R(92260).F,f=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,P=g.ERR_STREAM_CANNOT_PIPE,M=g.ERR_STREAM_DESTROYED,V=g.ERR_STREAM_NULL_VALUES,O=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,K=l.errorOrDestroy;R(56698)(J,h);function Y(){}function Z(X,te,de){T=T||R(92818),X=X||{},typeof de!="boolean"&&(de=te instanceof T),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=d(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=X.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){z(te,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new F(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,de=[];te;)de.push(te),te=te.next;return de},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(te){return ie.call(this,te)?!0:this!==J?!1:te&&te._writableState instanceof Z}})):ie=function(te){return te instanceof this};function J(X){T=T||R(92818);var te=this instanceof T;if(!te&&!ie.call(J,this))return new J(X);this._writableState=new Z(X,this,te),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),h.call(this)}J.prototype.pipe=function(){K(this,new P)};function x(X,te){var de=new O;K(X,de),S.nextTick(te,de)}function W(X,te,de,he){var we;return de===null?we=new V:typeof de!="string"&&!te.objectMode&&(we=new f("chunk",["string","Buffer"],de)),we?(K(X,we),S.nextTick(he,we),!1):!0}J.prototype.write=function(X,te,de){var he=this._writableState,we=!1,B=!he.objectMode&&b(X);return B&&!p.isBuffer(X)&&(X=w(X)),typeof te=="function"&&(de=te,te=null),B?te="buffer":te||(te=he.defaultEncoding),typeof de!="function"&&(de=Y),he.ending?x(this,de):(B||W(this,he,X,de))&&(he.pendingcb++,we=m(this,he,B,X,te,de)),we},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ne(this,X))},J.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(X,te,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof te=="string"&&(te=p.from(te,de)),te}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(X,te,de,he,we,B){if(!de){var U=D(te,he,we);he!==U&&(de=!0,we="buffer",he=U)}var le=te.objectMode?1:he.length;te.length+=le;var ge=te.length<te.highWaterMark;if(ge||(te.needDrain=!0),te.writing||te.corked){var _e=te.lastBufferedRequest;te.lastBufferedRequest={chunk:he,encoding:we,isBuf:de,callback:B,next:null},_e?_e.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else C(X,te,!1,le,he,we,B);return ge}function C(X,te,de,he,we,B,U){te.writelen=he,te.writecb=U,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new M("write")):de?X._writev(we,te.onwrite):X._write(we,B,te.onwrite),te.sync=!1}function L(X,te,de,he,we){--te.pendingcb,de?(S.nextTick(we,he),S.nextTick(Ee,X,te),X._writableState.errorEmitted=!0,K(X,he)):(we(he),X._writableState.errorEmitted=!0,K(X,he),Ee(X,te))}function H(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function z(X,te){var de=X._writableState,he=de.sync,we=de.writecb;if(typeof we!="function")throw new E;if(H(de),te)L(X,de,he,te,we);else{var B=q(de)||X.destroyed;!B&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&ne(X,de),he?S.nextTick(G,X,de,B,we):G(X,de,B,we)}}function G(X,te,de,he){de||ee(X,te),te.pendingcb--,he(),Ee(X,te)}function ee(X,te){te.length===0&&te.needDrain&&(te.needDrain=!1,X.emit("drain"))}function ne(X,te){te.bufferProcessing=!0;var de=te.bufferedRequest;if(X._writev&&de&&de.next){var he=te.bufferedRequestCount,we=new Array(he),B=te.corkedRequestsFree;B.entry=de;for(var U=0,le=!0;de;)we[U]=de,de.isBuf||(le=!1),de=de.next,U+=1;we.allBuffers=le,C(X,te,!0,te.length,we,"",B.finish),te.pendingcb++,te.lastBufferedRequest=null,B.next?(te.corkedRequestsFree=B.next,B.next=null):te.corkedRequestsFree=new F(te),te.bufferedRequestCount=0}else{for(;de;){var ge=de.chunk,_e=de.encoding,ye=de.callback,Me=te.objectMode?1:ge.length;if(C(X,te,!1,Me,ge,_e,ye),de=de.next,te.bufferedRequestCount--,te.writing)break}de===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=de,te.bufferProcessing=!1}J.prototype._write=function(X,te,de){de(new _("_write()"))},J.prototype._writev=null,J.prototype.end=function(X,te,de){var he=this._writableState;return typeof X=="function"?(de=X,X=null,te=null):typeof te=="function"&&(de=te,te=null),X!=null&&this.write(X,te),he.corked&&(he.corked=1,this.uncork()),he.ending||be(this,he,de),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function se(X,te){X._final(function(de){te.pendingcb--,de&&K(X,de),te.prefinished=!0,X.emit("prefinish"),Ee(X,te)})}function xe(X,te){!te.prefinished&&!te.finalCalled&&(typeof X._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(se,X,te)):(te.prefinished=!0,X.emit("prefinish")))}function Ee(X,te){var de=q(te);if(de&&(xe(X,te),te.pendingcb===0&&(te.finished=!0,X.emit("finish"),te.autoDestroy))){var he=X._readableState;(!he||he.autoDestroy&&he.endEmitted)&&X.destroy()}return de}function be(X,te,de){te.ending=!0,Ee(X,te),de&&(te.finished?S.nextTick(de):X.once("finish",de)),te.ended=!0,X.writable=!1}function Pe(X,te,de){var he=X.entry;for(X.entry=null;he;){var we=he.callback;te.pendingcb--,we(de),he=he.next}te.corkedRequestsFree.next=X}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(X,te){te(X)}},74743:(s,j,R)=>{"use strict";var S=R(65606),I;function F(M,V,O){return V in M?Object.defineProperty(M,V,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[V]=O,M}var T=R(45826),c=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),v=Symbol("ended"),w=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function N(M,V){return{value:M,done:V}}function d(M){var V=M[c];if(V!==null){var O=M[l].read();O!==null&&(M[w]=null,M[c]=null,M[h]=null,V(N(O,!1)))}}function g(M){S.nextTick(d,M)}function f(M,V){return function(O,y){M.then(function(){if(V[v]){O(N(void 0,!0));return}V[b](O,y)},y)}}var _=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[l]},next:function(){var V=this,O=this[p];if(O!==null)return Promise.reject(O);if(this[v])return Promise.resolve(N(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ie){S.nextTick(function(){V[p]?ie(V[p]):Z(N(void 0,!0))})});var y=this[w],K;if(y)K=new Promise(f(y,this));else{var Y=this[l].read();if(Y!==null)return Promise.resolve(N(Y,!1));K=new Promise(this[b])}return this[w]=K,K}},F(I,Symbol.asyncIterator,function(){return this}),F(I,"return",function(){var V=this;return new Promise(function(O,y){V[l].destroy(null,function(K){if(K){y(K);return}O(N(void 0,!0))})})}),I),_),P=function(V){var O,y=Object.create(E,(O={},F(O,l,{value:V,writable:!0}),F(O,c,{value:null,writable:!0}),F(O,h,{value:null,writable:!0}),F(O,p,{value:null,writable:!0}),F(O,v,{value:V._readableState.endEmitted,writable:!0}),F(O,b,{value:function(Y,Z){var ie=y[l].read();ie?(y[w]=null,y[c]=null,y[h]=null,Y(N(ie,!1))):(y[c]=Y,y[h]=Z)},writable:!0}),O));return y[w]=null,T(V,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=y[h];Y!==null&&(y[w]=null,y[c]=null,y[h]=null,Y(K)),y[p]=K;return}var Z=y[c];Z!==null&&(y[w]=null,y[c]=null,y[h]=null,Z(N(void 0,!0))),y[v]=!0}),V.on("readable",g.bind(null,y)),y};s.exports=P},12389:(s,j,R)=>{"use strict";function S(d,g){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(d);g&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),f.push.apply(f,_)}return f}function I(d){for(var g=1;g<arguments.length;g++){var f=arguments[g]!=null?arguments[g]:{};g%2?S(Object(f),!0).forEach(function(_){F(d,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):S(Object(f)).forEach(function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(f,_))})}return d}function F(d,g,f){return g in d?Object.defineProperty(d,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[g]=f,d}function T(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function c(d,g){for(var f=0;f<g.length;f++){var _=g[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}function h(d,g,f){return g&&c(d.prototype,g),f&&c(d,f),d}var p=R(48287),v=p.Buffer,w=R(8460),b=w.inspect,l=b&&b.custom||"inspect";function N(d,g,f){v.prototype.copy.call(d,g,f)}s.exports=function(){function d(){T(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(f){var _={data:f,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(f){var _={data:f,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var _=this.head,E=""+_.data;_=_.next;)E+=f+_.data;return E}},{key:"concat",value:function(f){if(this.length===0)return v.alloc(0);for(var _=v.allocUnsafe(f>>>0),E=this.head,P=0;E;)N(E.data,_,P),P+=E.data.length,E=E.next;return _}},{key:"consume",value:function(f,_){var E;return f<this.head.data.length?(E=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?E=this.shift():E=_?this._getString(f):this._getBuffer(f),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var _=this.head,E=1,P=_.data;for(f-=P.length;_=_.next;){var M=_.data,V=f>M.length?M.length:f;if(V===M.length?P+=M:P+=M.slice(0,f),f-=V,f===0){V===M.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(V));break}++E}return this.length-=E,P}},{key:"_getBuffer",value:function(f){var _=v.allocUnsafe(f),E=this.head,P=1;for(E.data.copy(_),f-=E.data.length;E=E.next;){var M=E.data,V=f>M.length?M.length:f;if(M.copy(_,_.length-f,0,V),f-=V,f===0){V===M.length?(++P,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=M.slice(V));break}++P}return this.length-=P,_}},{key:l,value:function(f,_){return b(this,I({},_,{depth:0,customInspect:!1}))}}]),d}()},41468:(s,j,R)=>{"use strict";var S=R(65606);function I(v,w){var b=this,l=this._readableState&&this._readableState.destroyed,N=this._writableState&&this._writableState.destroyed;return l||N?(w?w(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(h,this,v)):S.nextTick(h,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(d){!w&&d?b._writableState?b._writableState.errorEmitted?S.nextTick(T,b):(b._writableState.errorEmitted=!0,S.nextTick(F,b,d)):S.nextTick(F,b,d):w?(S.nextTick(T,b),w(d)):S.nextTick(T,b)}),this)}function F(v,w){h(v,w),T(v)}function T(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(v,w){v.emit("error",w)}function p(v,w){var b=v._readableState,l=v._writableState;b&&b.autoDestroy||l&&l.autoDestroy?v.destroy(w):v.emit("error",w)}s.exports={destroy:I,undestroy:c,errorOrDestroy:p}},45826:(s,j,R)=>{"use strict";var S=R(92260).F.ERR_STREAM_PREMATURE_CLOSE;function I(h){var p=!1;return function(){if(!p){p=!0;for(var v=arguments.length,w=new Array(v),b=0;b<v;b++)w[b]=arguments[b];h.apply(this,w)}}}function F(){}function T(h){return h.setHeader&&typeof h.abort=="function"}function c(h,p,v){if(typeof p=="function")return c(h,null,p);p||(p={}),v=I(v||F);var w=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||d()},N=h._writableState&&h._writableState.finished,d=function(){b=!1,N=!0,w||v.call(h)},g=h._readableState&&h._readableState.endEmitted,f=function(){w=!1,g=!0,b||v.call(h)},_=function(V){v.call(h,V)},E=function(){var V;if(w&&!g)return(!h._readableState||!h._readableState.ended)&&(V=new S),v.call(h,V);if(b&&!N)return(!h._writableState||!h._writableState.ended)&&(V=new S),v.call(h,V)},P=function(){h.req.on("finish",d)};return T(h)?(h.on("complete",d),h.on("abort",E),h.req?P():h.on("request",P)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",f),h.on("finish",d),p.error!==!1&&h.on("error",_),h.on("close",E),function(){h.removeListener("complete",d),h.removeListener("abort",E),h.removeListener("request",P),h.req&&h.req.removeListener("finish",d),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",d),h.removeListener("end",f),h.removeListener("error",_),h.removeListener("close",E)}}s.exports=c},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,j,R)=>{"use strict";var S;function I(d){var g=!1;return function(){g||(g=!0,d.apply(void 0,arguments))}}var F=R(92260).F,T=F.ERR_MISSING_ARGS,c=F.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function p(d){return d.setHeader&&typeof d.abort=="function"}function v(d,g,f,_){_=I(_);var E=!1;d.on("close",function(){E=!0}),S===void 0&&(S=R(45826)),S(d,{readable:g,writable:f},function(M){if(M)return _(M);E=!0,_()});var P=!1;return function(M){if(!E&&!P){if(P=!0,p(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();_(M||new c("pipe"))}}}function w(d){d()}function b(d,g){return d.pipe(g)}function l(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function N(){for(var d=arguments.length,g=new Array(d),f=0;f<d;f++)g[f]=arguments[f];var _=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new T("streams");var E,P=g.map(function(M,V){var O=V<g.length-1,y=V>0;return v(M,O,y,function(K){E||(E=K),K&&P.forEach(w),!O&&(P.forEach(w),_(E))})});return g.reduce(b)}s.exports=N},8775:(s,j,R)=>{"use strict";var S=R(92260).F.ERR_INVALID_OPT_VALUE;function I(T,c,h){return T.highWaterMark!=null?T.highWaterMark:c?T[h]:null}function F(T,c,h,p){var v=I(c,p,h);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var w=p?h:"highWaterMark";throw new S(w,v)}return Math.floor(v)}return T.objectMode?16:16384}s.exports={getHighWaterMark:F}},71181:(s,j,R)=>{s.exports=R(37007).EventEmitter},61603:(s,j,R)=>{j=s.exports=R(6736),j.Stream=j,j.Readable=j,j.Writable=R(62192),j.Duplex=R(92818),j.Transform=R(13054),j.PassThrough=R(35860),j.finished=R(45826),j.pipeline=R(29434)},77952:(s,j,R)=>{var S=j;S.utils=R(67426),S.common=R(66166),S.sha=R(46229),S.ripemd=R(46784),S.hmac=R(28948),S.sha1=S.sha.sha1,S.sha256=S.sha.sha256,S.sha224=S.sha.sha224,S.sha384=S.sha.sha384,S.sha512=S.sha.sha512,S.ripemd160=S.ripemd.ripemd160},66166:(s,j,R)=>{"use strict";var S=R(67426),I=R(43349);function F(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=F,F.prototype.update=function(c,h){if(c=S.toArray(c,h),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){c=this.pending;var p=c.length%this._delta8;this.pending=c.slice(c.length-p,c.length),this.pending.length===0&&(this.pending=null),c=S.join32(c,0,c.length-p,this.endian);for(var v=0;v<c.length;v+=this._delta32)this._update(c,v,v+this._delta32)}return this},F.prototype.digest=function(c){return this.update(this._pad()),I(this.pending===null),this._digest(c)},F.prototype._pad=function(){var c=this.pendingTotal,h=this._delta8,p=h-(c+this.padLength)%h,v=new Array(p+this.padLength);v[0]=128;for(var w=1;w<p;w++)v[w]=0;if(c<<=3,this.endian==="big"){for(var b=8;b<this.padLength;b++)v[w++]=0;v[w++]=0,v[w++]=0,v[w++]=0,v[w++]=0,v[w++]=c>>>24&255,v[w++]=c>>>16&255,v[w++]=c>>>8&255,v[w++]=c&255}else for(v[w++]=c&255,v[w++]=c>>>8&255,v[w++]=c>>>16&255,v[w++]=c>>>24&255,v[w++]=0,v[w++]=0,v[w++]=0,v[w++]=0,b=8;b<this.padLength;b++)v[w++]=0;return v}},28948:(s,j,R)=>{"use strict";var S=R(67426),I=R(43349);function F(T,c,h){if(!(this instanceof F))return new F(T,c,h);this.Hash=T,this.blockSize=T.blockSize/8,this.outSize=T.outSize/8,this.inner=null,this.outer=null,this._init(S.toArray(c,h))}s.exports=F,F.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),I(c.length<=this.blockSize);for(var h=c.length;h<this.blockSize;h++)c.push(0);for(h=0;h<c.length;h++)c[h]^=54;for(this.inner=new this.Hash().update(c),h=0;h<c.length;h++)c[h]^=106;this.outer=new this.Hash().update(c)},F.prototype.update=function(c,h){return this.inner.update(c,h),this},F.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},46784:(s,j,R)=>{"use strict";var S=R(67426),I=R(66166),F=S.rotl32,T=S.sum32,c=S.sum32_3,h=S.sum32_4,p=I.BlockHash;function v(){if(!(this instanceof v))return new v;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}S.inherits(v,p),j.ripemd160=v,v.blockSize=512,v.outSize=160,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(E,P){for(var M=this.h[0],V=this.h[1],O=this.h[2],y=this.h[3],K=this.h[4],Y=M,Z=V,ie=O,J=y,x=K,W=0;W<80;W++){var D=T(F(h(M,w(W,V,O,y),E[N[W]+P],b(W)),g[W]),K);M=K,K=y,y=F(O,10),O=V,V=D,D=T(F(h(Y,w(79-W,Z,ie,J),E[d[W]+P],l(W)),f[W]),x),Y=x,x=J,J=F(ie,10),ie=Z,Z=D}D=c(this.h[1],O,J),this.h[1]=c(this.h[2],y,x),this.h[2]=c(this.h[3],K,Y),this.h[3]=c(this.h[4],M,Z),this.h[4]=c(this.h[0],V,ie),this.h[0]=D},v.prototype._digest=function(E){return E==="hex"?S.toHex32(this.h,"little"):S.split32(this.h,"little")};function w(_,E,P,M){return _<=15?E^P^M:_<=31?E&P|~E&M:_<=47?(E|~P)^M:_<=63?E&M|P&~M:E^(P|~M)}function b(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function l(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var N=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,j,R)=>{"use strict";j.sha1=R(43917),j.sha224=R(47714),j.sha256=R(2287),j.sha384=R(21911),j.sha512=R(57766)},43917:(s,j,R)=>{"use strict";var S=R(67426),I=R(66166),F=R(66225),T=S.rotl32,c=S.sum32,h=S.sum32_5,p=F.ft_1,v=I.BlockHash,w=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}S.inherits(b,v),s.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(N,d){for(var g=this.W,f=0;f<16;f++)g[f]=N[d+f];for(;f<g.length;f++)g[f]=T(g[f-3]^g[f-8]^g[f-14]^g[f-16],1);var _=this.h[0],E=this.h[1],P=this.h[2],M=this.h[3],V=this.h[4];for(f=0;f<g.length;f++){var O=~~(f/20),y=h(T(_,5),p(O,E,P,M),V,g[f],w[O]);V=M,M=P,P=T(E,30),E=_,_=y}this.h[0]=c(this.h[0],_),this.h[1]=c(this.h[1],E),this.h[2]=c(this.h[2],P),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],V)},b.prototype._digest=function(N){return N==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")}},47714:(s,j,R)=>{"use strict";var S=R(67426),I=R(2287);function F(){if(!(this instanceof F))return new F;I.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}S.inherits(F,I),s.exports=F,F.blockSize=512,F.outSize=224,F.hmacStrength=192,F.padLength=64,F.prototype._digest=function(c){return c==="hex"?S.toHex32(this.h.slice(0,7),"big"):S.split32(this.h.slice(0,7),"big")}},2287:(s,j,R)=>{"use strict";var S=R(67426),I=R(66166),F=R(66225),T=R(43349),c=S.sum32,h=S.sum32_4,p=S.sum32_5,v=F.ch32,w=F.maj32,b=F.s0_256,l=F.s1_256,N=F.g0_256,d=F.g1_256,g=I.BlockHash,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=f,this.W=new Array(64)}S.inherits(_,g),s.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(P,M){for(var V=this.W,O=0;O<16;O++)V[O]=P[M+O];for(;O<V.length;O++)V[O]=h(d(V[O-2]),V[O-7],N(V[O-15]),V[O-16]);var y=this.h[0],K=this.h[1],Y=this.h[2],Z=this.h[3],ie=this.h[4],J=this.h[5],x=this.h[6],W=this.h[7];for(T(this.k.length===V.length),O=0;O<V.length;O++){var D=p(W,l(ie),v(ie,J,x),this.k[O],V[O]),m=c(b(y),w(y,K,Y));W=x,x=J,J=ie,ie=c(Z,D),Z=Y,Y=K,K=y,y=c(D,m)}this.h[0]=c(this.h[0],y),this.h[1]=c(this.h[1],K),this.h[2]=c(this.h[2],Y),this.h[3]=c(this.h[3],Z),this.h[4]=c(this.h[4],ie),this.h[5]=c(this.h[5],J),this.h[6]=c(this.h[6],x),this.h[7]=c(this.h[7],W)},_.prototype._digest=function(P){return P==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")}},21911:(s,j,R)=>{"use strict";var S=R(67426),I=R(57766);function F(){if(!(this instanceof F))return new F;I.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}S.inherits(F,I),s.exports=F,F.blockSize=1024,F.outSize=384,F.hmacStrength=192,F.padLength=128,F.prototype._digest=function(c){return c==="hex"?S.toHex32(this.h.slice(0,12),"big"):S.split32(this.h.slice(0,12),"big")}},57766:(s,j,R)=>{"use strict";var S=R(67426),I=R(66166),F=R(43349),T=S.rotr64_hi,c=S.rotr64_lo,h=S.shr64_hi,p=S.shr64_lo,v=S.sum64,w=S.sum64_hi,b=S.sum64_lo,l=S.sum64_4_hi,N=S.sum64_4_lo,d=S.sum64_5_hi,g=S.sum64_5_lo,f=I.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;f.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}S.inherits(E,f),s.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(m,C){for(var L=this.W,H=0;H<32;H++)L[H]=m[C+H];for(;H<L.length;H+=2){var z=x(L[H-4],L[H-3]),G=W(L[H-4],L[H-3]),ee=L[H-14],ne=L[H-13],q=ie(L[H-30],L[H-29]),se=J(L[H-30],L[H-29]),xe=L[H-32],Ee=L[H-31];L[H]=l(z,G,ee,ne,q,se,xe,Ee),L[H+1]=N(z,G,ee,ne,q,se,xe,Ee)}},E.prototype._update=function(m,C){this._prepareBlock(m,C);var L=this.W,H=this.h[0],z=this.h[1],G=this.h[2],ee=this.h[3],ne=this.h[4],q=this.h[5],se=this.h[6],xe=this.h[7],Ee=this.h[8],be=this.h[9],Pe=this.h[10],X=this.h[11],te=this.h[12],de=this.h[13],he=this.h[14],we=this.h[15];F(this.k.length===L.length);for(var B=0;B<L.length;B+=2){var U=he,le=we,ge=Y(Ee,be),_e=Z(Ee,be),ye=P(Ee,be,Pe,X,te,de),Me=M(Ee,be,Pe,X,te,de),Be=this.k[B],Ve=this.k[B+1],_t=L[B],Je=L[B+1],nt=d(U,le,ge,_e,ye,Me,Be,Ve,_t,Je),Rt=g(U,le,ge,_e,ye,Me,Be,Ve,_t,Je);U=y(H,z),le=K(H,z),ge=V(H,z,G,ee,ne,q),_e=O(H,z,G,ee,ne,q);var ce=w(U,le,ge,_e),ae=b(U,le,ge,_e);he=te,we=de,te=Pe,de=X,Pe=Ee,X=be,Ee=w(se,xe,nt,Rt),be=b(xe,xe,nt,Rt),se=ne,xe=q,ne=G,q=ee,G=H,ee=z,H=w(nt,Rt,ce,ae),z=b(nt,Rt,ce,ae)}v(this.h,0,H,z),v(this.h,2,G,ee),v(this.h,4,ne,q),v(this.h,6,se,xe),v(this.h,8,Ee,be),v(this.h,10,Pe,X),v(this.h,12,te,de),v(this.h,14,he,we)},E.prototype._digest=function(m){return m==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")};function P(D,m,C,L,H){var z=D&C^~D&H;return z<0&&(z+=4294967296),z}function M(D,m,C,L,H,z){var G=m&L^~m&z;return G<0&&(G+=4294967296),G}function V(D,m,C,L,H){var z=D&C^D&H^C&H;return z<0&&(z+=4294967296),z}function O(D,m,C,L,H,z){var G=m&L^m&z^L&z;return G<0&&(G+=4294967296),G}function y(D,m){var C=T(D,m,28),L=T(m,D,2),H=T(m,D,7),z=C^L^H;return z<0&&(z+=4294967296),z}function K(D,m){var C=c(D,m,28),L=c(m,D,2),H=c(m,D,7),z=C^L^H;return z<0&&(z+=4294967296),z}function Y(D,m){var C=T(D,m,14),L=T(D,m,18),H=T(m,D,9),z=C^L^H;return z<0&&(z+=4294967296),z}function Z(D,m){var C=c(D,m,14),L=c(D,m,18),H=c(m,D,9),z=C^L^H;return z<0&&(z+=4294967296),z}function ie(D,m){var C=T(D,m,1),L=T(D,m,8),H=h(D,m,7),z=C^L^H;return z<0&&(z+=4294967296),z}function J(D,m){var C=c(D,m,1),L=c(D,m,8),H=p(D,m,7),z=C^L^H;return z<0&&(z+=4294967296),z}function x(D,m){var C=T(D,m,19),L=T(m,D,29),H=h(D,m,6),z=C^L^H;return z<0&&(z+=4294967296),z}function W(D,m){var C=c(D,m,19),L=c(m,D,29),H=p(D,m,6),z=C^L^H;return z<0&&(z+=4294967296),z}},66225:(s,j,R)=>{"use strict";var S=R(67426),I=S.rotr32;function F(l,N,d,g){if(l===0)return T(N,d,g);if(l===1||l===3)return h(N,d,g);if(l===2)return c(N,d,g)}j.ft_1=F;function T(l,N,d){return l&N^~l&d}j.ch32=T;function c(l,N,d){return l&N^l&d^N&d}j.maj32=c;function h(l,N,d){return l^N^d}j.p32=h;function p(l){return I(l,2)^I(l,13)^I(l,22)}j.s0_256=p;function v(l){return I(l,6)^I(l,11)^I(l,25)}j.s1_256=v;function w(l){return I(l,7)^I(l,18)^l>>>3}j.g0_256=w;function b(l){return I(l,17)^I(l,19)^l>>>10}j.g1_256=b},67426:(s,j,R)=>{"use strict";var S=R(43349),I=R(56698);j.inherits=I;function F(W,D){return(W.charCodeAt(D)&64512)!==55296||D<0||D+1>=W.length?!1:(W.charCodeAt(D+1)&64512)===56320}function T(W,D){if(Array.isArray(W))return W.slice();if(!W)return[];var m=[];if(typeof W=="string")if(D){if(D==="hex")for(W=W.replace(/[^a-z0-9]+/ig,""),W.length%2!==0&&(W="0"+W),L=0;L<W.length;L+=2)m.push(parseInt(W[L]+W[L+1],16))}else for(var C=0,L=0;L<W.length;L++){var H=W.charCodeAt(L);H<128?m[C++]=H:H<2048?(m[C++]=H>>6|192,m[C++]=H&63|128):F(W,L)?(H=65536+((H&1023)<<10)+(W.charCodeAt(++L)&1023),m[C++]=H>>18|240,m[C++]=H>>12&63|128,m[C++]=H>>6&63|128,m[C++]=H&63|128):(m[C++]=H>>12|224,m[C++]=H>>6&63|128,m[C++]=H&63|128)}else for(L=0;L<W.length;L++)m[L]=W[L]|0;return m}j.toArray=T;function c(W){for(var D="",m=0;m<W.length;m++)D+=v(W[m].toString(16));return D}j.toHex=c;function h(W){var D=W>>>24|W>>>8&65280|W<<8&16711680|(W&255)<<24;return D>>>0}j.htonl=h;function p(W,D){for(var m="",C=0;C<W.length;C++){var L=W[C];D==="little"&&(L=h(L)),m+=w(L.toString(16))}return m}j.toHex32=p;function v(W){return W.length===1?"0"+W:W}j.zero2=v;function w(W){return W.length===7?"0"+W:W.length===6?"00"+W:W.length===5?"000"+W:W.length===4?"0000"+W:W.length===3?"00000"+W:W.length===2?"000000"+W:W.length===1?"0000000"+W:W}j.zero8=w;function b(W,D,m,C){var L=m-D;S(L%4===0);for(var H=new Array(L/4),z=0,G=D;z<H.length;z++,G+=4){var ee;C==="big"?ee=W[G]<<24|W[G+1]<<16|W[G+2]<<8|W[G+3]:ee=W[G+3]<<24|W[G+2]<<16|W[G+1]<<8|W[G],H[z]=ee>>>0}return H}j.join32=b;function l(W,D){for(var m=new Array(W.length*4),C=0,L=0;C<W.length;C++,L+=4){var H=W[C];D==="big"?(m[L]=H>>>24,m[L+1]=H>>>16&255,m[L+2]=H>>>8&255,m[L+3]=H&255):(m[L+3]=H>>>24,m[L+2]=H>>>16&255,m[L+1]=H>>>8&255,m[L]=H&255)}return m}j.split32=l;function N(W,D){return W>>>D|W<<32-D}j.rotr32=N;function d(W,D){return W<<D|W>>>32-D}j.rotl32=d;function g(W,D){return W+D>>>0}j.sum32=g;function f(W,D,m){return W+D+m>>>0}j.sum32_3=f;function _(W,D,m,C){return W+D+m+C>>>0}j.sum32_4=_;function E(W,D,m,C,L){return W+D+m+C+L>>>0}j.sum32_5=E;function P(W,D,m,C){var L=W[D],H=W[D+1],z=C+H>>>0,G=(z<C?1:0)+m+L;W[D]=G>>>0,W[D+1]=z}j.sum64=P;function M(W,D,m,C){var L=D+C>>>0,H=(L<D?1:0)+W+m;return H>>>0}j.sum64_hi=M;function V(W,D,m,C){var L=D+C;return L>>>0}j.sum64_lo=V;function O(W,D,m,C,L,H,z,G){var ee=0,ne=D;ne=ne+C>>>0,ee+=ne<D?1:0,ne=ne+H>>>0,ee+=ne<H?1:0,ne=ne+G>>>0,ee+=ne<G?1:0;var q=W+m+L+z+ee;return q>>>0}j.sum64_4_hi=O;function y(W,D,m,C,L,H,z,G){var ee=D+C+H+G;return ee>>>0}j.sum64_4_lo=y;function K(W,D,m,C,L,H,z,G,ee,ne){var q=0,se=D;se=se+C>>>0,q+=se<D?1:0,se=se+H>>>0,q+=se<H?1:0,se=se+G>>>0,q+=se<G?1:0,se=se+ne>>>0,q+=se<ne?1:0;var xe=W+m+L+z+ee+q;return xe>>>0}j.sum64_5_hi=K;function Y(W,D,m,C,L,H,z,G,ee,ne){var q=D+C+H+G+ne;return q>>>0}j.sum64_5_lo=Y;function Z(W,D,m){var C=D<<32-m|W>>>m;return C>>>0}j.rotr64_hi=Z;function ie(W,D,m){var C=W<<32-m|D>>>m;return C>>>0}j.rotr64_lo=ie;function J(W,D,m){return W>>>m}j.shr64_hi=J;function x(W,D,m){var C=W<<32-m|D>>>m;return C>>>0}j.shr64_lo=x},9957:(s,j,R)=>{"use strict";var S=Function.prototype.call,I=Object.prototype.hasOwnProperty,F=R(63639);s.exports=F.call(S,I)},74921:s=>{"use strict";var j="Function.prototype.bind called on incompatible ",R=Object.prototype.toString,S=Math.max,I="[object Function]",F=function(p,v){for(var w=[],b=0;b<p.length;b+=1)w[b]=p[b];for(var l=0;l<v.length;l+=1)w[l+p.length]=v[l];return w},T=function(p,v){for(var w=[],b=v||0,l=0;b<p.length;b+=1,l+=1)w[l]=p[b];return w},c=function(h,p){for(var v="",w=0;w<h.length;w+=1)v+=h[w],w+1<h.length&&(v+=p);return v};s.exports=function(p){var v=this;if(typeof v!="function"||R.apply(v)!==I)throw new TypeError(j+v);for(var w=T(arguments,1),b,l=function(){if(this instanceof b){var _=v.apply(this,F(w,arguments));return Object(_)===_?_:this}return v.apply(p,F(w,arguments))},N=S(0,v.length-w.length),d=[],g=0;g<N;g++)d[g]="$"+g;if(b=Function("binder","return function ("+c(d,",")+"){ return binder.apply(this,arguments); }")(l),v.prototype){var f=function(){};f.prototype=v.prototype,b.prototype=new f,f.prototype=null}return b}},63639:(s,j,R)=>{"use strict";var S=R(74921);s.exports=Function.prototype.bind||S},32723:(s,j,R)=>{"use strict";var S=R(77952),I=R(64367),F=R(43349);function T(c){if(!(this instanceof T))return new T(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=I.toArray(c.entropy,c.entropyEnc||"hex"),p=I.toArray(c.nonce,c.nonceEnc||"hex"),v=I.toArray(c.pers,c.persEnc||"hex");F(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,p,v)}s.exports=T,T.prototype._init=function(h,p,v){var w=h.concat(p).concat(v);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var b=0;b<this.V.length;b++)this.K[b]=0,this.V[b]=1;this._update(w),this._reseed=1,this.reseedInterval=281474976710656},T.prototype._hmac=function(){return new S.hmac(this.hash,this.K)},T.prototype._update=function(h){var p=this._hmac().update(this.V).update([0]);h&&(p=p.update(h)),this.K=p.digest(),this.V=this._hmac().update(this.V).digest(),h&&(this.K=this._hmac().update(this.V).update([1]).update(h).digest(),this.V=this._hmac().update(this.V).digest())},T.prototype.reseed=function(h,p,v,w){typeof p!="string"&&(w=v,v=p,p=null),h=I.toArray(h,p),v=I.toArray(v,w),F(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(h.concat(v||[])),this._reseed=1},T.prototype.generate=function(h,p,v,w){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof p!="string"&&(w=v,v=p,p=null),v&&(v=I.toArray(v,w||"hex"),this._update(v));for(var b=[];b.length<h;)this.V=this._hmac().update(this.V).digest(),b=b.concat(this.V);var l=b.slice(0,h);return this._update(v),this._reseed++,I.encode(l,p)}},251:(s,j)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j.read=function(R,S,I,F,T){var c,h,p=T*8-F-1,v=(1<<p)-1,w=v>>1,b=-7,l=I?T-1:0,N=I?-1:1,d=R[S+l];for(l+=N,c=d&(1<<-b)-1,d>>=-b,b+=p;b>0;c=c*256+R[S+l],l+=N,b-=8);for(h=c&(1<<-b)-1,c>>=-b,b+=F;b>0;h=h*256+R[S+l],l+=N,b-=8);if(c===0)c=1-w;else{if(c===v)return h?NaN:(d?-1:1)*(1/0);h=h+Math.pow(2,F),c=c-w}return(d?-1:1)*h*Math.pow(2,c-F)},j.write=function(R,S,I,F,T,c){var h,p,v,w=c*8-T-1,b=(1<<w)-1,l=b>>1,N=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=F?0:c-1,g=F?1:-1,f=S<0||S===0&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(p=isNaN(S)?1:0,h=b):(h=Math.floor(Math.log(S)/Math.LN2),S*(v=Math.pow(2,-h))<1&&(h--,v*=2),h+l>=1?S+=N/v:S+=N*Math.pow(2,1-l),S*v>=2&&(h++,v/=2),h+l>=b?(p=0,h=b):h+l>=1?(p=(S*v-1)*Math.pow(2,T),h=h+l):(p=S*Math.pow(2,l-1)*Math.pow(2,T),h=0));T>=8;R[I+d]=p&255,d+=g,p/=256,T-=8);for(h=h<<T|p,w+=T;w>0;R[I+d]=h&255,d+=g,h/=256,w-=8);R[I+d-g]|=f*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(R,S){S&&(R.super_=S,R.prototype=Object.create(S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(R,S){if(S){R.super_=S;var I=function(){};I.prototype=S.prototype,R.prototype=new I,R.prototype.constructor=R}}},69600:s=>{"use strict";var j=Function.prototype.toString,R=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,S,I;if(typeof R=="function"&&typeof Object.defineProperty=="function")try{S=Object.defineProperty({},"length",{get:function(){throw I}}),I={},R(function(){throw 42},null,S)}catch(E){E!==I&&(R=null)}else R=null;var F=/^\s*class\b/,T=function(P){try{var M=j.call(P);return F.test(M)}catch{return!1}},c=function(P){try{return T(P)?!1:(j.call(P),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",v="[object Function]",w="[object GeneratorFunction]",b="[object HTMLAllCollection]",l="[object HTML document.all class]",N="[object HTMLCollection]",d=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),f=function(){return!1};if(typeof document=="object"){var _=document.all;h.call(_)===h.call(document.all)&&(f=function(P){if((g||!P)&&(typeof P=="undefined"||typeof P=="object"))try{var M=h.call(P);return(M===b||M===l||M===N||M===p)&&P("")==null}catch{}return!1})}s.exports=R?function(P){if(f(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{R(P,null,S)}catch(M){if(M!==I)return!1}return!T(P)&&c(P)}:function(P){if(f(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(d)return c(P);if(T(P))return!1;var M=h.call(P);return M!==v&&M!==w&&!/^\[object HTML/.test(M)?!1:c(P)}},35680:(s,j,R)=>{"use strict";var S=R(25767);s.exports=function(F){return!!S(F)}},64634:s=>{var j={}.toString;s.exports=Array.isArray||function(R){return j.call(R)=="[object Array]"}},69749:(s,j,R)=>{"use strict";const S=R(28799),I=Symbol("max"),F=Symbol("length"),T=Symbol("lengthCalculator"),c=Symbol("allowStale"),h=Symbol("maxAge"),p=Symbol("dispose"),v=Symbol("noDisposeOnSet"),w=Symbol("lruList"),b=Symbol("cache"),l=Symbol("updateAgeOnGet"),N=()=>1;class d{constructor(O){if(typeof O=="number"&&(O={max:O}),O||(O={}),O.max&&(typeof O.max!="number"||O.max<0))throw new TypeError("max must be a non-negative number");const y=this[I]=O.max||1/0,K=O.length||N;if(this[T]=typeof K!="function"?N:K,this[c]=O.stale||!1,O.maxAge&&typeof O.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=O.maxAge||0,this[p]=O.dispose,this[v]=O.noDisposeOnSet||!1,this[l]=O.updateAgeOnGet||!1,this.reset()}set max(O){if(typeof O!="number"||O<0)throw new TypeError("max must be a non-negative number");this[I]=O||1/0,_(this)}get max(){return this[I]}set allowStale(O){this[c]=!!O}get allowStale(){return this[c]}set maxAge(O){if(typeof O!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=O,_(this)}get maxAge(){return this[h]}set lengthCalculator(O){typeof O!="function"&&(O=N),O!==this[T]&&(this[T]=O,this[F]=0,this[w].forEach(y=>{y.length=this[T](y.value,y.key),this[F]+=y.length})),_(this)}get lengthCalculator(){return this[T]}get length(){return this[F]}get itemCount(){return this[w].length}rforEach(O,y){y=y||this;for(let K=this[w].tail;K!==null;){const Y=K.prev;M(this,O,K,y),K=Y}}forEach(O,y){y=y||this;for(let K=this[w].head;K!==null;){const Y=K.next;M(this,O,K,y),K=Y}}keys(){return this[w].toArray().map(O=>O.key)}values(){return this[w].toArray().map(O=>O.value)}reset(){this[p]&&this[w]&&this[w].length&&this[w].forEach(O=>this[p](O.key,O.value)),this[b]=new Map,this[w]=new S,this[F]=0}dump(){return this[w].map(O=>f(this,O)?!1:{k:O.key,v:O.value,e:O.now+(O.maxAge||0)}).toArray().filter(O=>O)}dumpLru(){return this[w]}set(O,y,K){if(K=K||this[h],K&&typeof K!="number")throw new TypeError("maxAge must be a number");const Y=K?Date.now():0,Z=this[T](y,O);if(this[b].has(O)){if(Z>this[I])return E(this,this[b].get(O)),!1;const x=this[b].get(O).value;return this[p]&&(this[v]||this[p](O,x.value)),x.now=Y,x.maxAge=K,x.value=y,this[F]+=Z-x.length,x.length=Z,this.get(O),_(this),!0}const ie=new P(O,y,Z,Y,K);return ie.length>this[I]?(this[p]&&this[p](O,y),!1):(this[F]+=ie.length,this[w].unshift(ie),this[b].set(O,this[w].head),_(this),!0)}has(O){if(!this[b].has(O))return!1;const y=this[b].get(O).value;return!f(this,y)}get(O){return g(this,O,!0)}peek(O){return g(this,O,!1)}pop(){const O=this[w].tail;return O?(E(this,O),O.value):null}del(O){E(this,this[b].get(O))}load(O){this.reset();const y=Date.now();for(let K=O.length-1;K>=0;K--){const Y=O[K],Z=Y.e||0;if(Z===0)this.set(Y.k,Y.v);else{const ie=Z-y;ie>0&&this.set(Y.k,Y.v,ie)}}}prune(){this[b].forEach((O,y)=>g(this,y,!1))}}const g=(V,O,y)=>{const K=V[b].get(O);if(K){const Y=K.value;if(f(V,Y)){if(E(V,K),!V[c])return}else y&&(V[l]&&(K.value.now=Date.now()),V[w].unshiftNode(K));return Y.value}},f=(V,O)=>{if(!O||!O.maxAge&&!V[h])return!1;const y=Date.now()-O.now;return O.maxAge?y>O.maxAge:V[h]&&y>V[h]},_=V=>{if(V[F]>V[I])for(let O=V[w].tail;V[F]>V[I]&&O!==null;){const y=O.prev;E(V,O),O=y}},E=(V,O)=>{if(O){const y=O.value;V[p]&&V[p](y.key,y.value),V[F]-=y.length,V[b].delete(y.key),V[w].removeNode(O)}};class P{constructor(O,y,K,Y,Z){this.key=O,this.value=y,this.length=K,this.now=Y,this.maxAge=Z||0}}const M=(V,O,y,K)=>{let Y=y.value;f(V,Y)&&(E(V,y),V[c]||(Y=void 0)),Y&&O.call(K,Y.value,Y.key,V)};s.exports=d},71514:s=>{"use strict";s.exports=Math.abs},58968:s=>{"use strict";s.exports=Math.floor},94459:s=>{"use strict";s.exports=Number.isNaN||function(R){return R!==R}},6188:s=>{"use strict";s.exports=Math.max},68002:s=>{"use strict";s.exports=Math.min},75880:s=>{"use strict";s.exports=Math.pow},70414:s=>{"use strict";s.exports=Math.round},73093:(s,j,R)=>{"use strict";var S=R(94459);s.exports=function(F){return S(F)||F===0?F:F<0?-1:1}},88276:(s,j,R)=>{"use strict";var S=R(56698),I=R(4729),F=R(92861).Buffer,T=new Array(16);function c(){I.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}S(c,I),c.prototype._update=function(){for(var l=T,N=0;N<16;++N)l[N]=this._block.readInt32LE(N*4);var d=this._a,g=this._b,f=this._c,_=this._d;d=p(d,g,f,_,l[0],3614090360,7),_=p(_,d,g,f,l[1],3905402710,12),f=p(f,_,d,g,l[2],606105819,17),g=p(g,f,_,d,l[3],3250441966,22),d=p(d,g,f,_,l[4],4118548399,7),_=p(_,d,g,f,l[5],1200080426,12),f=p(f,_,d,g,l[6],2821735955,17),g=p(g,f,_,d,l[7],4249261313,22),d=p(d,g,f,_,l[8],1770035416,7),_=p(_,d,g,f,l[9],2336552879,12),f=p(f,_,d,g,l[10],4294925233,17),g=p(g,f,_,d,l[11],2304563134,22),d=p(d,g,f,_,l[12],1804603682,7),_=p(_,d,g,f,l[13],4254626195,12),f=p(f,_,d,g,l[14],2792965006,17),g=p(g,f,_,d,l[15],1236535329,22),d=v(d,g,f,_,l[1],4129170786,5),_=v(_,d,g,f,l[6],3225465664,9),f=v(f,_,d,g,l[11],643717713,14),g=v(g,f,_,d,l[0],3921069994,20),d=v(d,g,f,_,l[5],3593408605,5),_=v(_,d,g,f,l[10],38016083,9),f=v(f,_,d,g,l[15],3634488961,14),g=v(g,f,_,d,l[4],3889429448,20),d=v(d,g,f,_,l[9],568446438,5),_=v(_,d,g,f,l[14],3275163606,9),f=v(f,_,d,g,l[3],4107603335,14),g=v(g,f,_,d,l[8],1163531501,20),d=v(d,g,f,_,l[13],2850285829,5),_=v(_,d,g,f,l[2],4243563512,9),f=v(f,_,d,g,l[7],1735328473,14),g=v(g,f,_,d,l[12],2368359562,20),d=w(d,g,f,_,l[5],4294588738,4),_=w(_,d,g,f,l[8],2272392833,11),f=w(f,_,d,g,l[11],1839030562,16),g=w(g,f,_,d,l[14],4259657740,23),d=w(d,g,f,_,l[1],2763975236,4),_=w(_,d,g,f,l[4],1272893353,11),f=w(f,_,d,g,l[7],4139469664,16),g=w(g,f,_,d,l[10],3200236656,23),d=w(d,g,f,_,l[13],681279174,4),_=w(_,d,g,f,l[0],3936430074,11),f=w(f,_,d,g,l[3],3572445317,16),g=w(g,f,_,d,l[6],76029189,23),d=w(d,g,f,_,l[9],3654602809,4),_=w(_,d,g,f,l[12],3873151461,11),f=w(f,_,d,g,l[15],530742520,16),g=w(g,f,_,d,l[2],3299628645,23),d=b(d,g,f,_,l[0],4096336452,6),_=b(_,d,g,f,l[7],1126891415,10),f=b(f,_,d,g,l[14],2878612391,15),g=b(g,f,_,d,l[5],4237533241,21),d=b(d,g,f,_,l[12],1700485571,6),_=b(_,d,g,f,l[3],2399980690,10),f=b(f,_,d,g,l[10],4293915773,15),g=b(g,f,_,d,l[1],2240044497,21),d=b(d,g,f,_,l[8],1873313359,6),_=b(_,d,g,f,l[15],4264355552,10),f=b(f,_,d,g,l[6],2734768916,15),g=b(g,f,_,d,l[13],1309151649,21),d=b(d,g,f,_,l[4],4149444226,6),_=b(_,d,g,f,l[11],3174756917,10),f=b(f,_,d,g,l[2],718787259,15),g=b(g,f,_,d,l[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+g|0,this._c=this._c+f|0,this._d=this._d+_|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=F.allocUnsafe(16);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l};function h(l,N){return l<<N|l>>>32-N}function p(l,N,d,g,f,_,E){return h(l+(N&d|~N&g)+f+_|0,E)+N|0}function v(l,N,d,g,f,_,E){return h(l+(N&g|d&~g)+f+_|0,E)+N|0}function w(l,N,d,g,f,_,E){return h(l+(N^d^g)+f+_|0,E)+N|0}function b(l,N,d,g,f,_,E){return h(l+(d^(N|~g))+f+_|0,E)+N|0}s.exports=c},52244:(s,j,R)=>{var S=R(39404),I=R(15037);function F(T){this.rand=T||new I.Rand}s.exports=F,F.create=function(c){return new F(c)},F.prototype._randbelow=function(c){var h=c.bitLength(),p=Math.ceil(h/8);do var v=new S(this.rand.generate(p));while(v.cmp(c)>=0);return v},F.prototype._randrange=function(c,h){var p=h.sub(c);return c.add(this._randbelow(p))},F.prototype.test=function(c,h,p){var v=c.bitLength(),w=S.mont(c),b=new S(1).toRed(w);h||(h=Math.max(1,v/48|0));for(var l=c.subn(1),N=0;!l.testn(N);N++);for(var d=c.shrn(N),g=l.toRed(w),f=!0;h>0;h--){var _=this._randrange(new S(2),l);p&&p(_);var E=_.toRed(w).redPow(d);if(!(E.cmp(b)===0||E.cmp(g)===0)){for(var P=1;P<N;P++){if(E=E.redSqr(),E.cmp(b)===0)return!1;if(E.cmp(g)===0)break}if(P===N)return!1}}return f},F.prototype.getDivisor=function(c,h){var p=c.bitLength(),v=S.mont(c),w=new S(1).toRed(v);h||(h=Math.max(1,p/48|0));for(var b=c.subn(1),l=0;!b.testn(l);l++);for(var N=c.shrn(l),d=b.toRed(v);h>0;h--){var g=this._randrange(new S(2),b),f=c.gcd(g);if(f.cmpn(1)!==0)return f;var _=g.toRed(v).redPow(N);if(!(_.cmp(w)===0||_.cmp(d)===0)){for(var E=1;E<l;E++){if(_=_.redSqr(),_.cmp(w)===0)return _.fromRed().subn(1).gcd(c);if(_.cmp(d)===0)break}if(E===l)return _=_.redSqr(),_.fromRed().subn(1).gcd(c)}}return!1}},43349:s=>{s.exports=j;function j(R,S){if(!R)throw new Error(S||"Assertion failed")}j.equal=function(S,I,F){if(S!=I)throw new Error(F||"Assertion failed: "+S+" != "+I)}},64367:(s,j)=>{"use strict";var R=j;function S(T,c){if(Array.isArray(T))return T.slice();if(!T)return[];var h=[];if(typeof T!="string"){for(var p=0;p<T.length;p++)h[p]=T[p]|0;return h}if(c==="hex"){T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T);for(var p=0;p<T.length;p+=2)h.push(parseInt(T[p]+T[p+1],16))}else for(var p=0;p<T.length;p++){var v=T.charCodeAt(p),w=v>>8,b=v&255;w?h.push(w,b):h.push(b)}return h}R.toArray=S;function I(T){return T.length===1?"0"+T:T}R.zero2=I;function F(T){for(var c="",h=0;h<T.length;h++)c+=I(T[h].toString(16));return c}R.toHex=F,R.encode=function(c,h){return h==="hex"?F(c):c}},21137:(s,j,R)=>{"use strict";var S=R(87568);j.certificate=R(36413);var I=S.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=I;var F=S.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=F;var T=S.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});j.PublicKey=T;var c=S.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),h=S.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});j.PrivateKey=h;var p=S.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=p;var v=S.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=v,j.DSAparam=S.define("DSAparam",function(){this.int()});var w=S.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=w;var b=S.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});j.signature=S.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,j,R)=>{"use strict";var S=R(87568),I=S.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),F=S.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),T=S.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=S.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())}),h=S.define("RelativeDistinguishedName",function(){this.setof(F)}),p=S.define("RDNSequence",function(){this.seqof(h)}),v=S.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),w=S.define("Validity",function(){this.seq().obj(this.key("notBefore").use(I),this.key("notAfter").use(I))}),b=S.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=S.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(T),this.key("issuer").use(v),this.key("validity").use(w),this.key("subject").use(v),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),N=S.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(T),this.key("signatureValue").bitstr())});s.exports=N},24101:(s,j,R)=>{var S=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,I=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,F=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,T=R(68078),c=R(1241),h=R(92861).Buffer;s.exports=function(p,v){var w=p.toString(),b=w.match(S),l;if(b){var d="aes"+b[1],g=h.from(b[2],"hex"),f=h.from(b[3].replace(/[\r\n]/g,""),"base64"),_=T(v,g.slice(0,8),parseInt(b[1],10)).key,E=[],P=c.createDecipheriv(d,_,g);E.push(P.update(f)),E.push(P.final()),l=h.concat(E)}else{var N=w.match(F);l=h.from(N[2].replace(/[\r\n]/g,""),"base64")}var M=w.match(I)[1];return{tag:M,data:l}}},78170:(s,j,R)=>{var S=R(21137),I=R(15579),F=R(24101),T=R(1241),c=R(78396),h=R(92861).Buffer;s.exports=p;function p(w){var b;typeof w=="object"&&!h.isBuffer(w)&&(b=w.passphrase,w=w.key),typeof w=="string"&&(w=h.from(w));var l=F(w,b),N=l.tag,d=l.data,g,f;switch(N){case"CERTIFICATE":f=S.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=S.PublicKey.decode(d,"der")),g=f.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return S.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=S.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":d=S.EncryptedPrivateKey.decode(d,"der"),d=v(d,b);case"PRIVATE KEY":switch(f=S.PrivateKey.decode(d,"der"),g=f.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return S.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:S.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=S.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return S.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return S.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:S.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=S.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+N)}}p.signature=S.signature;function v(w,b){var l=w.algorithm.decrypt.kde.kdeparams.salt,N=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=I[w.algorithm.decrypt.cipher.algo.join(".")],g=w.algorithm.decrypt.cipher.iv,f=w.subjectPrivateKey,_=parseInt(d.split("-")[1],10)/8,E=c.pbkdf2Sync(b,l,N,_,"sha1"),P=T.createDecipheriv(d,E,g),M=[];return M.push(P.update(f)),M.push(P.final()),h.concat(M)}},57975:(s,j,R)=>{"use strict";var S=R(65606);function I(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}function F(h,p){for(var v="",w=0,b=-1,l=0,N,d=0;d<=h.length;++d){if(d<h.length)N=h.charCodeAt(d);else{if(N===47)break;N=47}if(N===47){if(!(b===d-1||l===1))if(b!==d-1&&l===2){if(v.length<2||w!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var g=v.lastIndexOf("/");if(g!==v.length-1){g===-1?(v="",w=0):(v=v.slice(0,g),w=v.length-1-v.lastIndexOf("/")),b=d,l=0;continue}}else if(v.length===2||v.length===1){v="",w=0,b=d,l=0;continue}}p&&(v.length>0?v+="/..":v="..",w=2)}else v.length>0?v+="/"+h.slice(b+1,d):v=h.slice(b+1,d),w=d-b-1;b=d,l=0}else N===46&&l!==-1?++l:l=-1}return v}function T(h,p){var v=p.dir||p.root,w=p.base||(p.name||"")+(p.ext||"");return v?v===p.root?v+w:v+h+w:w}var c={resolve:function(){for(var p="",v=!1,w,b=arguments.length-1;b>=-1&&!v;b--){var l;b>=0?l=arguments[b]:(w===void 0&&(w=S.cwd()),l=w),I(l),l.length!==0&&(p=l+"/"+p,v=l.charCodeAt(0)===47)}return p=F(p,!v),v?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(p){if(I(p),p.length===0)return".";var v=p.charCodeAt(0)===47,w=p.charCodeAt(p.length-1)===47;return p=F(p,!v),p.length===0&&!v&&(p="."),p.length>0&&w&&(p+="/"),v?"/"+p:p},isAbsolute:function(p){return I(p),p.length>0&&p.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var p,v=0;v<arguments.length;++v){var w=arguments[v];I(w),w.length>0&&(p===void 0?p=w:p+="/"+w)}return p===void 0?".":c.normalize(p)},relative:function(p,v){if(I(p),I(v),p===v||(p=c.resolve(p),v=c.resolve(v),p===v))return"";for(var w=1;w<p.length&&p.charCodeAt(w)===47;++w);for(var b=p.length,l=b-w,N=1;N<v.length&&v.charCodeAt(N)===47;++N);for(var d=v.length,g=d-N,f=l<g?l:g,_=-1,E=0;E<=f;++E){if(E===f){if(g>f){if(v.charCodeAt(N+E)===47)return v.slice(N+E+1);if(E===0)return v.slice(N+E)}else l>f&&(p.charCodeAt(w+E)===47?_=E:E===0&&(_=0));break}var P=p.charCodeAt(w+E),M=v.charCodeAt(N+E);if(P!==M)break;P===47&&(_=E)}var V="";for(E=w+_+1;E<=b;++E)(E===b||p.charCodeAt(E)===47)&&(V.length===0?V+="..":V+="/..");return V.length>0?V+v.slice(N+_):(N+=_,v.charCodeAt(N)===47&&++N,v.slice(N))},_makeLong:function(p){return p},dirname:function(p){if(I(p),p.length===0)return".";for(var v=p.charCodeAt(0),w=v===47,b=-1,l=!0,N=p.length-1;N>=1;--N)if(v=p.charCodeAt(N),v===47){if(!l){b=N;break}}else l=!1;return b===-1?w?"/":".":w&&b===1?"//":p.slice(0,b)},basename:function(p,v){if(v!==void 0&&typeof v!="string")throw new TypeError('"ext" argument must be a string');I(p);var w=0,b=-1,l=!0,N;if(v!==void 0&&v.length>0&&v.length<=p.length){if(v.length===p.length&&v===p)return"";var d=v.length-1,g=-1;for(N=p.length-1;N>=0;--N){var f=p.charCodeAt(N);if(f===47){if(!l){w=N+1;break}}else g===-1&&(l=!1,g=N+1),d>=0&&(f===v.charCodeAt(d)?--d===-1&&(b=N):(d=-1,b=g))}return w===b?b=g:b===-1&&(b=p.length),p.slice(w,b)}else{for(N=p.length-1;N>=0;--N)if(p.charCodeAt(N)===47){if(!l){w=N+1;break}}else b===-1&&(l=!1,b=N+1);return b===-1?"":p.slice(w,b)}},extname:function(p){I(p);for(var v=-1,w=0,b=-1,l=!0,N=0,d=p.length-1;d>=0;--d){var g=p.charCodeAt(d);if(g===47){if(!l){w=d+1;break}continue}b===-1&&(l=!1,b=d+1),g===46?v===-1?v=d:N!==1&&(N=1):v!==-1&&(N=-1)}return v===-1||b===-1||N===0||N===1&&v===b-1&&v===w+1?"":p.slice(v,b)},format:function(p){if(p===null||typeof p!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof p);return T("/",p)},parse:function(p){I(p);var v={root:"",dir:"",base:"",ext:"",name:""};if(p.length===0)return v;var w=p.charCodeAt(0),b=w===47,l;b?(v.root="/",l=1):l=0;for(var N=-1,d=0,g=-1,f=!0,_=p.length-1,E=0;_>=l;--_){if(w=p.charCodeAt(_),w===47){if(!f){d=_+1;break}continue}g===-1&&(f=!1,g=_+1),w===46?N===-1?N=_:E!==1&&(E=1):N!==-1&&(E=-1)}return N===-1||g===-1||E===0||E===1&&N===g-1&&N===d+1?g!==-1&&(d===0&&b?v.base=v.name=p.slice(1,g):v.base=v.name=p.slice(d,g)):(d===0&&b?(v.name=p.slice(1,N),v.base=p.slice(1,g)):(v.name=p.slice(d,N),v.base=p.slice(d,g)),v.ext=p.slice(N,g)),d>0?v.dir=p.slice(0,d-1):b&&(v.dir="/"),v},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,s.exports=c},78396:(s,j,R)=>{"use strict";j.pbkdf2=R(43832),j.pbkdf2Sync=R(21352)},43832:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(64196),F=R(2455),T=R(21352),c=R(93382),h,p=R.g.crypto&&R.g.crypto.subtle,v={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},w=[],b;function l(){return b||(R.g.process&&R.g.process.nextTick?b=R.g.process.nextTick:R.g.queueMicrotask?b=R.g.queueMicrotask:R.g.setImmediate?b=R.g.setImmediate:b=R.g.setTimeout,b)}function N(f,_,E,P,M){return p.importKey("raw",f,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return p.deriveBits({name:"PBKDF2",salt:_,iterations:E,hash:{name:M}},V,P<<3)}).then(function(V){return S.from(V)})}function d(f){if(R.g.process&&!R.g.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(w[f]!==void 0)return w[f];h=h||S.alloc(8);var _=N(h,h,10,128,f).then(function(){return!0},function(){return!1});return w[f]=_,_}function g(f,_){f.then(function(E){l()(function(){_(null,E)})},function(E){l()(function(){_(E)})})}s.exports=function(f,_,E,P,M,V){typeof M=="function"&&(V=M,M=void 0),M=M||"sha1";var O=v[M.toLowerCase()];if(!O||typeof R.g.Promise!="function"){l()(function(){var y;try{y=T(f,_,E,P,M)}catch(K){V(K);return}V(null,y)});return}if(I(E,P),f=c(f,F,"Password"),_=c(_,F,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");g(d(O).then(function(y){return y?N(f,_,E,P,O):T(f,_,E,P,M)}),V)}},2455:(s,j,R)=>{"use strict";var S=R(65606),I;if(R.g.process&&R.g.process.browser)I="utf-8";else if(R.g.process&&R.g.process.version){var F=parseInt(S.version.split(".")[0].slice(1),10);I=F>=6?"utf-8":"binary"}else I="utf-8";s.exports=I},64196:s=>{"use strict";var j=Math.pow(2,30)-1;s.exports=function(R,S){if(typeof R!="number")throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if(typeof S!="number")throw new TypeError("Key length not a number");if(S<0||S>j||S!==S)throw new TypeError("Bad key length")}},21352:(s,j,R)=>{"use strict";var S=R(6211),I=R(54304),F=R(62802),T=R(92861).Buffer,c=R(64196),h=R(2455),p=R(93382),v=T.alloc(128),w={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},b={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function l(f){return new I().update(f).digest()}function N(f){function _(E){return F(f).update(E).digest()}return f==="rmd160"||f==="ripemd160"?l:f==="md5"?S:_}function d(f,_,E){var P=N(f),M=f==="sha512"||f==="sha384"?128:64;_.length>M?_=P(_):_.length<M&&(_=T.concat([_,v],M));for(var V=T.allocUnsafe(M+w[f]),O=T.allocUnsafe(M+w[f]),y=0;y<M;y++)V[y]=_[y]^54,O[y]=_[y]^92;var K=T.allocUnsafe(M+E+4);V.copy(K,0,0,M),this.ipad1=K,this.ipad2=V,this.opad=O,this.alg=f,this.blocksize=M,this.hash=P,this.size=w[f]}d.prototype.run=function(f,_){f.copy(_,this.blocksize);var E=this.hash(_);return E.copy(this.opad,this.blocksize),this.hash(this.opad)};function g(f,_,E,P,M){c(E,P),f=p(f,h,"Password"),_=p(_,h,"Salt");var V=(M||"sha1").toLowerCase(),O=b[V]||V,y=w[O];if(typeof y!="number"||!y)throw new TypeError("Digest algorithm not supported: "+M);var K=new d(O,f,_.length),Y=T.allocUnsafe(P),Z=T.allocUnsafe(_.length+4);_.copy(Z,0,0,_.length);for(var ie=0,J=y,x=Math.ceil(P/J),W=1;W<=x;W++){Z.writeUInt32BE(W,_.length);for(var D=K.run(Z,K.ipad1),m=D,C=1;C<E;C++){m=K.run(m,K.ipad2);for(var L=0;L<J;L++)D[L]^=m[L]}D.copy(Y,ie),ie+=J}return Y}s.exports=g},93382:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(15377),F=typeof Uint8Array!="undefined",T=F&&typeof ArrayBuffer!="undefined",c=T&&ArrayBuffer.isView;s.exports=function(h,p,v){if(typeof h=="string"||S.isBuffer(h)||F&&h instanceof Uint8Array||c&&c(h))return I(h,p);throw new TypeError(v+" must be a string, a Buffer, a Uint8Array, or a DataView")}},52786:(s,j,R)=>{"use strict";var S=R(48287).Buffer,I=4,F=new S(I);F.fill(0);var T=8,c=16;function h(p){if(p.length%I!==0){var v=p.length+(I-p.length%I);p=S.concat([p,F],v)}for(var w=new Array(p.length>>>2),b=0,l=0;b<p.length;b+=I,l++)w[l]=p.readInt32LE(b);return w}s.exports=function(v,w){var b=w(h(v),v.length*T);v=new S(c);for(var l=0;l<b.length;l++)v.writeInt32LE(b[l],l<<2,!0);return v}},6211:(s,j,R)=>{"use strict";var S=R(52786);function I(b,l){b[l>>5]|=128<<l%32,b[(l+64>>>9<<4)+14]=l;for(var N=1732584193,d=-271733879,g=-1732584194,f=271733878,_=0;_<b.length;_+=16){var E=N,P=d,M=g,V=f;N=T(N,d,g,f,b[_+0],7,-680876936),f=T(f,N,d,g,b[_+1],12,-389564586),g=T(g,f,N,d,b[_+2],17,606105819),d=T(d,g,f,N,b[_+3],22,-1044525330),N=T(N,d,g,f,b[_+4],7,-176418897),f=T(f,N,d,g,b[_+5],12,1200080426),g=T(g,f,N,d,b[_+6],17,-1473231341),d=T(d,g,f,N,b[_+7],22,-45705983),N=T(N,d,g,f,b[_+8],7,1770035416),f=T(f,N,d,g,b[_+9],12,-1958414417),g=T(g,f,N,d,b[_+10],17,-42063),d=T(d,g,f,N,b[_+11],22,-1990404162),N=T(N,d,g,f,b[_+12],7,1804603682),f=T(f,N,d,g,b[_+13],12,-40341101),g=T(g,f,N,d,b[_+14],17,-1502002290),d=T(d,g,f,N,b[_+15],22,1236535329),N=c(N,d,g,f,b[_+1],5,-165796510),f=c(f,N,d,g,b[_+6],9,-1069501632),g=c(g,f,N,d,b[_+11],14,643717713),d=c(d,g,f,N,b[_+0],20,-373897302),N=c(N,d,g,f,b[_+5],5,-701558691),f=c(f,N,d,g,b[_+10],9,38016083),g=c(g,f,N,d,b[_+15],14,-660478335),d=c(d,g,f,N,b[_+4],20,-405537848),N=c(N,d,g,f,b[_+9],5,568446438),f=c(f,N,d,g,b[_+14],9,-1019803690),g=c(g,f,N,d,b[_+3],14,-187363961),d=c(d,g,f,N,b[_+8],20,1163531501),N=c(N,d,g,f,b[_+13],5,-1444681467),f=c(f,N,d,g,b[_+2],9,-51403784),g=c(g,f,N,d,b[_+7],14,1735328473),d=c(d,g,f,N,b[_+12],20,-1926607734),N=h(N,d,g,f,b[_+5],4,-378558),f=h(f,N,d,g,b[_+8],11,-2022574463),g=h(g,f,N,d,b[_+11],16,1839030562),d=h(d,g,f,N,b[_+14],23,-35309556),N=h(N,d,g,f,b[_+1],4,-1530992060),f=h(f,N,d,g,b[_+4],11,1272893353),g=h(g,f,N,d,b[_+7],16,-155497632),d=h(d,g,f,N,b[_+10],23,-1094730640),N=h(N,d,g,f,b[_+13],4,681279174),f=h(f,N,d,g,b[_+0],11,-358537222),g=h(g,f,N,d,b[_+3],16,-722521979),d=h(d,g,f,N,b[_+6],23,76029189),N=h(N,d,g,f,b[_+9],4,-640364487),f=h(f,N,d,g,b[_+12],11,-421815835),g=h(g,f,N,d,b[_+15],16,530742520),d=h(d,g,f,N,b[_+2],23,-995338651),N=p(N,d,g,f,b[_+0],6,-198630844),f=p(f,N,d,g,b[_+7],10,1126891415),g=p(g,f,N,d,b[_+14],15,-1416354905),d=p(d,g,f,N,b[_+5],21,-57434055),N=p(N,d,g,f,b[_+12],6,1700485571),f=p(f,N,d,g,b[_+3],10,-1894986606),g=p(g,f,N,d,b[_+10],15,-1051523),d=p(d,g,f,N,b[_+1],21,-2054922799),N=p(N,d,g,f,b[_+8],6,1873313359),f=p(f,N,d,g,b[_+15],10,-30611744),g=p(g,f,N,d,b[_+6],15,-1560198380),d=p(d,g,f,N,b[_+13],21,1309151649),N=p(N,d,g,f,b[_+4],6,-145523070),f=p(f,N,d,g,b[_+11],10,-1120210379),g=p(g,f,N,d,b[_+2],15,718787259),d=p(d,g,f,N,b[_+9],21,-343485551),N=v(N,E),d=v(d,P),g=v(g,M),f=v(f,V)}return[N,d,g,f]}function F(b,l,N,d,g,f){return v(w(v(v(l,b),v(d,f)),g),N)}function T(b,l,N,d,g,f,_){return F(l&N|~l&d,b,l,g,f,_)}function c(b,l,N,d,g,f,_){return F(l&d|N&~d,b,l,g,f,_)}function h(b,l,N,d,g,f,_){return F(l^N^d,b,l,g,f,_)}function p(b,l,N,d,g,f,_){return F(N^(l|~d),b,l,g,f,_)}function v(b,l){var N=(b&65535)+(l&65535),d=(b>>16)+(l>>16)+(N>>16);return d<<16|N&65535}function w(b,l){return b<<l|b>>>32-l}s.exports=function(l){return S(l,I)}},83706:(s,j,R)=>{"use strict";var S=R(48287).Buffer,I=R(88310).Transform,F=R(56698);function T(c){I.call(this),this._block=new S(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}F(T,I),T.prototype._transform=function(c,h,p){var v=null;try{h!=="buffer"&&(c=new S(c,h)),this.update(c)}catch(w){v=w}p(v)},T.prototype._flush=function(c){var h=null;try{this.push(this._digest())}catch(p){h=p}c(h)},T.prototype.update=function(c,h){if(!S.isBuffer(c)&&typeof c!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");S.isBuffer(c)||(c=new S(c,h||"binary"));for(var p=this._block,v=0;this._blockOffset+c.length-v>=this._blockSize;){for(var w=this._blockOffset;w<this._blockSize;)p[w++]=c[v++];this._update(),this._blockOffset=0}for(;v<c.length;)p[this._blockOffset++]=c[v++];for(var b=0,l=c.length*8;l>0;++b)this._length[b]+=l,l=this._length[b]/4294967296|0,l>0&&(this._length[b]-=4294967296*l);return this},T.prototype._update=function(c){throw new Error("_update is not implemented")},T.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var h=this._digest();return c!==void 0&&(h=h.toString(c)),h},T.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=T},54304:(s,j,R)=>{"use strict";var S=R(48287).Buffer,I=R(56698),F=R(83706);function T(){F.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}I(T,F),T.prototype._update=function(){for(var l=new Array(16),N=0;N<16;++N)l[N]=this._block.readInt32LE(N*4);var d=this._a,g=this._b,f=this._c,_=this._d,E=this._e;d=h(d,g,f,_,E,l[0],0,11),f=c(f,10),E=h(E,d,g,f,_,l[1],0,14),g=c(g,10),_=h(_,E,d,g,f,l[2],0,15),d=c(d,10),f=h(f,_,E,d,g,l[3],0,12),E=c(E,10),g=h(g,f,_,E,d,l[4],0,5),_=c(_,10),d=h(d,g,f,_,E,l[5],0,8),f=c(f,10),E=h(E,d,g,f,_,l[6],0,7),g=c(g,10),_=h(_,E,d,g,f,l[7],0,9),d=c(d,10),f=h(f,_,E,d,g,l[8],0,11),E=c(E,10),g=h(g,f,_,E,d,l[9],0,13),_=c(_,10),d=h(d,g,f,_,E,l[10],0,14),f=c(f,10),E=h(E,d,g,f,_,l[11],0,15),g=c(g,10),_=h(_,E,d,g,f,l[12],0,6),d=c(d,10),f=h(f,_,E,d,g,l[13],0,7),E=c(E,10),g=h(g,f,_,E,d,l[14],0,9),_=c(_,10),d=h(d,g,f,_,E,l[15],0,8),f=c(f,10),E=p(E,d,g,f,_,l[7],1518500249,7),g=c(g,10),_=p(_,E,d,g,f,l[4],1518500249,6),d=c(d,10),f=p(f,_,E,d,g,l[13],1518500249,8),E=c(E,10),g=p(g,f,_,E,d,l[1],1518500249,13),_=c(_,10),d=p(d,g,f,_,E,l[10],1518500249,11),f=c(f,10),E=p(E,d,g,f,_,l[6],1518500249,9),g=c(g,10),_=p(_,E,d,g,f,l[15],1518500249,7),d=c(d,10),f=p(f,_,E,d,g,l[3],1518500249,15),E=c(E,10),g=p(g,f,_,E,d,l[12],1518500249,7),_=c(_,10),d=p(d,g,f,_,E,l[0],1518500249,12),f=c(f,10),E=p(E,d,g,f,_,l[9],1518500249,15),g=c(g,10),_=p(_,E,d,g,f,l[5],1518500249,9),d=c(d,10),f=p(f,_,E,d,g,l[2],1518500249,11),E=c(E,10),g=p(g,f,_,E,d,l[14],1518500249,7),_=c(_,10),d=p(d,g,f,_,E,l[11],1518500249,13),f=c(f,10),E=p(E,d,g,f,_,l[8],1518500249,12),g=c(g,10),_=v(_,E,d,g,f,l[3],1859775393,11),d=c(d,10),f=v(f,_,E,d,g,l[10],1859775393,13),E=c(E,10),g=v(g,f,_,E,d,l[14],1859775393,6),_=c(_,10),d=v(d,g,f,_,E,l[4],1859775393,7),f=c(f,10),E=v(E,d,g,f,_,l[9],1859775393,14),g=c(g,10),_=v(_,E,d,g,f,l[15],1859775393,9),d=c(d,10),f=v(f,_,E,d,g,l[8],1859775393,13),E=c(E,10),g=v(g,f,_,E,d,l[1],1859775393,15),_=c(_,10),d=v(d,g,f,_,E,l[2],1859775393,14),f=c(f,10),E=v(E,d,g,f,_,l[7],1859775393,8),g=c(g,10),_=v(_,E,d,g,f,l[0],1859775393,13),d=c(d,10),f=v(f,_,E,d,g,l[6],1859775393,6),E=c(E,10),g=v(g,f,_,E,d,l[13],1859775393,5),_=c(_,10),d=v(d,g,f,_,E,l[11],1859775393,12),f=c(f,10),E=v(E,d,g,f,_,l[5],1859775393,7),g=c(g,10),_=v(_,E,d,g,f,l[12],1859775393,5),d=c(d,10),f=w(f,_,E,d,g,l[1],2400959708,11),E=c(E,10),g=w(g,f,_,E,d,l[9],2400959708,12),_=c(_,10),d=w(d,g,f,_,E,l[11],2400959708,14),f=c(f,10),E=w(E,d,g,f,_,l[10],2400959708,15),g=c(g,10),_=w(_,E,d,g,f,l[0],2400959708,14),d=c(d,10),f=w(f,_,E,d,g,l[8],2400959708,15),E=c(E,10),g=w(g,f,_,E,d,l[12],2400959708,9),_=c(_,10),d=w(d,g,f,_,E,l[4],2400959708,8),f=c(f,10),E=w(E,d,g,f,_,l[13],2400959708,9),g=c(g,10),_=w(_,E,d,g,f,l[3],2400959708,14),d=c(d,10),f=w(f,_,E,d,g,l[7],2400959708,5),E=c(E,10),g=w(g,f,_,E,d,l[15],2400959708,6),_=c(_,10),d=w(d,g,f,_,E,l[14],2400959708,8),f=c(f,10),E=w(E,d,g,f,_,l[5],2400959708,6),g=c(g,10),_=w(_,E,d,g,f,l[6],2400959708,5),d=c(d,10),f=w(f,_,E,d,g,l[2],2400959708,12),E=c(E,10),g=b(g,f,_,E,d,l[4],2840853838,9),_=c(_,10),d=b(d,g,f,_,E,l[0],2840853838,15),f=c(f,10),E=b(E,d,g,f,_,l[5],2840853838,5),g=c(g,10),_=b(_,E,d,g,f,l[9],2840853838,11),d=c(d,10),f=b(f,_,E,d,g,l[7],2840853838,6),E=c(E,10),g=b(g,f,_,E,d,l[12],2840853838,8),_=c(_,10),d=b(d,g,f,_,E,l[2],2840853838,13),f=c(f,10),E=b(E,d,g,f,_,l[10],2840853838,12),g=c(g,10),_=b(_,E,d,g,f,l[14],2840853838,5),d=c(d,10),f=b(f,_,E,d,g,l[1],2840853838,12),E=c(E,10),g=b(g,f,_,E,d,l[3],2840853838,13),_=c(_,10),d=b(d,g,f,_,E,l[8],2840853838,14),f=c(f,10),E=b(E,d,g,f,_,l[11],2840853838,11),g=c(g,10),_=b(_,E,d,g,f,l[6],2840853838,8),d=c(d,10),f=b(f,_,E,d,g,l[15],2840853838,5),E=c(E,10),g=b(g,f,_,E,d,l[13],2840853838,6),_=c(_,10);var P=this._a,M=this._b,V=this._c,O=this._d,y=this._e;P=b(P,M,V,O,y,l[5],1352829926,8),V=c(V,10),y=b(y,P,M,V,O,l[14],1352829926,9),M=c(M,10),O=b(O,y,P,M,V,l[7],1352829926,9),P=c(P,10),V=b(V,O,y,P,M,l[0],1352829926,11),y=c(y,10),M=b(M,V,O,y,P,l[9],1352829926,13),O=c(O,10),P=b(P,M,V,O,y,l[2],1352829926,15),V=c(V,10),y=b(y,P,M,V,O,l[11],1352829926,15),M=c(M,10),O=b(O,y,P,M,V,l[4],1352829926,5),P=c(P,10),V=b(V,O,y,P,M,l[13],1352829926,7),y=c(y,10),M=b(M,V,O,y,P,l[6],1352829926,7),O=c(O,10),P=b(P,M,V,O,y,l[15],1352829926,8),V=c(V,10),y=b(y,P,M,V,O,l[8],1352829926,11),M=c(M,10),O=b(O,y,P,M,V,l[1],1352829926,14),P=c(P,10),V=b(V,O,y,P,M,l[10],1352829926,14),y=c(y,10),M=b(M,V,O,y,P,l[3],1352829926,12),O=c(O,10),P=b(P,M,V,O,y,l[12],1352829926,6),V=c(V,10),y=w(y,P,M,V,O,l[6],1548603684,9),M=c(M,10),O=w(O,y,P,M,V,l[11],1548603684,13),P=c(P,10),V=w(V,O,y,P,M,l[3],1548603684,15),y=c(y,10),M=w(M,V,O,y,P,l[7],1548603684,7),O=c(O,10),P=w(P,M,V,O,y,l[0],1548603684,12),V=c(V,10),y=w(y,P,M,V,O,l[13],1548603684,8),M=c(M,10),O=w(O,y,P,M,V,l[5],1548603684,9),P=c(P,10),V=w(V,O,y,P,M,l[10],1548603684,11),y=c(y,10),M=w(M,V,O,y,P,l[14],1548603684,7),O=c(O,10),P=w(P,M,V,O,y,l[15],1548603684,7),V=c(V,10),y=w(y,P,M,V,O,l[8],1548603684,12),M=c(M,10),O=w(O,y,P,M,V,l[12],1548603684,7),P=c(P,10),V=w(V,O,y,P,M,l[4],1548603684,6),y=c(y,10),M=w(M,V,O,y,P,l[9],1548603684,15),O=c(O,10),P=w(P,M,V,O,y,l[1],1548603684,13),V=c(V,10),y=w(y,P,M,V,O,l[2],1548603684,11),M=c(M,10),O=v(O,y,P,M,V,l[15],1836072691,9),P=c(P,10),V=v(V,O,y,P,M,l[5],1836072691,7),y=c(y,10),M=v(M,V,O,y,P,l[1],1836072691,15),O=c(O,10),P=v(P,M,V,O,y,l[3],1836072691,11),V=c(V,10),y=v(y,P,M,V,O,l[7],1836072691,8),M=c(M,10),O=v(O,y,P,M,V,l[14],1836072691,6),P=c(P,10),V=v(V,O,y,P,M,l[6],1836072691,6),y=c(y,10),M=v(M,V,O,y,P,l[9],1836072691,14),O=c(O,10),P=v(P,M,V,O,y,l[11],1836072691,12),V=c(V,10),y=v(y,P,M,V,O,l[8],1836072691,13),M=c(M,10),O=v(O,y,P,M,V,l[12],1836072691,5),P=c(P,10),V=v(V,O,y,P,M,l[2],1836072691,14),y=c(y,10),M=v(M,V,O,y,P,l[10],1836072691,13),O=c(O,10),P=v(P,M,V,O,y,l[0],1836072691,13),V=c(V,10),y=v(y,P,M,V,O,l[4],1836072691,7),M=c(M,10),O=v(O,y,P,M,V,l[13],1836072691,5),P=c(P,10),V=p(V,O,y,P,M,l[8],2053994217,15),y=c(y,10),M=p(M,V,O,y,P,l[6],2053994217,5),O=c(O,10),P=p(P,M,V,O,y,l[4],2053994217,8),V=c(V,10),y=p(y,P,M,V,O,l[1],2053994217,11),M=c(M,10),O=p(O,y,P,M,V,l[3],2053994217,14),P=c(P,10),V=p(V,O,y,P,M,l[11],2053994217,14),y=c(y,10),M=p(M,V,O,y,P,l[15],2053994217,6),O=c(O,10),P=p(P,M,V,O,y,l[0],2053994217,14),V=c(V,10),y=p(y,P,M,V,O,l[5],2053994217,6),M=c(M,10),O=p(O,y,P,M,V,l[12],2053994217,9),P=c(P,10),V=p(V,O,y,P,M,l[2],2053994217,12),y=c(y,10),M=p(M,V,O,y,P,l[13],2053994217,9),O=c(O,10),P=p(P,M,V,O,y,l[9],2053994217,12),V=c(V,10),y=p(y,P,M,V,O,l[7],2053994217,5),M=c(M,10),O=p(O,y,P,M,V,l[10],2053994217,15),P=c(P,10),V=p(V,O,y,P,M,l[14],2053994217,8),y=c(y,10),M=h(M,V,O,y,P,l[12],0,8),O=c(O,10),P=h(P,M,V,O,y,l[15],0,5),V=c(V,10),y=h(y,P,M,V,O,l[10],0,12),M=c(M,10),O=h(O,y,P,M,V,l[4],0,9),P=c(P,10),V=h(V,O,y,P,M,l[1],0,12),y=c(y,10),M=h(M,V,O,y,P,l[5],0,5),O=c(O,10),P=h(P,M,V,O,y,l[8],0,14),V=c(V,10),y=h(y,P,M,V,O,l[7],0,6),M=c(M,10),O=h(O,y,P,M,V,l[6],0,8),P=c(P,10),V=h(V,O,y,P,M,l[2],0,13),y=c(y,10),M=h(M,V,O,y,P,l[13],0,6),O=c(O,10),P=h(P,M,V,O,y,l[14],0,5),V=c(V,10),y=h(y,P,M,V,O,l[0],0,15),M=c(M,10),O=h(O,y,P,M,V,l[3],0,13),P=c(P,10),V=h(V,O,y,P,M,l[9],0,11),y=c(y,10),M=h(M,V,O,y,P,l[11],0,11),O=c(O,10);var K=this._b+f+O|0;this._b=this._c+_+y|0,this._c=this._d+E+P|0,this._d=this._e+d+M|0,this._e=this._a+g+V|0,this._a=K},T.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=new S(20);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l.writeInt32LE(this._e,16),l};function c(l,N){return l<<N|l>>>32-N}function h(l,N,d,g,f,_,E,P){return c(l+(N^d^g)+_+E|0,P)+f|0}function p(l,N,d,g,f,_,E,P){return c(l+(N&d|~N&g)+_+E|0,P)+f|0}function v(l,N,d,g,f,_,E,P){return c(l+((N|~d)^g)+_+E|0,P)+f|0}function w(l,N,d,g,f,_,E,P){return c(l+(N&g|d&~g)+_+E|0,P)+f|0}function b(l,N,d,g,f,_,E,P){return c(l+(N^(d|~g))+_+E|0,P)+f|0}s.exports=T},76578:s=>{"use strict";s.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},65606:s=>{var j=s.exports={},R,S;function I(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=I}catch{R=I}try{typeof clearTimeout=="function"?S=clearTimeout:S=F}catch{S=F}})();function T(g){if(R===setTimeout)return setTimeout(g,0);if((R===I||!R)&&setTimeout)return R=setTimeout,setTimeout(g,0);try{return R(g,0)}catch{try{return R.call(null,g,0)}catch{return R.call(this,g,0)}}}function c(g){if(S===clearTimeout)return clearTimeout(g);if((S===F||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(g);try{return S(g)}catch{try{return S.call(null,g)}catch{return S.call(this,g)}}}var h=[],p=!1,v,w=-1;function b(){!p||!v||(p=!1,v.length?h=v.concat(h):w=-1,h.length&&l())}function l(){if(!p){var g=T(b);p=!0;for(var f=h.length;f;){for(v=h,h=[];++w<f;)v&&v[w].run();w=-1,f=h.length}v=null,p=!1,c(g)}}j.nextTick=function(g){var f=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)f[_-1]=arguments[_];h.push(new N(g,f)),h.length===1&&!p&&T(l)};function N(g,f){this.fun=g,this.array=f}N.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={};function d(){}j.on=d,j.addListener=d,j.once=d,j.off=d,j.removeListener=d,j.removeAllListeners=d,j.emit=d,j.prependListener=d,j.prependOnceListener=d,j.listeners=function(g){return[]},j.binding=function(g){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(g){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},97168:(s,j,R)=>{j.publicEncrypt=R(28902),j.privateDecrypt=R(77362),j.privateEncrypt=function(I,F){return j.publicEncrypt(I,F,!0)},j.publicDecrypt=function(I,F){return j.privateDecrypt(I,F,!0)}},48206:(s,j,R)=>{var S=R(47108),I=R(92861).Buffer;s.exports=function(T,c){for(var h=I.alloc(0),p=0,v;h.length<c;)v=F(p++),h=I.concat([h,S("sha1").update(T).update(v).digest()]);return h.slice(0,c)};function F(T){var c=I.allocUnsafe(4);return c.writeUInt32BE(T,0),c}},77362:(s,j,R)=>{var S=R(78170),I=R(48206),F=R(52061),T=R(39404),c=R(67332),h=R(47108),p=R(99247),v=R(92861).Buffer;s.exports=function(d,g,f){var _;d.padding?_=d.padding:f?_=1:_=4;var E=S(d),P=E.modulus.byteLength();if(g.length>P||new T(g).cmp(E.modulus)>=0)throw new Error("decryption error");var M;f?M=p(new T(g),E):M=c(g,E);var V=v.alloc(P-M.length);if(M=v.concat([V,M],P),_===4)return w(E,M);if(_===1)return b(E,M,f);if(_===3)return M;throw new Error("unknown padding")};function w(N,d){var g=N.modulus.byteLength(),f=h("sha1").update(v.alloc(0)).digest(),_=f.length;if(d[0]!==0)throw new Error("decryption error");var E=d.slice(1,_+1),P=d.slice(_+1),M=F(E,I(P,_)),V=F(P,I(M,g-_-1));if(l(f,V.slice(0,_)))throw new Error("decryption error");for(var O=_;V[O]===0;)O++;if(V[O++]!==1)throw new Error("decryption error");return V.slice(O)}function b(N,d,g){for(var f=d.slice(0,2),_=2,E=0;d[_++]!==0;)if(_>=d.length){E++;break}var P=d.slice(2,_-1);if((f.toString("hex")!=="0002"&&!g||f.toString("hex")!=="0001"&&g)&&E++,P.length<8&&E++,E)throw new Error("decryption error");return d.slice(_)}function l(N,d){N=v.from(N),d=v.from(d);var g=0,f=N.length;N.length!==d.length&&(g++,f=Math.min(N.length,d.length));for(var _=-1;++_<f;)g+=N[_]^d[_];return g}},28902:(s,j,R)=>{var S=R(78170),I=R(53209),F=R(47108),T=R(48206),c=R(52061),h=R(39404),p=R(99247),v=R(67332),w=R(92861).Buffer;s.exports=function(g,f,_){var E;g.padding?E=g.padding:_?E=1:E=4;var P=S(g),M;if(E===4)M=b(P,f);else if(E===1)M=l(P,f,_);else if(E===3){if(M=new h(f),M.cmp(P.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return _?v(M,P):p(M,P)};function b(d,g){var f=d.modulus.byteLength(),_=g.length,E=F("sha1").update(w.alloc(0)).digest(),P=E.length,M=2*P;if(_>f-M-2)throw new Error("message too long");var V=w.alloc(f-_-M-2),O=f-P-1,y=I(P),K=c(w.concat([E,V,w.alloc(1,1),g],O),T(y,O)),Y=c(y,T(K,P));return new h(w.concat([w.alloc(1),Y,K],f))}function l(d,g,f){var _=g.length,E=d.modulus.byteLength();if(_>E-11)throw new Error("message too long");var P;return f?P=w.alloc(E-_-3,255):P=N(E-_-3),new h(w.concat([w.from([0,f?1:2]),P,w.alloc(1),g],E))}function N(d){for(var g=w.allocUnsafe(d),f=0,_=I(d*2),E=0,P;f<d;)E===_.length&&(_=I(d*2),E=0),P=_[E++],P&&(g[f++]=P);return g}},99247:(s,j,R)=>{var S=R(39404),I=R(92861).Buffer;function F(T,c){return I.from(T.toRed(S.mont(c.modulus)).redPow(new S(c.publicExponent)).fromRed().toArray())}s.exports=F},52061:s=>{s.exports=function(R,S){for(var I=R.length,F=-1;++F<I;)R[F]^=S[F];return R}},53209:(s,j,R)=>{"use strict";var S=R(65606),I=65536,F=4294967295;function T(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var c=R(92861).Buffer,h=R.g.crypto||R.g.msCrypto;h&&h.getRandomValues?s.exports=p:s.exports=T;function p(v,w){if(v>F)throw new RangeError("requested too many random bytes");var b=c.allocUnsafe(v);if(v>0)if(v>I)for(var l=0;l<v;l+=I)h.getRandomValues(b.slice(l,l+I));else h.getRandomValues(b);return typeof w=="function"?S.nextTick(function(){w(null,b)}):b}},76983:(s,j,R)=>{"use strict";var S=R(65606);function I(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var F=R(92861),T=R(53209),c=F.Buffer,h=F.kMaxLength,p=R.g.crypto||R.g.msCrypto,v=Math.pow(2,32)-1;function w(g,f){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>v||g<0)throw new TypeError("offset must be a uint32");if(g>h||g>f)throw new RangeError("offset out of range")}function b(g,f,_){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>v||g<0)throw new TypeError("size must be a uint32");if(g+f>_||g>h)throw new RangeError("buffer too small")}p&&p.getRandomValues||!S.browser?(j.randomFill=l,j.randomFillSync=d):(j.randomFill=I,j.randomFillSync=I);function l(g,f,_,E){if(!c.isBuffer(g)&&!(g instanceof R.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof f=="function")E=f,f=0,_=g.length;else if(typeof _=="function")E=_,_=g.length-f;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return w(f,g.length),b(_,f,g.length),N(g,f,_,E)}function N(g,f,_,E){if(S.browser){var P=g.buffer,M=new Uint8Array(P,f,_);if(p.getRandomValues(M),E){S.nextTick(function(){E(null,g)});return}return g}if(E){T(_,function(O,y){if(O)return E(O);y.copy(g,f),E(null,g)});return}var V=T(_);return V.copy(g,f),g}function d(g,f,_){if(typeof f=="undefined"&&(f=0),!c.isBuffer(g)&&!(g instanceof R.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return w(f,g.length),_===void 0&&(_=g.length-f),b(_,f,g.length),N(g,f,_)}},66011:(s,j,R)=>{"use strict";var S=R(48287).Buffer,I=R(56698),F=R(4729),T=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function l(){F.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}I(l,F),l.prototype._update=function(){for(var P=T,M=0;M<16;++M)P[M]=this._block.readInt32LE(M*4);for(var V=this._a|0,O=this._b|0,y=this._c|0,K=this._d|0,Y=this._e|0,Z=this._a|0,ie=this._b|0,J=this._c|0,x=this._d|0,W=this._e|0,D=0;D<80;D+=1){var m,C;D<16?(m=d(V,O,y,K,Y,P[c[D]],w[0],p[D]),C=E(Z,ie,J,x,W,P[h[D]],b[0],v[D])):D<32?(m=g(V,O,y,K,Y,P[c[D]],w[1],p[D]),C=_(Z,ie,J,x,W,P[h[D]],b[1],v[D])):D<48?(m=f(V,O,y,K,Y,P[c[D]],w[2],p[D]),C=f(Z,ie,J,x,W,P[h[D]],b[2],v[D])):D<64?(m=_(V,O,y,K,Y,P[c[D]],w[3],p[D]),C=g(Z,ie,J,x,W,P[h[D]],b[3],v[D])):(m=E(V,O,y,K,Y,P[c[D]],w[4],p[D]),C=d(Z,ie,J,x,W,P[h[D]],b[4],v[D])),V=Y,Y=K,K=N(y,10),y=O,O=m,Z=W,W=x,x=N(J,10),J=ie,ie=C}var L=this._b+y+x|0;this._b=this._c+K+W|0,this._c=this._d+Y+Z|0,this._d=this._e+V+ie|0,this._e=this._a+O+J|0,this._a=L},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=S.alloc?S.alloc(20):new S(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P};function N(P,M){return P<<M|P>>>32-M}function d(P,M,V,O,y,K,Y,Z){return N(P+(M^V^O)+K+Y|0,Z)+y|0}function g(P,M,V,O,y,K,Y,Z){return N(P+(M&V|~M&O)+K+Y|0,Z)+y|0}function f(P,M,V,O,y,K,Y,Z){return N(P+((M|~V)^O)+K+Y|0,Z)+y|0}function _(P,M,V,O,y,K,Y,Z){return N(P+(M&O|V&~O)+K+Y|0,Z)+y|0}function E(P,M,V,O,y,K,Y,Z){return N(P+(M^(V|~O))+K+Y|0,Z)+y|0}s.exports=l},92861:(s,j,R)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var S=R(48287),I=S.Buffer;function F(c,h){for(var p in c)h[p]=c[p]}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?s.exports=S:(F(S,j),j.Buffer=T);function T(c,h,p){return I(c,h,p)}T.prototype=Object.create(I.prototype),F(I,T),T.from=function(c,h,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return I(c,h,p)},T.alloc=function(c,h,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var v=I(c);return h!==void 0?typeof p=="string"?v.fill(h,p):v.fill(h):v.fill(0),v},T.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return I(c)},T.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return S.SlowBuffer(c)}},54774:(s,j,R)=>{"use strict";var S=R(65606),I=R(48287),F=I.Buffer,T={},c;for(c in I)I.hasOwnProperty(c)&&(c==="SlowBuffer"||c==="Buffer"||(T[c]=I[c]));var h=T.Buffer={};for(c in F)F.hasOwnProperty(c)&&(c==="allocUnsafe"||c==="allocUnsafeSlow"||(h[c]=F[c]));if(T.Buffer.prototype=F.prototype,(!h.from||h.from===Uint8Array.from)&&(h.from=function(p,v,w){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&typeof p.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return F(p,v,w)}),h.alloc||(h.alloc=function(p,v,w){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2147483648)throw new RangeError('The value "'+p+'" is invalid for option "size"');var b=F(p);return!v||v.length===0?b.fill(0):typeof w=="string"?b.fill(v,w):b.fill(v),b}),!T.kStringMaxLength)try{T.kStringMaxLength=S.binding("buffer").kStringMaxLength}catch{}T.constants||(T.constants={MAX_LENGTH:T.kMaxLength},T.kStringMaxLength&&(T.constants.MAX_STRING_LENGTH=T.kStringMaxLength)),s.exports=T},96897:(s,j,R)=>{"use strict";var S=R(70453),I=R(30041),F=R(30592)(),T=R(75795),c=R(69675),h=S("%Math.floor%");s.exports=function(v,w){if(typeof v!="function")throw new c("`fn` is not a function");if(typeof w!="number"||w<0||w>4294967295||h(w)!==w)throw new c("`length` must be a positive 32-bit integer");var b=arguments.length>2&&!!arguments[2],l=!0,N=!0;if("length"in v&&T){var d=T(v,"length");d&&!d.configurable&&(l=!1),d&&!d.writable&&(N=!1)}return(l||N||!b)&&(F?I(v,"length",w,!0,!0):I(v,"length",w)),v}},90392:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(15377);function F(T,c){this._block=S.alloc(T),this._finalSize=c,this._blockSize=T,this._len=0}F.prototype.update=function(T,c){T=I(T,c||"utf8");for(var h=this._block,p=this._blockSize,v=T.length,w=this._len,b=0;b<v;){for(var l=w%p,N=Math.min(v-b,p-l),d=0;d<N;d++)h[l+d]=T[b+d];w+=N,b+=N,w%p===0&&this._update(h)}return this._len+=v,this},F.prototype.digest=function(T){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var h=this._len*8;if(h<=4294967295)this._block.writeUInt32BE(h,this._blockSize-4);else{var p=(h&4294967295)>>>0,v=(h-p)/4294967296;this._block.writeUInt32BE(v,this._blockSize-8),this._block.writeUInt32BE(p,this._blockSize-4)}this._update(this._block);var w=this._hash();return T?w.toString(T):w},F.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=F},62802:(s,j,R)=>{"use strict";s.exports=function(I){var F=I.toLowerCase(),T=s.exports[F];if(!T)throw new Error(F+" is not supported (we accept pull requests)");return new T},s.exports.sha=R(27816),s.exports.sha1=R(63737),s.exports.sha224=R(26710),s.exports.sha256=R(24107),s.exports.sha384=R(32827),s.exports.sha512=R(82890)},27816:(s,j,R)=>{"use strict";var S=R(56698),I=R(90392),F=R(92861).Buffer,T=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function h(){this.init(),this._w=c,I.call(this,64,56)}S(h,I),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function p(b){return b<<5|b>>>27}function v(b){return b<<30|b>>>2}function w(b,l,N,d){return b===0?l&N|~l&d:b===2?l&N|l&d|N&d:l^N^d}h.prototype._update=function(b){for(var l=this._w,N=this._a|0,d=this._b|0,g=this._c|0,f=this._d|0,_=this._e|0,E=0;E<16;++E)l[E]=b.readInt32BE(E*4);for(;E<80;++E)l[E]=l[E-3]^l[E-8]^l[E-14]^l[E-16];for(var P=0;P<80;++P){var M=~~(P/20),V=p(N)+w(M,d,g,f)+_+l[P]+T[M]|0;_=f,f=g,g=v(d),d=N,N=V}this._a=N+this._a|0,this._b=d+this._b|0,this._c=g+this._c|0,this._d=f+this._d|0,this._e=_+this._e|0},h.prototype._hash=function(){var b=F.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},s.exports=h},63737:(s,j,R)=>{"use strict";var S=R(56698),I=R(90392),F=R(92861).Buffer,T=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function h(){this.init(),this._w=c,I.call(this,64,56)}S(h,I),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function p(l){return l<<1|l>>>31}function v(l){return l<<5|l>>>27}function w(l){return l<<30|l>>>2}function b(l,N,d,g){return l===0?N&d|~N&g:l===2?N&d|N&g|d&g:N^d^g}h.prototype._update=function(l){for(var N=this._w,d=this._a|0,g=this._b|0,f=this._c|0,_=this._d|0,E=this._e|0,P=0;P<16;++P)N[P]=l.readInt32BE(P*4);for(;P<80;++P)N[P]=p(N[P-3]^N[P-8]^N[P-14]^N[P-16]);for(var M=0;M<80;++M){var V=~~(M/20),O=v(d)+b(V,g,f,_)+E+N[M]+T[V]|0;E=_,_=f,f=w(g),g=d,d=O}this._a=d+this._a|0,this._b=g+this._b|0,this._c=f+this._c|0,this._d=_+this._d|0,this._e=E+this._e|0},h.prototype._hash=function(){var l=F.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},s.exports=h},26710:(s,j,R)=>{"use strict";var S=R(56698),I=R(24107),F=R(90392),T=R(92861).Buffer,c=new Array(64);function h(){this.init(),this._w=c,F.call(this,64,56)}S(h,I),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var p=T.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},s.exports=h},24107:(s,j,R)=>{"use strict";var S=R(56698),I=R(90392),F=R(92861).Buffer,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function h(){this.init(),this._w=c,I.call(this,64,56)}S(h,I),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function p(d,g,f){return f^d&(g^f)}function v(d,g,f){return d&g|f&(d|g)}function w(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function b(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function l(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function N(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}h.prototype._update=function(d){for(var g=this._w,f=this._a|0,_=this._b|0,E=this._c|0,P=this._d|0,M=this._e|0,V=this._f|0,O=this._g|0,y=this._h|0,K=0;K<16;++K)g[K]=d.readInt32BE(K*4);for(;K<64;++K)g[K]=N(g[K-2])+g[K-7]+l(g[K-15])+g[K-16]|0;for(var Y=0;Y<64;++Y){var Z=y+b(M)+p(M,V,O)+T[Y]+g[Y]|0,ie=w(f)+v(f,_,E)|0;y=O,O=V,V=M,M=P+Z|0,P=E,E=_,_=f,f=Z+ie|0}this._a=f+this._a|0,this._b=_+this._b|0,this._c=E+this._c|0,this._d=P+this._d|0,this._e=M+this._e|0,this._f=V+this._f|0,this._g=O+this._g|0,this._h=y+this._h|0},h.prototype._hash=function(){var d=F.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},s.exports=h},32827:(s,j,R)=>{"use strict";var S=R(56698),I=R(82890),F=R(90392),T=R(92861).Buffer,c=new Array(160);function h(){this.init(),this._w=c,F.call(this,128,112)}S(h,I),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var p=T.allocUnsafe(48);function v(w,b,l){p.writeInt32BE(w,l),p.writeInt32BE(b,l+4)}return v(this._ah,this._al,0),v(this._bh,this._bl,8),v(this._ch,this._cl,16),v(this._dh,this._dl,24),v(this._eh,this._el,32),v(this._fh,this._fl,40),p},s.exports=h},82890:(s,j,R)=>{"use strict";var S=R(56698),I=R(90392),F=R(92861).Buffer,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function h(){this.init(),this._w=c,I.call(this,128,112)}S(h,I),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function p(_,E,P){return P^_&(E^P)}function v(_,E,P){return _&E|P&(_|E)}function w(_,E){return(_>>>28|E<<4)^(E>>>2|_<<30)^(E>>>7|_<<25)}function b(_,E){return(_>>>14|E<<18)^(_>>>18|E<<14)^(E>>>9|_<<23)}function l(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^_>>>7}function N(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^(_>>>7|E<<25)}function d(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^_>>>6}function g(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^(_>>>6|E<<26)}function f(_,E){return _>>>0<E>>>0?1:0}h.prototype._update=function(_){for(var E=this._w,P=this._ah|0,M=this._bh|0,V=this._ch|0,O=this._dh|0,y=this._eh|0,K=this._fh|0,Y=this._gh|0,Z=this._hh|0,ie=this._al|0,J=this._bl|0,x=this._cl|0,W=this._dl|0,D=this._el|0,m=this._fl|0,C=this._gl|0,L=this._hl|0,H=0;H<32;H+=2)E[H]=_.readInt32BE(H*4),E[H+1]=_.readInt32BE(H*4+4);for(;H<160;H+=2){var z=E[H-30],G=E[H-15*2+1],ee=l(z,G),ne=N(G,z);z=E[H-4],G=E[H-4+1];var q=d(z,G),se=g(G,z),xe=E[H-7*2],Ee=E[H-7*2+1],be=E[H-16*2],Pe=E[H-16*2+1],X=ne+Ee|0,te=ee+xe+f(X,ne)|0;X=X+se|0,te=te+q+f(X,se)|0,X=X+Pe|0,te=te+be+f(X,Pe)|0,E[H]=te,E[H+1]=X}for(var de=0;de<160;de+=2){te=E[de],X=E[de+1];var he=v(P,M,V),we=v(ie,J,x),B=w(P,ie),U=w(ie,P),le=b(y,D),ge=b(D,y),_e=T[de],ye=T[de+1],Me=p(y,K,Y),Be=p(D,m,C),Ve=L+ge|0,_t=Z+le+f(Ve,L)|0;Ve=Ve+Be|0,_t=_t+Me+f(Ve,Be)|0,Ve=Ve+ye|0,_t=_t+_e+f(Ve,ye)|0,Ve=Ve+X|0,_t=_t+te+f(Ve,X)|0;var Je=U+we|0,nt=B+he+f(Je,U)|0;Z=Y,L=C,Y=K,C=m,K=y,m=D,D=W+Ve|0,y=O+_t+f(D,W)|0,O=V,W=x,V=M,x=J,M=P,J=ie,ie=Ve+Je|0,P=_t+nt+f(ie,Ve)|0}this._al=this._al+ie|0,this._bl=this._bl+J|0,this._cl=this._cl+x|0,this._dl=this._dl+W|0,this._el=this._el+D|0,this._fl=this._fl+m|0,this._gl=this._gl+C|0,this._hl=this._hl+L|0,this._ah=this._ah+P+f(this._al,ie)|0,this._bh=this._bh+M+f(this._bl,J)|0,this._ch=this._ch+V+f(this._cl,x)|0,this._dh=this._dh+O+f(this._dl,W)|0,this._eh=this._eh+y+f(this._el,D)|0,this._fh=this._fh+K+f(this._fl,m)|0,this._gh=this._gh+Y+f(this._gl,C)|0,this._hh=this._hh+Z+f(this._hl,L)|0},h.prototype._hash=function(){var _=F.allocUnsafe(64);function E(P,M,V){_.writeInt32BE(P,V),_.writeInt32BE(M,V+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),_},s.exports=h},1182:(s,j,R)=>{"use strict";const S=R(38601),I=/\s/,F=/\r|\n/,T=/^(Host|Match)$/i,c=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,h=/^(?:CertificateFile|IdentityFile|User)$/i,p=/^(Include|IdentityFile)$/i,v=1,w=2,b=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function l(g,f){return f.hasOwnProperty(g.param)&&f[g.param]===g.value}function N(g){for(const f of g)if(T.test(f.param)){for(const _ of f.config)if(_.before)return _.before}return"  "}class d extends Array{compute(f){const _={},E=(P,M)=>{b.includes(P)?(_[P]||(_[P]=[])).push(M):_[P]==null&&(_[P]=M)};for(const P of this)P.type===v&&(P.param==="Host"?S(P.value,f)&&(E(P.param,P.value),P.config.filter(M=>M.type===v).forEach(M=>E(M.param,M.value))):P.param==="Match"||E(P.param,P.value));return _}find(f={}){if(typeof f=="function")return super.find(f);if(!(f&&("Host"in f||"Match"in f)))throw new Error("Can only find by Host or Match");return super.find(_=>l(_,f))}remove(f={}){if(!(f&&("Host"in f||"Match"in f)))throw new Error("Can only remove by Host or Match");const _=typeof f=="function"?super.findIndex(f):super.findIndex(E=>l(E,f));if(_>=0)return this.splice(_,1)}toString(){return this.constructor.stringify(this)}append(f){const _=N(this),E=this.length>0?this[this.length-1]:null;let P=E&&E.config||this,M=this,V=P.length>0?P[P.length-1]:E;V&&!V.after&&(V.after=`
`);for(const O in f){const y={type:v,param:O,separator:" ",value:f[O],before:"",after:`
`};T.test(O)?(P=M,V&&V.after===`
`&&(V.after+=`
`),P.push(y),P=y.config=new d):(y.before=P===M?"":_,P.push(y)),V=y}return M}prepend(f,_=!1){const E=N(this);let P=this,M=0;if(_){for(;M<this.length&&!T.test(this[M].param);)M+=1;if(M>=this.length)return this.append(f)}let V=!1,O=0;for(const y in f){O+=1;const K={type:v,param:y,separator:" ",value:f[y],before:"",after:`
`};if(T.test(y)){P.splice(M,0,K),P=K.config=new d,V=!0;continue}if(O===Object.keys(f).length&&(K.after+=`
`),!V){P.splice(M,0,K),M+=1,p.test(y)&&(K.after+=`
`);continue}K.before=E,P.push(K)}return P}static stringify(f){let _="";function E(V,O){return Array.isArray(V)?V.map(y=>E(y,I.test(y))).join(" "):O?`"${V}"`:V}function P(V){const O=V.quoted||h.test(V.param)&&I.test(V.value),y=E(V.value,O);return`${V.param}${V.separator}${y}`}const M=V=>{_+=V.before,V.type===w?_+=V.content:V.type===v&&b.includes(V.param)?[].concat(V.value).forEach(function(O,y,K){_+=P({...V,value:O}),y<K.length-1&&(_+=`
${V.before}`)}):V.type===v&&(_+=P(V)),_+=V.after,V.config&&V.config.forEach(M)};return f.forEach(M),_}static get DIRECTIVE(){return v}static get COMMENT(){return w}static parse(f){let _=0,E=V(),P=new d,M=P;function V(){return f[_++]}function O(){let D="";for(;I.test(E);)D+=E,E=V();return D}function y(){let D="";for(;F.test(E);)D+=E,E=V();return D}function K(){let D="";for(;E&&/[^ \t=]/.test(E);)D+=E,E=V();return D}function Y(){let D=O();return E==="="&&(D+=E,E=V()),D+O()}function Z(){let D="",m=!1,C=!1;for(;E&&!F.test(E);)C?(D+=E==='"'?E:`\\${E}`,C=!1):E==='"'&&(!D||m)?m=!m:E==="\\"?C=!0:D+=E,E=V();if(m||C)throw new Error(`Unexpected line break at ${D}`);return D.trim()}function ie(){const D=w;let m="";for(;E&&!F.test(E);)m+=E,E=V();return{type:D,content:m}}function J(){const D=[];let m="",C=!1,L=!1;for(;E&&!F.test(E);)L?(m+=E==='"'?E:`\\${E}`,L=!1):E==='"'?C=!C:E==="\\"?L=!0:C?m+=E:/[ \t]/.test(E)?m&&(D.push(m),m=""):m+=E,E=V();if(C||L)throw new Error(`Unexpected line break at ${D.concat(m).join(" ")}`);return m&&D.push(m),D.length>1?D:D[0]}function x(){const D=v,m=K(),C=c.test(m),L={type:D,param:m,separator:Y(),quoted:!C&&E==='"',value:C?J():Z()};return L.quoted||delete L.quoted,L}function W(){const D=O(),m=E==="#"?ie():x(),C=y();return m.before=D,m.after=C,m}for(;E;){let D=W();D.type===v&&T.test(D.param)?(P=M,P.push(D),P=D.config=new d):P.push(D)}return M}}s.exports=d},38601:s=>{"use strict";function j(I,F){for(let T of F)I=I.replace(new RegExp("\\"+T,"g"),"\\"+T);return I}function R(I,F){return I=j(I,"\\()[]{}.+^$|"),I=I.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+I+")$").test(F)}function S(I,F){const T=Array.isArray(I)?I:I.split(/,/);let c=!1;for(const h of T){if(h[0]=="!"&&R(h.slice(1),F))return!1;R(h,F)&&(c=!0)}return c}s.exports=S},88310:(s,j,R)=>{s.exports=F;var S=R(37007).EventEmitter,I=R(56698);I(F,S),F.Readable=R(46891),F.Writable=R(81999),F.Duplex=R(88101),F.Transform=R(59083),F.PassThrough=R(3681),F.finished=R(14257),F.pipeline=R(5267),F.Stream=F;function F(){S.call(this)}F.prototype.pipe=function(T,c){var h=this;function p(g){T.writable&&T.write(g)===!1&&h.pause&&h.pause()}h.on("data",p);function v(){h.readable&&h.resume&&h.resume()}T.on("drain",v),!T._isStdio&&(!c||c.end!==!1)&&(h.on("end",b),h.on("close",l));var w=!1;function b(){w||(w=!0,T.end())}function l(){w||(w=!0,typeof T.destroy=="function"&&T.destroy())}function N(g){if(d(),S.listenerCount(this,"error")===0)throw g}h.on("error",N),T.on("error",N);function d(){h.removeListener("data",p),T.removeListener("drain",v),h.removeListener("end",b),h.removeListener("close",l),h.removeListener("error",N),T.removeListener("error",N),h.removeListener("end",d),h.removeListener("close",d),T.removeListener("close",d)}return h.on("end",d),h.on("close",d),T.on("close",d),T.emit("pipe",h),T}},12463:s=>{"use strict";function j(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var R={};function S(h,p,v){v||(v=Error);function w(l,N,d){return typeof p=="string"?p:p(l,N,d)}var b=function(l){j(N,l);function N(d,g,f){return l.call(this,w(d,g,f))||this}return N}(v);b.prototype.name=v.name,b.prototype.code=h,R[h]=b}function I(h,p){if(Array.isArray(h)){var v=h.length;return h=h.map(function(w){return String(w)}),v>2?"one of ".concat(p," ").concat(h.slice(0,v-1).join(", "),", or ")+h[v-1]:v===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function F(h,p,v){return h.substr(!v||v<0?0:+v,p.length)===p}function T(h,p,v){return(v===void 0||v>h.length)&&(v=h.length),h.substring(v-p.length,v)===p}function c(h,p,v){return typeof v!="number"&&(v=0),v+p.length>h.length?!1:h.indexOf(p,v)!==-1}S("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(h,p,v){var w;typeof p=="string"&&F(p,"not ")?(w="must not be",p=p.replace(/^not /,"")):w="must be";var b;if(T(h," argument"))b="The ".concat(h," ").concat(w," ").concat(I(p,"type"));else{var l=c(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(w," ").concat(I(p,"type"))}return b+=". Received type ".concat(typeof v),b},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=R},88101:(s,j,R)=>{"use strict";var S=R(65606),I=Object.keys||function(l){var N=[];for(var d in l)N.push(d);return N};s.exports=v;var F=R(46891),T=R(81999);R(56698)(v,F);for(var c=I(T.prototype),h=0;h<c.length;h++){var p=c[h];v.prototype[p]||(v.prototype[p]=T.prototype[p])}function v(l){if(!(this instanceof v))return new v(l);F.call(this,l),T.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(N){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=N,this._writableState.destroyed=N)}})},3681:(s,j,R)=>{"use strict";s.exports=I;var S=R(59083);R(56698)(I,S);function I(F){if(!(this instanceof I))return new I(F);S.call(this,F)}I.prototype._transform=function(F,T,c){c(null,F)}},46891:(s,j,R)=>{"use strict";var S=R(65606);s.exports=x;var I;x.ReadableState=J;var F=R(37007).EventEmitter,T=function(U,le){return U.listeners(le).length},c=R(41396),h=R(48287).Buffer,p=R.g.Uint8Array||function(){};function v(B){return h.from(B)}function w(B){return h.isBuffer(B)||B instanceof p}var b=R(77199),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var N=R(81766),d=R(54347),g=R(66644),f=g.getHighWaterMark,_=R(12463).F,E=_.ERR_INVALID_ARG_TYPE,P=_.ERR_STREAM_PUSH_AFTER_EOF,M=_.ERR_METHOD_NOT_IMPLEMENTED,V=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,y,K;R(56698)(x,c);var Y=d.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ie(B,U,le){if(typeof B.prependListener=="function")return B.prependListener(U,le);!B._events||!B._events[U]?B.on(U,le):Array.isArray(B._events[U])?B._events[U].unshift(le):B._events[U]=[le,B._events[U]]}function J(B,U,le){I=I||R(88101),B=B||{},typeof le!="boolean"&&(le=U instanceof I),this.objectMode=!!B.objectMode,le&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=f(this,B,"readableHighWaterMark",le),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(O||(O=R(83141).I),this.decoder=new O(B.encoding),this.encoding=B.encoding)}function x(B){if(I=I||R(88101),!(this instanceof x))return new x(B);var U=this instanceof I;this._readableState=new J(B,this,U),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),c.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(B,U){U(B)},x.prototype.push=function(B,U){var le=this._readableState,ge;return le.objectMode?ge=!0:typeof B=="string"&&(U=U||le.defaultEncoding,U!==le.encoding&&(B=h.from(B,U),U=""),ge=!0),W(this,B,U,!1,ge)},x.prototype.unshift=function(B){return W(this,B,null,!0,!1)};function W(B,U,le,ge,_e){l("readableAddChunk",U);var ye=B._readableState;if(U===null)ye.reading=!1,z(B,ye);else{var Me;if(_e||(Me=m(ye,U)),Me)Y(B,Me);else if(ye.objectMode||U&&U.length>0)if(typeof U!="string"&&!ye.objectMode&&Object.getPrototypeOf(U)!==h.prototype&&(U=v(U)),ge)ye.endEmitted?Y(B,new V):D(B,ye,U,!0);else if(ye.ended)Y(B,new P);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?D(B,ye,U,!1):ne(B,ye)):D(B,ye,U,!1)}else ge||(ye.reading=!1,ne(B,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function D(B,U,le,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,B.emit("data",le)):(U.length+=U.objectMode?1:le.length,ge?U.buffer.unshift(le):U.buffer.push(le),U.needReadable&&G(B)),ne(B,U)}function m(B,U){var le;return!w(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(le=new E("chunk",["string","Buffer","Uint8Array"],U)),le}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(B){O||(O=R(83141).I);var U=new O(B);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ge="";le!==null;)ge+=U.write(le.data),le=le.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var C=1073741824;function L(B){return B>=C?B=C:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function H(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=L(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}x.prototype.read=function(B){l("read",B),B=parseInt(B,10);var U=this._readableState,le=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return l("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?de(this):G(this),null;if(B=H(B,U),B===0&&U.ended)return U.length===0&&de(this),null;var ge=U.needReadable;l("need readable",ge),(U.length===0||U.length-B<U.highWaterMark)&&(ge=!0,l("length less than watermark",ge)),U.ended||U.reading?(ge=!1,l("reading or ended",ge)):ge&&(l("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=H(le,U)));var _e;return B>0?_e=te(B,U):_e=null,_e===null?(U.needReadable=U.length<=U.highWaterMark,B=0):(U.length-=B,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),le!==B&&U.ended&&de(this)),_e!==null&&this.emit("data",_e),_e};function z(B,U){if(l("onEofChunk"),!U.ended){if(U.decoder){var le=U.decoder.end();le&&le.length&&(U.buffer.push(le),U.length+=U.objectMode?1:le.length)}U.ended=!0,U.sync?G(B):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ee(B)))}}function G(B){var U=B._readableState;l("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(l("emitReadable",U.flowing),U.emittedReadable=!0,S.nextTick(ee,B))}function ee(B){var U=B._readableState;l("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(B.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,X(B)}function ne(B,U){U.readingMore||(U.readingMore=!0,S.nextTick(q,B,U))}function q(B,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var le=U.length;if(l("maybeReadMore read 0"),B.read(0),le===U.length)break}U.readingMore=!1}x.prototype._read=function(B){Y(this,new M("_read()"))},x.prototype.pipe=function(B,U){var le=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=B;break;case 1:ge.pipes=[ge.pipes,B];break;default:ge.pipes.push(B);break}ge.pipesCount+=1,l("pipe count=%d opts=%j",ge.pipesCount,U);var _e=(!U||U.end!==!1)&&B!==S.stdout&&B!==S.stderr,ye=_e?Be:ue;ge.endEmitted?S.nextTick(ye):le.once("end",ye),B.on("unpipe",Me);function Me(ke,Ie){l("onunpipe"),ke===le&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Je())}function Be(){l("onend"),B.end()}var Ve=se(le);B.on("drain",Ve);var _t=!1;function Je(){l("cleanup"),B.removeListener("close",ce),B.removeListener("finish",ae),B.removeListener("drain",Ve),B.removeListener("error",Rt),B.removeListener("unpipe",Me),le.removeListener("end",Be),le.removeListener("end",ue),le.removeListener("data",nt),_t=!0,ge.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ve()}le.on("data",nt);function nt(ke){l("ondata");var Ie=B.write(ke);l("dest.write",Ie),Ie===!1&&((ge.pipesCount===1&&ge.pipes===B||ge.pipesCount>1&&we(ge.pipes,B)!==-1)&&!_t&&(l("false write response, pause",ge.awaitDrain),ge.awaitDrain++),le.pause())}function Rt(ke){l("onerror",ke),ue(),B.removeListener("error",Rt),T(B,"error")===0&&Y(B,ke)}ie(B,"error",Rt);function ce(){B.removeListener("finish",ae),ue()}B.once("close",ce);function ae(){l("onfinish"),B.removeListener("close",ce),ue()}B.once("finish",ae);function ue(){l("unpipe"),le.unpipe(B)}return B.emit("pipe",le),ge.flowing||(l("pipe resume"),le.resume()),B};function se(B){return function(){var le=B._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&T(B,"data")&&(le.flowing=!0,X(B))}}x.prototype.unpipe=function(B){var U=this._readableState,le={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,le),this);if(!B){var ge=U.pipes,_e=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ye=0;ye<_e;ye++)ge[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=we(U.pipes,B);return Me===-1?this:(U.pipes.splice(Me,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,le),this)},x.prototype.on=function(B,U){var le=c.prototype.on.call(this,B,U),ge=this._readableState;return B==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):B==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,l("on readable",ge.length,ge.reading),ge.length?G(this):ge.reading||S.nextTick(Ee,this)),le},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(B,U){var le=c.prototype.removeListener.call(this,B,U);return B==="readable"&&S.nextTick(xe,this),le},x.prototype.removeAllListeners=function(B){var U=c.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&S.nextTick(xe,this),U};function xe(B){var U=B._readableState;U.readableListening=B.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:B.listenerCount("data")>0&&B.resume()}function Ee(B){l("readable nexttick read 0"),B.read(0)}x.prototype.resume=function(){var B=this._readableState;return B.flowing||(l("resume"),B.flowing=!B.readableListening,be(this,B)),B.paused=!1,this};function be(B,U){U.resumeScheduled||(U.resumeScheduled=!0,S.nextTick(Pe,B,U))}function Pe(B,U){l("resume",U.reading),U.reading||B.read(0),U.resumeScheduled=!1,B.emit("resume"),X(B),U.flowing&&!U.reading&&B.read(0)}x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var U=B._readableState;for(l("flow",U.flowing);U.flowing&&B.read()!==null;);}x.prototype.wrap=function(B){var U=this,le=this._readableState,ge=!1;B.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&U.push(Me)}U.push(null)}),B.on("data",function(Me){if(l("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var Be=U.push(Me);Be||(ge=!0,B.pause())}});for(var _e in B)this[_e]===void 0&&typeof B[_e]=="function"&&(this[_e]=function(Be){return function(){return B[Be].apply(B,arguments)}}(_e));for(var ye=0;ye<Z.length;ye++)B.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Me){l("wrapped _read",Me),ge&&(ge=!1,B.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=R(65034)),y(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),x._fromList=te,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(B,U){if(U.length===0)return null;var le;return U.objectMode?le=U.buffer.shift():!B||B>=U.length?(U.decoder?le=U.buffer.join(""):U.buffer.length===1?le=U.buffer.first():le=U.buffer.concat(U.length),U.buffer.clear()):le=U.buffer.consume(B,U.decoder),le}function de(B){var U=B._readableState;l("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,S.nextTick(he,U,B))}function he(B,U){if(l("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"),B.autoDestroy)){var le=U._writableState;(!le||le.autoDestroy&&le.finished)&&U.destroy()}}typeof Symbol=="function"&&(x.from=function(B,U){return K===void 0&&(K=R(90968)),K(x,B,U)});function we(B,U){for(var le=0,ge=B.length;le<ge;le++)if(B[le]===U)return le;return-1}},59083:(s,j,R)=>{"use strict";s.exports=v;var S=R(12463).F,I=S.ERR_METHOD_NOT_IMPLEMENTED,F=S.ERR_MULTIPLE_CALLBACK,T=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=S.ERR_TRANSFORM_WITH_LENGTH_0,h=R(88101);R(56698)(v,h);function p(l,N){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(g===null)return this.emit("error",new F);d.writechunk=null,d.writecb=null,N!=null&&this.push(N),g(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function v(l){if(!(this instanceof v))return new v(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",w)}function w(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(N,d){b(l,N,d)}):b(this,null,null)}v.prototype.push=function(l,N){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,N)},v.prototype._transform=function(l,N,d){d(new I("_transform()"))},v.prototype._write=function(l,N,d){var g=this._transformState;if(g.writecb=d,g.writechunk=l,g.writeencoding=N,!g.transforming){var f=this._readableState;(g.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},v.prototype._read=function(l){var N=this._transformState;N.writechunk!==null&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},v.prototype._destroy=function(l,N){h.prototype._destroy.call(this,l,function(d){N(d)})};function b(l,N,d){if(N)return l.emit("error",N);if(d!=null&&l.push(d),l._writableState.length)throw new c;if(l._transformState.transforming)throw new T;return l.push(null)}},81999:(s,j,R)=>{"use strict";var S=R(65606);s.exports=J;function I(X,te,de){this.chunk=X,this.encoding=te,this.callback=de,this.next=null}function F(X){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,X)}}var T;J.WritableState=Z;var c={deprecate:R(94643)},h=R(41396),p=R(48287).Buffer,v=R.g.Uint8Array||function(){};function w(X){return p.from(X)}function b(X){return p.isBuffer(X)||X instanceof v}var l=R(54347),N=R(66644),d=N.getHighWaterMark,g=R(12463).F,f=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,P=g.ERR_STREAM_CANNOT_PIPE,M=g.ERR_STREAM_DESTROYED,V=g.ERR_STREAM_NULL_VALUES,O=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,K=l.errorOrDestroy;R(56698)(J,h);function Y(){}function Z(X,te,de){T=T||R(88101),X=X||{},typeof de!="boolean"&&(de=te instanceof T),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=d(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=X.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){z(te,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new F(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,de=[];te;)de.push(te),te=te.next;return de},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(te){return ie.call(this,te)?!0:this!==J?!1:te&&te._writableState instanceof Z}})):ie=function(te){return te instanceof this};function J(X){T=T||R(88101);var te=this instanceof T;if(!te&&!ie.call(J,this))return new J(X);this._writableState=new Z(X,this,te),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),h.call(this)}J.prototype.pipe=function(){K(this,new P)};function x(X,te){var de=new O;K(X,de),S.nextTick(te,de)}function W(X,te,de,he){var we;return de===null?we=new V:typeof de!="string"&&!te.objectMode&&(we=new f("chunk",["string","Buffer"],de)),we?(K(X,we),S.nextTick(he,we),!1):!0}J.prototype.write=function(X,te,de){var he=this._writableState,we=!1,B=!he.objectMode&&b(X);return B&&!p.isBuffer(X)&&(X=w(X)),typeof te=="function"&&(de=te,te=null),B?te="buffer":te||(te=he.defaultEncoding),typeof de!="function"&&(de=Y),he.ending?x(this,de):(B||W(this,he,X,de))&&(he.pendingcb++,we=m(this,he,B,X,te,de)),we},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ne(this,X))},J.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(X,te,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof te=="string"&&(te=p.from(te,de)),te}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(X,te,de,he,we,B){if(!de){var U=D(te,he,we);he!==U&&(de=!0,we="buffer",he=U)}var le=te.objectMode?1:he.length;te.length+=le;var ge=te.length<te.highWaterMark;if(ge||(te.needDrain=!0),te.writing||te.corked){var _e=te.lastBufferedRequest;te.lastBufferedRequest={chunk:he,encoding:we,isBuf:de,callback:B,next:null},_e?_e.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else C(X,te,!1,le,he,we,B);return ge}function C(X,te,de,he,we,B,U){te.writelen=he,te.writecb=U,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new M("write")):de?X._writev(we,te.onwrite):X._write(we,B,te.onwrite),te.sync=!1}function L(X,te,de,he,we){--te.pendingcb,de?(S.nextTick(we,he),S.nextTick(Ee,X,te),X._writableState.errorEmitted=!0,K(X,he)):(we(he),X._writableState.errorEmitted=!0,K(X,he),Ee(X,te))}function H(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function z(X,te){var de=X._writableState,he=de.sync,we=de.writecb;if(typeof we!="function")throw new E;if(H(de),te)L(X,de,he,te,we);else{var B=q(de)||X.destroyed;!B&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&ne(X,de),he?S.nextTick(G,X,de,B,we):G(X,de,B,we)}}function G(X,te,de,he){de||ee(X,te),te.pendingcb--,he(),Ee(X,te)}function ee(X,te){te.length===0&&te.needDrain&&(te.needDrain=!1,X.emit("drain"))}function ne(X,te){te.bufferProcessing=!0;var de=te.bufferedRequest;if(X._writev&&de&&de.next){var he=te.bufferedRequestCount,we=new Array(he),B=te.corkedRequestsFree;B.entry=de;for(var U=0,le=!0;de;)we[U]=de,de.isBuf||(le=!1),de=de.next,U+=1;we.allBuffers=le,C(X,te,!0,te.length,we,"",B.finish),te.pendingcb++,te.lastBufferedRequest=null,B.next?(te.corkedRequestsFree=B.next,B.next=null):te.corkedRequestsFree=new F(te),te.bufferedRequestCount=0}else{for(;de;){var ge=de.chunk,_e=de.encoding,ye=de.callback,Me=te.objectMode?1:ge.length;if(C(X,te,!1,Me,ge,_e,ye),de=de.next,te.bufferedRequestCount--,te.writing)break}de===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=de,te.bufferProcessing=!1}J.prototype._write=function(X,te,de){de(new _("_write()"))},J.prototype._writev=null,J.prototype.end=function(X,te,de){var he=this._writableState;return typeof X=="function"?(de=X,X=null,te=null):typeof te=="function"&&(de=te,te=null),X!=null&&this.write(X,te),he.corked&&(he.corked=1,this.uncork()),he.ending||be(this,he,de),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function se(X,te){X._final(function(de){te.pendingcb--,de&&K(X,de),te.prefinished=!0,X.emit("prefinish"),Ee(X,te)})}function xe(X,te){!te.prefinished&&!te.finalCalled&&(typeof X._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(se,X,te)):(te.prefinished=!0,X.emit("prefinish")))}function Ee(X,te){var de=q(te);if(de&&(xe(X,te),te.pendingcb===0&&(te.finished=!0,X.emit("finish"),te.autoDestroy))){var he=X._readableState;(!he||he.autoDestroy&&he.endEmitted)&&X.destroy()}return de}function be(X,te,de){te.ending=!0,Ee(X,te),de&&(te.finished?S.nextTick(de):X.once("finish",de)),te.ended=!0,X.writable=!1}function Pe(X,te,de){var he=X.entry;for(X.entry=null;he;){var we=he.callback;te.pendingcb--,we(de),he=he.next}te.corkedRequestsFree.next=X}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(X,te){te(X)}},65034:(s,j,R)=>{"use strict";var S=R(65606),I;function F(M,V,O){return V in M?Object.defineProperty(M,V,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[V]=O,M}var T=R(14257),c=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),v=Symbol("ended"),w=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function N(M,V){return{value:M,done:V}}function d(M){var V=M[c];if(V!==null){var O=M[l].read();O!==null&&(M[w]=null,M[c]=null,M[h]=null,V(N(O,!1)))}}function g(M){S.nextTick(d,M)}function f(M,V){return function(O,y){M.then(function(){if(V[v]){O(N(void 0,!0));return}V[b](O,y)},y)}}var _=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[l]},next:function(){var V=this,O=this[p];if(O!==null)return Promise.reject(O);if(this[v])return Promise.resolve(N(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ie){S.nextTick(function(){V[p]?ie(V[p]):Z(N(void 0,!0))})});var y=this[w],K;if(y)K=new Promise(f(y,this));else{var Y=this[l].read();if(Y!==null)return Promise.resolve(N(Y,!1));K=new Promise(this[b])}return this[w]=K,K}},F(I,Symbol.asyncIterator,function(){return this}),F(I,"return",function(){var V=this;return new Promise(function(O,y){V[l].destroy(null,function(K){if(K){y(K);return}O(N(void 0,!0))})})}),I),_),P=function(V){var O,y=Object.create(E,(O={},F(O,l,{value:V,writable:!0}),F(O,c,{value:null,writable:!0}),F(O,h,{value:null,writable:!0}),F(O,p,{value:null,writable:!0}),F(O,v,{value:V._readableState.endEmitted,writable:!0}),F(O,b,{value:function(Y,Z){var ie=y[l].read();ie?(y[w]=null,y[c]=null,y[h]=null,Y(N(ie,!1))):(y[c]=Y,y[h]=Z)},writable:!0}),O));return y[w]=null,T(V,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=y[h];Y!==null&&(y[w]=null,y[c]=null,y[h]=null,Y(K)),y[p]=K;return}var Z=y[c];Z!==null&&(y[w]=null,y[c]=null,y[h]=null,Z(N(void 0,!0))),y[v]=!0}),V.on("readable",g.bind(null,y)),y};s.exports=P},81766:(s,j,R)=>{"use strict";function S(d,g){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(d);g&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),f.push.apply(f,_)}return f}function I(d){for(var g=1;g<arguments.length;g++){var f=arguments[g]!=null?arguments[g]:{};g%2?S(Object(f),!0).forEach(function(_){F(d,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):S(Object(f)).forEach(function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(f,_))})}return d}function F(d,g,f){return g in d?Object.defineProperty(d,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[g]=f,d}function T(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function c(d,g){for(var f=0;f<g.length;f++){var _=g[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}function h(d,g,f){return g&&c(d.prototype,g),f&&c(d,f),d}var p=R(48287),v=p.Buffer,w=R(63779),b=w.inspect,l=b&&b.custom||"inspect";function N(d,g,f){v.prototype.copy.call(d,g,f)}s.exports=function(){function d(){T(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(f){var _={data:f,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(f){var _={data:f,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var _=this.head,E=""+_.data;_=_.next;)E+=f+_.data;return E}},{key:"concat",value:function(f){if(this.length===0)return v.alloc(0);for(var _=v.allocUnsafe(f>>>0),E=this.head,P=0;E;)N(E.data,_,P),P+=E.data.length,E=E.next;return _}},{key:"consume",value:function(f,_){var E;return f<this.head.data.length?(E=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?E=this.shift():E=_?this._getString(f):this._getBuffer(f),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var _=this.head,E=1,P=_.data;for(f-=P.length;_=_.next;){var M=_.data,V=f>M.length?M.length:f;if(V===M.length?P+=M:P+=M.slice(0,f),f-=V,f===0){V===M.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(V));break}++E}return this.length-=E,P}},{key:"_getBuffer",value:function(f){var _=v.allocUnsafe(f),E=this.head,P=1;for(E.data.copy(_),f-=E.data.length;E=E.next;){var M=E.data,V=f>M.length?M.length:f;if(M.copy(_,_.length-f,0,V),f-=V,f===0){V===M.length?(++P,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=M.slice(V));break}++P}return this.length-=P,_}},{key:l,value:function(f,_){return b(this,I({},_,{depth:0,customInspect:!1}))}}]),d}()},54347:(s,j,R)=>{"use strict";var S=R(65606);function I(v,w){var b=this,l=this._readableState&&this._readableState.destroyed,N=this._writableState&&this._writableState.destroyed;return l||N?(w?w(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(h,this,v)):S.nextTick(h,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(d){!w&&d?b._writableState?b._writableState.errorEmitted?S.nextTick(T,b):(b._writableState.errorEmitted=!0,S.nextTick(F,b,d)):S.nextTick(F,b,d):w?(S.nextTick(T,b),w(d)):S.nextTick(T,b)}),this)}function F(v,w){h(v,w),T(v)}function T(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(v,w){v.emit("error",w)}function p(v,w){var b=v._readableState,l=v._writableState;b&&b.autoDestroy||l&&l.autoDestroy?v.destroy(w):v.emit("error",w)}s.exports={destroy:I,undestroy:c,errorOrDestroy:p}},14257:(s,j,R)=>{"use strict";var S=R(12463).F.ERR_STREAM_PREMATURE_CLOSE;function I(h){var p=!1;return function(){if(!p){p=!0;for(var v=arguments.length,w=new Array(v),b=0;b<v;b++)w[b]=arguments[b];h.apply(this,w)}}}function F(){}function T(h){return h.setHeader&&typeof h.abort=="function"}function c(h,p,v){if(typeof p=="function")return c(h,null,p);p||(p={}),v=I(v||F);var w=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||d()},N=h._writableState&&h._writableState.finished,d=function(){b=!1,N=!0,w||v.call(h)},g=h._readableState&&h._readableState.endEmitted,f=function(){w=!1,g=!0,b||v.call(h)},_=function(V){v.call(h,V)},E=function(){var V;if(w&&!g)return(!h._readableState||!h._readableState.ended)&&(V=new S),v.call(h,V);if(b&&!N)return(!h._writableState||!h._writableState.ended)&&(V=new S),v.call(h,V)},P=function(){h.req.on("finish",d)};return T(h)?(h.on("complete",d),h.on("abort",E),h.req?P():h.on("request",P)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",f),h.on("finish",d),p.error!==!1&&h.on("error",_),h.on("close",E),function(){h.removeListener("complete",d),h.removeListener("abort",E),h.removeListener("request",P),h.req&&h.req.removeListener("finish",d),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",d),h.removeListener("end",f),h.removeListener("error",_),h.removeListener("close",E)}}s.exports=c},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,j,R)=>{"use strict";var S;function I(d){var g=!1;return function(){g||(g=!0,d.apply(void 0,arguments))}}var F=R(12463).F,T=F.ERR_MISSING_ARGS,c=F.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function p(d){return d.setHeader&&typeof d.abort=="function"}function v(d,g,f,_){_=I(_);var E=!1;d.on("close",function(){E=!0}),S===void 0&&(S=R(14257)),S(d,{readable:g,writable:f},function(M){if(M)return _(M);E=!0,_()});var P=!1;return function(M){if(!E&&!P){if(P=!0,p(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();_(M||new c("pipe"))}}}function w(d){d()}function b(d,g){return d.pipe(g)}function l(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function N(){for(var d=arguments.length,g=new Array(d),f=0;f<d;f++)g[f]=arguments[f];var _=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new T("streams");var E,P=g.map(function(M,V){var O=V<g.length-1,y=V>0;return v(M,O,y,function(K){E||(E=K),K&&P.forEach(w),!O&&(P.forEach(w),_(E))})});return g.reduce(b)}s.exports=N},66644:(s,j,R)=>{"use strict";var S=R(12463).F.ERR_INVALID_OPT_VALUE;function I(T,c,h){return T.highWaterMark!=null?T.highWaterMark:c?T[h]:null}function F(T,c,h,p){var v=I(c,p,h);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var w=p?h:"highWaterMark";throw new S(w,v)}return Math.floor(v)}return T.objectMode?16:16384}s.exports={getHighWaterMark:F}},41396:(s,j,R)=>{s.exports=R(37007).EventEmitter},11568:(s,j,R)=>{var S=R(55537),I=R(6917),F=R(57510),T=R(86866),c=R(59817),h=j;h.request=function(p,v){typeof p=="string"?p=c.parse(p):p=F(p);var w=R.g.location.protocol.search(/^https?:$/)===-1?"http:":"",b=p.protocol||w,l=p.hostname||p.host,N=p.port,d=p.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),p.url=(l?b+"//"+l:"")+(N?":"+N:"")+d,p.method=(p.method||"GET").toUpperCase(),p.headers=p.headers||{};var g=new S(p);return v&&g.on("response",v),g},h.get=function(v,w){var b=h.request(v,w);return b.end(),b},h.ClientRequest=S,h.IncomingMessage=I.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=T,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,j,R)=>{j.fetch=T(R.g.fetch)&&T(R.g.ReadableStream),j.writableStream=T(R.g.WritableStream),j.abortController=T(R.g.AbortController);var S;function I(){if(S!==void 0)return S;if(R.g.XMLHttpRequest){S=new R.g.XMLHttpRequest;try{S.open("GET",R.g.XDomainRequest?"/":"https://example.com")}catch{S=null}}else S=null;return S}function F(c){var h=I();if(!h)return!1;try{return h.responseType=c,h.responseType===c}catch{}return!1}j.arraybuffer=j.fetch||F("arraybuffer"),j.msstream=!j.fetch&&F("ms-stream"),j.mozchunkedarraybuffer=!j.fetch&&F("moz-chunked-arraybuffer"),j.overrideMimeType=j.fetch||(I()?T(I().overrideMimeType):!1);function T(c){return typeof c=="function"}S=null},55537:(s,j,R)=>{var S=R(48287).Buffer,I=R(65606),F=R(6688),T=R(56698),c=R(6917),h=R(63242),p=c.IncomingMessage,v=c.readyStates;function w(d,g){return F.fetch&&g?"fetch":F.mozchunkedarraybuffer?"moz-chunked-arraybuffer":F.msstream?"ms-stream":F.arraybuffer&&d?"arraybuffer":"text"}var b=s.exports=function(d){var g=this;h.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+S.from(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(E){g.setHeader(E,d.headers[E])});var f,_=!0;if(d.mode==="disable-fetch"||"requestTimeout"in d&&!F.abortController)_=!1,f=!0;else if(d.mode==="prefer-streaming")f=!1;else if(d.mode==="allow-wrong-content-type")f=!F.overrideMimeType;else if(!d.mode||d.mode==="default"||d.mode==="prefer-fast")f=!0;else throw new Error("Invalid value for opts.mode");g._mode=w(f,_),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};T(b,h.Writable),b.prototype.setHeader=function(d,g){var f=this,_=d.toLowerCase();N.indexOf(_)===-1&&(f._headers[_]={name:d,value:g})},b.prototype.getHeader=function(d){var g=this._headers[d.toLowerCase()];return g?g.value:null},b.prototype.removeHeader=function(d){var g=this;delete g._headers[d.toLowerCase()]},b.prototype._onFinish=function(){var d=this;if(!d._destroyed){var g=d._opts;"timeout"in g&&g.timeout!==0&&d.setTimeout(g.timeout);var f=d._headers,_=null;g.method!=="GET"&&g.method!=="HEAD"&&(_=new Blob(d._body,{type:(f["content-type"]||{}).value||""}));var E=[];if(Object.keys(f).forEach(function(O){var y=f[O].name,K=f[O].value;Array.isArray(K)?K.forEach(function(Y){E.push([y,Y])}):E.push([y,K])}),d._mode==="fetch"){var P=null;if(F.abortController){var M=new AbortController;P=M.signal,d._fetchAbortController=M,"requestTimeout"in g&&g.requestTimeout!==0&&(d._fetchTimer=R.g.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},g.requestTimeout))}R.g.fetch(d._opts.url,{method:d._opts.method,headers:E,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:P}).then(function(O){d._fetchResponse=O,d._resetTimers(!1),d._connect()},function(O){d._resetTimers(!0),d._destroyed||d.emit("error",O)})}else{var V=d._xhr=new R.g.XMLHttpRequest;try{V.open(d._opts.method,d._opts.url,!0)}catch(O){I.nextTick(function(){d.emit("error",O)});return}"responseType"in V&&(V.responseType=d._mode),"withCredentials"in V&&(V.withCredentials=!!g.withCredentials),d._mode==="text"&&"overrideMimeType"in V&&V.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(V.timeout=g.requestTimeout,V.ontimeout=function(){d.emit("requestTimeout")}),E.forEach(function(O){V.setRequestHeader(O[0],O[1])}),d._response=null,V.onreadystatechange=function(){switch(V.readyState){case v.LOADING:case v.DONE:d._onXHRProgress();break}},d._mode==="moz-chunked-arraybuffer"&&(V.onprogress=function(){d._onXHRProgress()}),V.onerror=function(){d._destroyed||(d._resetTimers(!0),d.emit("error",new Error("XHR error")))};try{V.send(_)}catch(O){I.nextTick(function(){d.emit("error",O)});return}}}};function l(d){try{var g=d.status;return g!==null&&g!==0}catch{return!1}}b.prototype._onXHRProgress=function(){var d=this;d._resetTimers(!1),!(!l(d._xhr)||d._destroyed)&&(d._response||d._connect(),d._response._onXHRProgress(d._resetTimers.bind(d)))},b.prototype._connect=function(){var d=this;d._destroyed||(d._response=new p(d._xhr,d._fetchResponse,d._mode,d._resetTimers.bind(d)),d._response.on("error",function(g){d.emit("error",g)}),d.emit("response",d._response))},b.prototype._write=function(d,g,f){var _=this;_._body.push(d),f()},b.prototype._resetTimers=function(d){var g=this;R.g.clearTimeout(g._socketTimer),g._socketTimer=null,d?(R.g.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=R.g.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},b.prototype.abort=b.prototype.destroy=function(d){var g=this;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),d&&g.emit("error",d)},b.prototype.end=function(d,g,f){var _=this;typeof d=="function"&&(f=d,d=void 0),h.Writable.prototype.end.call(_,d,g,f)},b.prototype.setTimeout=function(d,g){var f=this;g&&f.once("timeout",g),f._socketTimeout=d,f._resetTimers(!1)},b.prototype.flushHeaders=function(){},b.prototype.setNoDelay=function(){},b.prototype.setSocketKeepAlive=function(){};var N=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,j,R)=>{var S=R(65606),I=R(48287).Buffer,F=R(6688),T=R(56698),c=R(63242),h=j.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},p=j.IncomingMessage=function(v,w,b,l){var N=this;if(c.Readable.call(N),N._mode=b,N.headers={},N.rawHeaders=[],N.trailers={},N.rawTrailers=[],N.on("end",function(){S.nextTick(function(){N.emit("close")})}),b==="fetch"){let M=function(){g.read().then(function(V){if(!N._destroyed){if(l(V.done),V.done){N.push(null);return}N.push(I.from(V.value)),M()}}).catch(function(V){l(!0),N._destroyed||N.emit("error",V)})};var P=M;if(N._fetchResponse=w,N.url=w.url,N.statusCode=w.status,N.statusMessage=w.statusText,w.headers.forEach(function(V,O){N.headers[O.toLowerCase()]=V,N.rawHeaders.push(O,V)}),F.writableStream){var d=new WritableStream({write:function(V){return l(!1),new Promise(function(O,y){N._destroyed?y():N.push(I.from(V))?O():N._resumeFetch=O})},close:function(){l(!0),N._destroyed||N.push(null)},abort:function(V){l(!0),N._destroyed||N.emit("error",V)}});try{w.body.pipeTo(d).catch(function(V){l(!0),N._destroyed||N.emit("error",V)});return}catch{}}var g=w.body.getReader();M()}else{N._xhr=v,N._pos=0,N.url=v.responseURL,N.statusCode=v.status,N.statusMessage=v.statusText;var f=v.getAllResponseHeaders().split(/\r?\n/);if(f.forEach(function(M){var V=M.match(/^([^:]+):\s*(.*)/);if(V){var O=V[1].toLowerCase();O==="set-cookie"?(N.headers[O]===void 0&&(N.headers[O]=[]),N.headers[O].push(V[2])):N.headers[O]!==void 0?N.headers[O]+=", "+V[2]:N.headers[O]=V[2],N.rawHeaders.push(V[1],V[2])}}),N._charset="x-user-defined",!F.overrideMimeType){var _=N.rawHeaders["mime-type"];if(_){var E=_.match(/;\s*charset=([^;])(;|$)/);E&&(N._charset=E[1].toLowerCase())}N._charset||(N._charset="utf-8")}}};T(p,c.Readable),p.prototype._read=function(){var v=this,w=v._resumeFetch;w&&(v._resumeFetch=null,w())},p.prototype._onXHRProgress=function(v){var w=this,b=w._xhr,l=null;switch(w._mode){case"text":if(l=b.responseText,l.length>w._pos){var N=l.substr(w._pos);if(w._charset==="x-user-defined"){for(var d=I.alloc(N.length),g=0;g<N.length;g++)d[g]=N.charCodeAt(g)&255;w.push(d)}else w.push(N,w._charset);w._pos=l.length}break;case"arraybuffer":if(b.readyState!==h.DONE||!b.response)break;l=b.response,w.push(I.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=b.response,b.readyState!==h.LOADING||!l)break;w.push(I.from(new Uint8Array(l)));break;case"ms-stream":if(l=b.response,b.readyState!==h.LOADING)break;var f=new R.g.MSStreamReader;f.onprogress=function(){f.result.byteLength>w._pos&&(w.push(I.from(new Uint8Array(f.result.slice(w._pos)))),w._pos=f.result.byteLength)},f.onload=function(){v(!0),w.push(null)},f.readAsArrayBuffer(l);break}w._xhr.readyState===h.DONE&&w._mode!=="ms-stream"&&(v(!0),w.push(null))}},73157:s=>{"use strict";function j(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var R={};function S(h,p,v){v||(v=Error);function w(l,N,d){return typeof p=="string"?p:p(l,N,d)}var b=function(l){j(N,l);function N(d,g,f){return l.call(this,w(d,g,f))||this}return N}(v);b.prototype.name=v.name,b.prototype.code=h,R[h]=b}function I(h,p){if(Array.isArray(h)){var v=h.length;return h=h.map(function(w){return String(w)}),v>2?"one of ".concat(p," ").concat(h.slice(0,v-1).join(", "),", or ")+h[v-1]:v===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function F(h,p,v){return h.substr(!v||v<0?0:+v,p.length)===p}function T(h,p,v){return(v===void 0||v>h.length)&&(v=h.length),h.substring(v-p.length,v)===p}function c(h,p,v){return typeof v!="number"&&(v=0),v+p.length>h.length?!1:h.indexOf(p,v)!==-1}S("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(h,p,v){var w;typeof p=="string"&&F(p,"not ")?(w="must not be",p=p.replace(/^not /,"")):w="must be";var b;if(T(h," argument"))b="The ".concat(h," ").concat(w," ").concat(I(p,"type"));else{var l=c(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(w," ").concat(I(p,"type"))}return b+=". Received type ".concat(typeof v),b},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=R},63527:(s,j,R)=>{"use strict";var S=R(65606),I=Object.keys||function(l){var N=[];for(var d in l)N.push(d);return N};s.exports=v;var F=R(52341),T=R(9573);R(56698)(v,F);for(var c=I(T.prototype),h=0;h<c.length;h++){var p=c[h];v.prototype[p]||(v.prototype[p]=T.prototype[p])}function v(l){if(!(this instanceof v))return new v(l);F.call(this,l),T.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(N){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=N,this._writableState.destroyed=N)}})},82571:(s,j,R)=>{"use strict";s.exports=I;var S=R(95689);R(56698)(I,S);function I(F){if(!(this instanceof I))return new I(F);S.call(this,F)}I.prototype._transform=function(F,T,c){c(null,F)}},52341:(s,j,R)=>{"use strict";var S=R(65606);s.exports=x;var I;x.ReadableState=J;var F=R(37007).EventEmitter,T=function(U,le){return U.listeners(le).length},c=R(81914),h=R(48287).Buffer,p=R.g.Uint8Array||function(){};function v(B){return h.from(B)}function w(B){return h.isBuffer(B)||B instanceof p}var b=R(86833),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var N=R(10272),d=R(16057),g=R(11922),f=g.getHighWaterMark,_=R(73157).F,E=_.ERR_INVALID_ARG_TYPE,P=_.ERR_STREAM_PUSH_AFTER_EOF,M=_.ERR_METHOD_NOT_IMPLEMENTED,V=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,y,K;R(56698)(x,c);var Y=d.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ie(B,U,le){if(typeof B.prependListener=="function")return B.prependListener(U,le);!B._events||!B._events[U]?B.on(U,le):Array.isArray(B._events[U])?B._events[U].unshift(le):B._events[U]=[le,B._events[U]]}function J(B,U,le){I=I||R(63527),B=B||{},typeof le!="boolean"&&(le=U instanceof I),this.objectMode=!!B.objectMode,le&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=f(this,B,"readableHighWaterMark",le),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(O||(O=R(83141).I),this.decoder=new O(B.encoding),this.encoding=B.encoding)}function x(B){if(I=I||R(63527),!(this instanceof x))return new x(B);var U=this instanceof I;this._readableState=new J(B,this,U),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),c.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(B,U){U(B)},x.prototype.push=function(B,U){var le=this._readableState,ge;return le.objectMode?ge=!0:typeof B=="string"&&(U=U||le.defaultEncoding,U!==le.encoding&&(B=h.from(B,U),U=""),ge=!0),W(this,B,U,!1,ge)},x.prototype.unshift=function(B){return W(this,B,null,!0,!1)};function W(B,U,le,ge,_e){l("readableAddChunk",U);var ye=B._readableState;if(U===null)ye.reading=!1,z(B,ye);else{var Me;if(_e||(Me=m(ye,U)),Me)Y(B,Me);else if(ye.objectMode||U&&U.length>0)if(typeof U!="string"&&!ye.objectMode&&Object.getPrototypeOf(U)!==h.prototype&&(U=v(U)),ge)ye.endEmitted?Y(B,new V):D(B,ye,U,!0);else if(ye.ended)Y(B,new P);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?D(B,ye,U,!1):ne(B,ye)):D(B,ye,U,!1)}else ge||(ye.reading=!1,ne(B,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function D(B,U,le,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,B.emit("data",le)):(U.length+=U.objectMode?1:le.length,ge?U.buffer.unshift(le):U.buffer.push(le),U.needReadable&&G(B)),ne(B,U)}function m(B,U){var le;return!w(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(le=new E("chunk",["string","Buffer","Uint8Array"],U)),le}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(B){O||(O=R(83141).I);var U=new O(B);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ge="";le!==null;)ge+=U.write(le.data),le=le.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var C=1073741824;function L(B){return B>=C?B=C:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function H(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=L(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}x.prototype.read=function(B){l("read",B),B=parseInt(B,10);var U=this._readableState,le=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return l("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?de(this):G(this),null;if(B=H(B,U),B===0&&U.ended)return U.length===0&&de(this),null;var ge=U.needReadable;l("need readable",ge),(U.length===0||U.length-B<U.highWaterMark)&&(ge=!0,l("length less than watermark",ge)),U.ended||U.reading?(ge=!1,l("reading or ended",ge)):ge&&(l("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=H(le,U)));var _e;return B>0?_e=te(B,U):_e=null,_e===null?(U.needReadable=U.length<=U.highWaterMark,B=0):(U.length-=B,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),le!==B&&U.ended&&de(this)),_e!==null&&this.emit("data",_e),_e};function z(B,U){if(l("onEofChunk"),!U.ended){if(U.decoder){var le=U.decoder.end();le&&le.length&&(U.buffer.push(le),U.length+=U.objectMode?1:le.length)}U.ended=!0,U.sync?G(B):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ee(B)))}}function G(B){var U=B._readableState;l("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(l("emitReadable",U.flowing),U.emittedReadable=!0,S.nextTick(ee,B))}function ee(B){var U=B._readableState;l("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(B.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,X(B)}function ne(B,U){U.readingMore||(U.readingMore=!0,S.nextTick(q,B,U))}function q(B,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var le=U.length;if(l("maybeReadMore read 0"),B.read(0),le===U.length)break}U.readingMore=!1}x.prototype._read=function(B){Y(this,new M("_read()"))},x.prototype.pipe=function(B,U){var le=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=B;break;case 1:ge.pipes=[ge.pipes,B];break;default:ge.pipes.push(B);break}ge.pipesCount+=1,l("pipe count=%d opts=%j",ge.pipesCount,U);var _e=(!U||U.end!==!1)&&B!==S.stdout&&B!==S.stderr,ye=_e?Be:ue;ge.endEmitted?S.nextTick(ye):le.once("end",ye),B.on("unpipe",Me);function Me(ke,Ie){l("onunpipe"),ke===le&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Je())}function Be(){l("onend"),B.end()}var Ve=se(le);B.on("drain",Ve);var _t=!1;function Je(){l("cleanup"),B.removeListener("close",ce),B.removeListener("finish",ae),B.removeListener("drain",Ve),B.removeListener("error",Rt),B.removeListener("unpipe",Me),le.removeListener("end",Be),le.removeListener("end",ue),le.removeListener("data",nt),_t=!0,ge.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ve()}le.on("data",nt);function nt(ke){l("ondata");var Ie=B.write(ke);l("dest.write",Ie),Ie===!1&&((ge.pipesCount===1&&ge.pipes===B||ge.pipesCount>1&&we(ge.pipes,B)!==-1)&&!_t&&(l("false write response, pause",ge.awaitDrain),ge.awaitDrain++),le.pause())}function Rt(ke){l("onerror",ke),ue(),B.removeListener("error",Rt),T(B,"error")===0&&Y(B,ke)}ie(B,"error",Rt);function ce(){B.removeListener("finish",ae),ue()}B.once("close",ce);function ae(){l("onfinish"),B.removeListener("close",ce),ue()}B.once("finish",ae);function ue(){l("unpipe"),le.unpipe(B)}return B.emit("pipe",le),ge.flowing||(l("pipe resume"),le.resume()),B};function se(B){return function(){var le=B._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&T(B,"data")&&(le.flowing=!0,X(B))}}x.prototype.unpipe=function(B){var U=this._readableState,le={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,le),this);if(!B){var ge=U.pipes,_e=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ye=0;ye<_e;ye++)ge[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=we(U.pipes,B);return Me===-1?this:(U.pipes.splice(Me,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,le),this)},x.prototype.on=function(B,U){var le=c.prototype.on.call(this,B,U),ge=this._readableState;return B==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):B==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,l("on readable",ge.length,ge.reading),ge.length?G(this):ge.reading||S.nextTick(Ee,this)),le},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(B,U){var le=c.prototype.removeListener.call(this,B,U);return B==="readable"&&S.nextTick(xe,this),le},x.prototype.removeAllListeners=function(B){var U=c.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&S.nextTick(xe,this),U};function xe(B){var U=B._readableState;U.readableListening=B.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:B.listenerCount("data")>0&&B.resume()}function Ee(B){l("readable nexttick read 0"),B.read(0)}x.prototype.resume=function(){var B=this._readableState;return B.flowing||(l("resume"),B.flowing=!B.readableListening,be(this,B)),B.paused=!1,this};function be(B,U){U.resumeScheduled||(U.resumeScheduled=!0,S.nextTick(Pe,B,U))}function Pe(B,U){l("resume",U.reading),U.reading||B.read(0),U.resumeScheduled=!1,B.emit("resume"),X(B),U.flowing&&!U.reading&&B.read(0)}x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var U=B._readableState;for(l("flow",U.flowing);U.flowing&&B.read()!==null;);}x.prototype.wrap=function(B){var U=this,le=this._readableState,ge=!1;B.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&U.push(Me)}U.push(null)}),B.on("data",function(Me){if(l("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var Be=U.push(Me);Be||(ge=!0,B.pause())}});for(var _e in B)this[_e]===void 0&&typeof B[_e]=="function"&&(this[_e]=function(Be){return function(){return B[Be].apply(B,arguments)}}(_e));for(var ye=0;ye<Z.length;ye++)B.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Me){l("wrapped _read",Me),ge&&(ge=!1,B.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=R(17356)),y(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),x._fromList=te,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(B,U){if(U.length===0)return null;var le;return U.objectMode?le=U.buffer.shift():!B||B>=U.length?(U.decoder?le=U.buffer.join(""):U.buffer.length===1?le=U.buffer.first():le=U.buffer.concat(U.length),U.buffer.clear()):le=U.buffer.consume(B,U.decoder),le}function de(B){var U=B._readableState;l("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,S.nextTick(he,U,B))}function he(B,U){if(l("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"),B.autoDestroy)){var le=U._writableState;(!le||le.autoDestroy&&le.finished)&&U.destroy()}}typeof Symbol=="function"&&(x.from=function(B,U){return K===void 0&&(K=R(6314)),K(x,B,U)});function we(B,U){for(var le=0,ge=B.length;le<ge;le++)if(B[le]===U)return le;return-1}},95689:(s,j,R)=>{"use strict";s.exports=v;var S=R(73157).F,I=S.ERR_METHOD_NOT_IMPLEMENTED,F=S.ERR_MULTIPLE_CALLBACK,T=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=S.ERR_TRANSFORM_WITH_LENGTH_0,h=R(63527);R(56698)(v,h);function p(l,N){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(g===null)return this.emit("error",new F);d.writechunk=null,d.writecb=null,N!=null&&this.push(N),g(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function v(l){if(!(this instanceof v))return new v(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",w)}function w(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(N,d){b(l,N,d)}):b(this,null,null)}v.prototype.push=function(l,N){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,N)},v.prototype._transform=function(l,N,d){d(new I("_transform()"))},v.prototype._write=function(l,N,d){var g=this._transformState;if(g.writecb=d,g.writechunk=l,g.writeencoding=N,!g.transforming){var f=this._readableState;(g.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},v.prototype._read=function(l){var N=this._transformState;N.writechunk!==null&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},v.prototype._destroy=function(l,N){h.prototype._destroy.call(this,l,function(d){N(d)})};function b(l,N,d){if(N)return l.emit("error",N);if(d!=null&&l.push(d),l._writableState.length)throw new c;if(l._transformState.transforming)throw new T;return l.push(null)}},9573:(s,j,R)=>{"use strict";var S=R(65606);s.exports=J;function I(X,te,de){this.chunk=X,this.encoding=te,this.callback=de,this.next=null}function F(X){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,X)}}var T;J.WritableState=Z;var c={deprecate:R(94643)},h=R(81914),p=R(48287).Buffer,v=R.g.Uint8Array||function(){};function w(X){return p.from(X)}function b(X){return p.isBuffer(X)||X instanceof v}var l=R(16057),N=R(11922),d=N.getHighWaterMark,g=R(73157).F,f=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,P=g.ERR_STREAM_CANNOT_PIPE,M=g.ERR_STREAM_DESTROYED,V=g.ERR_STREAM_NULL_VALUES,O=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,K=l.errorOrDestroy;R(56698)(J,h);function Y(){}function Z(X,te,de){T=T||R(63527),X=X||{},typeof de!="boolean"&&(de=te instanceof T),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=d(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=X.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){z(te,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new F(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,de=[];te;)de.push(te),te=te.next;return de},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(te){return ie.call(this,te)?!0:this!==J?!1:te&&te._writableState instanceof Z}})):ie=function(te){return te instanceof this};function J(X){T=T||R(63527);var te=this instanceof T;if(!te&&!ie.call(J,this))return new J(X);this._writableState=new Z(X,this,te),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),h.call(this)}J.prototype.pipe=function(){K(this,new P)};function x(X,te){var de=new O;K(X,de),S.nextTick(te,de)}function W(X,te,de,he){var we;return de===null?we=new V:typeof de!="string"&&!te.objectMode&&(we=new f("chunk",["string","Buffer"],de)),we?(K(X,we),S.nextTick(he,we),!1):!0}J.prototype.write=function(X,te,de){var he=this._writableState,we=!1,B=!he.objectMode&&b(X);return B&&!p.isBuffer(X)&&(X=w(X)),typeof te=="function"&&(de=te,te=null),B?te="buffer":te||(te=he.defaultEncoding),typeof de!="function"&&(de=Y),he.ending?x(this,de):(B||W(this,he,X,de))&&(he.pendingcb++,we=m(this,he,B,X,te,de)),we},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ne(this,X))},J.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(X,te,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof te=="string"&&(te=p.from(te,de)),te}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(X,te,de,he,we,B){if(!de){var U=D(te,he,we);he!==U&&(de=!0,we="buffer",he=U)}var le=te.objectMode?1:he.length;te.length+=le;var ge=te.length<te.highWaterMark;if(ge||(te.needDrain=!0),te.writing||te.corked){var _e=te.lastBufferedRequest;te.lastBufferedRequest={chunk:he,encoding:we,isBuf:de,callback:B,next:null},_e?_e.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else C(X,te,!1,le,he,we,B);return ge}function C(X,te,de,he,we,B,U){te.writelen=he,te.writecb=U,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new M("write")):de?X._writev(we,te.onwrite):X._write(we,B,te.onwrite),te.sync=!1}function L(X,te,de,he,we){--te.pendingcb,de?(S.nextTick(we,he),S.nextTick(Ee,X,te),X._writableState.errorEmitted=!0,K(X,he)):(we(he),X._writableState.errorEmitted=!0,K(X,he),Ee(X,te))}function H(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function z(X,te){var de=X._writableState,he=de.sync,we=de.writecb;if(typeof we!="function")throw new E;if(H(de),te)L(X,de,he,te,we);else{var B=q(de)||X.destroyed;!B&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&ne(X,de),he?S.nextTick(G,X,de,B,we):G(X,de,B,we)}}function G(X,te,de,he){de||ee(X,te),te.pendingcb--,he(),Ee(X,te)}function ee(X,te){te.length===0&&te.needDrain&&(te.needDrain=!1,X.emit("drain"))}function ne(X,te){te.bufferProcessing=!0;var de=te.bufferedRequest;if(X._writev&&de&&de.next){var he=te.bufferedRequestCount,we=new Array(he),B=te.corkedRequestsFree;B.entry=de;for(var U=0,le=!0;de;)we[U]=de,de.isBuf||(le=!1),de=de.next,U+=1;we.allBuffers=le,C(X,te,!0,te.length,we,"",B.finish),te.pendingcb++,te.lastBufferedRequest=null,B.next?(te.corkedRequestsFree=B.next,B.next=null):te.corkedRequestsFree=new F(te),te.bufferedRequestCount=0}else{for(;de;){var ge=de.chunk,_e=de.encoding,ye=de.callback,Me=te.objectMode?1:ge.length;if(C(X,te,!1,Me,ge,_e,ye),de=de.next,te.bufferedRequestCount--,te.writing)break}de===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=de,te.bufferProcessing=!1}J.prototype._write=function(X,te,de){de(new _("_write()"))},J.prototype._writev=null,J.prototype.end=function(X,te,de){var he=this._writableState;return typeof X=="function"?(de=X,X=null,te=null):typeof te=="function"&&(de=te,te=null),X!=null&&this.write(X,te),he.corked&&(he.corked=1,this.uncork()),he.ending||be(this,he,de),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function se(X,te){X._final(function(de){te.pendingcb--,de&&K(X,de),te.prefinished=!0,X.emit("prefinish"),Ee(X,te)})}function xe(X,te){!te.prefinished&&!te.finalCalled&&(typeof X._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(se,X,te)):(te.prefinished=!0,X.emit("prefinish")))}function Ee(X,te){var de=q(te);if(de&&(xe(X,te),te.pendingcb===0&&(te.finished=!0,X.emit("finish"),te.autoDestroy))){var he=X._readableState;(!he||he.autoDestroy&&he.endEmitted)&&X.destroy()}return de}function be(X,te,de){te.ending=!0,Ee(X,te),de&&(te.finished?S.nextTick(de):X.once("finish",de)),te.ended=!0,X.writable=!1}function Pe(X,te,de){var he=X.entry;for(X.entry=null;he;){var we=he.callback;te.pendingcb--,we(de),he=he.next}te.corkedRequestsFree.next=X}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(X,te){te(X)}},17356:(s,j,R)=>{"use strict";var S=R(65606),I;function F(M,V,O){return V in M?Object.defineProperty(M,V,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[V]=O,M}var T=R(19959),c=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),v=Symbol("ended"),w=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function N(M,V){return{value:M,done:V}}function d(M){var V=M[c];if(V!==null){var O=M[l].read();O!==null&&(M[w]=null,M[c]=null,M[h]=null,V(N(O,!1)))}}function g(M){S.nextTick(d,M)}function f(M,V){return function(O,y){M.then(function(){if(V[v]){O(N(void 0,!0));return}V[b](O,y)},y)}}var _=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[l]},next:function(){var V=this,O=this[p];if(O!==null)return Promise.reject(O);if(this[v])return Promise.resolve(N(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ie){S.nextTick(function(){V[p]?ie(V[p]):Z(N(void 0,!0))})});var y=this[w],K;if(y)K=new Promise(f(y,this));else{var Y=this[l].read();if(Y!==null)return Promise.resolve(N(Y,!1));K=new Promise(this[b])}return this[w]=K,K}},F(I,Symbol.asyncIterator,function(){return this}),F(I,"return",function(){var V=this;return new Promise(function(O,y){V[l].destroy(null,function(K){if(K){y(K);return}O(N(void 0,!0))})})}),I),_),P=function(V){var O,y=Object.create(E,(O={},F(O,l,{value:V,writable:!0}),F(O,c,{value:null,writable:!0}),F(O,h,{value:null,writable:!0}),F(O,p,{value:null,writable:!0}),F(O,v,{value:V._readableState.endEmitted,writable:!0}),F(O,b,{value:function(Y,Z){var ie=y[l].read();ie?(y[w]=null,y[c]=null,y[h]=null,Y(N(ie,!1))):(y[c]=Y,y[h]=Z)},writable:!0}),O));return y[w]=null,T(V,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=y[h];Y!==null&&(y[w]=null,y[c]=null,y[h]=null,Y(K)),y[p]=K;return}var Z=y[c];Z!==null&&(y[w]=null,y[c]=null,y[h]=null,Z(N(void 0,!0))),y[v]=!0}),V.on("readable",g.bind(null,y)),y};s.exports=P},10272:(s,j,R)=>{"use strict";function S(d,g){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(d);g&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),f.push.apply(f,_)}return f}function I(d){for(var g=1;g<arguments.length;g++){var f=arguments[g]!=null?arguments[g]:{};g%2?S(Object(f),!0).forEach(function(_){F(d,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):S(Object(f)).forEach(function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(f,_))})}return d}function F(d,g,f){return g in d?Object.defineProperty(d,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[g]=f,d}function T(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function c(d,g){for(var f=0;f<g.length;f++){var _=g[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}function h(d,g,f){return g&&c(d.prototype,g),f&&c(d,f),d}var p=R(48287),v=p.Buffer,w=R(59169),b=w.inspect,l=b&&b.custom||"inspect";function N(d,g,f){v.prototype.copy.call(d,g,f)}s.exports=function(){function d(){T(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(f){var _={data:f,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(f){var _={data:f,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var _=this.head,E=""+_.data;_=_.next;)E+=f+_.data;return E}},{key:"concat",value:function(f){if(this.length===0)return v.alloc(0);for(var _=v.allocUnsafe(f>>>0),E=this.head,P=0;E;)N(E.data,_,P),P+=E.data.length,E=E.next;return _}},{key:"consume",value:function(f,_){var E;return f<this.head.data.length?(E=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?E=this.shift():E=_?this._getString(f):this._getBuffer(f),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var _=this.head,E=1,P=_.data;for(f-=P.length;_=_.next;){var M=_.data,V=f>M.length?M.length:f;if(V===M.length?P+=M:P+=M.slice(0,f),f-=V,f===0){V===M.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(V));break}++E}return this.length-=E,P}},{key:"_getBuffer",value:function(f){var _=v.allocUnsafe(f),E=this.head,P=1;for(E.data.copy(_),f-=E.data.length;E=E.next;){var M=E.data,V=f>M.length?M.length:f;if(M.copy(_,_.length-f,0,V),f-=V,f===0){V===M.length?(++P,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=M.slice(V));break}++P}return this.length-=P,_}},{key:l,value:function(f,_){return b(this,I({},_,{depth:0,customInspect:!1}))}}]),d}()},16057:(s,j,R)=>{"use strict";var S=R(65606);function I(v,w){var b=this,l=this._readableState&&this._readableState.destroyed,N=this._writableState&&this._writableState.destroyed;return l||N?(w?w(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(h,this,v)):S.nextTick(h,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(d){!w&&d?b._writableState?b._writableState.errorEmitted?S.nextTick(T,b):(b._writableState.errorEmitted=!0,S.nextTick(F,b,d)):S.nextTick(F,b,d):w?(S.nextTick(T,b),w(d)):S.nextTick(T,b)}),this)}function F(v,w){h(v,w),T(v)}function T(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(v,w){v.emit("error",w)}function p(v,w){var b=v._readableState,l=v._writableState;b&&b.autoDestroy||l&&l.autoDestroy?v.destroy(w):v.emit("error",w)}s.exports={destroy:I,undestroy:c,errorOrDestroy:p}},19959:(s,j,R)=>{"use strict";var S=R(73157).F.ERR_STREAM_PREMATURE_CLOSE;function I(h){var p=!1;return function(){if(!p){p=!0;for(var v=arguments.length,w=new Array(v),b=0;b<v;b++)w[b]=arguments[b];h.apply(this,w)}}}function F(){}function T(h){return h.setHeader&&typeof h.abort=="function"}function c(h,p,v){if(typeof p=="function")return c(h,null,p);p||(p={}),v=I(v||F);var w=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||d()},N=h._writableState&&h._writableState.finished,d=function(){b=!1,N=!0,w||v.call(h)},g=h._readableState&&h._readableState.endEmitted,f=function(){w=!1,g=!0,b||v.call(h)},_=function(V){v.call(h,V)},E=function(){var V;if(w&&!g)return(!h._readableState||!h._readableState.ended)&&(V=new S),v.call(h,V);if(b&&!N)return(!h._writableState||!h._writableState.ended)&&(V=new S),v.call(h,V)},P=function(){h.req.on("finish",d)};return T(h)?(h.on("complete",d),h.on("abort",E),h.req?P():h.on("request",P)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",f),h.on("finish",d),p.error!==!1&&h.on("error",_),h.on("close",E),function(){h.removeListener("complete",d),h.removeListener("abort",E),h.removeListener("request",P),h.req&&h.req.removeListener("finish",d),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",d),h.removeListener("end",f),h.removeListener("error",_),h.removeListener("close",E)}}s.exports=c},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,j,R)=>{"use strict";var S;function I(d){var g=!1;return function(){g||(g=!0,d.apply(void 0,arguments))}}var F=R(73157).F,T=F.ERR_MISSING_ARGS,c=F.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function p(d){return d.setHeader&&typeof d.abort=="function"}function v(d,g,f,_){_=I(_);var E=!1;d.on("close",function(){E=!0}),S===void 0&&(S=R(19959)),S(d,{readable:g,writable:f},function(M){if(M)return _(M);E=!0,_()});var P=!1;return function(M){if(!E&&!P){if(P=!0,p(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();_(M||new c("pipe"))}}}function w(d){d()}function b(d,g){return d.pipe(g)}function l(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function N(){for(var d=arguments.length,g=new Array(d),f=0;f<d;f++)g[f]=arguments[f];var _=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new T("streams");var E,P=g.map(function(M,V){var O=V<g.length-1,y=V>0;return v(M,O,y,function(K){E||(E=K),K&&P.forEach(w),!O&&(P.forEach(w),_(E))})});return g.reduce(b)}s.exports=N},11922:(s,j,R)=>{"use strict";var S=R(73157).F.ERR_INVALID_OPT_VALUE;function I(T,c,h){return T.highWaterMark!=null?T.highWaterMark:c?T[h]:null}function F(T,c,h,p){var v=I(c,p,h);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var w=p?h:"highWaterMark";throw new S(w,v)}return Math.floor(v)}return T.objectMode?16:16384}s.exports={getHighWaterMark:F}},81914:(s,j,R)=>{s.exports=R(37007).EventEmitter},63242:(s,j,R)=>{j=s.exports=R(52341),j.Stream=j,j.Readable=j,j.Writable=R(9573),j.Duplex=R(63527),j.Transform=R(95689),j.PassThrough=R(82571),j.finished=R(19959),j.pipeline=R(37413)},83141:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=S.isEncoding||function(P){switch(P=""+P,P&&P.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(P){if(!P)return"utf8";for(var M;;)switch(P){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return P;default:if(M)return;P=(""+P).toLowerCase(),M=!0}}function T(P){var M=F(P);if(typeof M!="string"&&(S.isEncoding===I||!I(P)))throw new Error("Unknown encoding: "+P);return M||P}j.I=c;function c(P){this.encoding=T(P);var M;switch(this.encoding){case"utf16le":this.text=N,this.end=d,M=4;break;case"utf8":this.fillLast=w,M=4;break;case"base64":this.text=g,this.end=f,M=3;break;default:this.write=_,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(M)}c.prototype.write=function(P){if(P.length===0)return"";var M,V;if(this.lastNeed){if(M=this.fillLast(P),M===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<P.length?M?M+this.text(P,V):this.text(P,V):M||""},c.prototype.end=l,c.prototype.text=b,c.prototype.fillLast=function(P){if(this.lastNeed<=P.length)return P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,P.length),this.lastNeed-=P.length};function h(P){return P<=127?0:P>>5===6?2:P>>4===14?3:P>>3===30?4:P>>6===2?-1:-2}function p(P,M,V){var O=M.length-1;if(O<V)return 0;var y=h(M[O]);return y>=0?(y>0&&(P.lastNeed=y-1),y):--O<V||y===-2?0:(y=h(M[O]),y>=0?(y>0&&(P.lastNeed=y-2),y):--O<V||y===-2?0:(y=h(M[O]),y>=0?(y>0&&(y===2?y=0:P.lastNeed=y-3),y):0))}function v(P,M,V){if((M[0]&192)!==128)return P.lastNeed=0,"\uFFFD";if(P.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return P.lastNeed=1,"\uFFFD";if(P.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return P.lastNeed=2,"\uFFFD"}}function w(P){var M=this.lastTotal-this.lastNeed,V=v(this,P,M);if(V!==void 0)return V;if(this.lastNeed<=P.length)return P.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,M,0,P.length),this.lastNeed-=P.length}function b(P,M){var V=p(this,P,M);if(!this.lastNeed)return P.toString("utf8",M);this.lastTotal=V;var O=P.length-(V-this.lastNeed);return P.copy(this.lastChar,0,O),P.toString("utf8",M,O)}function l(P){var M=P&&P.length?this.write(P):"";return this.lastNeed?M+"\uFFFD":M}function N(P,M){if((P.length-M)%2===0){var V=P.toString("utf16le",M);if(V){var O=V.charCodeAt(V.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=P[P.length-1],P.toString("utf16le",M,P.length-1)}function d(P){var M=P&&P.length?this.write(P):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,V)}return M}function g(P,M){var V=(P.length-M)%3;return V===0?P.toString("base64",M):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=P[P.length-1]:(this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1]),P.toString("base64",M,P.length-V))}function f(P){var M=P&&P.length?this.write(P):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function _(P){return P.toString(this.encoding)}function E(P){return P&&P.length?this.write(P):""}},9423:(s,j,R)=>{"use strict";R.d(j,{A:()=>T});function S(c){var h,p=c.Symbol;return typeof p=="function"?p.observable?h=p.observable:(h=p("observable"),p.observable=h):h="@@observable",h}s=R.hmd(s);var I;typeof self!="undefined"?I=self:typeof window!="undefined"?I=window:typeof R.g!="undefined"?I=R.g:I=s;var F=S(I);const T=F},32909:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ExperimentationService=void 0;var S=R(67291);Object.defineProperty(j,"ExperimentationService",{enumerable:!0,get:function(){return S.ExperimentationService}})},67291:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ExperimentationService=void 0;const S=R(32845),I=R(51924),F=R(45761);class T extends F.ExperimentationServiceAutoPolling{constructor(h){super(h.telemetry,h.filterProviders||[],h.refetchInterval!=null?h.refetchInterval:0,h.assignmentContextTelemetryPropertyName,h.telemetryEventName,h.storageKey,h.keyValueStorage),this.options=h,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new S.TasApiFeatureProvider(new I.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}j.ExperimentationService=T,T.REFRESH_RATE_IN_MINUTES=30},45761:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ExperimentationServiceAutoPolling=void 0;const S=R(1714),I=R(23257);class F extends S.ExperimentationServiceBase{constructor(c,h,p,v,w,b,l){if(super(c,v,w,b,l),this.telemetry=c,this.filterProviders=h,this.refreshRateMs=p,this.assignmentContextTelemetryPropertyName=v,this.telemetryEventName=w,this.storageKey=b,this.storage=l,p<1e3&&p!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");p>0&&(this.pollingService=new I.PollingService(p),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(c=!1){if(this.pollingService){this.pollingService.StopPolling();let h=await super.getFeaturesAsync(c);return this.pollingService.StartPolling(),h}else return await super.getFeaturesAsync(c)}}j.ExperimentationServiceAutoPolling=F},1714:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ExperimentationServiceBase=void 0;const S=R(48823);class I{get features(){return this._features}set features(T){this._features=T,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(T,c,h,p,v){this.telemetry=T,this.assignmentContextTelemetryPropertyName=c,this.telemetryEventName=h,this.storageKey=p,this.storage=v,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(v=new S.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((w,b)=>{this.resolveInitialFetchPromise=w})}async getFeaturesAsync(T=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async h=>await h.getFeatures()));const c=await this.fetchPromise;this.updateFeatures(c,T)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(T,c=!1){let h={features:[],assignmentContext:"",configs:[]};for(let p of T){for(let v of p.features)h.features.includes(v)||h.features.push(v);for(let v of p.configs){const w=h.configs.find(b=>b.Id===v.Id);w?w.Parameters=Object.assign(Object.assign({},w.Parameters),v.Parameters):h.configs.push(v)}h.assignmentContext+=p.assignmentContext}(c||!this.featuresConsumed)&&(this.features=h),this.storage&&this.storage.setValue(this.storageKey,h)}async loadCachedFeatureData(){let T;this.storage&&(T=await this.storage.getValue(this.storageKey),T!==void 0&&T.configs===void 0&&(T.configs=[])),this.features.features.length===0&&(this.features=T||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(T){return this.featuresConsumed=!0,this.PostEventToTelemetry(T),this.features.features.includes(T)}async isCachedFlightEnabled(T){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(T),this.features.features.includes(T)}async isFlightEnabledAsync(T){const c=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(T),c.features.includes(T)}getTreatmentVariable(T,c){this.featuresConsumed=!0,this.PostEventToTelemetry(`${T}.${c}`);const h=this.features.configs.find(p=>p.Id===T);return h==null?void 0:h.Parameters[c]}async getTreatmentVariableAsync(T,c,h){if(h){const p=this.featuresConsumed,v=this.getTreatmentVariable(T,c);if(v===void 0)this.featuresConsumed=p;else return v}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(T,c)}PostEventToTelemetry(T){this.cachedTelemetryEvents.includes(T)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",T]])),this.cachedTelemetryEvents.push(T))}invokeInit(){this.init()}addFeatureProvider(...T){if(!(T==null||this.featureProviders==null))for(let c of T)this.featureProviders.push(c)}}j.ExperimentationServiceBase=I},96790:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.BaseFeatureProvider=void 0;class R{constructor(I){this.telemetry=I,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let I=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,I}}j.BaseFeatureProvider=R},76492:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.FilteredFeatureProvider=void 0;const S=R(96790);class I extends S.BaseFeatureProvider{constructor(T,c){super(T),this.telemetry=T,this.filterProviders=c,this.cachedTelemetryEvents=[]}getFilters(){let T=new Map;for(let c of this.filterProviders){let h=c.getFilters();for(let p of h.keys()){let v=h.get(p);T.set(p,v)}}return T}PostEventToTelemetry(T){if(this.cachedTelemetryEvents.includes(T))return;const c=JSON.stringify(T);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",c]])),this.cachedTelemetryEvents.push(T)}}j.FilteredFeatureProvider=I},32845:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.TasApiFeatureProvider=j.TASAPI_FETCHERROR_EVENTNAME=void 0;const S=R(76492);j.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const I="ErrorType";class F extends S.FilteredFeatureProvider{constructor(c,h,p){super(h,p),this.httpClient=c,this.telemetry=h,this.filterProviders=p}async fetch(){let c=this.getFilters(),h={};for(let l of c.keys()){const N=c.get(l);h[l]=N}let p;try{p=await this.httpClient.get({headers:h})}catch(l){const N=l,d=new Map;N.responseReceived&&!N.responseOk?d.set(I,"ServerError"):N.responseReceived===!1?d.set(I,"NoResponse"):d.set(I,"GenericError"),this.telemetry.postEvent(j.TASAPI_FETCHERROR_EVENTNAME,d)}if(!p)throw Error(j.TASAPI_FETCHERROR_EVENTNAME);c.keys.length>0&&this.PostEventToTelemetry(h);const v=p.data;let w=v.Configs,b=[];for(let l of w)if(l.Parameters)for(let N of Object.keys(l.Parameters)){const d=N+(l.Parameters[N]?"":"cf");b.includes(d)||b.push(d)}return{features:b,assignmentContext:v.AssignmentContext,configs:w}}}j.TasApiFeatureProvider=F},51924:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.HttpClient=j.FetchError=void 0;class R extends Error{constructor(F,T,c){super(F),this.responseReceived=T,this.responseOk=c}}j.FetchError=R;class S{constructor(F){this.endpoint=F}async get(F){const T=await fetch(this.endpoint,{method:"GET",headers:F==null?void 0:F.headers});if(!T)throw new R("No response received",!1);if(!T.ok)throw new R("Response not ok",!0,!1);const c=await T.json();if(!c)throw new R("No data received",!1);return{data:c}}}j.HttpClient=S},48823:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MemoryKeyValueStorage=void 0;class R{constructor(){this.storage=new Map}async getValue(I,F){return this.storage.has(I)?await Promise.resolve(this.storage.get(I)):await Promise.resolve(F||void 0)}setValue(I,F){this.storage.set(I,F)}}j.MemoryKeyValueStorage=R},23257:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PollingService=void 0;class R{constructor(I){this.fetchInterval=I}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(I){this.onTick=I}StartPolling(I=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(I&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}j.PollingService=R},15377:(s,j,R)=>{"use strict";var S=R(92861).Buffer,I=R(64634),F=R(74372),T=ArrayBuffer.isView||function(w){try{return F(w),!0}catch{return!1}},c=typeof Uint8Array!="undefined",h=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",p=h&&(S.prototype instanceof Uint8Array||S.TYPED_ARRAY_SUPPORT);s.exports=function(w,b){if(w instanceof S)return w;if(typeof w=="string")return S.from(w,b);if(h&&T(w)){if(w.byteLength===0)return S.alloc(0);if(p){var l=S.from(w.buffer,w.byteOffset,w.byteLength);if(l.byteLength===w.byteLength)return l}var N=w instanceof Uint8Array?w:new Uint8Array(w.buffer,w.byteOffset,w.byteLength),d=S.from(N);if(d.length===w.byteLength)return d}if(c&&w instanceof Uint8Array)return S.from(w);var g=I(w);if(g)for(var f=0;f<w.length;f+=1){var _=w[f];if(typeof _!="number"||_<0||_>255||~~_!==_)throw new RangeError("Array items must be numbers in the range 0-255.")}if(g||S.isBuffer(w)&&w.constructor&&typeof w.constructor.isBuffer=="function"&&w.constructor.isBuffer(w))return S.from(w);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}},74372:(s,j,R)=>{"use strict";var S=R(69675),I=R(36556),F=I("TypedArray.prototype.buffer",!0),T=R(35680);s.exports=F||function(h){if(!T(h))throw new S("Not a Typed Array");return h.buffer}},48318:function(s,j,R){(function(S){"use strict";var I=function(){try{if(S.URLSearchParams&&new S.URLSearchParams("foo=bar").get("foo")==="bar")return S.URLSearchParams}catch{}return null}(),F=I&&new I({a:1}).toString()==="a=1",T=I&&new I("s=%2B").get("s")==="+",c="__URLSearchParams__",h=I?function(){var O=new I;return O.append("s"," &"),O.toString()==="s=+%26"}():!0,p=w.prototype,v=!!(S.Symbol&&S.Symbol.iterator);if(I&&F&&T&&h)return;function w(O){O=O||"",(O instanceof URLSearchParams||O instanceof w)&&(O=O.toString()),this[c]=E(O)}p.append=function(O,y){P(this[c],O,y)},p.delete=function(O){delete this[c][O]},p.get=function(O){var y=this[c];return this.has(O)?y[O][0]:null},p.getAll=function(O){var y=this[c];return this.has(O)?y[O].slice(0):[]},p.has=function(O){return V(this[c],O)},p.set=function(y,K){this[c][y]=[""+K]},p.toString=function(){var O=this[c],y=[],K,Y,Z,ie;for(Y in O)for(Z=g(Y),K=0,ie=O[Y];K<ie.length;K++)y.push(Z+"="+g(ie[K]));return y.join("&")};var b=!T,l=!b&&I&&!F&&S.Proxy,N;l?(N=new Proxy(I,{construct:function(O,y){return new O(new w(y[0]).toString())}}),N.toString=Function.prototype.toString.bind(w)):N=w,Object.defineProperty(S,"URLSearchParams",{value:N});var d=S.URLSearchParams.prototype;d.polyfill=!0,d.forEach=d.forEach||function(O,y){var K=E(this.toString());Object.getOwnPropertyNames(K).forEach(function(Y){K[Y].forEach(function(Z){O.call(y,Z,Y,this)},this)},this)},d.sort=d.sort||function(){var O=E(this.toString()),y=[],K,Y,Z;for(K in O)y.push(K);for(y.sort(),Y=0;Y<y.length;Y++)this.delete(y[Y]);for(Y=0;Y<y.length;Y++){var ie=y[Y],J=O[ie];for(Z=0;Z<J.length;Z++)this.append(ie,J[Z])}},d.keys=d.keys||function(){var O=[];return this.forEach(function(y,K){O.push(K)}),_(O)},d.values=d.values||function(){var O=[];return this.forEach(function(y){O.push(y)}),_(O)},d.entries=d.entries||function(){var O=[];return this.forEach(function(y,K){O.push([K,y])}),_(O)},v&&(d[S.Symbol.iterator]=d[S.Symbol.iterator]||d.entries);function g(O){var y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(O).replace(/[!'\(\)~]|%20|%00/g,function(K){return y[K]})}function f(O){return O.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(y){return decodeURIComponent(y)})}function _(O){var y={next:function(){var K=O.shift();return{done:K===void 0,value:K}}};return v&&(y[S.Symbol.iterator]=function(){return y}),y}function E(O){var y={};if(typeof O=="object")if(M(O))for(var K=0;K<O.length;K++){var Y=O[K];if(M(Y)&&Y.length===2)P(y,Y[0],Y[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var Z in O)O.hasOwnProperty(Z)&&P(y,Z,O[Z]);else{O.indexOf("?")===0&&(O=O.slice(1));for(var ie=O.split("&"),J=0;J<ie.length;J++){var x=ie[J],W=x.indexOf("=");-1<W?P(y,f(x.slice(0,W)),f(x.slice(W+1))):x&&P(y,f(x),"")}}return y}function P(O,y,K){var Y=typeof K=="string"?K:K!=null&&typeof K.toString=="function"?K.toString():JSON.stringify(K);V(O,y)?O[y].push(Y):O[y]=[Y]}function M(O){return!!O&&Object.prototype.toString.call(O)==="[object Array]"}function V(O,y){return Object.prototype.hasOwnProperty.call(O,y)}})(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:this)},94643:(s,j,R)=>{s.exports=S;function S(F,T){if(I("noDeprecation"))return F;var c=!1;function h(){if(!c){if(I("throwDeprecation"))throw new Error(T);I("traceDeprecation")?console.trace(T):console.warn(T),c=!0}return F.apply(this,arguments)}return h}function I(F){try{if(!R.g.localStorage)return!1}catch{return!1}var T=R.g.localStorage[F];return T==null?!1:String(T).toLowerCase()==="true"}},41566:(s,j,R)=>{"use strict";var S;S={value:!0},j.Z7=S=j.M$=void 0;var I=R(12493);Object.defineProperty(j,"M$",{enumerable:!0,get:function(){return I.getExperimentationService}}),S={enumerable:!0,get:function(){return I.getExperimentationServiceAsync}};var F=R(8967);Object.defineProperty(j,"Z7",{enumerable:!0,get:function(){return F.TargetPopulation}})},98142:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MementoKeyValueStorage=void 0;class R{constructor(I){this.mementoGlobalStorage=I}async getValue(I,F){return await this.mementoGlobalStorage.get(I)||F}setValue(I,F){this.mementoGlobalStorage.update(I,F)}}j.MementoKeyValueStorage=R},59052:(s,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class R{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(I){return!1}isCachedFlightEnabled(I){return Promise.resolve(!1)}isFlightEnabledAsync(I){return Promise.resolve(!1)}getTreatmentVariable(I,F){}getTreatmentVariableAsync(I,F){return Promise.resolve(void 0)}}j.default=R},8967:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.TargetPopulation=j.Filters=j.VSCodeFilterProvider=void 0;const S=R(91398);class I{constructor(h,p,v){this.extensionName=h,this.extensionVersion=p,this.targetPopulation=v}static trimVersionSuffix(h){const p=/\-[a-zA-Z0-9]+$/;return h.split(p)[0]}getFilterValue(h){switch(h){case F.ApplicationVersion:return I.trimVersionSuffix(S.version);case F.Build:return S.env.appName;case F.ClientId:return S.env.machineId;case F.ExtensionName:return this.extensionName;case F.ExtensionVersion:return I.trimVersionSuffix(this.extensionVersion);case F.Language:return S.env.language;case F.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let h=new Map,p=Object.values(F);for(let v of p)h.set(v,this.getFilterValue(v));return h}}j.VSCodeFilterProvider=I;var F;(function(c){c.Market="X-MSEdge-Market",c.CorpNet="X-FD-Corpnet",c.ApplicationVersion="X-VSCode-AppVersion",c.Build="X-VSCode-Build",c.ClientId="X-MSEdge-ClientId",c.ExtensionName="X-VSCode-ExtensionName",c.ExtensionVersion="X-VSCode-ExtensionVersion",c.Language="X-VSCode-Language",c.TargetPopulation="X-VSCode-TargetPopulation"})(F||(j.Filters=F={}));var T;(function(c){c.Team="team",c.Internal="internal",c.Insiders="insider",c.Public="public"})(T||(j.TargetPopulation=T={}))},12493:(s,j,R)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getExperimentationServiceAsync=j.getExperimentationService=void 0;const S=R(8967),I=R(32909),F=R(91398),T=R(98142),c=R(59052),h="https://default.exp-tas.com/vscode/ab",p="query-expfeature",v="abexp.assignmentcontext",w="VSCode.ABExp.FeatureData",b=1e3*60*30;function l(d,g,f,_,E,...P){if(!E)throw new Error("Memento storage was not provided.");const M=F.workspace.getConfiguration("telemetry");if(!(F.env.isTelemetryEnabled===void 0?M.get("enableTelemetry",!0):F.env.isTelemetryEnabled))return new c.default;const y=[new S.VSCodeFilterProvider(d,g,f),...P],K=new T.MementoKeyValueStorage(E);return new I.ExperimentationService({filterProviders:y,telemetry:_,storageKey:w,keyValueStorage:K,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:v,telemetryEventName:p,endpoint:h,refetchInterval:b})}j.getExperimentationService=l;async function N(d,g,f,_,E,...P){const M=l(d,g,f,_,E,...P);return await M.initializePromise,M}j.getExperimentationServiceAsync=N},25767:(s,j,R)=>{"use strict";var S=R(82682),I=R(39209),F=R(10487),T=R(36556),c=R(75795),h=R(93628),p=T("Object.prototype.toString"),v=R(49092)(),w=typeof globalThis=="undefined"?R.g:globalThis,b=I(),l=T("String.prototype.slice"),N=T("Array.prototype.indexOf",!0)||function(E,P){for(var M=0;M<E.length;M+=1)if(E[M]===P)return M;return-1},d={__proto__:null};v&&c&&h?S(b,function(_){var E=new w[_];if(Symbol.toStringTag in E&&h){var P=h(E),M=c(P,Symbol.toStringTag);if(!M&&P){var V=h(P);M=c(V,Symbol.toStringTag)}d["$"+_]=F(M.get)}}):S(b,function(_){var E=new w[_],P=E.slice||E.set;P&&(d["$"+_]=F(P))});var g=function(E){var P=!1;return S(d,function(M,V){if(!P)try{"$"+M(E)===V&&(P=l(V,1))}catch{}}),P},f=function(E){var P=!1;return S(d,function(M,V){if(!P)try{M(E),P=l(V,1)}catch{}}),P};s.exports=function(E){if(!E||typeof E!="object")return!1;if(!v){var P=l(p(E),8,-1);return N(b,P)>-1?P:P!=="Object"?!1:f(E)}return c?g(E):null}},57510:s=>{s.exports=R;var j=Object.prototype.hasOwnProperty;function R(){for(var S={},I=0;I<arguments.length;I++){var F=arguments[I];for(var T in F)j.call(F,T)&&(S[T]=F[T])}return S}},40259:s=>{"use strict";s.exports=function(j){j.prototype[Symbol.iterator]=function*(){for(let R=this.head;R;R=R.next)yield R.value}}},28799:(s,j,R)=>{"use strict";s.exports=S,S.Node=c,S.create=S;function S(h){var p=this;if(p instanceof S||(p=new S),p.tail=null,p.head=null,p.length=0,h&&typeof h.forEach=="function")h.forEach(function(b){p.push(b)});else if(arguments.length>0)for(var v=0,w=arguments.length;v<w;v++)p.push(arguments[v]);return p}S.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var p=h.next,v=h.prev;return p&&(p.prev=v),v&&(v.next=p),h===this.head&&(this.head=p),h===this.tail&&(this.tail=v),h.list.length--,h.next=null,h.prev=null,h.list=null,p},S.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var p=this.head;h.list=this,h.next=p,p&&(p.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},S.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var p=this.tail;h.list=this,h.prev=p,p&&(p.next=h),this.tail=h,this.head||(this.head=h),this.length++}},S.prototype.push=function(){for(var h=0,p=arguments.length;h<p;h++)F(this,arguments[h]);return this.length},S.prototype.unshift=function(){for(var h=0,p=arguments.length;h<p;h++)T(this,arguments[h]);return this.length},S.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},S.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},S.prototype.forEach=function(h,p){p=p||this;for(var v=this.head,w=0;v!==null;w++)h.call(p,v.value,w,this),v=v.next},S.prototype.forEachReverse=function(h,p){p=p||this;for(var v=this.tail,w=this.length-1;v!==null;w--)h.call(p,v.value,w,this),v=v.prev},S.prototype.get=function(h){for(var p=0,v=this.head;v!==null&&p<h;p++)v=v.next;if(p===h&&v!==null)return v.value},S.prototype.getReverse=function(h){for(var p=0,v=this.tail;v!==null&&p<h;p++)v=v.prev;if(p===h&&v!==null)return v.value},S.prototype.map=function(h,p){p=p||this;for(var v=new S,w=this.head;w!==null;)v.push(h.call(p,w.value,this)),w=w.next;return v},S.prototype.mapReverse=function(h,p){p=p||this;for(var v=new S,w=this.tail;w!==null;)v.push(h.call(p,w.value,this)),w=w.prev;return v},S.prototype.reduce=function(h,p){var v,w=this.head;if(arguments.length>1)v=p;else if(this.head)w=this.head.next,v=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;w!==null;b++)v=h(v,w.value,b),w=w.next;return v},S.prototype.reduceReverse=function(h,p){var v,w=this.tail;if(arguments.length>1)v=p;else if(this.tail)w=this.tail.prev,v=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;w!==null;b--)v=h(v,w.value,b),w=w.prev;return v},S.prototype.toArray=function(){for(var h=new Array(this.length),p=0,v=this.head;v!==null;p++)h[p]=v.value,v=v.next;return h},S.prototype.toArrayReverse=function(){for(var h=new Array(this.length),p=0,v=this.tail;v!==null;p++)h[p]=v.value,v=v.prev;return h},S.prototype.slice=function(h,p){p=p||this.length,p<0&&(p+=this.length),h=h||0,h<0&&(h+=this.length);var v=new S;if(p<h||p<0)return v;h<0&&(h=0),p>this.length&&(p=this.length);for(var w=0,b=this.head;b!==null&&w<h;w++)b=b.next;for(;b!==null&&w<p;w++,b=b.next)v.push(b.value);return v},S.prototype.sliceReverse=function(h,p){p=p||this.length,p<0&&(p+=this.length),h=h||0,h<0&&(h+=this.length);var v=new S;if(p<h||p<0)return v;h<0&&(h=0),p>this.length&&(p=this.length);for(var w=this.length,b=this.tail;b!==null&&w>p;w--)b=b.prev;for(;b!==null&&w>h;w--,b=b.prev)v.push(b.value);return v},S.prototype.splice=function(h,p,...v){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var w=0,b=this.head;b!==null&&w<h;w++)b=b.next;for(var l=[],w=0;b&&w<p;w++)l.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var w=0;w<v.length;w++)b=I(this,b,v[w]);return l},S.prototype.reverse=function(){for(var h=this.head,p=this.tail,v=h;v!==null;v=v.prev){var w=v.prev;v.prev=v.next,v.next=w}return this.head=p,this.tail=h,this};function I(h,p,v){var w=p===h.head?new c(v,null,p,h):new c(v,p,p.next,h);return w.next===null&&(h.tail=w),w.prev===null&&(h.head=w),h.length++,w}function F(h,p){h.tail=new c(p,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function T(h,p){h.head=new c(p,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function c(h,p,v,w){if(!(this instanceof c))return new c(h,p,v,w);this.list=w,this.value=h,p?(p.next=this,this.prev=p):this.prev=null,v?(v.prev=this,this.next=v):this.next=null}try{R(40259)(S)}catch{}},16064:(s,j,R)=>{s.exports=R(43619).Observable},43619:(s,j)=>{"use strict";var R;R={value:!0},j.Observable=void 0;function S(K,Y){if(!(K instanceof Y))throw new TypeError("Cannot call a class as a function")}function I(K,Y){for(var Z=0;Z<Y.length;Z++){var ie=Y[Z];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(K,ie.key,ie)}}function F(K,Y,Z){return Y&&I(K.prototype,Y),Z&&I(K,Z),K}var T=function(){return typeof Symbol=="function"},c=function(K){return T()&&!!Symbol[K]},h=function(K){return c(K)?Symbol[K]:"@@"+K};T()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var p=h("iterator"),v=h("observable"),w=h("species");function b(K,Y){var Z=K[Y];if(Z!=null){if(typeof Z!="function")throw new TypeError(Z+" is not a function");return Z}}function l(K){var Y=K.constructor;return Y!==void 0&&(Y=Y[w],Y===null&&(Y=void 0)),Y!==void 0?Y:y}function N(K){return K instanceof y}function d(K){d.log?d.log(K):setTimeout(function(){throw K})}function g(K){Promise.resolve().then(function(){try{K()}catch(Y){d(Y)}})}function f(K){var Y=K._cleanup;if(Y!==void 0&&(K._cleanup=void 0,!!Y))try{if(typeof Y=="function")Y();else{var Z=b(Y,"unsubscribe");Z&&Z.call(Y)}}catch(ie){d(ie)}}function _(K){K._observer=void 0,K._queue=void 0,K._state="closed"}function E(K){var Y=K._queue;if(Y){K._queue=void 0,K._state="ready";for(var Z=0;Z<Y.length&&(P(K,Y[Z].type,Y[Z].value),K._state!=="closed");++Z);}}function P(K,Y,Z){K._state="running";var ie=K._observer;try{var J=b(ie,Y);switch(Y){case"next":J&&J.call(ie,Z);break;case"error":if(_(K),J)J.call(ie,Z);else throw Z;break;case"complete":_(K),J&&J.call(ie);break}}catch(x){d(x)}K._state==="closed"?f(K):K._state==="running"&&(K._state="ready")}function M(K,Y,Z){if(K._state!=="closed"){if(K._state==="buffering"){K._queue.push({type:Y,value:Z});return}if(K._state!=="ready"){K._state="buffering",K._queue=[{type:Y,value:Z}],g(function(){return E(K)});return}P(K,Y,Z)}}var V=function(){function K(Y,Z){S(this,K),this._cleanup=void 0,this._observer=Y,this._queue=void 0,this._state="initializing";var ie=new O(this);try{this._cleanup=Z.call(void 0,ie)}catch(J){ie.error(J)}this._state==="initializing"&&(this._state="ready")}return F(K,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(_(this),f(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),K}(),O=function(){function K(Y){S(this,K),this._subscription=Y}return F(K,[{key:"next",value:function(Z){M(this._subscription,"next",Z)}},{key:"error",value:function(Z){M(this._subscription,"error",Z)}},{key:"complete",value:function(){M(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),K}(),y=function(){function K(Y){if(S(this,K),!(this instanceof K))throw new TypeError("Observable cannot be called as a function");if(typeof Y!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=Y}return F(K,[{key:"subscribe",value:function(Z){return(typeof Z!="object"||Z===null)&&(Z={next:Z,error:arguments[1],complete:arguments[2]}),new V(Z,this._subscriber)}},{key:"forEach",value:function(Z){var ie=this;return new Promise(function(J,x){if(typeof Z!="function"){x(new TypeError(Z+" is not a function"));return}function W(){D.unsubscribe(),J()}var D=ie.subscribe({next:function(m){try{Z(m,W)}catch(C){x(C),D.unsubscribe()}},error:x,complete:J})})}},{key:"map",value:function(Z){var ie=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(x){return ie.subscribe({next:function(W){try{W=Z(W)}catch(D){return x.error(D)}x.next(W)},error:function(W){x.error(W)},complete:function(){x.complete()}})})}},{key:"filter",value:function(Z){var ie=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(x){return ie.subscribe({next:function(W){try{if(!Z(W))return}catch(D){return x.error(D)}x.next(W)},error:function(W){x.error(W)},complete:function(){x.complete()}})})}},{key:"reduce",value:function(Z){var ie=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this),x=arguments.length>1,W=!1,D=arguments[1],m=D;return new J(function(C){return ie.subscribe({next:function(L){var H=!W;if(W=!0,!H||x)try{m=Z(m,L)}catch(z){return C.error(z)}else m=L},error:function(L){C.error(L)},complete:function(){if(!W&&!x)return C.error(new TypeError("Cannot reduce an empty sequence"));C.next(m),C.complete()}})})}},{key:"concat",value:function(){for(var Z=this,ie=arguments.length,J=new Array(ie),x=0;x<ie;x++)J[x]=arguments[x];var W=l(this);return new W(function(D){var m,C=0;function L(H){m=H.subscribe({next:function(z){D.next(z)},error:function(z){D.error(z)},complete:function(){C===J.length?(m=void 0,D.complete()):L(W.from(J[C++]))}})}return L(Z),function(){m&&(m.unsubscribe(),m=void 0)}})}},{key:"flatMap",value:function(Z){var ie=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(x){var W=[],D=ie.subscribe({next:function(C){if(Z)try{C=Z(C)}catch(H){return x.error(H)}var L=J.from(C).subscribe({next:function(H){x.next(H)},error:function(H){x.error(H)},complete:function(){var H=W.indexOf(L);H>=0&&W.splice(H,1),m()}});W.push(L)},error:function(C){x.error(C)},complete:function(){m()}});function m(){D.closed&&W.length===0&&x.complete()}return function(){W.forEach(function(C){return C.unsubscribe()}),D.unsubscribe()}})}},{key:v,value:function(){return this}}],[{key:"from",value:function(Z){var ie=typeof this=="function"?this:K;if(Z==null)throw new TypeError(Z+" is not an object");var J=b(Z,v);if(J){var x=J.call(Z);if(Object(x)!==x)throw new TypeError(x+" is not an object");return N(x)&&x.constructor===ie?x:new ie(function(W){return x.subscribe(W)})}if(c("iterator")&&(J=b(Z,p),J))return new ie(function(W){g(function(){if(!W.closed){var D=!0,m=!1,C=void 0;try{for(var L=J.call(Z)[Symbol.iterator](),H;!(D=(H=L.next()).done);D=!0){var z=H.value;if(W.next(z),W.closed)return}}catch(G){m=!0,C=G}finally{try{!D&&L.return!=null&&L.return()}finally{if(m)throw C}}W.complete()}})});if(Array.isArray(Z))return new ie(function(W){g(function(){if(!W.closed){for(var D=0;D<Z.length;++D)if(W.next(Z[D]),W.closed)return;W.complete()}})});throw new TypeError(Z+" is not observable")}},{key:"of",value:function(){for(var Z=arguments.length,ie=new Array(Z),J=0;J<Z;J++)ie[J]=arguments[J];var x=typeof this=="function"?this:K;return new x(function(W){g(function(){if(!W.closed){for(var D=0;D<ie.length;++D)if(W.next(ie[D]),W.closed)return;W.complete()}})})}},{key:w,get:function(){return this}}]),K}();j.Observable=y,T()&&Object.defineProperty(y,Symbol("extensions"),{value:{symbol:v,hostReportError:d},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},39209:(s,j,R)=>{"use strict";var S=R(76578),I=typeof globalThis=="undefined"?R.g:globalThis;s.exports=function(){for(var T=[],c=0;c<S.length;c++)typeof I[S[c]]=="function"&&(T[T.length]=S[c]);return T}},6773:s=>{"use strict";var j;const R=function(){};R.prototype=Object.create(null);const S=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,I=/\\([\v\u0020-\u00ff])/gu,F=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,T={type:"",parameters:new R};Object.freeze(T.parameters),Object.freeze(T);function c(p){if(typeof p!="string")throw new TypeError("argument header is required and must be a string");let v=p.indexOf(";");const w=v!==-1?p.slice(0,v).trim():p.trim();if(F.test(w)===!1)throw new TypeError("invalid media type");const b={type:w.toLowerCase(),parameters:new R};if(v===-1)return b;let l,N,d;for(S.lastIndex=v;N=S.exec(p);){if(N.index!==v)throw new TypeError("invalid parameter format");v+=N[0].length,l=N[1].toLowerCase(),d=N[2],d[0]==='"'&&(d=d.slice(1,d.length-1),I.test(d)&&(d=d.replace(I,"$1"))),b.parameters[l]=d}if(v!==p.length)throw new TypeError("invalid parameter format");return b}function h(p){if(typeof p!="string")return T;let v=p.indexOf(";");const w=v!==-1?p.slice(0,v).trim():p.trim();if(F.test(w)===!1)return T;const b={type:w.toLowerCase(),parameters:new R};if(v===-1)return b;let l,N,d;for(S.lastIndex=v;N=S.exec(p);){if(N.index!==v)return T;v+=N[0].length,l=N[1].toLowerCase(),d=N[2],d[0]==='"'&&(d=d.slice(1,d.length-1),I.test(d)&&(d=d.replace(I,"$1"))),b.parameters[l]=d}return v!==p.length?T:b}j={parse:c,safeParse:h},j=c,s.exports.xL=h,j=T},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.1"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ia={};function rn(s){var j=Ia[s];if(j!==void 0)return j.exports;var R=Ia[s]={id:s,loaded:!1,exports:{}};return js[s].call(R.exports,R,R.exports,rn),R.loaded=!0,R.exports}rn.n=s=>{var j=s&&s.__esModule?()=>s.default:()=>s;return rn.d(j,{a:j}),j},rn.d=(s,j)=>{for(var R in j)rn.o(j,R)&&!rn.o(s,R)&&Object.defineProperty(s,R,{enumerable:!0,get:j[R]})},rn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),rn.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),rn.o=(s,j)=>Object.prototype.hasOwnProperty.call(s,j),rn.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},rn.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var fc={};(()=>{"use strict";rn.r(fc),rn.d(fc,{activate:()=>p2,deactivate:()=>w2});var s=rn(91398),j=rn.n(s);const R=async(n,e,t)=>{const i=await Promise.resolve().then(rn.bind(rn,14523)),r=await Promise.resolve().then(rn.bind(rn,28643)),a=new i.AppInsightsCore,o=new r.PostChannel,u={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){u.extensionConfig={};const $={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[o.identifier]=$}const A=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(u,[]),a.addTelemetryInitializer($=>{var Q,re;A&&($.ext=(Q=$.ext)!=null?Q:{},$.ext.utc=(re=$.ext.utc)!=null?re:{},$.ext.utc.flags=8462029)}),a},S=async(n,e,t)=>{const i=await R(n,e,t);return{logEvent:(a,o)=>{try{i==null||i.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{i==null||i.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var I;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(I||(I={}));class F{constructor(e,t){this._instantiationStatus=I.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==I.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==I.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===I.NOT_INSTANTIATED&&(this._instantiationStatus=I.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=I.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=I.INSTANTIATED}))}}class T{constructor(e,t,i){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,i),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logUsage(e,{properties:t,measurements:i})}sendTelemetryEvent(e,t,i){this.internalSendTelemetryEvent(e,t,i,!1)}sendDangerousTelemetryEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,i,!0)}internalSendTelemetryErrorEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryErrorEvent(e,t,i){this.internalSendTelemetryErrorEvent(e,t,i,!1)}sendDangerousTelemetryErrorEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,i,!0)}internalSendTelemetryException(e,t,i,r){r?this.telemetrySender.sendErrorData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryException(e,t,i){this.internalSendTelemetryException(e,t,i,!1)}sendDangerousTelemetryException(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,i,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class c{static applyReplacements(e,t){for(const i of Object.keys(e))for(const r of t)r.lookup.test(i)&&(r.replacementString!==void 0?e[i]=r.replacementString:delete e[i])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return c._instance||(c._instance=new c),c._instance}}const h=async(n,e)=>{let t;try{const r=await Promise.resolve().then(rn.bind(rn,94731));t=new r.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,a)=>{const o={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&c.applyReplacements(o,e),t==null||t.track({name:r,data:o})},flush:async()=>{t==null||t.flush()}}};class p extends T{constructor(e,t){let i=o=>h(o,t);c.shouldUseOneDataSystemSDK(e)&&(i=o=>S(o,s));const r={release:navigator.appVersion,platform:"web",architecture:"web"},a=new F(e,i);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:c.getAdditionalCommonProperties(r)})}}var v=Object.defineProperty,w=(n,e,t)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e,t)=>w(n,typeof e!="symbol"?e+"":e,t);function l(n){return{dispose:n}}function N(n){return l(()=>d(n))}function d(n){for(;n.length;){const e=n.pop();e==null||e.dispose()}}function g(n,e){return e.push(n),n}class f{constructor(){b(this,"_isDisposed",!1),b(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,d(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var _=Object.defineProperty,E=(n,e,t)=>e in n?_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e,t)=>E(n,typeof e!="symbol"?e+"":e,t);const M="PullRequestTree";class V extends f{constructor(){super(),P(this,"_outputChannel"),P(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){let i;if(typeof e!="string"){const r=e;e instanceof Error?i=e.message:r.toString?i=r.toString():i=JSON.stringify(e)}else i=e;return t?`[${t}] ${i}`:i}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const y=new V;var K=rn(57975),Y=rn(74353),Z=rn.n(Y),ie=rn(6279),J=rn.n(ie),x=rn(53581),W=rn.n(x),D=Object.defineProperty,m=(n,e,t)=>e in n?D(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,C=(n,e,t)=>m(n,typeof e!="symbol"?e+"":e,t);Z().extend(J(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),Z().extend(W()),Z().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function L(n,e){const t=Object.create(null);return n.filter(i=>{const r=e(i);return t[r]?!1:(t[r]=!0,!0)})}function H(...n){return(e,t=null,i)=>{const r=combinedDisposable(n.map(a=>a(o=>e.call(t,o))));return i&&i.push(r),r}}function z(n,e){return(t,i=null,r)=>n(a=>e(a)&&t.call(i,a),null,r)}function G(n){return(e,t=null,i)=>{const r=n(a=>(r.dispose(),e.call(t,a)),null,i);return r}}function ee(n){return/^[a-zA-Z]:\\/.test(n)}function ne(n,e,t=!1,i=K.sep){return(ee(n)||t)&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e?!0:(n.charAt(n.length-1)!==i&&(n+=i),e.startsWith(n))}function q(n,e){return n.reduce((t,i)=>{const r=e(i);return t[r]=[...t[r]||[],i],t},Object.create(null))}class se extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function xe(n){return!!n.errors}function Ee(n){let e=!0;if(n.errors&&Array.isArray(n.errors)){for(const t of n.errors)if(!t.field||!t.value||!t.status){e=!1;break}}else e=!1;return e}function be(n){if(!(n instanceof Error))return typeof n=="string"?n:n.gitErrorCode?`${n.message}. Please check git output for more details`:n.stderr?`${n.stderr}. Please check git output for more details`:"Error";let e=n.message,t;if(n.message==="Validation Failed"&&Ee(n))t=n.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.status})`).join(", ");else{if(n.message.startsWith("Validation Failed:"))return n.message;if(xe(n)&&n.errors)return n.errors.map(i=>typeof i=="string"?i:i.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Pe(n){return new Promise(e=>{const t=n(i=>{t.dispose(),e(i)})})}async function X(n,e){return Promise.race([n,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function te(n){const e=Z()(n),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function de(n,e,t=!1){n.startsWith("#")&&(n=n.substring(1));const i=we(n);if(e){const r=B(i.r,i.g,i.b),a=.6,o=.18,u=.3,k=(i.r*.2126+i.g*.7152+i.b*.0722)/255,A=Math.max(0,Math.min((k-a)*-1e3,1)),$=(a-k)*100*A,Q=we(U(r.h,r.s,r.l+$)),re=`#${U(r.h,r.s,r.l+$)}`,oe=t?`#${he({...i,a:o})}`:`rgba(${i.r},${i.g},${i.b},${o})`,pe=t?`#${he({...Q,a:u})}`:`rgba(${Q.r},${Q.g},${Q.b},${u})`;return{textColor:re,backgroundColor:oe,borderColor:pe}}else return{textColor:`#${le(i)}`,backgroundColor:`#${n}`,borderColor:`#${n}`}}const he=n=>{const e=[n.r,n.g,n.b];return n.a&&e.push(Math.floor(n.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function we(n){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function B(n,e,t){n/=255,e/=255,t/=255;let i=Math.min(n,e,t),r=Math.max(n,e,t),a=r-i,o=0,u=0,k=0;return a==0?o=0:r==n?o=(e-t)/a%6:r==e?o=(t-n)/a+2:o=(n-e)/a+4,o=Math.round(o*60),o<0&&(o+=360),k=(r+i)/2,u=a==0?0:a/(1-Math.abs(2*k-1)),u=+(u*100).toFixed(1),k=+(k*100).toFixed(1),{h:o,s:u,l:k}}function U(n,e,t){const i=t/100,r=e*Math.min(i,1-i)/100,a=o=>{const u=(o+n/30)%12,k=i-r*Math.max(Math.min(u-3,9-u,1),-1);return Math.round(255*k).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function le(n){return(.299*n.r+.587*n.g+.114*n.b)/255>.5?"000000":"ffffff"}var ge=(n=>(n[n.Period=46]="Period",n[n.Slash=47]="Slash",n[n.A=65]="A",n[n.Z=90]="Z",n[n.Backslash=92]="Backslash",n[n.a=97]="a",n[n.z=122]="z",n))(ge||{});function _e(n,e){return n<e?-1:n>e?1:0}function ye(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){const k=n.charCodeAt(t),A=e.charCodeAt(r);if(k<A)return-1;if(k>A)return 1}const o=i-t,u=a-r;return o<u?-1:o>u?1:0}function Me(n,e){return Be(n,e,0,n.length,0,e.length)}function Be(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){let k=n.charCodeAt(t),A=e.charCodeAt(r);if(k===A)continue;const $=k-A;if(!($===32&&_t(A))&&!($===-32&&_t(k)))return Ve(k)&&Ve(A)?$:ye(n.toLowerCase(),e.toLowerCase(),t,i,r,a)}const o=i-t,u=a-r;return o<u?-1:o>u?1:0}function Ve(n){return n>=97&&n<=122}function _t(n){return n>=65&&n<=90}class Je{constructor(){C(this,"_value",""),C(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class nt{constructor(e=!0){this._caseSensitive=e,C(this,"_value"),C(this,"_from"),C(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ye(e,this._value,0,e.length,this._from,this._to):Be(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Rt{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,C(this,"_value"),C(this,"_from"),C(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ye(e,this._value,0,e.length,this._from,this._to):Be(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var ce=(n=>(n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment",n))(ce||{});class ae{constructor(e){this._ignorePathCasing=e,C(this,"_pathIterator"),C(this,"_value"),C(this,"_states",[]),C(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Rt(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return Me(e,this._value.scheme);if(this._states[this._stateIdx]===2)return Me(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return _e(e,this._value.query);if(this._states[this._stateIdx]===5)return _e(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function ue(n){const t=n.extensionUri.path,i=t.lastIndexOf(".");return i===-1?!1:t.substr(i+1).length>1}class ke{constructor(){C(this,"segment"),C(this,"value"),C(this,"key"),C(this,"left"),C(this,"mid"),C(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class Ie{constructor(e){C(this,"_iter"),C(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new Ie(new ae(e))}static forPaths(){return new Ie(new Rt)}static forStrings(){return new Ie(new Je)}static forConfigKeys(){return new Ie(new nt)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;for(this._root||(this._root=new ke,this._root.segment=i.value()),r=this._root;;){const o=i.cmp(r.segment);if(o>0)r.left||(r.left=new ke,r.left.segment=i.value()),r=r.left;else if(o<0)r.right||(r.right=new ke,r.right.segment=i.value()),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new ke,r.mid.segment=i.value()),r=r.mid;else break}const a=r.value;return r.value=t,r.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let a=this._root;for(;a;){const o=i.cmp(a.segment);if(o>0)r.push([1,a]),a=a.left;else if(o<0)r.push([-1,a]),a=a.right;else if(i.hasNext())i.next(),r.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;r.length>0&&a.isEmpty();){let[u,k]=r.pop();switch(u){case 1:k.left=void 0;break;case 0:k.mid=void 0;break;case-1:k.right=void 0;break}a=k}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const a=t.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Ke(n,e,t){const i=[];n.replace(e,(o,...u)=>{const k=t(o,...u);return i.push(k),""});const r=await Promise.all(i);let a=0;return n.replace(e,()=>r[a++])}async function Le(n,e){for(let t=0;t<n.length;t++)if(await e(n[t],t,n))return t;return-1}async function Xe(n,e,t){const i=Math.ceil(n.length/e);for(let r=0;r<i;r++){const a=n.slice(r*e,(r+1)*e);await Promise.all(a.map(t))}}function Bt(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rt(n,e,t="..."){return n.length<=e?n:`${n.substr(0,e)}${t}`}var ct=Object.defineProperty,yt=(n,e,t)=>e in n?ct(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pt=(n,e,t)=>yt(n,typeof e!="symbol"?e+"":e,t),St=(n=>(n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag",n))(St||{}),un=(n=>(n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n))(un||{}),gt=(n=>(n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED",n))(gt||{});const xt=class oc extends f{constructor(e){super(),this.repositoriesManager=e,pt(this,"_providers",new Map),pt(this,"_onDidOpenRepository",new s.EventEmitter),pt(this,"onDidOpenRepository",this._onDidOpenRepository.event),pt(this,"_onDidCloseRepository",new s.EventEmitter),pt(this,"onDidCloseRepository",this._onDidCloseRepository.event),pt(this,"_onDidChangeState",new s.EventEmitter),pt(this,"onDidChangeState",this._onDidChangeState.event),pt(this,"_onDidPublish",new s.EventEmitter),pt(this,"onDidPublish",this._onDidPublish.event),pt(this,"_titleAndDescriptionProviders",new Set),pt(this,"_reviewerCommentsProviders",new Set)}async getRepositoryWorkspace(e){for(const[,t]of this._providers)if(t.getRepositoryWorkspace)return t.getRepositoryWorkspace(e);return null}async clone(e,t){for(const[,i]of this._providers)if(i.clone)return i.clone(e,t);return null}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,i)=>t+i.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){y.appendLine("Registering git provider",oc.ID);const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(e.onDidOpenRepository(i=>{y.appendLine(`Repository ${i.rootUri} has been opened`,oc.ID),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),e.onDidChangeState&&this._register(e.onDidChangeState(i=>this._onDidChangeState.fire(i))),e.onDidPublish&&this._register(e.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),e.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=e==null?void 0:e.repositories;i&&i.length>0&&i.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(t)}}}getGitProvider(e){const t=Ie.forUris();return this._providers.forEach(i=>{const r=i.repositories;if(r&&r.length>0)for(const a of r)t.set(a.rootUri,i)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(i=>i.dispose())}}_nextHandle(){return oc._handlePool++}registerTitleAndDescriptionProvider(e,t){const i={title:e,provider:t};return this._titleAndDescriptionProviders.add(i),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(i)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const i={title:e,provider:t};return this._reviewerCommentsProviders.add(i),this._register({dispose:()=>this._reviewerCommentsProviders.delete(i)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}async getRepositoryDescription(e){const t=this.repositoriesManager.getManagerForFile(e);if(t&&t.gitHubRepositories.length>0){const i=await t.gitHubRepositories[0].getMetadata(),r=t.activePullRequest;if(i)return{owner:i.owner.login,repositoryName:i.name,defaultBranch:i.default_branch,pullRequest:r?{title:r.title,url:r.html_url,number:r.number,id:r.id}:void 0}}}};pt(xt,"ID","GitAPI"),pt(xt,"_handlePool",0);let ti=xt;var Ot;(n=>{function e(t){return t&&t.thread&&t.text!==void 0}n.is=e})(Ot||(Ot={}));const Kt=new Map;function Ji(n,e,t){Kt.set(n,{handler:e,repoRootUri:t.rootUri.toString()})}function Zt(n){Kt.delete(n)}function zt(n){const e=[];for(const t of Kt.values())t.handler.hasCommentThread(n)&&e.push(t);if(e.length>0)return e.sort((t,i)=>i.repoRootUri.length-t.repoRootUri.length),e[0].handler;y.warn(`Unable to find handler for comment thread ${n.gitHubThreadId}`)}function Vi(){for(const n of Kt.values())if(n.handler.commentController.activeCommentThread)return n.handler}var Mt;(n=>{n.VIEWED_FILES="github:viewedFiles",n.UNVIEWED_FILES="github:unviewedFiles",n.IN_REVIEW_MODE="github:inReviewMode",n.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",n.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",n.ACTIVE_PR_COUNT="github:activePRCount",n.LOADING_PRS_TREE="github:loadingPrsTree",n.LOADING_ISSUES_TREE="github:loadingIssuesTree",n.CREATE_PR_PERMISSIONS="github:createPrPermissions",n.RESOLVING_CONFLICTS="github:resolvingConflicts",n.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",n.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",n.CREATING="pr:creating",n.NOTIFICATION_COUNT="github:notificationCount",n.ACTIVATED="github.vscode-pull-request-github.activated"})(Mt||(Mt={}));var ft;(n=>{n.OPEN_CHAT="workbench.action.chat.open",n.NEW_CHAT="workbench.action.chat.newChat",n.CHAT_SETUP_ACTION_ID="workbench.action.chat.triggerSetup",n.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(a,o,u){return s.commands.executeCommand(a,o,u)}n.executeCommand=e;function t(a){return e(`${a}.focus`)}n.focusView=t;function i(a,o){return e("setContext",a,o)}n.setContext=i;function r(a,o){return e("vscode.openFolder",a,o)}n.openFolder=r})(ft||(ft={}));const vt="githubPullRequests",De="terminalLinksHandler",ze="createOnPublishBranch",Ct="branchListTimeout",lt="useReviewMode",ht="fileListLayout",an="hideViewedFiles",Dt="fileAutoReveal",Vt="assignCreated",qt="pushBranch",mt="ignoredPullRequestBranches",Nt="ignoreSubmodules",Ft="neverIgnoreDefaultBranch",hn="overrideDefaultBranch",sn="pullBranch",Ht="pullRequestDescription",Sn="notifications",mn="postCreate",In="postDone",Dn="checkoutPullRequestBaseBranch",Xn="checkoutDefaultBranch",pn="queries",Yn="labelCreated",jn="focusedMode",en="createDraft",dn="quickDiff",Cn="setAutoMerge",Wn="showPullRequestNumberInTree",vn="defaultMergeMethod",An="defaultDeletionMethod",Jn="selectLocalBranch",ci="selectRemote",qn="deleteBranchAfterMerge",fi="remotes",Mi="pullPullRequestBranchBeforeCheckout",si="upstreamRemote",Fi="defaultCreateOption",Ni="createDefaultBaseBranch",Tn="githubIssues",Mn="assignWhenWorking",wn="issueCompletions",Li="userCompletions",oa="enabled",ji="ignoreUserCompletionTrigger",jr="createInsertFormat",or="issueBranchTitle",Wr="useBranchForIssues",la="workingBaseBranch",Ii="workingIssueFormatScm",Za="ignoreCompletionTrigger",Pr="issueCompletionFormatScm",Lr="createIssueTriggers",Da="default",ba="ignoreMilestones",ys="allowFetch",wa="alwaysPromptForNewIssueRepo",ka="issueAvatarDisplay",Ws="experimental.chat",zs="experimental.useQuickChat",ua="experimental.notificationsViewPageSize",bs="experimental.notificationsScore",xa="webviewRefreshInterval",es="devMode",Mr="git",ts="pullBeforeCheckout",_i="openDiffOnClick",zr="showInlineOpenFileAction",je="autoStash",wt="branchWhitespaceChar",Et="branchRandomName.dictionary",It="github-enterprise",Wt="uri",En="editor",kn="wordWrap",Qe="comments",dt="openView",it="workbench",Lt="colorTheme",Yt="list.horizontalScrolling",ln="chat",yn="disableAIFeatures",Zn=`${vt}.codingAgent`,$n="enabled",pr="autoCommitAndPush",Kr="promptForConfirmation";function xn(){const n={merged:!1,closed:!1},e=s.workspace.getConfiguration(vt).get(lt,n);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:n}function Xi(n,e,t,i,r){const a=s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${n}.${e}`)&&t()&&(i(),a.dispose())});r.push(a)}function Ur(n,e){var t,i;const r=s.workspace.getConfiguration(n),a=r.inspect(pn),o=(i=(t=r.get(pn))==null?void 0:t.find(Q=>Q.label===e))==null?void 0:i.query,u=s.window.createQuickPick();u.title=s.l10n.t('Edit Query "{0}"',e!=null?e:""),u.value=o!=null?o:"";const k=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0}],A=s.workspace.getConfiguration(ln).get(yn,!1),$={iconPath:new s.ThemeIcon("sparkle"),label:s.l10n.t("Edit with AI"),alwaysShow:!0};A||k.push($),u.items=k,u.activeItems=[],u.selectedItems=[],u.onDidAccept(async()=>{var Q;if(u.busy=!0,u.selectedItems[0]===u.items[0]){const re=u.value;if(re!==o){let oe,pe;a!=null&&a.workspaceFolderValue?(pe=s.ConfigurationTarget.WorkspaceFolder,oe=a.workspaceFolderValue):a!=null&&a.workspaceValue?(pe=s.ConfigurationTarget.Workspace,oe=a.workspaceValue):(pe=s.ConfigurationTarget.Global,oe=(Q=r.get(pn))!=null?Q:[]),oe.find(me=>me.label===e).query=re,await r.update(pn,oe,pe)}u.dispose()}else u.selectedItems[0]===u.items[1]?(Br(r,a,u.value),u.dispose()):u.selectedItems[0]===u.items[2]?(ns(r,a,e),u.dispose()):u.selectedItems[0]===$&&(u.ignoreFocusOut=!0,await is(u.value),u.busy=!1)}),u.onDidHide(()=>u.dispose()),u.show()}function Br(n,e,t){const i=s.window.createInputBox();i.title=s.l10n.t("Enter the title of the new query"),i.placeholder=s.l10n.t("Title"),i.step=1,i.totalSteps=2,i.show();let r;i.onDidAccept(async()=>{if(i.validationMessage="",i.step===1){if(!i.value){i.validationMessage=s.l10n.t("Title is required");return}r=i.value,i.value=t,i.title=s.l10n.t("Enter the GitHub search query"),i.step++}else{if(!i.value){i.validationMessage=s.l10n.t("Query is required");return}if(i.busy=!0,i.value&&r)if(e!=null&&e.workspaceValue)e.workspaceValue.push({label:r,query:i.value}),await n.update(pn,e.workspaceValue,s.ConfigurationTarget.Workspace);else{const a=n.get(pn);a==null||a.push({label:r,query:i.value}),await n.update(pn,a,s.ConfigurationTarget.Global)}i.dispose()}}),i.onDidHide(()=>i.dispose())}async function ns(n,e,t){let i;if(e!=null&&e.workspaceValue)i="workbench.action.openWorkspaceSettingsFile";else{const a=n.get(pn);e!=null&&e.defaultValue&&JSON.stringify(e==null?void 0:e.defaultValue)===JSON.stringify(a)&&await n.update(pn,e.defaultValue,s.ConfigurationTarget.Global),i="workbench.action.openSettingsJson"}await s.commands.executeCommand(i);const r=s.window.activeTextEditor;if(r){const o=r.document.getText().search(t);if(o>=0){const u=r.document.positionAt(o);r.revealRange(new s.Range(u,u)),r.selection=new s.Selection(u,u)}}}async function is(n){const e=s.l10n.t("I want to edit this GitHub search query: \n```\n{0}\n```\nOutput only one, minimally modified query in a codeblock.\nModify it so that it ",n);await s.commands.executeCommand(ft.NEW_CHAT,{inputValue:e,isPartialQuery:!0,agentMode:!1})}var lr=rn(48287),Ks=rn(74945),Qr=rn.n(Ks);const Ui="GitHub.vscode-pull-request-github",Qs="git",rs="ghpr",ws="initialize",as="statechange",da="github:focusedReview";var Ys=Object.defineProperty,ss=(n,e,t)=>e in n?Ys(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Oa=(n,e,t)=>ss(n,typeof e!="symbol"?e+"":e,t);let ur;const So=class lc extends s.Disposable{constructor(e){super(()=>d(this.disposables)),this._storageUri=e,Oa(this,"SUBPATH","temp"),Oa(this,"disposables",[]),Oa(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){d(this.disposables),d(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const i=this.disposables.shift();i==null||i.dispose()}this.disposables.push(e)}}async writeState(e,t,i,r,a){let o=this.path,u;if(s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0){const $=s.workspace.workspaceFolders.find(Q=>ne(Q.uri.fsPath,a.fsPath)||ne(a.fsPath,Q.uri.fsPath));u=$==null?void 0:$.name}!u&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(u=s.workspace.workspaceFolders[0].name),u&&(o=s.Uri.joinPath(o,u)),e&&(o=s.Uri.joinPath(o,e)),await s.workspace.fs.createDirectory(o);const k=s.Uri.joinPath(o,t);await s.workspace.fs.writeFile(k,i);const A={dispose:()=>{try{return s.workspace.fs.delete(k,{recursive:!0})}catch{}}};return this.addDisposable(A,r),k}async readState(e,t,i){let r=this.path,a;if(s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0){const u=s.workspace.workspaceFolders.find(k=>ne(k.uri.fsPath,i.fsPath)||ne(i.fsPath,k.uri.fsPath));a=u==null?void 0:u.name}!a&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(a=s.workspace.workspaceFolders[0].name),a&&(r=s.Uri.joinPath(r,a)),r=s.Uri.joinPath(r,e);const o=s.Uri.joinPath(r,t);return s.workspace.fs.readFile(o)}static async init(e){if(e.globalStorageUri&&!ur){ur=new lc(e.globalStorageUri);try{await s.workspace.fs.delete(ur.path,{recursive:!0})}catch(t){y.appendLine(`Error in initialization: ${t.message}`,lc.ID)}try{await s.workspace.fs.createDirectory(ur.path)}catch(t){y.appendLine(`Error in initialization: ${t.message}`,lc.ID)}return e.subscriptions.push(ur),ur}}static async write(e,t,i,r=!1,a){if(ur)return ur.writeState(e,t,i,r,a)}static async read(e,t,i){if(ur)return ur.readState(e,t,i)}};Oa(So,"ID","TemporaryState");let os=So;var Un=(n=>(n[n.Query=0]="Query",n[n.All=1]="All",n[n.LocalPullRequest=2]="LocalPullRequest",n))(Un||{}),ca=(n=>(n.Approve="APPROVE",n.RequestChanges="REQUEST_CHANGES",n.Comment="COMMENT",n))(ca||{}),hi=(n=>(n.Open="OPEN",n.Merged="MERGED",n.Closed="CLOSED",n))(hi||{}),bi=(n=>(n[n.Mergeable=0]="Mergeable",n[n.NotMergeable=1]="NotMergeable",n[n.Conflict=2]="Conflict",n[n.Unknown=3]="Unknown",n[n.Behind=4]="Behind",n))(bi||{}),oi=(n=>(n[n.AwaitingChecks=0]="AwaitingChecks",n[n.Locked=1]="Locked",n[n.Mergeable=2]="Mergeable",n[n.Queued=3]="Queued",n[n.Unmergeable=4]="Unmergeable",n))(oi||{}),Yr=(n=>(n.User="User",n.Organization="Organization",n.Mannequin="Mannequin",n.Bot="Bot",n))(Yr||{});function wl(n){switch(n){case"Organization":return"Organization";case"Mannequin":return"Mannequin";case"Bot":return"Bot";default:return"User"}}function La(n){var e;return Bi(n)?n.id:(e=n.specialDisplayName)!=null?e:n.login}function ks(n){var e,t,i;return Bi(n)?(t=(e=n.name)!=null?e:n.slug)!=null?t:n.id:(i=n.specialDisplayName)!=null?i:n.login}function Bi(n){return!!n.org}function Nu(n){const e=n;return!!e.isAuthor&&!!e.isCommenter}var qr=(n=>(n.Issue="Issue",n.PullRequest="PullRequest",n))(qr||{}),li=(n=>(n.Success="success",n.Failure="failure",n.Neutral="neutral",n.Pending="pending",n.Unknown="unknown",n))(li||{}),kl=rn(32017),_l=rn.n(kl),Eo=rn(77358),Tu=rn.n(Eo);function hc(n,e){const t=s.window.createWebviewPanel("emptyCommit",s.l10n.t("Commit {0}",e.substring(0,7)),s.ViewColumn.Active,{enableScripts:!1,localResourceRoots:[]});t.iconPath={light:s.Uri.joinPath(n,"resources","icons","codicons","git-commit.svg"),dark:s.Uri.joinPath(n,"resources","icons","codicons","git-commit.svg")},t.webview.html=Jr()}function Jr(){return`<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Empty Commit</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.container {
			text-align: center;
			padding: 2rem;
			max-width: 600px;
		}
		.icon {
			margin-bottom: 1.5rem;
			opacity: 0.6;
		}
		.icon svg {
			width: 64px;
			height: 64px;
			fill: currentColor;
		}
		.title {
			font-size: 1.25rem;
			font-weight: 400;
			margin-bottom: 0.5rem;
			color: var(--vscode-foreground);
		}
		.subtitle {
			font-size: 0.95rem;
			color: var(--vscode-descriptionForeground);
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="icon">
			<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M9.99994 11.999H4.99994V10.999H9.99994V11.999Z"/><path d="M7.99994 5.99902H9.99994V6.99902H7.99994V9H6.99994V6.99902H4.99994V5.99902H6.99994V4H7.99994V5.99902Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7099 1.28906L13.7099 4.28906L13.9999 4.99902V13.999L12.9999 14.999H2.99994L1.99994 13.999V1.99902L2.99994 0.999023H9.99994L10.7099 1.28906ZM2.99994 13.999H12.9999V4.99902L9.99994 1.99902H2.99994V13.999Z"/></svg>
		</div>
		<div class="title">No changes to show.</div>
		<div class="subtitle">This commit has no content.</div>
	</div>
</body>
</html>`}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Js=function(n,e){return Js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},Js(n,e)};function $r(n,e){Js(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pt=function(){return Pt=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pt.apply(this,arguments)};function Cu(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Ro(n,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function Au(n,e){return function(t,i){e(t,i,n)}}function mc(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function _a(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u($){try{A(i.next($))}catch(Q){o(Q)}}function k($){try{A(i.throw($))}catch(Q){o(Q)}}function A($){$.done?a($.value):r($.value).then(u,k)}A((i=i.apply(n,e||[])).next())})}function Sa(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(A){return function($){return k([A,$])}}function k(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=A[0]&2?r.return:A[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,A[1])).done)return a;switch(r=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,r=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){t.label=A[1];break}if(A[0]===6&&t.label<a[1]){t.label=a[1],a=A;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(A);break}a[2]&&t.ops.pop(),t.trys.pop();continue}A=e.call(n,t)}catch($){A=[6,$],r=0}finally{i=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function pc(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]}function om(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function No(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function Zi(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(wi(arguments[e]));return n}function To(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,r++)i[r]=a[o];return i}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function lm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(re){i[re]&&(r[re]=function(oe){return new Promise(function(pe,me){a.push([re,oe,pe,me])>1||u(re,oe)})})}function u(re,oe){try{k(i[re](oe))}catch(pe){Q(a[0][3],pe)}}function k(re){re.value instanceof Si?Promise.resolve(re.value.v).then(A,$):Q(a[0][2],re)}function A(re){u("next",re)}function $(re){u("throw",re)}function Q(re,oe){re(oe),a.shift(),a.length&&u(a[0][0],a[0][1])}}function ls(n){var e,t;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=n[r]?function(o){return(t=!t)?{value:Si(n[r](o)),done:r==="return"}:a?a(o):o}:a}}function _s(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof No=="function"?No(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(o){return new Promise(function(u,k){o=n[a](o),r(u,k,o.done,o.value)})}}function r(a,o,u,k){Promise.resolve(k).then(function(A){a({value:A,done:u})},o)}}function Ss(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Es(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function um(n){return n&&n.__esModule?n:{default:n}}function dm(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function vc(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Ea=rn(9111),Pu=rn(65606),Sl="Invariant Violation",Mu=Object.setPrototypeOf,gc=Mu===void 0?function(n,e){return n.__proto__=e,n}:Mu,Wi=function(n){$r(e,n);function e(t){t===void 0&&(t=Sl);var i=n.call(this,typeof t=="number"?Sl+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return i.framesToPop=1,i.name=Sl,gc(i,e.prototype),i}return e}(Error);function ei(n,e){if(!n)throw new Wi(e)}function El(n){return function(){return console[n].apply(console,arguments)}}(function(n){n.warn=El("warn"),n.error=El("error")})(ei||(ei={}));var Fu={env:{}};if(typeof Pu=="object")Fu=Pu;else try{Function("stub","process = stub")(Fu)}catch{}var cm=null;const fm=null;var yc=rn(72492),bc=rn.n(yc),Iu=Object.prototype,Du=Iu.toString,Ra=Iu.hasOwnProperty,Rl=new Map;function Er(n,e){try{return Co(n,e)}finally{Rl.clear()}}function Co(n,e){if(n===e)return!0;var t=Du.call(n),i=Du.call(e);if(t!==i)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(xu(n,e))return!0;var r=Object.keys(n),a=Object.keys(e),o=r.length;if(o!==a.length)return!1;for(var u=0;u<o;++u)if(!Ra.call(e,r[u]))return!1;for(var u=0;u<o;++u){var k=r[u];if(!Co(n[k],e[k]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==""+e;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(xu(n,e))return!0;for(var A=n.entries(),$=t==="[object Map]";;){var Q=A.next();if(Q.done)break;var re=Q.value,oe=re[0],pe=re[1];if(!e.has(oe)||$&&!Co(pe,e.get(oe)))return!1}return!0}}return!1}function xu(n,e){var t=Rl.get(n);if(t){if(t.has(e))return!0}else Rl.set(n,t=new Set);return t.add(e),!1}const wc=null;var kc=rn(65606);function hm(n){return["StringValue","BooleanValue","EnumValue"].indexOf(n.kind)>-1}function _c(n){return["IntValue","FloatValue"].indexOf(n.kind)>-1}function mm(n){return n.kind==="StringValue"}function Ou(n){return n.kind==="BooleanValue"}function Nl(n){return n.kind==="IntValue"}function Tl(n){return n.kind==="FloatValue"}function Ao(n){return n.kind==="Variable"}function Sc(n){return n.kind==="ObjectValue"}function Ec(n){return n.kind==="ListValue"}function Rc(n){return n.kind==="EnumValue"}function Te(n){return n.kind==="NullValue"}function fe(n,e,t,i){if(Nl(t)||Tl(t))n[e.value]=Number(t.value);else if(Ou(t)||mm(t))n[e.value]=t.value;else if(Sc(t)){var r={};t.fields.map(function(o){return fe(r,o.name,o.value,i)}),n[e.value]=r}else if(Ao(t)){var a=(i||{})[t.name.value];n[e.value]=a}else if(Ec(t))n[e.value]=t.values.map(function(o){var u={};return fe(u,e,o,i),u[e.value]});else if(Rc(t))n[e.value]=t.value;else if(Te(t))n[e.value]=null;else throw new Wi(17)}function Ce(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(r){t[r.name.value]={},r.arguments&&r.arguments.forEach(function(a){var o=a.name,u=a.value;return fe(t[r.name.value],o,u,e)})}));var i=null;return n.arguments&&n.arguments.length&&(i={},n.arguments.forEach(function(r){var a=r.name,o=r.value;return fe(i,a,o,e)})),$e(n.name.value,i,t)}var Fe=["connection","include","skip","client","rest","export"];function $e(n,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var r=e,a={};return i.forEach(function(k){a[k]=r[k]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var o=n;if(e){var u=bc()(e);o+="("+u+")"}return t&&Object.keys(t).forEach(function(k){Fe.indexOf(k)===-1&&(t[k]&&Object.keys(t[k]).length?o+="@"+k+"("+JSON.stringify(t[k])+")":o+="@"+k)}),o}function Ye(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(i){var r=i.name,a=i.value;return fe(t,r,a,e)}),t}return null}function tt(n){return n.alias?n.alias.value:n.name.value}function ut(n){return n.kind==="Field"}function Gt(n){return n.kind==="InlineFragment"}function jt(n){return n&&n.type==="id"&&typeof n.generated=="boolean"}function tn(n,e){return e===void 0&&(e=!1),Pt({type:"id",generated:e},typeof n=="string"?{id:n,typename:void 0}:n)}function Rn(n){return n!=null&&typeof n=="object"&&n.type==="json"}function Bn(n){throw new InvariantError(18)}function Nn(n,e){switch(e===void 0&&(e=Bn),n.kind){case"Variable":return e(n);case"NullValue":return null;case"IntValue":return parseInt(n.value,10);case"FloatValue":return parseFloat(n.value);case"ListValue":return n.values.map(function(o){return Nn(o,e)});case"ObjectValue":{for(var t={},i=0,r=n.fields;i<r.length;i++){var a=r[i];t[a.name.value]=Nn(a.value,e)}return t}default:return n.value}}function Kn(n,e){if(n.directives&&n.directives.length){var t={};return n.directives.forEach(function(i){t[i.name.value]=Ye(i,e)}),t}return null}function Hn(n,e){return e===void 0&&(e={}),Ns(n.directives).every(function(t){var i=t.directive,r=t.ifArgument,a=!1;return r.value.kind==="Variable"?(a=e[r.value.name.value],ei(a!==void 0,13)):a=r.value.value,i.name.value==="skip"?!a:a})}function at(n){var e=[];return(0,Ea.visit)(n,{Directive:function(t){e.push(t.name.value)}}),e}function vi(n,e){return at(e).some(function(t){return n.indexOf(t)>-1})}function Xr(n){return n&&vi(["client"],n)&&vi(["export"],n)}function Rs(n){var e=n.name.value;return e==="skip"||e==="include"}function Ns(n){return n?n.filter(Rs).map(function(e){var t=e.arguments,i=e.name.value;ei(t&&t.length===1,14);var r=t[0];ei(r.name&&r.name.value==="if",15);var a=r.value;return ei(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function Lu(n,e){var t=e,i=[];n.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new Wi(11);a.kind==="FragmentDefinition"&&i.push(a)}),typeof t=="undefined"&&(ei(i.length===1,12),t=i[0].name.value);var r=Pt(Pt({},n),{definitions:To([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions)});return r}function Po(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(r){n[r]=i[r]})}),n}function Cl(n){fa(n);var e=n.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function fa(n){ei(n&&n.kind==="Document",2);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new Wi(3);return t});return ei(e.length<=1,4),n}function Ts(n){return fa(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function pm(n){var e=Ts(n);return invariant(e,5),e}function Mo(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Cs(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Al(n){var e=Ts(n);return ei(e&&e.operation==="query",6),e}function Nc(n){ei(n.kind==="Document",7),ei(n.definitions.length<=1,8);var e=n.definitions[0];return ei(e.kind==="FragmentDefinition",9),e}function Xs(n){fa(n);for(var e,t=0,i=n.definitions;t<i.length;t++){var r=i[t];if(r.kind==="OperationDefinition"){var a=r.operation;if(a==="query"||a==="mutation"||a==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new Wi(10)}function As(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function Fo(n){if(n&&n.variableDefinitions&&n.variableDefinitions.length){var e=n.variableDefinitions.filter(function(t){var i=t.defaultValue;return i}).map(function(t){var i=t.variable,r=t.defaultValue,a={};return fe(a,i.name,r),a});return Po.apply(void 0,To([{}],e))}return{}}function Uu(n){var e=new Set;if(n.variableDefinitions)for(var t=0,i=n.variableDefinitions;t<i.length;t++){var r=i[t];e.add(r.variable.name.value)}return e}function Pl(n,e,t){var i=0;return n.forEach(function(r,a){e.call(this,r,a,n)&&(n[i++]=r)},t),n.length=i,n}var Bu={kind:"Field",name:{kind:"Name",value:"__typename"}};function qu(n,e){return n.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&qu(e[t.name.value],e)})}function Io(n){return qu(Ts(n)||Nc(n),As(Cs(n)))?null:n}function Ml(n){return function(t){return n.some(function(i){return i.name&&i.name===t.name.value||i.test&&i.test(t)})}}function Fl(n,e){var t=Object.create(null),i=[],r=Object.create(null),a=[],o=Io((0,Ea.visit)(e,{Variable:{enter:function(u,k,A){A.kind!=="VariableDefinition"&&(t[u.name.value]=!0)}},Field:{enter:function(u){if(n&&u.directives){var k=n.some(function(A){return A.remove});if(k&&u.directives&&u.directives.some(Ml(n)))return u.arguments&&u.arguments.forEach(function(A){A.value.kind==="Variable"&&i.push({name:A.value.name.value})}),u.selectionSet&&zi(u.selectionSet).forEach(function(A){a.push({name:A.name.value})}),null}}},FragmentSpread:{enter:function(u){r[u.name.value]=!0}},Directive:{enter:function(u){if(Ml(n)(u))return null}}}));return o&&Pl(i,function(u){return!t[u.name]}).length&&(o=er(i,o)),o&&Pl(a,function(u){return!r[u.name]}).length&&(o=tr(a,o)),o}function Ze(n){return(0,Ea.visit)(fa(n),{SelectionSet:{enter:function(e,t,i){if(!(i&&i.kind==="OperationDefinition")){var r=e.selections;if(r){var a=r.some(function(u){return ut(u)&&(u.name.value==="__typename"||u.name.value.lastIndexOf("__",0)===0)});if(!a){var o=i;if(!(ut(o)&&o.directives&&o.directives.some(function(u){return u.name.value==="export"})))return Pt(Pt({},e),{selections:To(r,[Bu])})}}}}}})}var $t={test:function(n){var e=n.name.value==="connection";return e&&(!n.arguments||n.arguments.some(function(t){return t.name.value==="key"})),e}};function Jt(n){return Fl([$t],fa(n))}function gn(n,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(i){return zn(n,i,t)})}function zn(n,e,t){return t===void 0&&(t=!0),ut(e)?e.directives?e.directives.some(Ml(n))||t&&gn(n,e.selectionSet,t):!1:!0}function ui(n,e){fa(e);var t;return Io(visit(e,{SelectionSet:{enter:function(i,r,a,o){var u=o.join("-");if(!t||u===t||!u.startsWith(t))if(i.selections){var k=i.selections.filter(function(A){return zn(n,A)});return gn(n,i,!1)&&(t=u),__assign(__assign({},i),{selections:k})}else return null}}}))}function ri(n){return function(t){return n.some(function(i){return t.value&&t.value.kind==="Variable"&&t.value.name&&(i.name===t.value.name.value||i.test&&i.test(t))})}}function er(n,e){var t=ri(n);return Io((0,Ea.visit)(e,{OperationDefinition:{enter:function(i){return Pt(Pt({},i),{variableDefinitions:i.variableDefinitions.filter(function(r){return!n.some(function(a){return a.name===r.variable.name.value})})})}},Field:{enter:function(i){var r=n.some(function(o){return o.remove});if(r){var a=0;if(i.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(i){if(t(i))return null}}}))}function tr(n,e){function t(i){if(n.some(function(r){return r.name===i.name.value}))return null}return Io((0,Ea.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function zi(n){var e=[];return n.selections.forEach(function(t){(ut(t)||Gt(t))&&t.selectionSet?zi(t.selectionSet).forEach(function(i){return e.push(i)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function vr(n){var e=Xs(n),t=e.operation;if(t==="query")return n;var i=(0,Ea.visit)(n,{OperationDefinition:{enter:function(r){return Pt(Pt({},r),{operation:"query"})}}});return i}function Ua(n){fa(n);var e=Fl([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e&&(e=(0,Ea.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var i=t.selectionSet.selections.every(function(r){return ut(r)&&r.name.value==="__typename"});if(i)return null}}}})),e}var Di=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),Tc=Object.prototype.toString;function Fb(n){return Cc(n,new Map)}function Cc(n,e){switch(Tc.call(n)){case"[object Array]":{if(e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(r,a){t[a]=Cc(r,e)}),t}case"[object Object]":{if(e.has(n))return e.get(n);var i=Object.create(Object.getPrototypeOf(n));return e.set(n,i),Object.keys(n).forEach(function(r){i[r]=Cc(n[r],e)}),i}default:return n}}function Ib(){return typeof kc!="undefined"?"production":"development"}function Ac(n){return Ib()===n}function vm(){return Ac("production")===!0}function Db(){return Ac("development")===!0}function Pc(){return Ac("test")===!0}function Mc(n){try{return n()}catch(e){console.error&&console.error(e)}}function Zs(n){return n.errors&&n.errors.length}function gm(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){n[e]!==null&&(typeof n[e]=="object"||typeof n[e]=="function")&&!Object.isFrozen(n[e])&&gm(n[e])}),n}function E2(n){if(Db()||Pc()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return gm(n)}return n}var xb=Object.prototype.hasOwnProperty;function ym(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Fc(n)}function Fc(n){var e=n[0]||{},t=n.length;if(t>1){var i=[];e=Ic(e,i);for(var r=1;r<t;++r)e=wm(e,n[r],i)}return e}function bm(n){return n!==null&&typeof n=="object"}function wm(n,e,t){return bm(e)&&bm(n)?(Object.isExtensible&&!Object.isExtensible(n)&&(n=Ic(n,t)),Object.keys(e).forEach(function(i){var r=e[i];if(xb.call(n,i)){var a=n[i];r!==a&&(n[i]=wm(Ic(a,t),r,t))}else n[i]=r}),n):e}function Ic(n,e){return n!==null&&typeof n=="object"&&e.indexOf(n)<0&&(Array.isArray(n)?n=n.slice(0):n=Pt({__proto__:Object.getPrototypeOf(n)},n),e.push(n)),n}var km=Object.create({});function R2(n,e){e===void 0&&(e="warn"),!vm()&&!km[n]&&(Pc()||(km[n]=!0),e==="error"?console.error(n):console.warn(n))}function N2(n){return JSON.parse(JSON.stringify(n))}var Ob=rn(16064),Lb=rn.n(Ob),Ub=Lb();const Fr=Ub;function Bb(n){for(var e=["query","operationName","variables","extensions","context"],t=0,i=Object.keys(n);t<i.length;t++){var r=i[t];if(e.indexOf(r)<0)throw new Wi(2)}return n}var T2=function(n){$r(e,n);function e(t,i){var r=n.call(this,t)||this;return r.link=i,r}return e}(Error);function $u(n){return n.request.length<=1}function C2(n){var e=!1;return new Promise(function(t,i){n.subscribe({next:function(r){e||(e=!0,t(r))},error:i})})}var A2=null;function P2(n){return new Observable(function(e){n.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function _m(n){return new Fr(function(e){e.error(n)})}function qb(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?Mo(e.query):""),e}function $b(n,e){var t=Pt({},n),i=function(a){typeof a=="function"?t=Pt({},t,a(t)):t=Pt({},t,a)},r=function(){return Pt({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Hb(e)}}),e}function Hb(n){var e=n.query,t=n.variables,i=n.operationName;return JSON.stringify([i,e,t])}function Sm(n,e){return e?e(n):Fr.of()}function Il(n){return typeof n=="function"?new Na(n):n}function Em(){return new Na(function(){return Fr.of()})}function Gb(n){return n.length===0?Em():n.map(Il).reduce(function(e,t){return e.concat(t)})}function Rm(n,e,t){var i=Il(e),r=Il(t||new Na(Sm));return $u(i)&&$u(r)?new Na(function(a){return n(a)?i.request(a)||Fr.of():r.request(a)||Fr.of()}):new Na(function(a,o){return n(a)?i.request(a,o)||Fr.of():r.request(a,o)||Fr.of()})}var Vb=function(n,e){var t=Il(n);if($u(t))return t;var i=Il(e);return $u(i)?new Na(function(r){return t.request(r,function(a){return i.request(a)||Fr.of()})||Fr.of()}):new Na(function(r,a){return t.request(r,function(o){return i.request(o,a)||Fr.of()})||Fr.of()})},Na=function(){function n(e){e&&(this.request=e)}return n.prototype.split=function(e,t,i){return this.concat(Rm(e,t,i||new n(Sm)))},n.prototype.concat=function(e){return Vb(this,e)},n.prototype.request=function(e,t){throw new Wi(1)},n.empty=Em,n.from=Gb,n.split=Rm,n.execute=Hu,n}();function Hu(n,e){return n.request($b(e.context,qb(Bb(e))))||Fr.of()}var jb=rn(9423),qi;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"})(qi||(qi={}));function Nm(n){return n<7}var Dl=function(n){$r(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype[jb.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Fr);function Do(n){return Array.isArray(n)&&n.length>0}function Wb(n){return n.hasOwnProperty("graphQLErrors")}var zb=function(n){var e="";return Do(n.graphQLErrors)&&n.graphQLErrors.forEach(function(t){var i=t?t.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),n.networkError&&(e+="Network error: "+n.networkError.message+`
`),e=e.replace(/\n$/,""),e},Ps=function(n){$r(e,n);function e(t){var i=t.graphQLErrors,r=t.networkError,a=t.errorMessage,o=t.extraInfo,u=n.call(this,a)||this;return u.graphQLErrors=i||[],u.networkError=r||null,a?u.message=a:u.message=zb(u),u.extraInfo=o,u.__proto__=e.prototype,u}return e}(Error),eo;(function(n){n[n.normal=1]="normal",n[n.refetch=2]="refetch",n[n.poll=3]="poll"})(eo||(eo={}));var Kb=function(n,e){return e===void 0&&(e="none"),n&&(n.networkError||e==="none"&&Do(n.graphQLErrors))},Qb=function(n){$r(e,n);function e(t){var i=t.queryManager,r=t.options,a=t.shouldSubscribe,o=a===void 0?!0:a,u=n.call(this,function(A){return u.onSubscribe(A)})||this;u.observers=new Set,u.subscriptions=new Set,u.isTornDown=!1,u.options=r,u.variables=r.variables||{},u.queryId=i.generateQueryId(),u.shouldSubscribe=o;var k=Ts(r.query);return u.queryName=k&&k.name&&k.name.value,u.queryManager=i,u}return e.prototype.result=function(){var t=this;return new Promise(function(i,r){var a={next:function(u){i(u),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:qi.error}}var i=this.queryManager.getCurrentQueryResult(this),r=i.data,a=i.partial,o=this.queryManager.queryStore.get(this.queryId),u,k=this.options.fetchPolicy,A=k==="network-only"||k==="no-cache";if(o){var $=o.networkStatus;if(Kb(o,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:$,error:new Ps({graphQLErrors:o.graphQLErrors,networkError:o.networkError})};o.variables&&(this.options.variables=Pt(Pt({},this.options.variables),o.variables),this.variables=this.options.variables),u={data:r,loading:Nm($),networkStatus:$},o.graphQLErrors&&this.options.errorPolicy==="all"&&(u.errors=o.graphQLErrors)}else{var Q=A||a&&k!=="cache-only";u={data:r,loading:Q,networkStatus:Q?qi.loading:qi.ready}}return a||this.updateLastResult(Pt(Pt({},u),{stale:!1})),Pt(Pt({},u),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var i=this.lastResultSnapshot;return!(i&&t&&i.networkStatus===t.networkStatus&&i.stale===t.stale&&Er(i.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new Wi(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),Er(this.variables,t)||(this.variables=Pt(Pt({},this.variables),t)),Er(this.options.variables,this.variables)||(this.options.variables=Pt(Pt({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Pt(Pt({},this.options),{fetchPolicy:i}),eo.refetch))},e.prototype.fetchMore=function(t){var i=this;ei(t.updateQuery,2);var r=Pt(Pt({},t.query?t:Pt(Pt(Pt({},this.options),t),{variables:Pt(Pt({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,r,eo.normal,this.queryId).then(function(o){return i.updateQuery(function(u){return t.updateQuery(u,{fetchMoreResult:o.data,variables:r.variables})}),i.queryManager.stopQuery(a),o},function(o){throw i.queryManager.stopQuery(a),o})},e.prototype.subscribeToMore=function(t){var i=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var o=t.updateQuery;o&&i.updateQuery(function(u,k){var A=k.variables;return o(u,{subscriptionData:a,variables:A})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var i=this.options.fetchPolicy;this.options=Pt(Pt({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,i!==r&&(i==="cache-only"||i==="standby"||r==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=!0),this.isTornDown=!1,t=t||this.variables,!i&&Er(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var i=this.queryManager,r=i.getQueryWithPreviousResult(this.queryId),a=r.previousResult,o=r.variables,u=r.document,k=Mc(function(){return t(a,{variables:o})});k&&(i.dataStore.markUpdateQueryResult(u,o,k),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){Tm(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var i=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Fb(t),i},e.prototype.onSubscribe=function(t){var i=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=Yb)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){i.observers.delete(t)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,i=this,r=i.queryManager,a=i.queryId;this.shouldSubscribe&&r.addObservableQuery(a,this),this.options.pollInterval&&(Tm(this),r.startPollingQuery(this.options,a));var o=function(u){t.updateLastResult(Pt(Pt({},t.lastResult),{errors:u.graphQLErrors,networkStatus:qi.error,loading:!1})),Dc(t.observers,"error",t.lastError=u)};r.observeQuery(a,this.options,{next:function(u){if(t.lastError||t.isDifferentFromLastResult(u)){var k=t.updateLastResult(u),A=t.options,$=A.query,Q=A.variables,re=A.fetchPolicy;r.transform($).hasClientExports?r.getLocalState().addExportedVariables($,Q).then(function(oe){var pe=t.variables;t.variables=t.options.variables=oe,!u.loading&&k&&re!=="cache-only"&&r.transform($).serverQuery&&!Er(pe,oe)?t.refetch():Dc(t.observers,"next",u)}):Dc(t.observers,"next",u)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Dl);function Yb(n){}function Dc(n,e,t){var i=[];n.forEach(function(r){return r[e]&&i.push(r)}),i.forEach(function(r){return r[e](t)})}function Tm(n){var e=n.options.fetchPolicy;ei(e!=="cache-first"&&e!=="cache-only",3)}var Jb=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initMutation=function(e,t,i){this.store[e]={mutation:t,variables:i||{},loading:!0,error:null}},n.prototype.markMutationError=function(e,t){var i=this.store[e];i&&(i.loading=!1,i.error=t)},n.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},n.prototype.reset=function(){this.store={}},n}(),Xb=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initQuery=function(e){var t=this.store[e.queryId];ei(!t||t.document===e.document||Er(t.document,e.document),19);var i=!1,r=null;e.storePreviousVariables&&t&&t.networkStatus!==qi.loading&&(Er(t.variables,e.variables)||(i=!0,r=t.variables));var a;i?a=qi.setVariables:e.isPoll?a=qi.poll:e.isRefetch?a=qi.refetch:a=qi.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:o,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=qi.fetchMore)},n.prototype.markQueryResult=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Do(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=qi.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=qi.ready))},n.prototype.markQueryError=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=qi.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},n.prototype.markQueryResultClient=function(e,t){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,t&&(i.networkStatus=qi.ready))},n.prototype.stopQuery=function(e){delete this.store[e]},n.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?t.stopQuery(i):t.store[i].networkStatus=qi.loading})},n}();function Zb(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Cm=function(){function n(e){var t=e.cache,i=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,i&&(this.client=i),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){t.resolvers=ym(t.resolvers,i)}):this.resolvers=ym(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,u=o===void 0?!1:o;return _a(this,void 0,void 0,function(){return Sa(this,function(k){return t?[2,this.resolveDocument(t,i.data,r,a,this.fragmentMatcher,u).then(function(A){return Pt(Pt({},i),{data:A.result})})]:[2,i]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return vi(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return this.resolvers?Ua(e):e},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,i=Pt(Pt({},e),{cache:t,getCacheKey:function(r){if(t.config)return t.config.dataIdFromObject(r);ei(!1,6)}});return i},n.prototype.addExportedVariables=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),_a(this,void 0,void 0,function(){return Sa(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then(function(a){return Pt(Pt({},t),a.exportedVariables)})]:[2,Pt({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Ea.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(t=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),t))return Ea.BREAK}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:vr(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,i,r,a,o){return i===void 0&&(i={}),r===void 0&&(r={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),_a(this,void 0,void 0,function(){var u,k,A,$,Q,re,oe,pe,me;return Sa(this,function(Ne){return u=Xs(e),k=Cs(e),A=As(k),$=u.operation,Q=$?Zb($):"Query",re=this,oe=re.cache,pe=re.client,me={fragmentMap:A,context:Pt(Pt({},i),{cache:oe,client:pe}),variables:r,fragmentMatcher:a,defaultOperationType:Q,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(u.selectionSet,t,me).then(function(Se){return{result:Se,exportedVariables:me.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,i){return _a(this,void 0,void 0,function(){var r,a,o,u,k,A=this;return Sa(this,function($){return r=i.fragmentMap,a=i.context,o=i.variables,u=[t],k=function(Q){return _a(A,void 0,void 0,function(){var re,oe;return Sa(this,function(pe){return Hn(Q,o)?ut(Q)?[2,this.resolveField(Q,t,i).then(function(me){var Ne;typeof me!="undefined"&&u.push((Ne={},Ne[tt(Q)]=me,Ne))})]:(Gt(Q)?re=Q:(re=r[Q.name.value],ei(re,7)),re&&re.typeCondition&&(oe=re.typeCondition.name.value,i.fragmentMatcher(t,oe,a))?[2,this.resolveSelectionSet(re.selectionSet,t,i).then(function(me){u.push(me)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(k)).then(function(){return Fc(u)})]})})},n.prototype.resolveField=function(e,t,i){return _a(this,void 0,void 0,function(){var r,a,o,u,k,A,$,Q,re,oe=this;return Sa(this,function(pe){return r=i.variables,a=e.name.value,o=tt(e),u=a!==o,k=t[o]||t[a],A=Promise.resolve(k),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&($=t.__typename||i.defaultOperationType,Q=this.resolvers&&this.resolvers[$],Q&&(re=Q[u?a:o],re&&(A=Promise.resolve(re(t,Ye(e,r),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,A.then(function(me){if(me===void 0&&(me=k),e.directives&&e.directives.forEach(function(Ne){Ne.name.value==="export"&&Ne.arguments&&Ne.arguments.forEach(function(Se){Se.name.value==="as"&&Se.value.kind==="StringValue"&&(i.exportedVariables[Se.value.value]=me)})}),!e.selectionSet||me==null)return me;if(Array.isArray(me))return oe.resolveSubSelectedArray(e,me,i);if(e.selectionSet)return oe.resolveSelectionSet(e.selectionSet,me,i)})]})})},n.prototype.resolveSubSelectedArray=function(e,t,i){var r=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(e,a,i);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,a,i)}))},n}();function Am(n){var e=new Set,t=null;return new Dl(function(i){return e.add(i),t=t||n.subscribe({next:function(r){e.forEach(function(a){return a.next&&a.next(r)})},error:function(r){e.forEach(function(a){return a.error&&a.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(i)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function ew(n,e){return new Dl(function(t){var i=t.next,r=t.error,a=t.complete,o=0,u=!1,k={next:function($){++o,new Promise(function(Q){Q(e($))}).then(function(Q){--o,i&&i.call(t,Q),u&&k.complete()},function(Q){--o,r&&r.call(t,Q)})},error:function($){r&&r.call(t,$)},complete:function(){u=!0,o||a&&a.call(t)}},A=n.subscribe(k);return function(){return A.unsubscribe()}})}var tw=Object.prototype.hasOwnProperty,nw=function(){function n(e){var t=e.link,i=e.queryDeduplication,r=i===void 0?!1:i,a=e.store,o=e.onBroadcast,u=o===void 0?function(){}:o,k=e.ssrMode,A=k===void 0?!1:k,$=e.clientAwareness,Q=$===void 0?{}:$,re=e.localState,oe=e.assumeImmutableResults;this.mutationStore=new Jb,this.queryStore=new Xb,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Di?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=a,this.onBroadcast=u,this.clientAwareness=Q,this.localState=re||new Cm({cache:a.getCache()}),this.ssrMode=A,this.assumeImmutableResults=!!oe}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(t){t(new Wi(8))})},n.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,u=o===void 0?[]:o,k=e.awaitRefetchQueries,A=k===void 0?!1:k,$=e.update,Q=e.errorPolicy,re=Q===void 0?"none":Q,oe=e.fetchPolicy,pe=e.context,me=pe===void 0?{}:pe;return _a(this,void 0,void 0,function(){var Ne,Se,Re,Ae=this;return Sa(this,function(Oe){switch(Oe.label){case 0:return ei(t,9),ei(!oe||oe==="no-cache",10),Ne=this.generateQueryId(),t=this.transform(t).document,this.setQuery(Ne,function(){return{document:t}}),i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,me)]:[3,2];case 1:i=Oe.sent(),Oe.label=2;case 2:return Se=function(){var Ge={};return a&&Ae.queries.forEach(function(We,qe){var ot=We.observableQuery;if(ot){var kt=ot.queryName;kt&&tw.call(a,kt)&&(Ge[qe]={updater:a[kt],query:Ae.queryStore.get(qe)})}}),Ge},this.mutationStore.initMutation(Ne,t,i),this.dataStore.markMutationInit({mutationId:Ne,document:t,variables:i,updateQueries:Se(),update:$,optimisticResponse:r}),this.broadcastQueries(),Re=this,[2,new Promise(function(Ge,We){var qe,ot;Re.getObservableFromLink(t,Pt(Pt({},me),{optimisticResponse:r}),i,!1).subscribe({next:function(kt){if(Zs(kt)&&re==="none"){ot=new Ps({graphQLErrors:kt.errors});return}Re.mutationStore.markMutationResult(Ne),oe!=="no-cache"&&Re.dataStore.markMutationResult({mutationId:Ne,result:kt,document:t,variables:i,updateQueries:Se(),update:$}),qe=kt},error:function(kt){Re.mutationStore.markMutationError(Ne,kt),Re.dataStore.markMutationComplete({mutationId:Ne,optimisticResponse:r}),Re.broadcastQueries(),Re.setQuery(Ne,function(){return{document:null}}),We(new Ps({networkError:kt}))},complete:function(){if(ot&&Re.mutationStore.markMutationError(Ne,ot),Re.dataStore.markMutationComplete({mutationId:Ne,optimisticResponse:r}),Re.broadcastQueries(),ot){We(ot);return}typeof u=="function"&&(u=u(qe));var kt=[];Do(u)&&u.forEach(function(bt){if(typeof bt=="string")Re.queries.forEach(function(cn){var On=cn.observableQuery;On&&On.queryName===bt&&kt.push(On.refetch())});else{var fn={query:bt.query,variables:bt.variables,fetchPolicy:"network-only"};bt.context&&(fn.context=bt.context),kt.push(Re.query(fn))}}),Promise.all(A?kt:[]).then(function(){Re.setQuery(Ne,function(){return{document:null}}),re==="ignore"&&qe&&Zs(qe)&&delete qe.errors,Ge(qe)})}})})]}})})},n.prototype.fetchQuery=function(e,t,i,r){return _a(this,void 0,void 0,function(){var a,o,u,k,A,$,Q,re,oe,pe,me,Ne,Se,Re,Ae,Oe,Ge,We,qe=this;return Sa(this,function(ot){switch(ot.label){case 0:return a=t.metadata,o=a===void 0?null:a,u=t.fetchPolicy,k=u===void 0?"cache-first":u,A=t.context,$=A===void 0?{}:A,Q=this.transform(t.query).document,re=this.getVariables(Q,t.variables),this.transform(Q).hasClientExports?[4,this.localState.addExportedVariables(Q,re,$)]:[3,2];case 1:re=ot.sent(),ot.label=2;case 2:if(t=Pt(Pt({},t),{variables:re}),pe=k==="network-only"||k==="no-cache",me=pe,pe||(Ne=this.dataStore.getCache().diff({query:Q,variables:re,returnPartialData:!0,optimistic:!1}),Se=Ne.complete,Re=Ne.result,me=!Se||k==="cache-and-network",oe=Re),Ae=me&&k!=="cache-only"&&k!=="standby",vi(["live"],Q)&&(Ae=!0),Oe=this.idCounter++,Ge=k!=="no-cache"?this.updateQueryWatch(e,Q,t):void 0,this.setQuery(e,function(){return{document:Q,lastRequestId:Oe,invalidated:!0,cancel:Ge}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:Q,storePreviousVariables:Ae,variables:re,isPoll:i===eo.poll,isRefetch:i===eo.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),Ae){if(We=this.fetchRequest({requestId:Oe,queryId:e,document:Q,options:t,fetchMoreForQueryId:r}).catch(function(kt){throw Wb(kt)?kt:(Oe>=qe.getQuery(e).lastRequestId&&(qe.queryStore.markQueryError(e,kt,r),qe.invalidate(e),qe.invalidate(r),qe.broadcastQueries()),new Ps({networkError:kt}))}),k!=="cache-and-network")return[2,We];We.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Ae),this.invalidate(e),this.invalidate(r),this.transform(Q).hasForcedResolvers?[2,this.localState.runResolvers({document:Q,remoteResult:{data:oe},context:$,variables:re,onlyRunForcedResolvers:!0}).then(function(kt){return qe.markQueryResult(e,kt,t,r),qe.broadcastQueries(),kt})]:(this.broadcastQueries(),[2,{data:oe}])}})})},n.prototype.markQueryResult=function(e,t,i,r){var a=i.fetchPolicy,o=i.variables,u=i.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,u==="ignore"||u==="all")},n.prototype.queryListenerForObserver=function(e,t,i){var r=this;function a(o,u){if(i[o])try{i[o](u)}catch{}}return function(o,u){if(r.invalidate(e,!1),!!o){var k=r.getQuery(e),A=k.observableQuery,$=k.document,Q=A?A.options.fetchPolicy:t.fetchPolicy;if(Q!=="standby"){var re=Nm(o.networkStatus),oe=A&&A.getLastResult(),pe=!!(oe&&oe.networkStatus!==o.networkStatus),me=t.returnPartialData||!u&&o.previousVariables||pe&&t.notifyOnNetworkStatusChange||Q==="cache-only"||Q==="cache-and-network";if(!(re&&!me)){var Ne=Do(o.graphQLErrors),Se=A&&A.options.errorPolicy||t.errorPolicy||"none";if(Se==="none"&&Ne||o.networkError)return a("error",new Ps({graphQLErrors:o.graphQLErrors,networkError:o.networkError}));try{var Re=void 0,Ae=void 0;if(u)Q!=="no-cache"&&Q!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),Re=u.result,Ae=!u.complete;else{var Oe=A&&A.getLastError(),Ge=Se!=="none"&&(Oe&&Oe.graphQLErrors)!==o.graphQLErrors;if(oe&&oe.data&&!Ge)Re=oe.data,Ae=!1;else{var We=r.dataStore.getCache().diff({query:$,variables:o.previousVariables||o.variables,returnPartialData:!0,optimistic:!0});Re=We.result,Ae=!We.complete}}var qe=Ae&&!(t.returnPartialData||Q==="cache-only"),ot={data:qe?oe&&oe.data:Re,loading:re,networkStatus:o.networkStatus,stale:qe};Se==="all"&&Ne&&(ot.errors=o.graphQLErrors),a("next",ot)}catch(kt){a("error",new Ps({networkError:kt}))}}}}}},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.dataStore.getCache(),r=i.transformDocument(e),a=Jt(i.transformForLink(r)),o=this.localState.clientQuery(r),u=this.localState.serverQuery(a),k={document:r,hasClientExports:Xr(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:u,defaultVars:Fo(Ts(r))},A=function($){$&&!t.has($)&&t.set($,k)};A(e),A(r),A(o),A(u)}return t.get(e)},n.prototype.getVariables=function(e,t){return Pt(Pt({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),ei(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=Pt({},e);return new Qb({queryManager:this,options:i,shouldSubscribe:t})},n.prototype.query=function(e){var t=this;return ei(e.query,12),ei(e.query.kind==="Document",13),ei(!e.returnPartialData,14),ei(!e.pollInterval,15),new Promise(function(i,r){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,r),a.result().then(i,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},n.prototype.generateQueryId=function(){return String(this.idCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},n.prototype.addQueryListener=function(e,t){this.setQuery(e,function(i){var r=i.listeners;return r.add(t),{invalidated:!1}})},n.prototype.updateQueryWatch=function(e,t,i){var r=this,a=this.getQuery(e).cancel;a&&a();var o=function(){var u=null,k=r.getQuery(e).observableQuery;if(k){var A=k.getLastResult();A&&(u=A.data)}return u};return this.dataStore.getCache().watch({query:t,variables:i.variables,optimistic:!0,previousResult:o,callback:function(u){r.setQuery(e,function(){return{invalidated:!0,newData:u}})}})},n.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},n.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},n.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new Wi(16))});var e=[];return this.queries.forEach(function(t,i){var r=t.observableQuery;r&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},n.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(r,a){var o=r.observableQuery;if(o){var u=o.options.fetchPolicy;o.resetLastResults(),u!=="cache-only"&&(e||u!=="standby")&&i.push(o.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(i)},n.prototype.observeQuery=function(e,t,i){return this.addQueryListener(e,this.queryListenerForObserver(e,t,i)),this.fetchQuery(e,t)},n.prototype.startQuery=function(e,t,i){return this.addQueryListener(e,i),this.fetchQuery(e,t).catch(function(){}),e},n.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,r=e.fetchPolicy,a=e.variables;i=this.transform(i).document,a=this.getVariables(i,a);var o=function(k){return t.getObservableFromLink(i,{},k,!1).map(function(A){if((!r||r!=="no-cache")&&(t.dataStore.markSubscriptionResult(A,i,k),t.broadcastQueries()),Zs(A))throw new Ps({graphQLErrors:A.errors});return A})};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,a).then(o);return new Dl(function(k){var A=null;return u.then(function($){return A=$.subscribe(k)},k.error),function(){return A&&A.unsubscribe()}})}return o(a)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},n.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var i=e.options,r=i.variables,a=i.query,o=i.fetchPolicy,u=i.returnPartialData,k=e.getLastResult(),A=this.getQuery(e.queryId).newData;if(A&&A.complete)return{data:A.result,partial:!1};if(o==="no-cache"||o==="network-only")return{data:void 0,partial:!1};var $=this.dataStore.getCache().diff({query:a,variables:r,previousResult:k?k.data:void 0,returnPartialData:!0,optimistic:t}),Q=$.result,re=$.complete;return{data:re||u?Q:void 0,partial:!re}},n.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;ei(i,17),t=i}else t=e;var r=t.options,a=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:o}},n.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,i){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(i),t.newData)})})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,i,r){var a=this;r===void 0&&(r=this.queryDeduplication);var o,u=this.transform(e).serverQuery;if(u){var k=this,A=k.inFlightLinkObservables,$=k.link,Q={query:u,variables:i,operationName:Mo(u)||void 0,context:this.prepareContext(Pt(Pt({},t),{forceFetch:!r}))};if(t=Q.context,r){var re=A.get(u)||new Map;A.set(u,re);var oe=JSON.stringify(i);if(o=re.get(oe),!o){re.set(oe,o=Am(Hu($,Q)));var pe=function(){re.delete(oe),re.size||A.delete(u),me.unsubscribe()},me=o.subscribe({next:pe,error:pe,complete:pe})}}else o=Am(Hu($,Q))}else o=Dl.of({data:{}}),t=this.prepareContext(t);var Ne=this.transform(e).clientQuery;return Ne&&(o=ew(o,function(Se){return a.localState.runResolvers({document:Ne,remoteResult:Se,context:t,variables:i})})),o},n.prototype.fetchRequest=function(e){var t=this,i=e.requestId,r=e.queryId,a=e.document,o=e.options,u=e.fetchMoreForQueryId,k=o.variables,A=o.errorPolicy,$=A===void 0?"none":A,Q=o.fetchPolicy,re,oe;return new Promise(function(pe,me){var Ne=t.getObservableFromLink(a,o.context,k),Se="fetchRequest:"+r;t.fetchQueryRejectFns.set(Se,me);var Re=function(){t.fetchQueryRejectFns.delete(Se),t.setQuery(r,function(Oe){var Ge=Oe.subscriptions;Ge.delete(Ae)})},Ae=Ne.map(function(Oe){if(i>=t.getQuery(r).lastRequestId&&(t.markQueryResult(r,Oe,o,u),t.queryStore.markQueryResult(r,Oe,u),t.invalidate(r),t.invalidate(u),t.broadcastQueries()),$==="none"&&Do(Oe.errors))return me(new Ps({graphQLErrors:Oe.errors}));if($==="all"&&(oe=Oe.errors),u||Q==="no-cache")re=Oe.data;else{var Ge=t.dataStore.getCache().diff({variables:k,query:a,optimistic:!1,returnPartialData:!0}),We=Ge.result,qe=Ge.complete;(qe||o.returnPartialData)&&(re=We)}}).subscribe({error:function(Oe){Re(),me(Oe)},complete:function(){Re(),pe({data:re,errors:oe,loading:!1,networkStatus:qi.ready,stale:!1})}});t.setQuery(r,function(Oe){var Ge=Oe.subscriptions;Ge.add(Ae)})})},n.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},n.prototype.setQuery=function(e,t){var i=this.getQuery(e),r=Pt(Pt({},i),t(i));this.queries.set(e,r)},n.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return Pt(Pt({},t),{clientAwareness:this.clientAwareness})},n.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==qi.ready&&t.networkStatus!==qi.error},n.prototype.startPollingQuery=function(e,t,i){var r=this,a=e.pollInterval;if(ei(a,18),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=a,o.options=Pt(Pt({},e),{fetchPolicy:"network-only"});var u=function(){var A=r.pollingInfoByQueryId.get(t);A&&(r.checkInFlight(t)?k():r.fetchQuery(t,A.options,eo.poll).then(k,k))},k=function(){var A=r.pollingInfoByQueryId.get(t);A&&(clearTimeout(A.timeout),A.timeout=setTimeout(u,A.interval))};i&&this.addQueryListener(t,i),k()}return t},n.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},n}(),iw=function(){function n(e){this.cache=e}return n.prototype.getCache=function(){return this.cache},n.prototype.markQueryResult=function(e,t,i,r,a){a===void 0&&(a=!1);var o=!Zs(e);a&&Zs(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:i})},n.prototype.markSubscriptionResult=function(e,t,i){Zs(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:i})},n.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var a=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},n.prototype.markMutationResult=function(e){var t=this;if(!Zs(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(a){var o=r[a],u=o.query,k=o.updater,A=t.cache.diff({query:u.document,variables:u.variables,returnPartialData:!0,optimistic:!1}),$=A.result,Q=A.complete;if(Q){var re=Mc(function(){return k($,{mutationResult:e.result,queryName:Mo(u.document)||void 0,queryVariables:u.variables})});re&&i.push({result:re,dataId:"ROOT_QUERY",query:u.document,variables:u.variables})}}),this.cache.performTransaction(function(a){i.forEach(function(u){return a.write(u)});var o=e.update;o&&Mc(function(){return o(a,e.result)})})}},n.prototype.markMutationComplete=function(e){var t=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(t)},n.prototype.markUpdateQueryResult=function(e,t,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:t,query:e})},n.prototype.reset=function(){return this.cache.reset()},n}(),rw="2.6.10",aw=!1,sw=function(){function n(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,r=e.ssrMode,a=r===void 0?!1:r,o=e.ssrForceFetchDelay,u=o===void 0?0:o,k=e.connectToDevTools,A=e.queryDeduplication,$=A===void 0?!0:A,Q=e.defaultOptions,re=e.assumeImmutableResults,oe=re===void 0?!1:re,pe=e.resolvers,me=e.typeDefs,Ne=e.fragmentMatcher,Se=e.name,Re=e.version,Ae=e.link;if(!Ae&&pe&&(Ae=Na.empty()),!Ae||!i)throw new Wi(4);this.link=Ae,this.cache=i,this.store=new iw(i),this.disableNetworkFetches=a||u>0,this.queryDeduplication=$,this.defaultOptions=Q||{},this.typeDefs=me,u&&setTimeout(function(){return t.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Oe=!1;(typeof k=="undefined"?Oe:k&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=rw,this.localState=new Cm({cache:i,client:this,resolvers:pe,fragmentMatcher:Ne}),this.queryManager=new nw({link:this.link,store:this.store,queryDeduplication:$,ssrMode:a,clientAwareness:{name:Se,version:Re},localState:this.localState,assumeImmutableResults:oe,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Pt(Pt({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Pt(Pt({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=Pt(Pt({},this.defaultOptions.query),e)),ei(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Pt(Pt({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Pt(Pt({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return Hu(this.link,e)},n.prototype.initQueryManager=function(){return this.queryManager},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n}();const M2=null;var ow=rn(69749),xc=rn.n(ow);function xl(n,e){const t=n.definitions,r=e.definitions.concat(t);return{...e,...n,definitions:r}}function lw(n){const e=n;return!!e&&(e==null?void 0:e.name)!==void 0&&(e==null?void 0:e.email)!==void 0}function uw(n){const e=n;return!!e&&(e==null?void 0:e.slug)!==void 0}function dw(n){var e;const t=n;return!!t&&!!((e=t.id)!=null&&e.startsWith("BOT_"))}var Ol=(n=>(n.prTitle="PR_TITLE",n.commitOrPrTitle="COMMIT_OR_PR_TITLE",n.mergeMessage="MERGE_MESSAGE",n))(Ol||{}),Gu=(n=>(n.prBody="PR_BODY",n.commitMessages="COMMIT_MESSAGES",n.blank="BLANK",n.prTitle="PR_TITLE",n))(Gu||{});function cw(n){return n.__typename==="CheckRun"}var fw=rn(91565),nn=(n=>(n[n.Committed=0]="Committed",n[n.Mentioned=1]="Mentioned",n[n.Subscribed=2]="Subscribed",n[n.Commented=3]="Commented",n[n.Reviewed=4]="Reviewed",n[n.NewCommitsSinceReview=5]="NewCommitsSinceReview",n[n.Labeled=6]="Labeled",n[n.Milestoned=7]="Milestoned",n[n.Assigned=8]="Assigned",n[n.Unassigned=9]="Unassigned",n[n.HeadRefDeleted=10]="HeadRefDeleted",n[n.Merged=11]="Merged",n[n.CrossReferenced=12]="CrossReferenced",n[n.Closed=13]="Closed",n[n.Reopened=14]="Reopened",n[n.BaseRefChanged=15]="BaseRefChanged",n[n.CopilotStarted=16]="CopilotStarted",n[n.CopilotFinished=17]="CopilotFinished",n[n.CopilotFinishedError=18]="CopilotFinishedError",n[n.CopilotReviewStarted=19]="CopilotReviewStarted",n[n.Other=20]="Other",n))(nn||{});const xo="copilot-swe-agent",hw="copilot-cloud-agent",Ll="copilot-pull-request-reviewer",mw="BOT_kgDOCnlnWA",Oc=[Ll,xo,"Copilot"],Pm={login:Ll,id:mw,url:"",avatarUrl:"",name:"Copilot",accountType:Yr.Bot};var Zr=(n=>(n[n.None=0]="None",n[n.Started=1]="Started",n[n.Completed=2]="Completed",n[n.Failed=3]="Failed",n))(Zr||{});function Vu(n){if(!n)return 0;switch(n.event){case nn.CopilotStarted:return 1;case nn.CopilotFinished:return 2;case nn.CopilotFinishedError:return 3;default:return 0}}function pw(n){for(let e=n.length-1;e>=0;e--)if(Vu(n[e])!==0)return n[e]}var xi=(n=>(n.LEFT="LEFT",n.RIGHT="RIGHT",n))(xi||{}),ea=(n=>(n.DISMISSED="DISMISSED",n.VIEWED="VIEWED",n.UNVIEWED="UNVIEWED",n))(ea||{}),Ba=(n=>(n.LINE="LINE",n.FILE="FILE",n))(Ba||{});const vw={name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use."),url:"https://github.com/apps/copilot-swe-agent"},pi=Object.fromEntries(Oc.map(n=>[n,vw])),gw=/:([-+_a-z0-9]+):/g;let Oo,Lc;async function Ms(n){return Oo===void 0&&(Lc===void 0&&(Lc=yw(n)),await Lc),Oo}async function yw(n){const e=s.Uri.joinPath(n.extensionUri,"resources","emojis.json");Oo=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function Lo(n){return Oo===void 0?n:n.replace(gw,(e,t)=>(Oo==null?void 0:Oo[t])||e)}const bw="[a-zA-Z0-9-]+",Mm=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","effect","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],Fm=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],ww=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var kw=Object.defineProperty,_w=(n,e,t)=>e in n?kw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dr=(n,e,t)=>_w(n,typeof e!="symbol"?e+"":e,t),ju;(n=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}n.is=e})(ju||(ju={}));class Ul{constructor(e){dr(this,"parent"),dr(this,"mode"),dr(this,"originalAuthor"),dr(this,"label"),dr(this,"reactions"),dr(this,"contextValue"),dr(this,"state"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ul&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ul&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const Im=class yb extends Ul{constructor(e,t,i,r,a){var o;super(e),this.input=t,dr(this,"commentId"),dr(this,"id"),dr(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:(o=r.specialDisplayName)!=null?o:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=i?s.l10n.t("Pending"):void 0,this.state=i?s.CommentState.Draft:s.CommentState.Published,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=yb.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){const e=new s.MarkdownString(this.input);return e.supportAlertSyntax=!0,e}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};dr(Im,"idPool",0);let ha=Im;const Dm=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,Sw=/<img .*src=['"](?<src>.+?)['"].*?>/g,Ew=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/,Rw=/(?<![`\/\w])([0-9a-f]{7})([0-9a-f]{33})?(?![`\/\w])/g,xm=class bb extends Ul{constructor(e,t,i,r){var a,o;super(i),this.context=e,dr(this,"commentId"),dr(this,"timestamp"),dr(this,"rawComment"),dr(this,"_rawBody"),dr(this,"replacedBody"),dr(this,"githubRepository"),this.rawComment=t,this.originalAuthor={name:(o=(a=t.user)==null?void 0:a.specialDisplayName)!=null?o:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const u=s.Uri.parse(t.url);this.githubRepository=r==null?void 0:r.find($=>$.remote.host===u.authority);const k=t.user?Qi.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const $=await k;$.length>0&&(this.author.iconPath=$[0]),this.refresh()}),this.commentId=t.id.toString(),Hm(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0,this.state=t.isDraft?s.CommentState.Draft:s.CommentState.Published;const A=[];t.canEdit&&A.push("canEdit"),t.canDelete&&A.push("canDelete"),this.suggestion!==void 0&&A.push("hasSuggestion"),this.contextValue=A.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let i=!1;Hm(this,e.reactions)&&(i=!0);const r=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0;const a=e.isDraft?s.CommentState.Draft:s.CommentState.Published;(this.label!==r||this.state!==a)&&(this.state=a,i=!0);const o=[];e.canEdit&&o.push("canEdit"),e.canDelete&&o.push("canDelete"),this.suggestion!==void 0&&o.push("hasSuggestion");const u=this.contextValue;this.contextValue=o.join(","),u!==this.contextValue&&(i=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(Dm),i=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return i||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(Sw,(t,i,r,a,{src:o})=>`![image](${o})`)}replaceSuggestion(e){return e.replace(new RegExp(Dm,"g"),(t,...i)=>{var r;return`***
Suggested change:
\`\`\`
${(r=i[3])!=null?r:""}
\`\`\`
***`})}async createLocalFilePath(e,t,i,r){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${i}-${r}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepository;if(!t)return e;const i=Bt(t.remote.repositoryName),r=new RegExp(`https://github.com/(.+)/${i}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Ke(e,r,async(a,o,u,k,A,$,Q,re)=>{if(re&&re>0&&e.charAt(re-1)==="(")return a;const oe=parseInt(A),pe=Q?parseInt(Q):oe+1,me=await t.getLines(u,k,oe,pe);if(!me)return a;const Ne=await this.createLocalFilePath(t.rootUri,k,oe,pe),Se=Q?`Lines ${oe} to ${pe} in \`${u.substring(0,7)}\``:`Line ${oe} in \`${u.substring(0,7)}\``;return`
***
[${k}](${Ne!=null?Ne:a})${Ne?` ([view on GitHub](${a}))`:""}

${Se}
\`\`\`
${me}
\`\`\`
***`})}replaceImages(e){var t;const i=this.rawComment.bodyHTML;return i?Nw(e,i,(t=this.githubRepository)==null?void 0:t.remote.host):e}replaceCommitShas(e){const t=this.githubRepository;return t?e.replace(Rw,(i,r,a,o)=>{var u,k;const A=e.substring(0,o);if(((k=(u=A.match(/`/g))==null?void 0:u.length)!=null?k:0)%2===1||A.endsWith("[")||e.substring(o+i.length).startsWith("]"))return i;const Q=t.remote.owner,re=t.remote.repositoryName,oe=`https://${t.remote.host}/${Q}/${re}/commit/${i}`;return`[${r}](${oe})`}):e}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=Ms(this.context);if(y.trace("Replace comment body",bb.ID),e instanceof s.MarkdownString){const $=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion($))}const i=this.replaceImages(e),r=this.replaceNewlines(i),a=(await s.workspace.openTextDocument(this.parent.uri)).languageId,o=new RegExp(`([^/[\`]|^)@(${bw})`,"g"),u=r.replace(o,($,Q,re,oe)=>{var pe,me,Ne,Se;if(((me=(pe=r.substring(0,oe).match(/```/g))==null?void 0:pe.length)!=null?me:0)%2===1||$.includes("]")||$.includes(")"))return $;const Re=$.substring($.startsWith("@")?1:2);if((a==="javascript"||a==="typescript")&&Mm.includes(Re)||a==="php"&&Fm.includes(Re))return $;const Ae=(Se=(Ne=pi[Re])==null?void 0:Ne.url)!=null?Se:`${K.dirname(this.rawComment.user.url)}/${Re}`;return`${$.startsWith("@")?"":$.charAt(0)}[@${Re}](${Ae})`}),k=this.replaceCommitShas(u),A=await this.replacePermalink(k);return await t,this.postpendSpecialAuthorComment(Lo(this.replaceImg(this.replaceSuggestion(A))))}async doSetBody(e,t){this._rawBody=e;const i=await this.replaceBody(e);i!==this.replacedBody&&(this.replacedBody=i,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){if(this.mode===s.CommentMode.Editing)return this._rawBody;const e=new s.MarkdownString(this.replacedBody);return e.supportAlertSyntax=!0,e}getCancelEditBody(){const e=new s.MarkdownString(this.rawComment.body);return e.supportAlertSyntax=!0,e}};dr(xm,"ID","GHPRComment");let Ki=xm;function Nw(n,e,t="github.com"){var i;const r=new RegExp(`https://${t}/.+/assets/([^/]+/)?(?<uuid>${Ew.source})`);let a=n.match(r);const o=Bt(t==="github.com"?"githubusercontent.com":t);for(;a;){if((i=a.groups)!=null&&i.uuid){const u=Bt(a.groups.uuid),k=new RegExp(`https://([^"]*${o})/[^?]+${u}[^"]+`),A=e.match(k);if(A&&A[0])n=n.replace(a[0],A[0]);else return n}a=n.match(r)}return n}var Ti=(n=>(n[n.None=0]="None",n[n.GitHubDotCom=1]="GitHubDotCom",n[n.Enterprise=2]="Enterprise",n))(Ti||{}),Fn=(n=>(n.github="github",n.githubEnterprise="github-enterprise",n))(Fn||{});class Wu extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function Uc(n){var e;return!!((e=n.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}var Qt=(n=>(n[n.ADD=0]="ADD",n[n.COPY=1]="COPY",n[n.DELETE=2]="DELETE",n[n.MODIFY=3]="MODIFY",n[n.RENAME=4]="RENAME",n[n.TYPE=5]="TYPE",n[n.UNKNOWN=6]="UNKNOWN",n[n.UNMERGED=7]="UNMERGED",n))(Qt||{});class Fs{constructor(e,t,i,r,a,o,u){this.baseCommit=e,this.status=t,this.fileName=i,this.previousFileName=r,this.patch=a,this.diffHunks=o,this.blobUrl=u}}class Uo{constructor(e,t,i,r,a){this.baseCommit=e,this.blobUrl=t,this.status=i,this.fileName=r,this.previousFileName=a}}var Tw=Object.defineProperty,Cw=(n,e,t)=>e in n?Tw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Aw=(n,e,t)=>Cw(n,typeof e!="symbol"?e+"":e,t),Ci=(n=>(n[n.Context=0]="Context",n[n.Add=1]="Add",n[n.Delete=2]="Delete",n[n.Control=3]="Control",n))(Ci||{});class Om{constructor(e,t,i,r,a,o=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=i,this.positionInHunk=r,this.raw=a,this.endwithLineBreak=o}get text(){return this.raw.substr(1)}}function Pw(n){switch(n[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Mw{constructor(e,t,i,r,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=i,this.newLength=r,this.positionInHunk=a,Aw(this,"diffLines",[])}}const Lm=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function Fw(n){let e=0,t=0;for(;(t=n.indexOf("\r",t))!==-1;)t++,e++;return e}function*Iw(n){let e=0;for(;e!==-1&&e<n.length;){const t=e;e=n.indexOf(`
`,e);let r=(e!==-1?e:n.length)-t;e!==-1&&(e>0&&n[e-1]==="\r"&&r--,e++),yield n.substr(t,r)}}function*Bl(n){const e=Iw(n);let t=e.next(),i,r=-1,a=-1,o=-1;for(;!t.done;){const u=t.value;if(Lm.test(u)){i&&(yield i,i=void 0),r===-1&&(r=0);const k=Lm.exec(u),A=a=Number(k[1]),$=Number(k[3])||1,Q=o=Number(k[5]),re=Number(k[7])||1;i=new Mw(A,$,Q,re,r),i.diffLines.push(new Om(3,-1,-1,r,u))}else if(i){const k=Pw(u);if(k===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new Om(k,k!==1?a:-1,k!==2?o:-1,r,u));const A=1+Fw(u);switch(k){case 0:a+=A,o+=A;break;case 2:a+=A;break;case 1:o+=A;break}}}r!==-1&&++r,t=e.next()}i&&(yield i)}function Bc(n){const e=Bl(n);let t=e.next();const i=[];for(;!t.done;){const r=t.value;i.push(r),t=e.next()}return i}function Dw(n){const e=[],t=k=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:k.oldLineNumber,newLineNumber:k.newLineNumber,positionInHunk:0});let i,r;const a=(k,A)=>{k.diffLines.push(A),A.type===2?k.oldLength++:A.type===1?k.newLength++:A.type===0&&(k.oldLength++,k.newLength++)},o=k=>k.diffLines.some(A=>A.type!==0),u=k=>o(k)&&k.diffLines[k.diffLines.length-1].type===0;for(const k of n.diffLines)k.type===0?(i||(i=t(k)),a(i,k),u(i)&&(r||(r=t(k)),a(r,k))):(i||n.oldLineNumber===1&&(k.type===2||k.type===1))&&(i||(i=t(k)),u(i)&&(e.push(i),i=r,r=void 0),(k.type===2||k.type===1)&&a(i,k));return i&&e.push(i),e}function Um(n,e){const t=n.split(/\r?\n/),i=Bl(e);let r=i.next();const a=[],o=[];let u=0,k=!0;for(;!r.done;){const A=r.value;a.push(A);const $=A.oldLineNumber;for(let Q=u+1;Q<$;Q++)o.push(t[Q-1]);u=$+A.oldLength-1;for(let Q=0;Q<A.diffLines.length;Q++){const re=A.diffLines[Q];if(!(re.type===2||re.type===3))if(re.type===1)o.push(re.text);else{const oe=re.text;o.push(oe)}}if(r=i.next(),r.done){for(let Q=A.diffLines.length-1;Q>=0;Q--)if(A.diffLines[Q].type!==2){k=A.diffLines[Q].endwithLineBreak;break}}}if(k)if(u<t.length)for(let A=u+1;A<=t.length;A++)o.push(t[A-1]);else o.push("");return o.join(`
`)}function ql(n){switch(n){case"removed":return Qt.DELETE;case"added":return Qt.ADD;case"renamed":return Qt.RENAME;case"modified":return Qt.MODIFY;default:return Qt.UNKNOWN}}async function xw(n,e){var t;const i=[];for(let r=0;r<n.length;r++){const a=n[r],o=ql(a.status);if(!a.patch&&o!==Qt.RENAME&&o!==Qt.MODIFY&&!(o===Qt.ADD&&a.additions===0)){i.push(new Uo(e,a.blob_url,o,a.filename,a.previous_filename));continue}const u=a.patch?Bc(a.patch):void 0;i.push(new Fs(e,o,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",u,a.blob_url))}return i}const Ow=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,qa=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function Is(n){if(!n)return;const e={owner:void 0,name:void 0,issueNumber:0};return n.length===7?(e.owner=n[2],e.name=n[3],e.issueNumber=parseInt(n[5]),e):n.length===16?(e.owner=n[3]||n[11],e.name=n[4]||n[12],e.issueNumber=parseInt(n[7]||n[14]),e.commentNumber=n[9]!==void 0?parseInt(n[9]):void 0,e):void 0}function $l(n,e,t){return n!==e&&t===void 0?t=300:t||(t=0),new s.Range(n,0,e,t)}async function zu(n,e,t){var i,r;if(e.avatarUrl){const a=n;a.canReply={name:(i=e.name)!=null?i:e.login,iconPath:s.Uri.parse(e.avatarUrl)};const o=await Qi.avatarCirclesAsImageDataUris(t,[e],28,28);a.canReply={name:(r=e.name)!=null?r:e.login,iconPath:o[0]}}else n.canReply=!0}function Hl(n,e,t,i,r,a,o){const u=r.createCommentThread(e,t,[]);u.gitHubThreadId=i.id,u.comments=i.comments.map($=>new Ki(n,$,u,o));const k=Bm(i.isResolved);let A=s.CommentThreadApplicability.Current;return i.viewerCanResolve&&!i.isResolved?u.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(u.contextValue="canUnresolve"),i.isOutdated&&(u.contextValue+="outdated",A=s.CommentThreadApplicability.Outdated),u.state={resolved:k,applicability:A},Bo(u),u.collapsibleState=qm(i,void 0,a.login),zu(u,a,n),u}function Bm(n){return n?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const Lw="commentExpandState",F2="collapseAll",Uw="collapsePreexisting",Bw="expandUnresolved";function qm(n,e,t,i){var r,a;const o=(r=s.workspace.getConfiguration(vt))==null?void 0:r.get(Lw),u=t&&((a=n.comments[n.comments.length-1].user)==null?void 0:a.login)===t,k=n.comments.length===1&&n.comments[0].body.startsWith("```suggestion")&&n.comments[0].body.endsWith("```");return o===Uw&&i&&!k?s.CommentThreadCollapsibleState.Expanded:n.isResolved||!n.isOutdated&&u&&!k?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=o===Bw),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function $m(n,e,t,i,r,a){if(!e.range)return;const o=s.window.visibleTextEditors;for(let u of o)if(u.document.uri.toString()===e.uri.toString()){const k=u.document.lineAt(e.range.end.line),A=new s.Range(e.range.start.line,0,e.range.end.line,k.text.length);Ku(n,e,t,i,r,A,void 0,a);break}}function Ku(n,e,t,i,r,a,o,u){var k,A;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const $=Bm(t.isResolved),Q=t.isOutdated?s.CommentThreadApplicability.Outdated:s.CommentThreadApplicability.Current;if((((k=e.state)==null?void 0:k.resolved)!==$||((A=e.state)==null?void 0:A.applicability)!==Q)&&(e.state={resolved:$,applicability:Q}),e.collapsibleState=qm(t,r,o,u),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((re,oe)=>re.commentId===`${t.comments[oe].id}`)){let re=0;for(const oe of e.comments)oe instanceof Ki&&oe.update(t.comments[re]),re++}else e.comments=t.comments.map(re=>new Ki(n,re,e,i));Bo(e)}function Bo(n){var e;if(((e=n.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){n.label=s.l10n.t("Marked as resolved");return}if(n.comments.length){const t=L(n.comments,i=>i.originalAuthor.name).map(i=>`@${i.originalAuthor.name}`).join(", ");n.label=s.l10n.t("Participants: {0}",t)}else n.label=s.l10n.t("Start discussion")}function Hm(n,e){let t=!1;const i=n.reactions,r=td().map((a,o)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const u=e.find(A=>A.label===a.label);let k;return u?k={label:u.label,authorHasReacted:u.viewerHasReacted,count:u.count,iconPath:a.icon||"",reactors:u.reactors.map(A=>({name:A}))}:k={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!i||i[o].authorHasReacted!==k.authorHasReacted||i[o].count!==k.count)&&(t=!0),k});return n.reactions=r,t}function Gm(n,e){e||(n.comments=n.comments.map(t=>(t instanceof Ki&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function Rr(n){return n===Fn.githubEnterprise}function qo(n,e){return di(n,e)}function Vm(n){return{label:n.label,ref:n.ref,sha:n.sha,repo:{cloneUrl:n.repo.clone_url,isInOrganization:n.repo.owner.type==="Organization",owner:n.repo.owner.login,name:n.repo.name}}}async function jm(n,e){const t=new RegExp(`href="https?://${Bt(e.remote.gitProtocol.url.authority)}\\/${Bt(e.remote.owner)}\\/${Bt(e.remote.repositoryName)}\\/(issues|pull)\\/([0-9]+)"`,"g");return Ke(n,t,async(i,r,a)=>r==="issues"?`href="${(await iv({owner:e.remote.owner,repo:e.remote.repositoryName,issueNumber:Number(a)})).toString()}""`:`href="${(await rv({owner:e.remote.owner,repo:e.remote.repositoryName,pullRequestNumber:Number(a)})).toString()}"`)}function Qu(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:u,assignees:k,created_at:A,updated_at:$,head:Q,base:re,labels:oe,node_id:pe,id:me,draft:Ne}=n,Se={id:me,graphNodeId:pe,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:qo(o,e),state:u,merged:n.merged||!1,assignees:k?k.map(Re=>qo(Re,e)):void 0,createdAt:A,updatedAt:$,viewerCanUpdate:!1,head:Q.repo?Vm(Q):void 0,base:Vm(re),labels:oe.map(Re=>({name:"",color:"",...Re})),isDraft:Ne,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,reactions:[],commentCount:0};return n.mergeable!==void 0&&(Se.mergeable=n.mergeable?bi.Mergeable:bi.NotMergeable),Se}function Wm(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:u,assignees:k,created_at:A,updated_at:$,labels:Q,node_id:re,id:oe,comments:pe}=n;return{id:oe,graphNodeId:re,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:qo(o,e),state:u,assignees:k?k.map(Ne=>qo(Ne,e)):void 0,createdAt:A,updatedAt:$,labels:Q.map(Ne=>{var Se,Re,Ae;return typeof Ne=="string"?{name:Ne,color:""}:{name:(Se=Ne.name)!=null?Se:"",color:(Re=Ne.color)!=null?Re:"",description:(Ae=Ne.description)!=null?Ae:void 0}}),projectItems:[],reactionCount:0,reactions:[],commentCount:pe}}function qw(n,e){return{event:nn.Reviewed,comments:[],submittedAt:n.submitted_at,body:n.body,bodyHTML:n.body,htmlUrl:n.html_url,user:qo(n.user,e),authorAssociation:n.user.type,state:n.state,id:n.id,reactions:void 0}}function $w(n){const e=[],t=Bl(n.diffHunk);let i=t.next();for(;!i.done;){const r=i.value;e.push(r),i=t.next()}return e}function Hw(n){switch(n){case"PullRequestCommit":return nn.Committed;case"LabeledEvent":return nn.Labeled;case"MilestonedEvent":return nn.Milestoned;case"AssignedEvent":return nn.Assigned;case"UnassignedEvent":return nn.Unassigned;case"HeadRefDeletedEvent":return nn.HeadRefDeleted;case"IssueComment":return nn.Commented;case"PullRequestReview":return nn.Reviewed;case"MergedEvent":return nn.Merged;case"CrossReferencedEvent":return nn.CrossReferenced;case"ClosedEvent":return nn.Closed;case"ReopenedEvent":return nn.Reopened;case"BaseRefChangedEvent":return nn.BaseRefChanged;default:return nn.Other}}function Yu(n,e){var t,i,r,a;return{id:n.id,prReviewDatabaseId:n.comments.edges&&n.comments.edges.length?(t=n.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:n.isResolved,viewerCanResolve:n.viewerCanResolve,viewerCanUnresolve:n.viewerCanUnresolve,path:n.path,startLine:(i=n.startLine)!=null?i:n.line,endLine:n.line,originalStartLine:(r=n.originalStartLine)!=null?r:n.originalLine,originalEndLine:n.originalLine,diffSide:n.diffSide,isOutdated:n.isOutdated,comments:n.comments.nodes.map(o=>Gl(o,n.isResolved,n.isOutdated,e)),subjectType:(a=n.subjectType)!=null?a:Ba.LINE}}function Gl(n,e,t,i){var r,a;const o=pi[(a=(r=n.author)==null?void 0:r.login)!=null?a:""],u={id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:o==null?void 0:o.postComment,bodyHTML:n.bodyHTML,path:n.path,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,pullRequestReviewId:n.pullRequestReview&&n.pullRequestReview.databaseId,diffHunk:n.diffHunk,position:n.position,commitId:n.commit.oid,originalPosition:n.originalPosition,originalCommitId:n.originalCommit&&n.originalCommit.oid,user:n.author?di(n.author,i):void 0,createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,isDraft:n.state==="PENDING",inReplyToId:n.replyTo&&n.replyTo.databaseId,reactions:Ds(n.reactionGroups),isResolved:e,isOutdated:t},k=$w(u);return u.diffHunks=k,u}function zm(n,e){var t,i,r;return{id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:(r=pi[(i=(t=n.author)==null?void 0:t.login)!=null?i:""])==null?void 0:r.postComment,bodyHTML:n.bodyHTML,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,user:di(n.author,e),createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,diffHunk:"",reactions:Ds(n.reactionGroups)}}function Ds(n){const e=td().reduce((i,r)=>(i[r.title]=r,i),{});return n.filter(i=>i.reactors.totalCount>0).map(i=>({label:e[i.content].label,count:i.reactors.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted,reactors:i.reactors.nodes.map(a=>{var o,u;return(u=(o=pi[a.login])==null?void 0:o.name)!=null?u:a.login})}))}function Km(n,e,t){if(t)return{label:`${t.owner.login}:${n}`,ref:n,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:n}}}function di(n,e){var t,i,r,a,o,u,k;if(n){let A,$,Q,re;if(n.html_url){const pe=n;A=pe.avatar_url,$=pe.node_id,Q=pe.html_url,re=pe.type}else{const pe=n;A=pe.avatarUrl,$=pe.id,Q=pe.url,re=pe.__typename}const oe=e?to(A,void 0,e.remote.isEnterprise):A;return{login:n.login,url:(i=(t=pi[n.login])==null?void 0:t.url)!=null?i:Q,avatarUrl:oe,email:(r=n.email)!=null?r:void 0,id:$,name:(u=(o=n.name)!=null?o:(a=pi[n.login])==null?void 0:a.name)!=null?u:void 0,specialDisplayName:pi[n.login]?(k=n.name)!=null?k:pi[n.login].name:void 0,accountType:wl(re)}}else return{login:"",url:"",id:"",accountType:Yr.User}}function Gw(n,e){return{name:n.name,url:n.url,avatarUrl:to(n.avatarUrl,void 0,e.remote.isEnterprise),id:n.id,org:e.remote.owner,slug:n.slug}}function Vw(n,e){if(!n.repository)return[];const t=[];for(const i of n.repository.pullRequest.reviewRequests.nodes)if(uw(i.requestedReviewer)){const r=Gw(i.requestedReviewer,e);t.push(r)}else if(lw(i.requestedReviewer)||dw(i.requestedReviewer)){const r=di(i.requestedReviewer,e);t.push(r)}return t}function jw(n,e){return n?{login:n.login,url:n.url,avatarUrl:to(n.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function Qm(n){if(n)return n.map(e=>({id:e.id,project:e.project}))}function Ju(n){if(n)return{title:n.title,dueOn:n.dueOn,createdAt:n.createdAt,id:n.id,number:n.number}}function Ym(n){if(!n)return null;let e;switch(n.state){case"AWAITING_CHECKS":{e=oi.AwaitingChecks;break}case"LOCKED":{e=oi.Locked;break}case"QUEUED":{e=oi.Queued;break}case"MERGEABLE":{e=oi.Mergeable;break}case"UNMERGEABLE":{e=oi.Unmergeable;break}}return{position:n.position,state:e,url:n.mergeQueue.url}}function Jm(n){switch(n){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function Xu(n,e){let t;switch(n){case void 0:case"UNKNOWN":t=bi.Unknown;break;case"MERGEABLE":t=bi.Mergeable;break;case"CONFLICTING":t=bi.Conflict;break}return t!==bi.Conflict&&(e==="BLOCKED"?t=bi.NotMergeable:e==="BEHIND"&&(t=bi.Behind)),t}async function Vl(n,e){var t,i,r,a,o,u,k,A;const $={id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:await jm(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,isRemoteHeadDeleted:!n.headRef,head:Km((i=(t=n.headRef)==null?void 0:t.name)!=null?i:n.headRefName,n.headRefOid,n.headRepository),isRemoteBaseDeleted:!n.baseRef,base:Km((a=(r=n.baseRef)==null?void 0:r.name)!=null?a:n.baseRefName,n.baseRefOid,n.baseRepository),user:di(n.author,e),merged:n.merged,mergeable:Xu(n.mergeable,n.mergeStateStatus),mergeQueueEntry:Ym(n.mergeQueueEntry),hasComments:n.reviewThreads.totalCount>0,autoMerge:!!n.autoMergeRequest,autoMergeMethod:Jm((o=n.autoMergeRequest)==null?void 0:o.mergeMethod),allowAutoMerge:n.viewerCanEnableAutoMerge||n.viewerCanDisableAutoMerge,viewerCanUpdate:n.viewerCanUpdate,labels:n.labels.nodes,isDraft:n.isDraft,suggestedReviewers:Qw(n.suggestedReviewers),comments:zw((u=n.comments)==null?void 0:u.nodes,e),projectItems:Qm((k=n.projectItems)==null?void 0:k.nodes),milestone:Ju(n.milestone),assignees:(A=n.assignees)==null?void 0:A.nodes.map(Q=>di(Q,e)),commits:Ww(n.commits.nodes),reactionCount:n.reactions.totalCount,reactions:Ds(n.reactionGroups),commentCount:n.comments.totalCount,additions:n.additions,deletions:n.deletions};return $.mergeCommitMeta=Xm(n.baseRepository.mergeCommitTitle,n.baseRepository.mergeCommitMessage,$),$.squashCommitMeta=Xm(n.baseRepository.squashMergeCommitTitle,n.baseRepository.squashMergeCommitMessage,$),$}function Xm(n,e,t){var i,r;if(n===void 0||e===void 0)return;let a="",o="";const u=`(#${t.number})`;switch(n){case Ol.prTitle:{a=`${t.title} ${u}`;break}case Ol.mergeMessage:{a=`Merge pull request #${t.number} from ${(r=(i=t.head)==null?void 0:i.label)!=null?r:""}`;break}case Ol.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${u}`:a=`${t.title} ${u}`;break}}switch(e){case Gu.prBody:{o=t.body;break}case Gu.commitMessages:{if(t.commits.length===1&&n===Ol.commitOrPrTitle){const k=t.commits[0].message.split(`
`);o=k.length>1?k.slice(1).join(`
`).trim():""}else o=t.commits.map(k=>`* ${k.message}`).join(`

`);break}case Gu.prTitle:{o=t.title;break}}return{title:a,description:o}}function Ww(n){return n.map(e=>({message:e.commit.message}))}function zw(n,e){if(!n)return;const t=[];for(const i of n)t.push({author:di(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt});return t}async function Zm(n,e){var t,i,r,a,o,u,k,A,$;return{id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,stateReason:n.stateReason,body:n.body,bodyHTML:await jm(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,assignees:(t=n.assignees)==null?void 0:t.nodes.map(Q=>di(Q,e)),user:di(n.author,e),labels:n.labels.nodes,milestone:Ju(n.milestone),repositoryName:(r=(i=n.repository)==null?void 0:i.name)!=null?r:e.remote.repositoryName,repositoryOwner:(o=(a=n.repository)==null?void 0:a.owner.login)!=null?o:e.remote.owner,repositoryUrl:(k=(u=n.repository)==null?void 0:u.url)!=null?k:e.remote.url,projectItems:Qm((A=n.projectItems)==null?void 0:A.nodes),comments:($=n.comments.nodes)==null?void 0:$.map(Q=>Kw(Q,e)),reactionCount:n.reactions.totalCount,reactions:Ds(n.reactionGroups),commentCount:n.comments.totalCount}}function Kw(n,e){return{author:di(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt}}function Qw(n){return n?n.map(t=>({...di(t.reviewer,void 0),isAuthor:t.isAuthor,isCommenter:t.isCommenter})).sort(ep):[]}function ep(n,e){return n.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function Yw(n,e){var t,i,r,a;const o=(i=(t=n.name)!=null?t:n.slug)!=null?i:n.id,u=(a=(r=e.name)!=null?r:e.slug)!=null?a:e.id;return o.localeCompare(u,"en",{sensitivity:"accent"})}function Jw(n,e){return{event:nn.Reviewed,comments:n.comments.nodes.map(t=>Gl(t,!1,!1,e)).filter(t=>!t.inReplyToId),submittedAt:n.submittedAt,body:n.body,bodyHTML:n.bodyHTML,htmlUrl:n.url,user:di(n.author,e),authorAssociation:n.authorAssociation,state:n.state,id:n.databaseId,reactions:Ds(n.reactionGroups)}}function Xw(n,e){var t,i,r;const a=[],o={id:n.id,host:n.githubRepository.remote.gitProtocol.host,owner:n.githubRepository.remote.owner,repo:n.githubRepository.remote.repositoryName,pullNumber:n.number};let u=0;for(const k of e){const A=k;A.created_at&&A.node_id&&(k.event==="copilot_work_started"&&((t=A.performed_via_github_app)==null?void 0:t.slug)===xo?a.push({id:A.node_id,event:nn.CopilotStarted,createdAt:A.created_at,onBehalfOf:di(A.actor),sessionLink:{...o,sessionIndex:u}}):k.event==="copilot_work_finished"&&((i=A.performed_via_github_app)==null?void 0:i.slug)===xo?(a.push({id:A.node_id,event:nn.CopilotFinished,createdAt:A.created_at,onBehalfOf:di(A.actor)}),u++):k.event==="copilot_work_finished_failure"?(u++,a.push({id:A.node_id,event:nn.CopilotFinishedError,createdAt:A.created_at,onBehalfOf:di(A.actor),sessionLink:{...o,sessionIndex:u}})):k.event==="copilot_work_started"&&((r=A.performed_via_github_app)==null?void 0:r.slug)===Ll&&a.push({id:A.node_id,event:nn.CopilotReviewStarted,createdAt:A.created_at}))}return a}function Zu(n){switch(n.event){case nn.Committed:return new Date(n.committedDate);case nn.Commented:case nn.Assigned:case nn.HeadRefDeleted:case nn.Merged:case nn.CrossReferenced:case nn.Closed:case nn.Reopened:case nn.CopilotStarted:case nn.CopilotFinished:case nn.CopilotFinishedError:case nn.CopilotReviewStarted:return new Date(n.createdAt);case nn.Reviewed:return new Date(n.submittedAt);default:return}}async function ed(n,e,t){var i;const r=[];let a=-1,o;const u=()=>{var A;a++,o=e.length>a?(A=Zu(e[a]))==null?void 0:A.getTime():void 0};u();const k=A=>{var $;if(!o){r.push(A);return}const Q=($=Zu(A))==null?void 0:$.getTime();if(Q)for(;o&&Q>o;)r.push(e[a]),u();r.push(A)};for(const A of n){if(!A)continue;const $=Hw(A.__typename);switch($){case nn.Commented:const Q=A;k({htmlUrl:Q.url,body:Q.body,bodyHTML:Q.bodyHTML,user:di(Q.author,t),event:$,canEdit:Q.viewerCanUpdate,canDelete:Q.viewerCanDelete,id:Q.databaseId,graphNodeId:Q.id,createdAt:Q.createdAt,reactions:Ds(Q.reactionGroups)});break;case nn.Reviewed:const re=A;k({event:$,comments:[],submittedAt:re.submittedAt,body:re.body,bodyHTML:re.bodyHTML,htmlUrl:re.url,user:di(re.author,t),authorAssociation:re.authorAssociation,state:re.state,id:re.databaseId,reactions:Ds(re.reactionGroups)});break;case nn.Committed:const oe=A;k({id:oe.id,event:$,sha:oe.commit.oid,author:oe.commit.author.user?di(oe.commit.author.user,t):{login:oe.commit.committer.name},htmlUrl:oe.url,message:oe.commit.message,committedDate:new Date(oe.commit.committedDate),status:(i=oe.commit.statusCheckRollup)==null?void 0:i.state});break;case nn.Merged:const pe=A;k({id:pe.id,event:$,user:jw(pe.actor,t),createdAt:pe.createdAt,mergeRef:pe.mergeRef.name,sha:pe.commit.oid,commitUrl:pe.commit.commitUrl,url:pe.url,graphNodeId:pe.id});break;case nn.Assigned:const me=A;k({id:me.id,event:$,assignees:[di(me.user,t)],actor:di(me.actor),createdAt:me.createdAt});break;case nn.Unassigned:const Ne=A;r.push({id:Ne.id,event:$,unassignees:[di(Ne.user,t)],actor:di(Ne.actor),createdAt:Ne.createdAt});break;case nn.HeadRefDeleted:const Se=A;k({id:Se.id,event:$,actor:di(Se.actor,t),createdAt:Se.createdAt,headRef:Se.headRefName});break;case nn.CrossReferenced:const Re=A;if(!Re.source)break;const Ae=Re.source.__typename==="Issue",Oe=Ae?await iv({owner:Re.source.repository.owner.login,repo:Re.source.repository.name,issueNumber:Re.source.number}):await rv({owner:Re.source.repository.owner.login,repo:Re.source.repository.name,pullRequestNumber:Re.source.number});k({id:Re.id,event:$,actor:di(Re.actor,t),createdAt:Re.createdAt,source:{url:Re.source.url,extensionUrl:Oe.toString(),number:Re.source.number,title:Re.source.title,isIssue:Ae,owner:Re.source.repository.owner.login,repo:Re.source.repository.name},willCloseTarget:Re.willCloseTarget});break;case nn.Closed:const Ge=A;k({id:Ge.id,event:$,actor:di(Ge.actor,t),createdAt:Ge.createdAt});break;case nn.Reopened:const We=A;k({id:We.id,event:$,actor:di(We.actor,t),createdAt:We.createdAt});break;case nn.BaseRefChanged:const qe=A;k({id:qe.id,event:$,actor:di(qe.actor,t),createdAt:qe.createdAt,currentRefName:qe.currentRefName,previousRefName:qe.previousRefName});break;default:break}}for(;o;)r.push(e[a]),u();return r}function Zw(n,e){var t;return{login:n.user.login,name:n.user.name,avatarUrl:to((t=n.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:n.user.url,bio:n.user.bio,company:n.user.company,location:n.user.location,commitContributions:ek(n.user.contributionsCollection),id:n.user.id,accountType:wl(n.user.__typename)}}function ek(n){const e=[];return n.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function td(){return[{title:"THUMBS_UP",label:"\u{1F44D}"},{title:"THUMBS_DOWN",label:"\u{1F44E}"},{title:"LAUGH",label:"\u{1F604}"},{title:"HOORAY",label:"\u{1F389}"},{title:"CONFUSED",label:"\u{1F615}"},{title:"HEART",label:"\u2764\uFE0F"},{title:"ROCKET",label:"\u{1F680}"},{title:"EYES",label:"\u{1F440}"}]}async function jl(n,e,t=100){let i=1,r=[],a=!1;do{const o=await n({...e,per_page:t,page:i});r=r.concat(o.data),a=!!o.headers.link&&o.headers.link.indexOf('rel="next"')>-1,i+=1}while(a);return r}function tk(n){const e=[];return n.forEach(t=>{var i,r;t.event===nn.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===nn.Reviewed&&e.push({login:t.user.login,name:(i=t.user.name)!=null?i:t.user.login}),t.event===nn.Commented&&t.user&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login})}),e}function nk(n){var e;return n&&((e=n.repository)!=null&&e.viewerPermission)&&Object.values(pa).includes(n.repository.viewerPermission)?n.repository.viewerPermission:pa.Unknown}function tp(n,e){return e.path.toLowerCase()===n.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(n.rootUri.path.toLowerCase())&&e.path.substring(n.rootUri.path.length).startsWith("/")}function qc(n,e){const t=[];for(const i of n.repositories.reverse())tp(i,e)&&t.push(i);if(t.length>0)return t.sort((i,r)=>r.rootUri.path.length-i.rootUri.path.length),t[0]}function $c(n,e,t){const i=e.filter(o=>o.event===nn.Reviewed).filter(o=>o.state!=="PENDING");let r=[];const a=new Map;a.set(t.login,!0);for(let o=i.length-1;o>=0;o--){const u=i[o],k=u.user;u.state&&!a.get(k.login)&&(a.set(k.login,!0),r.push({reviewer:k,state:u.state}))}return n.forEach(o=>{if(!a.get(La(o)))r.push({reviewer:o,state:"REQUESTED"});else{const u=r.find(k=>La(k.reviewer)===La(o));u.state="REQUESTED"}}),r=r.sort((o,u)=>o.state==="REQUESTED"&&u.state!=="REQUESTED"?1:u.state==="REQUESTED"&&o.state!=="REQUESTED"||ks(o.reviewer).toLowerCase()<ks(u.reviewer).toLowerCase()?-1:1),r}function ik(n){if(!n.subject.url)return;const e=n.repository.owner.login,t=n.repository.name,i=n.subject.url.split("/").pop();return{owner:e,name:t,key:np(e,t,i),id:n.id,itemID:i,subject:{title:n.subject.title,type:n.subject.type,url:n.subject.url},lastReadAt:n.last_read_at?new Date(n.last_read_at):void 0,reason:n.reason,unread:n.unread,updatedAt:new Date(n.updated_at)}}function np(n,e,t){return`${n}/${e}#${t}`}function rk(n,e,t,i){if(e&&i&&i.sha!==e){let r=n.length-1,a=!1,o=[];for(let u=n.length-1;u>0;u--)if(n[u].event===nn.Committed&&n[u].sha===e){o.unshift({id:e,event:nn.NewCommitsSinceReview}),n.splice(r+1,0,...o);break}else a&&n[u].event===nn.Committed?(o.unshift(n[u]),n.splice(u,1)):!a&&n[u].event===nn.Reviewed&&n[u].user.login===t&&(r=u,a=!0)}}function ak(n,e){return`is:pull-request ${e.replace(/\$\{user\}/g,n)} type:pr`}function nd(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function Hc(n){return s.workspace.getConfiguration(It).update(Wt,n,s.ConfigurationTarget.Workspace)}function $o(){const n=s.workspace.getConfiguration(It).get(Wt,"");if(n){let e=s.Uri.parse(n,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function $a(){return!!$o()}function sk(n,e=200){return n?`https://www.gravatar.com/avatar/${n}?s=${e}&d=retro`:void 0}function to(n,e,t){return!t||n&&n.trim()?n:e?sk(fw.n1("sha256").update(e.trim().toLowerCase()).digest("hex")):void 0}function ok(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/pulls`)}function lk(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/issues`)}function ip(n){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return n.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const uk=/-([0-9]+)([d])/;function dk(n){const e=n?uk.exec(n):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const i=`${t.getMonth()+1}`,r=`${t.getDate()}`;return`${t.getFullYear()}-${i.padStart(2,"0")}-${r.padStart(2,"0")}`}const ck=/\:(Copilot|copilot)(\s|$)/g,fk=/\$\{([^-]*?)(-.*?)?\}/g;function no(n,e,t,i){return n.replace(fk,(o,u,k)=>{let A;switch(u){case"user":A=i||o;break;case"issueNumber":A=e?`${e.number}`:o;break;case"issueNumberLabel":A=e?`${Ho(e,t)}`:o;break;case"issueTitle":A=e?e.title:o;break;case"repository":A=t?t.repo:o;break;case"owner":A=t?t.owner:o;break;case"sanitizedIssueTitle":A=e?ip(e.title):o;break;case"sanitizedLowercaseIssueTitle":A=e?ip(e.title).toLowerCase():o;break;case"today":A=dk(k);break;default:A=o;break}return y.debug(`${o} -> ${A}`,"VariableSubstitution"),A}).replace(ck,()=>`:${xo}[bot] `)}function Ho(n,e){const t={issueNumber:n.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==n.remote.owner.toLowerCase()||e.repo.toLowerCase()!==n.remote.repositoryName.toLowerCase())&&(t.owner=n.remote.owner,t.name=n.remote.repositoryName),Gc(t)}function Gc(n){return!n.owner||!n.name?`#${n.issueNumber}`:`${n.owner}/${n.name}#${n.issueNumber}`}function rp(){const n=s.workspace.getConfiguration(vt).get(hn);if(n)return y.debug("Using override setting for default branch",Ri.ID),n}async function ap(n){const e=[],t=[],i=[];for(const r of n){for(const a of await r.computeAllGitHubRemotes())a.githubServerType===Ti.GitHubDotCom?e.push(a):a.githubServerType===Ti.Enterprise&&t.push(a);i.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:i}}function id(n){const e=s.Uri.parse(n.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function sp(n){const e=`${n.head.owner}/${n.remote.repositoryName}`,t=n.head.ref;return`https://github.com/codespaces/new/${encodeURIComponent(e)}/tree/${encodeURIComponent(t)}`}function op(n){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=de(n.color,e,!0),i=Lo(n.name.trim());return`<span style="color:${t.textColor};background-color:${t.backgroundColor};border-radius:10px;">&nbsp;&nbsp;${i}&nbsp;&nbsp;</span>`}var Ir=(n=>(n[n.None=0]="None",n[n.ReviewRequired=1]="ReviewRequired",n[n.ChangesRequested=2]="ChangesRequested",n[n.CIFailed=4]="CIFailed",n[n.CIPending=8]="CIPending",n))(Ir||{});async function Vc(n,e){if(!e)return;const t=await n.getPullRequestDefaults(),i=no(e,void 0,t,"fakeUser"),a=/(?:^|\s)repo:(?:"?(?<owner>[A-Za-z0-9_.-]+)\/(?<repo>[A-Za-z0-9_.-]+)"?)/i.exec(i);if(a&&a.groups)return{owner:a.groups.owner,repositoryName:a.groups.repo}}var hk=Object.defineProperty,mk=(n,e,t)=>e in n?hk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ei=(n,e,t)=>mk(n,typeof e!="symbol"?e+"":e,t);const lp=class Xa extends f{constructor(e,t,i,r,a=!1){super(),Ei(this,"id"),Ei(this,"graphNodeId"),Ei(this,"number"),Ei(this,"title"),Ei(this,"titleHTML"),Ei(this,"html_url"),Ei(this,"state",hi.Open),Ei(this,"stateReason"),Ei(this,"author"),Ei(this,"assignees"),Ei(this,"createdAt"),Ei(this,"updatedAt"),Ei(this,"milestone"),Ei(this,"githubRepository"),Ei(this,"_telemetry"),Ei(this,"remote"),Ei(this,"item"),Ei(this,"body"),Ei(this,"bodyHTML"),Ei(this,"_lastCheckedForUpdatesAt"),Ei(this,"_timelineEvents"),Ei(this,"_copilotTimelineEvents"),Ei(this,"_onDidChange",this._register(new s.EventEmitter)),Ei(this,"onDidChange",this._onDidChange.event),this._telemetry=e,this.githubRepository=t,this.remote=i,this.item=r,a||this.update(r)}get timelineEvents(){return this._timelineEvents}set timelineEvents(e){(!this._timelineEvents||this._timelineEvents.length!==e.length)&&(this._timelineEvents=e,this._onDidChange.fire({timeline:!0}))}get lastCheckedForUpdatesAt(){return this._lastCheckedForUpdatesAt}get isOpen(){return this.state===hi.Open}get isClosed(){return this.state===hi.Closed}get isMerged(){return this.state===hi.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),i=t.toString;return t.toString=function(r){return i.call(t,!0)},t}}}stateToStateEnum(e){let t=hi.Closed;return e.toLowerCase()==="open"&&(t=hi.Open),t}doUpdate(e){var t,i,r,a;const o={};this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.html_url=e.url,this.author=e.user,this.createdAt=e.createdAt,this.title!==e.title&&(o.title=!0,this.title=e.title),e.titleHTML&&this.titleHTML!==e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&this.bodyHTML!==e.bodyHTML&&(this.bodyHTML=e.bodyHTML),this.body!==e.body&&(o.body=!0,this.body=e.body),((t=this.milestone)==null?void 0:t.id)!==((i=e.milestone)==null?void 0:i.id)&&(o.milestone=!0,this.milestone=e.milestone),this.updatedAt!==e.updatedAt&&(this.updatedAt=e.updatedAt);const u=this.stateToStateEnum(e.state);return this.state!==u&&(o.state=!0,this.state=u),this.stateReason!==e.stateReason&&e.stateReason&&(o.state=!0,this.stateReason=e.stateReason),e.assignees&&(e.assignees.length!==((a=(r=this.assignees)==null?void 0:r.length)!=null?a:0)||e.assignees.some(k=>{var A;return(A=this.assignees)==null?void 0:A.every($=>$.id!==k.id)}))&&(o.assignees=!0,this.assignees=e.assignees),o}update(e){const t=this.doUpdate(e);this.item=e,Object.keys(t).length>0&&this._onDidChange.fire(t)}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}updateIssueInput(e){return{id:e}}updateIssueSchema(e){return e.UpdateIssue}async edit(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),body:e.body,title:e.title}}});if(r!=null&&r.updateIssue.issue){const a={};this.body!==r.updateIssue.issue.body&&(a.body=!0,this.item.body=r.updateIssue.issue.body,this.bodyHTML=r.updateIssue.issue.bodyHTML),this.title!==r.updateIssue.issue.title&&(a.title=!0,this.title=r.updateIssue.issue.title,this.titleHTML=r.updateIssue.issue.titleHTML),this._onDidChange.fire(a)}return r.updateIssue.issue}catch(t){throw new Error(be(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(this.remote.authProviderId,e)}async createIssueComment(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return this._onDidChange.fire({timeline:!0}),zm(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return this._onDidChange.fire({timeline:!0}),zm(a.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error(be(i))}}async deleteIssueComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(e)}),this._onDidChange.fire({timeline:!0})}catch(t){throw new Error(be(t))}}async setLabels(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();try{const r=await t.call(t.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}catch{y.error(`Failed to add labels to PR #${this.number}`,Xa.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}async removeProjects(e){await this.doRemoveProjects(e)&&this._onDidChange.fire({projects:!0})}async doRemoveProjects(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure();try{return await Promise.all(e.map(a=>i({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(o=>o.project.id===a.project.id)),!0}catch(a){return y.error(a,Xa.ID),!1}}async addProjects(e){const{mutate:t,schema:i}=await this.githubRepository.ensure();try{const r=await Promise.all(e.map(a=>t({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,o)=>({project:a,id:r[o].data.addProjectV2ItemById.item.id})))}catch(r){y.error(r,Xa.ID)}}async updateProjects(e){var t,i;const r=e.filter(o=>{var u;return!((u=this.item.projectItems)!=null&&u.find(k=>k.project.id===o.id))}),a=(i=(t=this.item.projectItems)==null?void 0:t.filter(o=>!e.find(u=>u.id===o.project.id)))!=null?i:[];return await this.removeProjects(a),await this.addProjects(r),this._onDidChange.fire({projects:!0}),this.item.projectItems}getUpdatesQuery(e){return e.LatestIssueUpdates}async getLastUpdateTime(e){y.debug(`Fetch timeline events of issue #${this.number} - enter`,Xa.ID),this._lastCheckedForUpdatesAt=new Date;const t=this.githubRepository,{query:i,remote:r,schema:a}=await t.ensure();try{const{data:o}=await i({query:this.getUpdatesQuery(a),variables:{owner:r.owner,name:r.repositoryName,number:this.number,since:new Date(e)}}),u=[e,new Date(o.repository.pullRequest.updatedAt),...o.repository.pullRequest.reactions.nodes.map(k=>new Date(k.createdAt)),...o.repository.pullRequest.comments.nodes.map(k=>new Date(k.updatedAt)),...o.repository.pullRequest.comments.nodes.flatMap(k=>k.reactions.nodes.map(A=>new Date(A.createdAt))),...o.repository.pullRequest.timelineItems.nodes.map(k=>{var A,$,Q;const re=k;if((A=re==null?void 0:re.commit)!=null&&A.committedDate)return new Date(re.commit.committedDate);const oe=k;return((Q=($=oe==null?void 0:oe.comments)==null?void 0:$.nodes.length)!=null?Q:0)>0?new Date(oe.comments.nodes[0].createdAt):new Date(k.createdAt)})];return new Date(Math.max(...u.map(k=>k.getTime())))}catch(o){return y.error(`Error fetching timeline events of issue #${this.number} - ${be(o)}`,Xa.ID),e}}async getIssueTimelineEvents(){y.debug(`Fetch timeline events of issue #${this.number} - enter`,Ri.ID);const{query:e,remote:t,schema:i}=await this.githubRepository.ensure();try{const{data:r}=await e({query:i.IssueTimelineEvents,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});if(r.repository===null)return y.error("Unexpected null repository when getting issue timeline events",Ri.ID),[];const a=r.repository.pullRequest.timelineItems.nodes,o=await ed(a,await this.getCopilotTimelineEvents(!0),this.githubRepository),u=o.filter(k=>k.event===nn.CrossReferenced&&!k.source.isIssue?!this.githubRepository.getExistingPullRequestModel(k.source.number)&&Me(k.source.owner,this.remote.owner)===0&&Me(k.source.repo,this.remote.repositoryName)===0:!1);for(const k of u)this.githubRepository.getPullRequest(k.source.number);return this.timelineEvents=o,o}catch(r){return console.log(r),[]}}async getCopilotTimelineEvents(e=!1,t=!1){var i,r;if(!pi[this.author.login])return[];if(y.debug(`Fetch Copilot timeline events of issue #${this.number} - enter`,Ri.ID),t&&this._copilotTimelineEvents)return y.debug(`Fetch Copilot timeline events of issue #${this.number} (used cache) - exit`,Ri.ID),this._copilotTimelineEvents;const{octokit:a,remote:o}=await this.githubRepository.ensure();try{const u=await jl(a.api.issues.listEventsForTimeline,{issue_number:this.number,owner:o.owner,repo:o.repositoryName,per_page:100}),k=Xw(this,u);if(this._copilotTimelineEvents=k,k.length===0)return[];if(!e){const A=this.timelineEvents&&this.timelineEvents.length>0?this.timelineEvents[this.timelineEvents.length-1]:void 0;let $;if(!A)$=k;else{const Q=(i=Zu(A))!=null?i:0,re=k.filter(oe=>{var pe;return((pe=Zu(oe))!=null?pe:0)>Q});$=[...(r=this.timelineEvents)!=null?r:[],...re]}this.timelineEvents=$}return y.debug(`Fetch Copilot timeline events of issue #${this.number} - exit`,Ri.ID),k}catch(u){return y.error(`Error fetching Copilot timeline events of issue #${this.number} - ${be(u)}`,Ri.ID),[]}}async copilotWorkingStatus(){const e=await this.getCopilotTimelineEvents();if(e.length>0){const t=e[e.length-1];if(t.event===nn.CopilotFinished)return Ha.Done;if(t.event===nn.CopilotStarted)return Ha.InProgress;if(t.event===nn.CopilotFinishedError)return Ha.Error}return Ha.NotCopilotIssue}async updateMilestone(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),r=e==="null"?null:e;try{const a=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),milestoneId:r}}});this.milestone=Ju(a.data.updateIssue.issue.milestone),this._onDidChange.fire({milestone:!0})}catch(a){y.error(a,Xa.ID)}}async replaceAssignees(e){var t,i,r;y.debug(`Replace assignees of issue #${this.number} - enter`,Xa.ID);const{mutate:a,schema:o}=await this.githubRepository.ensure();try{if(o.ReplaceActorsForAssignable){const u=e.find($=>pi[$.login]),k=((t=this.assignees)==null?void 0:t.find($=>pi[$.login]))!==void 0;u&&!k&&this._telemetry.sendTelemetryEvent("pr.assignCopilot");const A=e.map($=>$.id);await a({mutation:o.ReplaceActorsForAssignable,variables:{input:{actorIds:A,assignableId:this.graphNodeId}}})}else{const u=e.map(A=>A.login),k=((r=(i=this.assignees)==null?void 0:i.filter(A=>!e.find($=>$.login===A.login)))!=null?r:[]).map(A=>A.login);await this.addAssignees(u),await this.deleteAssignees(k)}this.assignees=e,this._onDidChange.fire({assignees:!0})}catch(u){y.error(u,Xa.ID)}y.debug(`Replace assignees of issue #${this.number} - done`,Xa.ID)}async addAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async deleteAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.update,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,state:"closed"});return this.state=hi.Closed,this._onDidChange.fire({state:!0}),{item:Wm(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:nn.Closed,id:`${r.data.id}`,actor:{login:r.data.closed_by.login,avatarUrl:r.data.closed_by.avatar_url,url:r.data.closed_by.url}}}}};Ei(lp,"ID","IssueModel");let nr=lp;var pk=rn(58667),up=rn.n(pk),vk=rn(8575),gk=rn.n(vk),yk=rn(87831),dp=rn.n(yk),bk=rn(72256),Wl=rn.n(bk),wk=rn(1182),kk=Object.defineProperty,_k=(n,e,t)=>e in n?kk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cp=(n,e,t)=>_k(n,typeof e!="symbol"?e+"":e,t);const Sk=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Ek=/^([a-z-+]+):\/\//,Rk=n=>{const e=Ek.exec(n);if(e){const[o,u]=e;if(u.includes("ssh"))n=n.slice(o.length);else return}const t=Sk.exec(n);if(!t)return;const[,i,r,a]=t;return{User:i,Host:r,path:a}},Nk=(n,e=Ak.current)=>{const t=Rk(n);return t&&e(t)};function fp(n){return{...n,Hostname:n.Host}}function Tk(...n){const e=n.filter(t=>!!t);return t=>e.reduce((i,r)=>{try{return{...i,...r(i)}}catch{return y.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),i}},t)}function Ck(n){const e=(0,wk.parse)(n);return t=>e.compute(t.Host)}const rd=class{static fromConfig(e){return Tk(fp,Ck(e))}};cp(rd,"default",fp),cp(rd,"current",rd.default);let Ak=rd;var Pk=Object.defineProperty,Mk=(n,e,t)=>e in n?Pk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Go=(n,e,t)=>Mk(n,typeof e!="symbol"?e+"":e,t),hp=(n=>(n[n.Local=0]="Local",n[n.HTTP=1]="HTTP",n[n.SSH=2]="SSH",n[n.GIT=3]="GIT",n[n.OTHER=4]="OTHER",n))(hp||{});const mp=class wb{constructor(e){if(Go(this,"type",4),Go(this,"host",""),Go(this,"owner",""),Go(this,"repositoryName",""),Go(this,"url"),this.parseSshProtocol(e)){this.url=s.Uri.from({scheme:"ssh",authority:this.host,path:`/${this.nameWithOwner}`});return}try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{y.error(`Failed to parse '${e}'`,wb.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=Nk(e);if(!t)return!1;const{Hostname:i,HostName:r,path:a}=t;return this.host=r||i,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.lastIndexOf("/"),r=t.substr(i+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const i=e.normalizeUri();return i?t.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}};Go(mp,"ID","Protocol");let Dr=mp;class ad{constructor(e,t,i){this.remoteName=e,this.url=t,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=$o())==null?void 0:e.authority)?Fn.githubEnterprise:Fn.github}get isEnterprise(){return Rr(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function Vo(n,e,t){if(!e)return null;const i=new Dr(e);return t&&i.update({type:t.type}),i.host?new ad(n,e,i):null}async function pp(n,e){try{const t=await e.getConfigs(),i=[];for(const r of t){const a=r.key.match(/^url\.(.+)\.insteadof$/i);if(a){const o=a[1],u=r.value;i.push({prefix:u,replacement:o})}}i.sort((r,a)=>a.prefix.length-r.prefix.length);for(const{prefix:r,replacement:a}of i)if(n.startsWith(r)){const o=a+n.substring(r.length);return y.appendLine(`Resolved git URL alias: "${n}" -> "${o}"`,"Remote"),o}}catch(t){y.error(`Failed to resolve git URL aliases for "${n}": ${t}`,"Remote")}return n}function io(n){const e=[];for(const t of n.state.remotes){const i=[];t.fetchUrl&&i.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&i.push(t.pushUrl),i.forEach(r=>{const a=Vo(t.name,r);a&&e.push(a)})}return e}async function vp(n){const e=[];for(const t of n.state.remotes){const i=[];if(t.fetchUrl){const r=await pp(t.fetchUrl,n);i.push(r)}if(t.pushUrl&&t.pushUrl!==t.fetchUrl){const r=await pp(t.pushUrl,n);i.push(r)}i.forEach(r=>{const a=Vo(t.name,r);a&&e.push(a)})}return e}class xs extends ad{constructor(e,t,i,r){super(e,t,i),this.githubServerType=r}static remoteAsGitHub(e,t){return new xs(e.remoteName,e.url,e.gitProtocol,t)}}var sd,Fk=new Uint8Array(16);function Ik(){if(!sd&&(sd=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sd(Fk)}const Dk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xk(n){return typeof n=="string"&&Dk.test(n)}const Ok=xk;for(var gr=[],jc=0;jc<256;++jc)gr.push((jc+256).toString(16).substr(1));function Lk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(gr[n[e+0]]+gr[n[e+1]]+gr[n[e+2]]+gr[n[e+3]]+"-"+gr[n[e+4]]+gr[n[e+5]]+"-"+gr[n[e+6]]+gr[n[e+7]]+"-"+gr[n[e+8]]+gr[n[e+9]]+"-"+gr[n[e+10]]+gr[n[e+11]]+gr[n[e+12]]+gr[n[e+13]]+gr[n[e+14]]+gr[n[e+15]]).toLowerCase();if(!Ok(t))throw TypeError("Stringified UUID is invalid");return t}const Uk=Lk;function Bk(n,e,t){n=n||{};var i=n.random||(n.rng||Ik)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return Uk(i)}const gp=Bk;var qk=Object.defineProperty,$k=(n,e,t)=>e in n?qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hk=(n,e,t)=>$k(n,typeof e!="symbol"?e+"":e,t);class yp extends f{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,Hk(this,"_commentController"),this._register(s.window.onDidChangeActiveTextEditor(i=>this.onDidChangeActiveTextEditor(i)))}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const i=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});i&&t.push(i)}return t}async tryAddCopilotMention(e,t){if(e.document.uri.scheme!==Ut.Comment||e.document.lineCount<1||e.document.lineAt(0).text.length>0)return;const i=await this._folderRepoManager.getCurrentUser();if(await lf(t,i))return e.edit(r=>{r.insert(new s.Position(0,0),"@copilot ")})}}var Gk=Object.defineProperty,Vk=(n,e,t)=>e in n?Gk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jo=(n,e,t)=>Vk(n,typeof e!="symbol"?e+"":e,t);const Wc="PullRequestOverview";class bp extends f{constructor(){super(),jo(this,"_webview"),jo(this,"_waitForReady"),jo(this,"_onIsReady",this._register(new s.EventEmitter)),jo(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var i;const r={seq:e.req,res:t};(i=this._webview)==null||i.postMessage(r)}async _throwError(e,t){var i;const r={seq:e==null?void 0:e.req,err:t};(i=this._webview)==null||i.postMessage(r)}}class wp extends bp{constructor(e){super(),this._extensionUri=e,jo(this,"viewType"),jo(this,"_view")}resolveWebviewView(e,t,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():ft.focusView(this.viewType)}}var jk=Object.defineProperty,Wk=(n,e,t)=>e in n?jk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zk=(n,e,t)=>Wk(n,typeof e!="symbol"?e+"":e,t);const kp=class kb{constructor(e,t,i){this.octokit=e,this.token=t,this.telemetry=i}get baseUrl(){return"https://api.githubcopilot.com"}async makeApiCallFullUrl(e,t){const i=()=>Qr()(e,t);return this.octokit.call(i)}async makeApiCall(e,t){return this.makeApiCallFullUrl(`${this.baseUrl}${e}`,t)}async getAllSessions(e){const t=await this.makeApiCall(e?`/agents/sessions/resource/pull/${e}`:"/agents/sessions",{headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});return t.ok||await this.handleApiError(t,"getAllSessions"),(await t.json()).sessions}async handleApiError(e,t){let i;try{i=await e.text()}catch{}const r=`'${t}' failed with ${e.statusText} ${i?`: ${i}`:""}`;throw y.error(r,kb.ID),this.telemetry.sendTelemetryErrorEvent("remoteAgent.apiError",{action:t,status:e.status.toString(),body:i||""}),new Error(r)}};zk(kp,"ID","copilotApi");let Kk=kp;async function _p(n,e,t){if(!t)if(n.isAuthenticated(Fn.githubEnterprise)&&$a())t=Fn.githubEnterprise;else if(n.isAuthenticated(Fn.github))t=Fn.github;else return;const i=n.getHub(t);if(!i||!i.octokit)return;const{token:r}=await i.octokit.api.auth();return new Kk(i.octokit,r,e)}function Sp(n){return n.then(()=>{})}function I2(n){let e,t;const i=()=>{if(t)return t;if(e)return t=Sp(e).then(()=>(t=void 0,i())),t;e=n();const r=()=>e=void 0;return Sp(e).then(r,r),e};return i}function zc(n,e){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>n(...i),e)}}var Qk=Object.defineProperty,Yk=(n,e,t)=>e in n?Qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ta=(n,e,t)=>Yk(n,typeof e!="symbol"?e+"":e,t);function Ep(n){const e=n.toLowerCase();return Oc.some(t=>e.includes(`author:${t.toLowerCase()}`))}function Rp(){var n;return(n=s.workspace.getConfiguration(vt).get(pn,[]).find(t=>Ep(t.query)))==null?void 0:n.query}class Np extends f{constructor(){super(...arguments),Ta(this,"_isInitialized",!1),Ta(this,"_states",new Map),Ta(this,"_showNotification",new Set),Ta(this,"_onDidChangeStates",this._register(new s.EventEmitter)),Ta(this,"onDidChangeCopilotStates",this._onDidChangeStates.event),Ta(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Ta(this,"onDidChangeCopilotNotifications",this._onDidChangeNotifications.event)}makeKey(e,t,i){return i===void 0?`${e}/${t}`:`${e}/${t}#${i}`}deleteKey(e){if(this._states.has(e)){const t=this._states.get(e);this._states.delete(e),this._showNotification.has(e)&&(this._showNotification.delete(e),this._onDidChangeNotifications.fire([t.item])),this._onDidChangeStates.fire()}}set(e){const t=[],i=[];for(const{item:r,status:a}of e){const o=this.makeKey(r.remote.owner,r.remote.repositoryName,r.number),u=this._states.get(o);(u==null?void 0:u.status)!==a&&(this._states.set(o,{item:r,status:a}),a!==Zr.Started&&(t.push(r),i.push(o)))}t.length>0&&(this._isInitialized&&(i.forEach(r=>this._showNotification.add(r)),this._onDidChangeNotifications.fire(t)),this._onDidChangeStates.fire())}get(e,t,i){var r,a;const o=this.makeKey(e,t,i);return(a=(r=this._states.get(o))==null?void 0:r.status)!=null?a:Zr.None}keys(){return Array.from(this._states.keys())}clearNotification(e,t,i){var r;const a=this.makeKey(e,t,i);if(this._showNotification.has(a)){this._showNotification.delete(a);const o=(r=this._states.get(a))==null?void 0:r.item;o&&this._onDidChangeNotifications.fire([o])}}clearAllNotifications(e,t){var i,r;if(this._showNotification.size>0){const a=[];if(e&&t){const o=[],u=`${this.makeKey(e,t)}#`;for(const k of this._showNotification.keys())if(k.startsWith(u)){const A=(i=this._states.get(k))==null?void 0:i.item;A&&a.push(A),o.push(k)}o.forEach(k=>this._showNotification.delete(k))}else{for(const o of this._showNotification.keys()){const u=(r=this._states.get(o))==null?void 0:r.item;u&&a.push(u)}this._showNotification.clear()}a.length>0&&this._onDidChangeNotifications.fire(a)}}get notifications(){return this._showNotification}getNotificationsCount(e,t){let i=0;const r=`${this.makeKey(e,t)}#`;for(const a of this._showNotification.values())a.startsWith(r)&&i++;return i}setInitialized(){this._isInitialized=!0}get isInitialized(){return this._isInitialized}getCounts(e,t){let i=0,r=0;for(const a of this._states.values())a.item.remote.owner!==e||a.item.remote.repositoryName!==t||(a.status===Zr.Started?i++:a.status===Zr.Failed&&r++);return{total:this._states.size,inProgress:i,error:r}}get all(){return Array.from(this._states.values())}}Ta(Np,"ID","CopilotStateModel");class Jk extends f{constructor(e,t){if(super(),this._reposManager=e,this._prsTreeModel=t,Ta(this,"_model"),Ta(this,"_pollTimeout"),Ta(this,"_lastPollTime",0),this._model=t.copilotStateModel,this._reposManager.folderManagers.length===0){const i=this._reposManager.onDidChangeAnyGitHubRepository(()=>{i.dispose(),this._initialize()})}else this._initialize()}_initialize(){this._prsTreeModel.refreshCopilotStateChanges(!0),this._pollForChanges();const e=zc(()=>this._prsTreeModel.refreshCopilotStateChanges(!0),50);this._register(this._reposManager.onDidChangeAnyPullRequests(t=>{if(t.some(i=>pi[i.model.author.login])){if(!this._model.isInitialized)return;if(t.some(i=>this._model.get(i.model.remote.owner,i.model.remote.repositoryName,i.model.number)===Zr.None))e();else for(const i of t)i.model instanceof mi&&this._updateSingleState(i.model)}})),this._register(ir.onVisible(t=>this._model.clearNotification(t.remote.owner,t.remote.repositoryName,t.number))),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${vt}.${pn}`)&&this._pollForChanges()})),this._register(s.window.onDidChangeWindowState(t=>{(t.active||t.focused)&&Date.now()-this._lastPollTime>this._pollInterval&&this._pollForChanges()})),this._register({dispose:()=>this._pollTimeout&&clearTimeout(this._pollTimeout)})}get _pollInterval(){return s.window.state.active||s.window.state.focused?60*1e3*2:60*1e3*5}async _pollForChanges(){if(s.workspace.getConfiguration(vt).get(es,!1))return;this._pollTimeout&&(clearTimeout(this._pollTimeout),this._pollTimeout=void 0),this._lastPollTime=Date.now(),await this._prsTreeModel.refreshCopilotStateChanges(!0)&&(this._pollTimeout=setTimeout(()=>{this._pollForChanges()},this._pollInterval))}async _updateSingleState(e){var t;const i=[],r=await e.getCopilotTimelineEvents(!1,!this._model.isInitialized);let a=Vu(r[r.length-1]);if(a===Zr.None){if(!pi[e.author.login])return;a=Zr.Started}if(e.state!==hi.Open){const u=this._model.makeKey(e.remote.owner,e.remote.repositoryName,e.number);this._model.deleteKey(u);return}const o=(t=this._model.get(e.remote.owner,e.remote.repositoryName,e.number))!=null?t:Zr.None;a!==o&&i.push({item:e,status:a}),this._model.set(i)}}var Kc;(n=>{function e(){return j().workspace.getConfiguration(Zn)}function t(){return e().get($n,!1)}n.getEnabled=t;function i(){return e().get(Kr,!0)}n.getPromptForConfirmation=i;function r(){return e().get(pr,!1)}n.getAutoCommitAndPushEnabled=r;async function a(){await e().update(Kr,!1,j().ConfigurationTarget.Global)}n.disablePromptForConfirmation=a})(Kc||(Kc={}));var Xk=Object.defineProperty,Zk=(n,e,t)=>e in n?Xk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qc=(n,e,t)=>Zk(n,typeof e!="symbol"?e+"":e,t);const Tp="PREFERRED_GITHUB_CODING_AGENT_REMOTE";var od;(n=>{const e="pull-session-by-index";function t(r,a){return s.Uri.from({scheme:hw,path:`/${e}-${r}-${a}`})}n.getResource=t;function i(r){const a=r.path.match(new RegExp(`^/${e}-(\\d+)-(\\d+)$`));if(a)return{prNumber:parseInt(a[1],10),sessionIndex:parseInt(a[2],10)}}n.parse=i})(od||(od={}));const Cp=class _b extends f{constructor(e,t,i,r,a){super(),this.credentialStore=e,this.repositoriesManager=t,this.telemetry=i,this.context=r,this.prsTreeModel=a,Qc(this,"_isAssignable"),Qc(this,"_copilotApiPromise"),this._register(new Jk(this.repositoriesManager,this.prsTreeModel))}get copilotApi(){return this._copilotApiPromise||(this._copilotApiPromise=this.initializeCopilotApi()),this._copilotApiPromise}async initializeCopilotApi(){return await _p(this.credentialStore,this.telemetry)}async isAssignable(){const e=r=>(this._isAssignable=r,r);if(this._isAssignable!==void 0)return this._isAssignable;const t=await this.repoInfo();if(!t)return e(!1);const{fm:i}=t;try{await i.getAssignableUsers();const r=i.getAllAssignableUsers();return e(r?r.some(a=>Oc.includes(a.login)):!1)}catch{return e(!1)}}async isAvailable(){return Kc.getEnabled()?this.credentialStore.isAnyAuthenticated()?!await this.repoInfo()||!await this.copilotApi?!1:await this.isAssignable():!0:!1}firstFolderManager(){if(this.repositoriesManager.folderManagers.length)return this.repositoriesManager.folderManagers[0]}async repoInfo(e){var t;e=e||this.firstFolderManager();const i=e==null?void 0:e.repository,r=e==null?void 0:e.gitHubRepositories.find(Q=>Q.remote instanceof xs);if(!e||!i||!r)return;const a=(t=i.state.HEAD)==null?void 0:t.name,o=this.context.workspaceState.get(Tp),u=await e.getGitHubRemotes();if(!u||u.length===0)return;const k=o?u.find(Q=>Q.remoteName===o):u.find(Q=>Q.remoteName==="origin")||u[0];if(!k){y.error("no valid remotes for coding agent",_b.ID),this.context.workspaceState.update(Tp,void 0);return}const{owner:A,repositoryName:$}=k;if(!(!A||!$||!a||!i))return{owner:A,repo:$,baseRef:a,remote:k,repository:i,ghRepository:r,fm:e}}};Qc(Cp,"ID","CopilotRemoteAgentManager");let e_=Cp;const Yc="github.pullRequest.pullNotification.show",Ap="github.pullRequest.repos",Jc="github.pullRequest.previousCreateMethod",Pp="github.pullRequest.lastUsedEmail",t_="github.pullRequest.branchesAssociatedWithPRs",Xc="github.pullRequest.recentlyUsedBranches";function D2(n){n.globalState.setKeysForSync([Yc])}async function us(n,e,t){var i;if(n.length===0)return;if(n.length===1)return n[0];const r=n.map(a=>({...e(a),itemValue:a}));return(i=await s.window.showQuickPick(r,t))==null?void 0:i.itemValue}async function ro(n,e,t,i,r=!1){var a;const o=[],u=[];for(const A of t){const $=La(A);e.has($)||(u.push(A),e.add($))}const k=await Qi.avatarCirclesAsImageDataUris(n,u,16,16,r);for(let A=0;A<u.length;A++){const $=u[A];let Q;Nu($)&&(Q=$.isAuthor&&$.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):$.isAuthor?s.l10n.t("Recently edited these files"):$.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),o.push({label:Bi($)?`${$.org}/${$.slug}`:pi[$.login]?pi[$.login].name:$.login,description:$.name,user:$,picked:i,detail:Q,iconPath:(a=k[A])!=null?a:n_($)})}return o}async function Mp(n,e,t,i,r,a){var o;const[u,k]=await Promise.all([n.getAssignableUsers(),r?n.getPullRequestParticipants(r.githubRepository,r.number):void 0]),A=k==null?void 0:k.viewer,$=(o=k==null?void 0:k.participants)!=null?o:[];let Q=u[t];Q=Q!=null?Q:[];const re=new Set,oe=[];if(i.length&&oe.push(ro(n.context,re,i!=null?i:[],!0)),A&&!re.has(A.login)&&Q.findIndex(me=>me.login===A.login)!==-1&&oe.push(ro(n.context,re,[A],!1)),$.length&&oe.push(ro(n.context,re,$,!1)),oe.length!==0&&oe.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),Q.length){const me=Q.length>80;oe.push(ro(n.context,re,Q,!1,me))}const pe=(await Promise.all(oe)).flat();if(pe.length===0&&pe.push({label:s.l10n.t("No assignees available for this repository")}),a){const me=A!=null?A:await n.getCurrentUser(e);pe.length!==0&&pe.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),pe.unshift({label:s.l10n.t("Assign yourself"),user:me})}return pe}function n_(n){return Bi(n)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function i_(n,e,t,i,r,a,o){var u,k;if(!a)return[];const A=await n.getAssignableUsers(),re=[...(u=(t?await n.getTeamReviewers(o):[])[e])!=null?u:[]],oe=(k=A[e])!=null?k:[];let pe=!1;const me=oe.filter(Oe=>Oe.login===xo?(pe=!0,!1):!0);me&&re.push(...me);const Ne=new Set([i.login]),Se=[];r.length&&Se.push(ro(n.context,Ne,r.map(Oe=>Oe.reviewer),!0)),pe&&!r.find(Oe=>Oe.reviewer.login===Ll)&&re.push(Pm),Se.push(ro(n.context,Ne,a,!1));const Re=re.length>60;Se.push(ro(n.context,Ne,re,!1,Re));const Ae=(await Promise.all(Se)).flat();return Ae.length===0&&Ae.push({label:s.l10n.t("No reviewers available for this repository")}),Ae}async function Fp(n,e,t,i,r,a,o){const u=s.window.createQuickPick(),k=100,A=s.l10n.t("Add reviewers");u.busy=!0,u.canSelectMany=!0,u.matchOnDescription=!0,u.placeholder=A,t&&(u.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),u.show();const $=async Q=>{const re=setTimeout(()=>{u.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),oe=performance.now();u.items=await i_(n,e,t,r,a,o,Q),y.appendLine(`Setting quick pick reviewers took ${performance.now()-oe}ms`,"QuickPicks"),clearTimeout(re),u.selectedItems=u.items.filter(pe=>pe.picked),u.placeholder=A};return await $(i!==0&&i<=k?Wo.Try:Wo.None),u.onDidTriggerButton(()=>{u.busy=!0,u.ignoreFocusOut=!0,$(Wo.Force).then(()=>{u.ignoreFocusOut=!1,u.busy=!1})}),u}function r_(n){return!!n.id&&!!n.project}async function Ip(n,e,t,i){try{let r=[];async function a(){const u=await n.getAllProjects(e);return!u||!u.length?[{label:s.l10n.t("No projects created for this repository.")}]:u.map(A=>{const $={iconPath:new s.ThemeIcon("github-project"),label:A.title,id:A.id,project:A};return t&&t.find(Q=>Q.id===A.id)&&r.push($),$})}const o=s.window.createQuickPick();o.busy=!0,o.canSelectMany=!0,o.title=s.l10n.t("Set projects"),o.ignoreFocusOut=!0,o.show(),o.items=await a(),o.ignoreFocusOut=!1,o.items.length===1&&(o.canSelectMany=!1),o.selectedItems=r,o.busy=!1,n.getOrgProjects(!0),o.onDidAccept(async()=>{o.hide();const u=o.selectedItems.map(k=>r_(k)?k.project:void 0).filter(k=>k!==void 0);u&&await i(u)})}catch(r){s.window.showErrorMessage(`Failed to add project: ${be(r)}`)}}function a_(n){return!!n.id&&!!n.milestone}async function Dp(n,e,t,i){try{const r={label:s.l10n.t("Remove Milestone")};let a;async function o(){var k;const A=(k=await e.getMilestones())==null?void 0:k.sort((Q,re)=>Q.dueOn&&re.dueOn?new Date(Q.dueOn).getTime()-new Date(re.dueOn).getTime():Q.dueOn?-1:re.dueOn?1:Q.title.localeCompare(re.title));if(!A||!A.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const $=A.map(Q=>{const re={iconPath:new s.ThemeIcon("milestone"),label:Q.title,id:Q.id,milestone:Q};return t&&t.id===Q.id&&(a=re),re});return t&&($.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),$.unshift(r)),$}const u=s.window.createQuickPick();u.busy=!0,u.canSelectMany=!1,u.title=s.l10n.t("Set milestone"),u.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],u.onDidTriggerButton(k=>{u.hide();const A=s.window.createInputBox();A.title=s.l10n.t("Create new milestone"),A.placeholder=s.l10n.t("New milestone title"),u.value!==""&&(A.value=u.value),A.show(),A.onDidAccept(async()=>{if(A.hide(),A.value!==""){if(A.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const $ of u.items)if($.label===A.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",A.value));return}try{const $=await n.createMilestone(e,A.value);$!==void 0&&await i($)}catch($){s.window.showErrorMessage(`Failed to create milestone: ${be($)}`)}}})}),u.show(),u.items=await o(),u.activeItems=a?[a]:t?[u.items[1]]:[u.items[0]],u.busy=!1,u.onDidAccept(async()=>{u.hide();const k=u.selectedItems[0];k&&a_(k)?await i(k.milestone):k&&k===r&&await i(void 0)})}catch(r){s.window.showErrorMessage(`Failed to add milestone: ${be(r)}`)}}async function xp(n,e,t,i){await Ms(n.context);const r=(await n.getLabels(void 0,{owner:t,repo:i})).map(o=>({...o,displayName:Lo(o.name)})),a=r.map(o=>{var u;return{label:o.displayName,name:o.name,description:(u=o.description)!=null?u:void 0,picked:e.some(k=>k.name===o.name),iconPath:Qi.asImageDataURI(lr.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${o.color}"/>
				</svg>`,"utf8"))}}).sort((o,u)=>o.picked===u.picked?o.label.localeCompare(u.label):o.picked?-1:1);return{newLabels:r,labelPicks:a}}async function s_(n,e){async function t(){return(await n.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const i=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return i?i.label:void 0}function o_(n,e,t){const i=`${e}/${t}`;return n.context.workspaceState.get(Xc,{branches:{}}).branches[i]||[]}async function Op(n,e,t,i,r){let a;i?a=await n.listBranches(n.remote.owner,n.remote.repositoryName,r):a=(await e.repository.getBranches({remote:!1})).filter($=>$.name);const o=a.map($=>typeof $=="string"?$:$.name);let u=[],k=o;i&&(u=o_(e,n.remote.owner,n.remote.repositoryName),k=o.filter(Q=>!u.includes(Q)));const A=[];return u.length>0&&(A.push({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Recently Used")}),u.forEach($=>{A.push({iconPath:new s.ThemeIcon("git-branch"),label:$,remote:{owner:n.remote.owner,repositoryName:n.remote.repositoryName},branch:$})})),k.length>0&&(A.push({kind:s.QuickPickItemKind.Separator,label:u.length>0?s.l10n.t("All Branches"):`${n.remote.owner}/${n.remote.repositoryName}`}),k.forEach($=>{A.push({iconPath:new s.ThemeIcon("git-branch"),label:$,remote:{owner:n.remote.owner,repositoryName:n.remote.repositoryName},branch:$})})),t&&A.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),A}function Zc(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto)();const n=new Uint8Array(16),e=[];for(let r=0;r<256;r++)e.push(r.toString(16).padStart(2,"0"));crypto.getRandomValues(n),n[6]=n[6]&15|64,n[8]=n[8]&63|128;let t=0,i="";return i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i+="-",i+=e[n[t++]],i+=e[n[t++]],i+="-",i+=e[n[t++]],i+=e[n[t++]],i+="-",i+=e[n[t++]],i+=e[n[t++]],i+="-",i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i+=e[n[t++]],i}var l_=rn(65606),u_=Object.defineProperty,d_=(n,e,t)=>e in n?u_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ca=(n,e,t)=>d_(n,typeof e!="symbol"?e+"":e,t);const ld=class Fa extends bp{constructor(e,t,i,r,a,o=Fa.viewType,u,k){super(),this._telemetry=e,this._extensionUri=t,this.type=o,Ca(this,"_panel"),Ca(this,"_item"),Ca(this,"_identity"),Ca(this,"_folderRepositoryManager"),Ca(this,"_scrollPosition",{x:0,y:0}),Ca(this,"timeout"),Ca(this,"lastRefreshTime"),Ca(this,"_scheduledRefresh"),this._folderRepositoryManager=a,this._panel=u!=null?u:this._register(s.window.createWebviewPanel(o,r,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),k&&(this._panel.iconPath={dark:s.Uri.joinPath(t,k.dark),light:s.Uri.joinPath(t,k.light)}),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(A=>{if(this._folderRepositoryManager&&this._item){const $=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:$})}})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updateItem(this._item)})),this._register(this._panel.onDidChangeViewState(A=>this.onDidChangeViewState(A))),this.lastRefreshTime=new Date,this.pollForUpdates(!0),this._register(s.workspace.onDidChangeConfiguration(A=>{A.affectsConfiguration(`${vt}.${xa}`)&&this.pollForUpdates(this._panel.visible,!0)})),this._register({dispose:()=>clearTimeout(this.timeout)})}static async createOrShow(e,t,i,r,a,o=!1,u=!0,k){await Ms(i.context);const A=o?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Fa.currentPanel)Fa.currentPanel._panel.reveal(A,!0);else{const $=`Issue #${r.number.toString()}`;Fa.currentPanel=new Fa(e,t,A||s.ViewColumn.Active,$,i,void 0,k,void 0)}await Fa.currentPanel.updateWithIdentity(i,r,a)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}getRefreshInterval(){return s.workspace.getConfiguration().get(`${vt}.${xa}`)||60}onDidChangeViewState(e){e.webviewPanel.visible&&this.pollForUpdates(!!this._item,!0)}pollForUpdates(e,t=!1){clearTimeout(this.timeout);const i=async()=>{const o=this.lastRefreshTime;if(this.lastRefreshTime=await this._item.getLastUpdateTime(o),this.lastRefreshTime.getTime()>o.getTime())return this.refreshPanel()};t&&i();const a=1e3*(e||s.window.tabGroups.all.find(o=>{var u;return((u=o.activeTab)==null?void 0:u.input)instanceof s.TabInputWebview&&o.activeTab.input.viewType.endsWith(this.type)})?this.getRefreshInterval():5*60);this.timeout=setTimeout(async()=>{await i(),this.pollForUpdates(this._panel.visible)},a)}async refreshPanel(){this._panel&&this._panel.visible&&await this.update(this._folderRepositoryManager,this._item)}continueOnGitHub(){return nd()}getInitializeContext(e,t,i,r,a,o){var u;const k=r.hasWritePermission,A=k||a,$=t.item.labels.map(re=>({...re,displayName:Lo(re.name)}));return{owner:t.remote.owner,repo:t.remote.repositoryName,number:t.number,title:t.title,titleHTML:t.titleHTML,url:t.html_url,createdAt:t.createdAt,body:t.body,bodyHTML:t.bodyHTML,labels:$,author:t.author,state:t.state,stateReason:t.stateReason,events:i,continueOnGitHub:this.continueOnGitHub(),canEdit:A,hasWritePermission:k,isIssue:!0,projectItems:t.item.projectItems,milestone:t.milestone,assignees:(u=t.assignees)!=null?u:[],isEnterprise:t.githubRepository.remote.isEnterprise,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,canAssignCopilot:o.find(re=>pi[re.login])!==void 0,canRequestCopilotReview:!1,reactions:t.item.reactions,isAuthor:t.author.login===e.login}}async updateItem(e){var t;try{const[i,r,a,o,u,k]=await Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.canEdit(),this._folderRepositoryManager.getAssignableUsers(),this._folderRepositoryManager.getCurrentUser()]);if(!i)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${e.number.toString()}`),y.debug("pr.initialize",Fa.ID),this._postMessage({command:"pr.initialize",pullrequest:this.getInitializeContext(k,i,r,a,o,(t=u[this._item.remote.remoteName])!=null?t:[])})}catch(i){s.window.showErrorMessage(`Error updating issue description: ${be(i)}`)}}registerPrListeners(){}async resolveModel(e){return this._folderRepositoryManager.resolveIssue(e.owner,e.repo,e.number)}getItemTypeName(){return"issue"}async updateWithIdentity(e,t,i,r){if(this._identity=t,this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview(),this._postMessage({command:"pr.clear"})),!i){const o=await this.resolveModel(t);if(!o)throw new Error(`Failed to resolve ${this.getItemTypeName()} #${t.number} in ${t.owner}/${t.repo}`);i=o}return r?s.window.withProgress({location:{viewId:r}},()=>this.updateItem(i)):this.updateItem(i)}async update(e,t,i){const r={owner:t.remote.owner,repo:t.remote.repositoryName,number:t.number};return this.updateWithIdentity(e,r,t,i)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.submit":return this.submitReviewMessage(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.add-assignee-copilot":return this.addAssigneeCopilot(e);case"pr.copy-prlink":return this.copyItemLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return Wa(this._item,this._telemetry);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}async submitReviewMessage(e){const t=await this._item.createIssueComment(e.args),i={...t,event:nn.Commented},a={events:await this._getTimeline(),reviewedEvent:i};return this.tryScheduleCopilotRefresh(t.body),this._replyMessage(e,a)}async tryScheduleCopilotRefresh(e,t){this._scheduledRefresh||(this._scheduledRefresh=this.doScheduleCopilotRefresh(e,t).finally(()=>{this._scheduledRefresh=void 0}))}async doScheduleCopilotRefresh(e,t){if(!pi[this._item.author.login]||!e.includes("@copilot")&&!e.includes("@Copilot")&&t!=="CHANGES_REQUESTED")return;const i=await this._getTimeline(),r=[250,500,1e3,2e3];for(const a of r){if(await new Promise(o=>setTimeout(o,a)),this._isDisposed)return;try{if((await this._getTimeline()).length>i.length){this.refreshPanel();return}}catch(o){y.warn(`Failed to fetch timeline during Copilot refresh retry: ${o}`,Fa.ID)}}this._isDisposed||this.refreshPanel()}async addLabels(e){const t=s.window.createQuickPick();try{let i=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await xp(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(u=>(i=u.newLabels,u.labelPicks)),t.selectedItems=t.items.filter(u=>u.picked),t.busy=!1;const r=Pe(t.onDidAccept).then(()=>t.selectedItems),a=Pe(t.onDidHide),o=await Promise.race([r,a]);if(t.busy=!0,t.enabled=!1,o){await this._item.setLabels(o.map(k=>k.name));const u=o.map(k=>i.find(A=>A.name===k.name));await this._replyMessage(e,{added:u})}}catch(i){s.window.showErrorMessage(be(i))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(be(t))}}webviewDebug(e){y.debug(e.args,Fa.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${be(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${be(t)}`)})}_getTimeline(){return this._item.getIssueTimelineEvents()}async changeAssignees(e){var t;const i=s.window.createQuickPick();try{i.busy=!0,i.canSelectMany=!0,i.matchOnDescription=!0,i.show(),i.items=await Mp(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),i.selectedItems=i.items.filter(u=>u.picked),i.busy=!1;const r=Pe(i.onDidAccept).then(()=>i.selectedItems.filter(u=>u.user)),a=Pe(i.onDidHide),o=await Promise.race([r,a]);if(i.busy=!0,i.enabled=!1,o){const u=o.map($=>$.user);await this._item.replaceAssignees(u);const k=await this._getTimeline(),A={assignees:u,events:k};await this._replyMessage(e,A)}}catch(r){s.window.showErrorMessage(be(r))}finally{i.hide(),i.dispose()}}async addMilestone(e){return Dp(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(be(t))}}async changeProjects(e){var t;return Ip(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(i=>i.project),i=>this.updateProjects(i,e))}async updateProjects(e,t){var i;let r=[];e&&(r=(i=await this._item.updateProjects(e))!=null?i:[]);const a={projectItems:r};return this._replyMessage(t,a)}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async addAssigneeYourself(e){var t,i,r;try{const a=await this._folderRepositoryManager.getCurrentUser();if(!((t=this._item.assignees)==null?void 0:t.find(A=>A.login===a.login))){const A=((i=this._item.assignees)!=null?i:[]).concat(a);await this._item.replaceAssignees(A)}const u=await this._getTimeline(),k={assignees:(r=this._item.assignees)!=null?r:[],events:u};this._replyMessage(e,k)}catch(a){s.window.showErrorMessage(be(a))}}async addAssigneeCopilot(e){var t,i;try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName].find(u=>pi[u.login]);if(r){const u=((t=this._item.assignees)!=null?t:[]).concat(r);await this._item.replaceAssignees(u)}const a=await this._getTimeline(),o={assignees:(i=this._item.assignees)!=null?i:[],events:a};this._replyMessage(e,o)}catch(r){s.window.showErrorMessage(be(r))}}async copyItemLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(id(this._item))}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(be(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(i=>{this._replyMessage(e,{})}).catch(i=>{this._throwError(e,i),s.window.showErrorMessage(be(i))})})}async close(e){let t;e.args&&(t=await this._item.createIssueComment(e.args));const i=await this._item.close(),r={state:i.item.state.toUpperCase(),commentEvent:t?{...t,event:nn.Commented}:void 0,closeEvent:i.closedEvent};this._replyMessage(e,r)}set _currentPanel(e){Fa.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=Zc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${l_.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}getCurrentItem(){return this._item}};Ca(ld,"ID","IssueOverviewPanel"),Ca(ld,"currentPanel"),Ca(ld,"viewType","IssueOverview");let ao=ld;var gi;(n=>{function e(Se,Re){const Ae=Se.find(Oe=>La(Oe.reviewer)===Re.login);return Ae==null?void 0:Ae.state}n.getCurrentUserReviewState=e;function t(Se,Re){if(Re&&Re.state){const Ae=Se.find(Oe=>Re.user.login===La(Oe.reviewer));Ae?Ae.state=Re.state:Se.push({reviewer:Re.user,state:Re.state})}}async function i(Se,Re,Ae,Oe,Ge){const We={command:"pr.submitting-review",lastReviewType:Ae};Se.postMessage(We);try{const qe=await Ge(Re.body);t(Se.existingReviewers,qe);const ot=Oe?await Se.getTimeline():[],kt={command:"pr.append-review",reviewedEvent:qe,events:ot,reviewers:Se.existingReviewers};return await Se.postMessage(kt),qe}catch(qe){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",be(qe))),Se.throwError(void 0,`${be(qe)}`),await Se.postMessage({command:"pr.append-review"})}}n.doReviewCommand=i;async function r(Se,Re,Ae,Oe){try{const Ge=await Oe(Re.args);t(Se.existingReviewers,Ge);const We=Ae?await Se.getTimeline():[],qe={reviewedEvent:Ge,events:We,reviewers:Se.existingReviewers};return Se.replyMessage(Re,qe),Ge}catch(Ge){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",be(Ge))),Se.throwError(Re,`${be(Ge)}`)}}n.doReviewMessage=r;function a(Se,Re){let Ae;const Oe=[],Ge=[];for(const We of Se.existingReviewers){let qe=We.reviewer.id;qe&&(We.state==="REQUESTED"||qe===Re.args)&&qe===Re.args&&(Ae=We)}Ae&&Bi(Ae.reviewer)?Ge.push(Ae.reviewer):Ae&&!Bi(Ae.reviewer)&&Oe.push(Ae.reviewer),Se.item.requestReview(Oe,Ge,!0).then(()=>{Ae&&(Ae.state="REQUESTED"),Se.replyMessage(Re,{reviewers:Se.existingReviewers})})}n.reRequestReview=a;async function o(Se,Re){var Ae;try{const Oe=(Ae=Se.folderRepositoryManager.repository.state.HEAD)==null?void 0:Ae.name;await Se.folderRepositoryManager.checkoutDefaultBranch(Re.args,Se.item),Oe&&await Se.folderRepositoryManager.cleanupAfterPullRequest(Oe,Se.item)}finally{Se.replyMessage(Re,{})}}n.checkoutDefaultBranch=o;async function u(Se,Re,Ae,Oe){if(Se.item.item.mergeable===bi.Conflict&&Oe&&!Oe())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to resolve conflicts."),{modal:!0}),Se.replyMessage(Re,{});if(Se.item.isActive&&(Se.folderRepositoryManager.repository.state.workingTreeChanges.length>0||Se.folderRepositoryManager.repository.state.indexChanges.length>0))return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when there are changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),Se.replyMessage(Re,{});await Se.folderRepositoryManager.tryMergeBaseIntoHead(Se.item,!0)||Se.replyMessage(Re,{});let qe=bi.Unknown,ot=5;do qe=(await Se.item.getMergeability()).mergeability,ot--,await new Promise(bt=>setTimeout(bt,1e3));while(ot>0&&qe===bi.Unknown);const kt={events:await Se.getTimeline(),mergeable:qe};await Ae(),Se.replyMessage(Re,kt)}n.updateBranch=u;async function k(Se,Re){try{const Ae=await Se.item.setReadyForReview();Se.replyMessage(Re,Ae)}catch(Ae){s.window.showErrorMessage(s.l10n.t("Unable to set pull request ready for review. {0}",be(Ae))),Se.throwError(Re,"")}}n.setReadyForReview=k;async function A(Se,Re){try{const Ae=await Se.item.setReadyForReview();try{await Se.item.approve(Se.folderRepositoryManager.repository,"")}catch(Oe){s.window.showErrorMessage(`Pull request marked as ready for review, but failed to approve. ${be(Oe)}`),Se.replyMessage(Re,Ae);return}try{await Se.item.enableAutoMerge(Re.args.mergeMethod)}catch(Oe){s.window.showErrorMessage(`Pull request marked as ready and approved, but failed to enable auto-merge. ${be(Oe)}`),Se.replyMessage(Re,Ae);return}Se.replyMessage(Re,Ae)}catch(Ae){s.window.showErrorMessage(`Unable to mark pull request as ready for review. ${be(Ae)}`),Se.throwError(Re,"")}}n.setReadyForReviewAndMerge=A;async function $(Se,Re){try{const Ae=await Se.item.convertToDraft();Se.replyMessage(Re,Ae)}catch(Ae){s.window.showErrorMessage(s.l10n.t("Unable to convert pull request to draft. {0}",be(Ae))),Se.throwError(Re,"")}}n.setConvertToDraft=$;async function Q(Se){Se.postMessage({command:"pr.readying-for-review"});try{const Ae={isDraft:(await Se.item.setReadyForReview()).isDraft};await Se.postMessage({command:"pr.readied-for-review",result:Ae})}catch(Re){s.window.showErrorMessage(`Unable to set pull request ready for review. ${be(Re)}`),Se.throwError(void 0,Re.message)}}n.readyForReviewCommand=Q;async function re(Se,Re){Se.postMessage({command:"pr.readying-for-review"});try{const[Ae,Oe]=await Promise.all([Se.item.setReadyForReview(),Se.item.approve(Se.folderRepositoryManager.repository)]);await Se.item.enableAutoMerge(Re.mergeMethod),t(Se.existingReviewers,Oe);const Ge={isDraft:Ae.isDraft,autoMerge:!0,reviewEvent:Oe,reviewers:Se.existingReviewers};await Se.postMessage({command:"pr.readied-for-review",result:Ge})}catch(Ae){s.window.showErrorMessage(`Unable to set pull request ready for review. ${be(Ae)}`),Se.throwError(void 0,Ae.message)}}n.readyForReviewAndMergeCommand=re;async function oe(Se,Re){const Ae=await Se.getBranchNameForPullRequest(Re),Oe=[],Ge=await Se.getPullRequestRepositoryDefaultBranch(Re);if(Re.isResolved()){const qe=Re.head.ref,ot=Se.findRepo(bt=>bt.remote.owner===Re.head.owner&&bt.remote.repositoryName===Re.remote.repositoryName);!(Ge===Re.head.ref)&&!Re.isRemoteHeadDeleted&&Oe.push({label:s.l10n.t("Delete remote branch {0}",`${ot==null?void 0:ot.remote.remoteName}/${qe}`),description:`${Re.remote.normalizedHost}/${Re.head.repositoryCloneUrl.owner}/${Re.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(Ae){const qe=s.workspace.getConfiguration(vt).get(`${An}.${Jn}`);Oe.push({label:s.l10n.t("Delete local branch {0}",Ae.branch),type:"local",picked:!!qe});const ot=s.workspace.getConfiguration(vt).get(`${An}.${ci}`);Ae.remote&&Ae.createdForPullRequest&&!Ae.remoteInUse&&Oe.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",Ae.remote),type:"remote",picked:!!ot})}if(s.env.remoteName==="codespaces"&&Oe.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!Oe.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",Re.number)),{isReply:!0,message:{cancelled:!0}};const We=await s.window.showQuickPick(Oe,{canPickMany:!0,ignoreFocusOut:!0});return We?{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:await pe(Se,Re,Ge,Ae,We)}}:{isReply:!0,message:{cancelled:!0}}}n.deleteBranch=oe;async function pe(Se,Re,Ae,Oe,Ge){var We;const qe=Re.equals(Se.activePullRequest)||((We=Se.repository.state.HEAD)==null?void 0:We.name)&&Se.repository.state.HEAD.name===(Oe==null?void 0:Oe.branch),ot=[],kt=Ge.map(async bt=>{switch(bt.type){case"remoteHead":await Se.deleteBranch(Re),ot.push(bt.type),await Se.repository.fetch({prune:!0}),Se.repository.rootUri.scheme===Ut.VscodeVfs&&await Se.repository.checkout(Ae);return;case"local":if(qe){if(Se.repository.state.workingTreeChanges.length){const fn=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},fn)===fn)await s.commands.executeCommand("git.cleanAll");else return}await Se.checkoutDefaultBranch(Ae,Re)}return await Se.repository.deleteBranch(Oe.branch,!0),ot.push(bt.type);case"remote":return ot.push(bt.type),Se.repository.removeRemote(Oe.remote);case"suspend":return ot.push(bt.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(kt),ot}async function me(Se,Re){var Ae;const Oe=await Se.getBranchNameForPullRequest(Re),Ge=await Se.getPullRequestRepositoryDefaultBranch(Re),We=s.workspace.getConfiguration(vt).get(`${An}.${Jn}`,!0);if(!Oe||!We)return;if((await pe(Se,Re,Ge,Oe,[{type:"local"}])).includes("local")){const kt=Oe.branch||((Ae=Re.head)==null?void 0:Ae.ref);kt&&s.window.showInformationMessage(s.l10n.t("Deleted local branch {0}.",kt))}}n.autoDeleteLocalBranchAfterEnqueue=me;async function Ne(Se,Re){var Ae;const Oe=await Se.getBranchNameForPullRequest(Re),Ge=await Se.getPullRequestRepositoryDefaultBranch(Re),We=s.workspace.getConfiguration(vt).get(`${An}.${Jn}`,!0),qe=s.workspace.getConfiguration(vt).get(`${An}.${ci}`,!0),ot=[];Re.isResolved()&&!(Ge===Re.head.ref)&&!Re.isRemoteHeadDeleted&&ot.push({type:"remoteHead"}),Oe&&We&&ot.push({type:"local"}),Oe&&Oe.remote&&Oe.createdForPullRequest&&!Oe.remoteInUse&&qe&&ot.push({type:"remote"});const kt=await pe(Se,Re,Ge,Oe,ot);if(kt.length>0){const bt=kt.includes("local"),fn=kt.includes("remoteHead")||kt.includes("remote"),cn=(Oe==null?void 0:Oe.branch)||((Ae=Re.head)==null?void 0:Ae.ref);cn&&(bt&&fn?s.window.showInformationMessage(s.l10n.t("Deleted local and remote branches for {0}.",cn)):bt?s.window.showInformationMessage(s.l10n.t("Deleted local branch {0}.",cn)):s.window.showInformationMessage(s.l10n.t("Deleted remote branch {0}.",cn)))}}n.autoDeleteBranchesAfterMerge=Ne})(gi||(gi={}));var so=(n=>(n.Comment="comment",n.Approve="approve",n.RequestChanges="requestChanges",n))(so||{}),ud=(n=>(n[n.None=0]="None",n[n.Available=1]="Available",n[n.ReviewedWithComments=2]="ReviewedWithComments",n[n.ReviewedWithoutComments=3]="ReviewedWithoutComments",n))(ud||{}),c_=Object.defineProperty,f_=(n,e,t)=>e in n?c_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ma=(n,e,t)=>f_(n,typeof e!="symbol"?e+"":e,t);const oo=class Pi extends ao{constructor(e,t,i,r,a,o){super(e,t,i,r,a,Pi.viewType,o,{light:"resources/icons/git-pull-request_webview.svg",dark:"resources/icons/dark/git-pull-request_webview.svg"}),ma(this,"_repositoryDefaultBranch"),ma(this,"_existingReviewers",[]),ma(this,"_teamsCount",0),ma(this,"_assignableUsers",{}),ma(this,"_prListeners",[]),ma(this,"_updatingPromise"),ma(this,"generatingDescriptionCancellationToken"),this.registerPrListeners(),this.setVisibilityContext(),this._register(s.commands.registerCommand("pr.readyForReviewDescription",async()=>this.readyForReviewCommand())),this._register(s.commands.registerCommand("pr.readyForReviewAndMergeDescription",async u=>this.readyForReviewAndMergeCommand(u))),this._register(s.commands.registerCommand("review.approveDescription",u=>this.approvePullRequestCommand(u))),this._register(s.commands.registerCommand("review.commentDescription",u=>this.submitReviewCommand(u))),this._register(s.commands.registerCommand("review.requestChangesDescription",u=>this.requestChangesCommand(u))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>Wa(this._item,this._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>Wa(this._item,this._telemetry)))}static async createOrShow(e,t,i,r,a,o=!1,u=!0,k){e.sendTelemetryEvent("pr.openDescription",{isCopilot:(a==null?void 0:a.author.login)===xo?"true":"false"});const A=o?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Pi.currentPanel)Pi.currentPanel._panel.reveal(A,u);else{const $=`Pull Request #${r.number.toString()}`;Pi.currentPanel=new Pi(e,t,A||s.ViewColumn.Active,$,i,k)}await Pi.currentPanel.updateWithIdentity(i,r,a)}set _currentPanel(e){Pi.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}static getCurrentPullRequest(){var e;return(e=this.currentPanel)==null?void 0:e._item}registerPrListeners(){d(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChange(e=>{(e.state||e.comments)&&!this._updatingPromise&&this.refreshPanel()}))}onDidChangeViewState(e){super.onDidChangeViewState(e),this.setVisibilityContext(),this._panel.visible&&this._item&&Pi._onVisible.fire(this._item)}setVisibilityContext(){return ft.setContext(Mt.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){return gi.getCurrentUserReviewState(e,t)}getReviewContext(){return{item:this._item,folderRepositoryManager:this._folderRepositoryManager,existingReviewers:this._existingReviewers,postMessage:e=>this._postMessage(e),replyMessage:(e,t)=>this._replyMessage(e,t),throwError:(e,t)=>this._throwError(e,t),getTimeline:()=>this._getTimeline()}}isUpdateBranchWithGitHubEnabled(){return this._item.item.mergeable===bi.Conflict?this._item.isActive:!0}continueOnGitHub(){const e=!!this._item.base&&!!this._item.head&&!this._item.base.repositoryCloneUrl.equals(this._item.head.repositoryCloneUrl);return super.continueOnGitHub()&&e}preLoadInfoNotRequiredForOverview(e){e.getFileChangesInfo()}async updateItem(e){var t;const i=e.equals(this._item);if(this._updatingPromise&&i){y.error("Already updating pull request webview",Pi.ID);return}else this._updatingPromise&&!i?(this._item=e,await this._updatingPromise):this._item=e;try{const r=Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.getPreferredEmail(e),e.getCoAuthors(),e.validateDraftMode(),this._folderRepositoryManager.getAssignableUsers()]),a=r.finally(()=>{this._updatingPromise===a&&(this._updatingPromise=void 0)});this._updatingPromise=a;const[o,u,k,A,$,Q,re,oe,pe,me,Ne,Se,Re,Ae,Oe,Ge,We]=await r;if(!o)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._item.equals(e))return;this._item=o,this.registerPrListeners(),this._repositoryDefaultBranch=k,this._teamsCount=me,this._assignableUsers=We,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const qe=e.equals(this._folderRepositoryManager.activePullRequest),ot=Q.mergeMethodsAvailability,kt=dd(ot);this._existingReviewers=$c($,u,o.author);const bt=this.isUpdateBranchWithGitHubEnabled(),fn=this.getCurrentUserReviewState(this._existingReviewers,oe);y.debug("pr.initialize",Pi.ID);const cn=(t=this._assignableUsers[e.remote.remoteName])!=null?t:[],On=cn.find(Tt=>pi[Tt.login]),ve=this._existingReviewers.some(Tt=>!Bi(Tt.reviewer)&&Tt.reviewer.login===Ll),Ue=this.getInitializeContext(oe,o,u,Q,pe,cn);this.preLoadInfoNotRequiredForOverview(o);const et=s.workspace.getConfiguration(vt).get(In,Xn).startsWith(Dn)?o.base.ref:k,st={...Ue,canRequestCopilotReview:On!==void 0&&!ve,isCurrentlyCheckedOut:qe,isRemoteBaseDeleted:o.isRemoteBaseDeleted,base:`${o.base.owner}/${o.remote.repositoryName}:${o.base.ref}`,isRemoteHeadDeleted:o.isRemoteHeadDeleted,isLocalHeadDeleted:!re,head:o.head?`${o.head.owner}/${o.remote.repositoryName}:${o.head.ref}`:"",repositoryDefaultBranch:k,doneCheckoutBranch:et,status:A[0],reviewRequirement:A[1],canUpdateBranch:o.item.viewerCanUpdate&&!Se&&bt,mergeable:Re.mergeability,reviewers:this._existingReviewers,isDraft:o.isDraft,mergeMethodsAvailability:ot,defaultMergeMethod:kt,hasReviewDraft:Ge,autoMerge:o.autoMerge,allowAutoMerge:o.allowAutoMerge,autoMergeMethod:o.autoMergeMethod,mergeQueueMethod:Ne,mergeQueueEntry:o.mergeQueueEntry,mergeCommitMeta:o.mergeCommitMeta,squashCommitMeta:o.squashCommitMeta,isIssue:!1,emailForCommit:Ae,currentUserReviewState:fn,revertable:o.state===hi.Merged,isCopilotOnMyBehalf:await lf(o,oe,Oe),generateDescriptionTitle:this.getGenerateDescriptionTitle()};this._postMessage({command:"pr.initialize",pullrequest:st}),o.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(o,!0)}catch(r){s.window.showErrorMessage(`Error updating pull request description: ${be(r)}`)}}async resolveModel(e){return this._folderRepositoryManager.resolvePullRequest(e.owner,e.repo,e.number)}getItemTypeName(){return"Pull Request"}async updateWithIdentity(e,t,i,r){await super.updateWithIdentity(e,t,i,r),Pi._onVisible.fire(this._item)}async update(e,t){const i={owner:t.remote.owner,repo:t.remote.repositoryName,number:t.number};return this.updateWithIdentity(e,i,t,"pr:github")}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.readyForReviewAndMerge":return this.setReadyForReviewAndMerge(e);case"pr.convertToDraft":return this.setConvertToDraft(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.open-changes":return this.openChanges(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview(e);case"pr.re-request-review":return this.reRequestReview(e);case"pr.add-reviewer-copilot":return this.addReviewerCopilot(e);case"pr.revert":return this.revert(e);case"pr.open-session-log":return this.openSessionLog(e);case"pr.cancel-coding-agent":return this.cancelCodingAgent(e);case"pr.openCommitChanges":return this.openCommitChanges(e);case"pr.delete-review":return this.deleteReview(e);case"pr.generate-description":return this.generateDescription(e);case"pr.cancel-generate-description":return this.cancelGenerateDescription();case"pr.change-base-branch":return this.changeBaseBranch(e)}}gotoChangesSinceReview(e){return this._item.showChangesSinceReview?mi.openChanges(this._folderRepositoryManager,this._item):this._item.showChangesSinceReview=!0,this._replyMessage(e,{})}async changeReviewers(e){let t;try{t=await Fp(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const i=Pe(t.onDidAccept).then(()=>t==null?void 0:t.selectedItems.filter(u=>u.user).map(u=>u.user)),r=Pe(t.onDidHide),a=await Promise.race([i,r]);if(t.busy=!0,t.enabled=!1,a){const o=[],u=[];a.forEach(Q=>{(Bi(Q)?u:o).push(Q)});const k=[],A=[];this._existingReviewers.forEach(Q=>{let re=Bi(Q.reviewer)?u:o,oe=Bi(Q.reviewer)?A:k;re.find(pe=>pe.id===Q.reviewer.id)||oe.push(Q.reviewer)}),await this._item.requestReview(o,u),await this._item.deleteReviewRequest(k,A);const $=a.map(Q=>({reviewer:Q,state:"REQUESTED"}));this._existingReviewers=$,await this._replyMessage(e,{reviewers:$})}}catch(i){y.error(be(i),Pi.ID),s.window.showErrorMessage(be(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async applyPatch(e){try{const t=e.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),o=new TextEncoder;await s.workspace.fs.writeFile(a,o.encode(r[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){y.error(`Applying patch failed: ${t}`,Pi.ID),s.window.showErrorMessage(`Applying patch failed: ${be(t)}`)}}_getTimeline(){return this._item.getTimelineEvents()}async openDiff(e){try{const t=e.args.comment;return mi.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){y.error(`Open diff view failed: ${be(t)}`,Pi.ID)}}async openSessionLog(e){try{const t=od.getResource(this._item.number,e.args.link.sessionIndex);return s.commands.executeCommand("vscode.open",t)}catch(t){y.error(`Open session log view failed: ${be(t)}`,Pi.ID)}}async cancelCodingAgent(e){try{let t=!1;if(e.args.event!==nn.CopilotStarted)return this._replyMessage(e,{success:!1,error:"Invalid event type"});{const a=await _p(this._folderRepositoryManager.credentialStore,this._telemetry,this._item.remote.authProviderId);if(a){const o=(await a.getAllSessions(this._item.id))[0];o.state!=="completed"&&(t=await this._item.githubRepository.cancelWorkflow(o.workflow_run_id))}}let i=[];if(t)do i=await this._getTimeline();while(Vu(pw(i))!==Zr.Completed&&await new Promise(a=>setTimeout(()=>a(!0),2e3)));const r={events:i};this._replyMessage(e,r)}catch(t){y.error(`Cancelling coding agent failed: ${be(t)}`,Pi.ID),s.window.showErrorMessage(s.l10n.t("Cannot cancel coding agent"));const i={events:[]};this._replyMessage(e,i)}}async openCommitChanges(e){try{const{commitSha:t}=e.args;await mi.openCommitChanges(this._extensionUri,this._item.githubRepository,t),this._replyMessage(e,{})}catch(t){y.error(`Failed to open commit changes: ${be(t)}`,Pi.ID),s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",be(t)))}}async openChanges(e){var t;const i=((t=e==null?void 0:e.args)==null?void 0:t.openToTheSide)||!1;return mi.openChanges(this._folderRepositoryManager,this._item,i)}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._getTimeline();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}async mergePullRequest(e){const{title:t,description:i,method:r,email:a}=e.args;try{const o=await this._item.merge(this._folderRepositoryManager.repository,t,i,r,a);o.merged?s.workspace.getConfiguration(vt).get(qn,!1)&&await gi.autoDeleteBranchesAfterMerge(this._folderRepositoryManager,this._item):s.window.showErrorMessage(`Merging pull request failed: ${o.message}`);const u={state:o.merged?hi.Merged:hi.Open,revertable:o.merged,events:o.timeline};this._replyMessage(e,u)}catch(o){s.window.showErrorMessage(`Unable to merge pull request. ${be(o)}`),this._throwError(e,"")}}async changeEmail(e){const t=await s_(this._item.githubRepository,e.args);return t&&this._folderRepositoryManager.saveLastUsedEmail(t),this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await gi.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}async setReadyForReview(e){return gi.setReadyForReview(this.getReviewContext(),e)}async setReadyForReviewAndMerge(e){return gi.setReadyForReviewAndMerge(this.getReviewContext(),e)}async setConvertToDraft(e){return gi.setConvertToDraft(this.getReviewContext(),e)}async readyForReviewCommand(){return gi.readyForReviewCommand(this.getReviewContext())}async readyForReviewAndMergeCommand(e){return gi.readyForReviewAndMergeCommand(this.getReviewContext(),e)}async checkoutDefaultBranch(e){return gi.checkoutDefaultBranch(this.getReviewContext(),e)}async doReviewCommand(e,t,i){const r=await gi.doReviewCommand(this.getReviewContext(),e,t,!0,i);r&&this.tryScheduleCopilotRefresh(r.body,r.state)}async doReviewMessage(e,t){const i=await gi.doReviewMessage(this.getReviewContext(),e,!0,t);i&&this.tryScheduleCopilotRefresh(i.body,i.state)}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,so.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,so.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(ca.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,so.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){return gi.reRequestReview(this.getReviewContext(),e)}async addReviewerCopilot(e){var t;try{if((t=this._assignableUsers[this._item.remote.remoteName])==null?void 0:t.find(r=>pi[r.login])){await this._item.requestReview([Pm],[]);const r=await this._item.getReviewRequests();this._existingReviewers=$c(r,await this._item.getTimelineEvents(),this._item.author);const a={reviewers:this._existingReviewers};this._replyMessage(e,a)}else this._throwError(e,"Copilot reviewer not found.")}catch(i){s.window.showErrorMessage(be(i)),this._throwError(e,be(i))}}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const i={revertable:!t};return this._replyMessage(e,i)})}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();if(s.workspace.getConfiguration(vt).get(qn,!1)&&t)try{await gi.autoDeleteLocalBranchAfterEnqueue(this._folderRepositoryManager,this._item)}catch(r){y.appendLine(`Auto-delete local branch after enqueue failed: ${be(r)}`,Pi.ID),s.window.showWarningMessage(s.l10n.t("Auto-deleting the local branch after enqueueing to the merge queue failed."))}this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){return gi.updateBranch(this.getReviewContext(),e,()=>this.refreshPanel(),()=>this.isUpdateBranchWithGitHubEnabled())}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}async deleteReview(e){try{const t=await this._item.deleteReview();await this._replyMessage(e,t)}catch(t){y.error(be(t),Pi.ID),s.window.showErrorMessage(s.l10n.t("Deleting review failed. {0}",be(t))),this._throwError(e,`${be(t)}`)}}getGenerateDescriptionTitle(){const e=this._folderRepositoryManager.getTitleAndDescriptionProvider();return e?`Generate description with ${e.title}`:void 0}async generateDescription(e){this.generatingDescriptionCancellationToken&&this.generatingDescriptionCancellationToken.cancel(),this.generatingDescriptionCancellationToken=new s.CancellationTokenSource;try{const t=this._folderRepositoryManager.getTitleAndDescriptionProvider();if(!t)return this._replyMessage(e,{description:void 0});const[i,r]=await Promise.all([this._item.getCommits(),this._item.getRawFileChangesInfo()]),a=i.map(A=>A.commit.message),o=r.filter(A=>A.patch!==void 0).map(A=>{const $=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,A.filename).toString(),Q=A.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,A.previous_filename).toString():void 0;return{patch:A.patch,fileUri:$,previousFileUri:Q}}),u=await this._folderRepositoryManager.getPullRequestTemplateBody(this._item.remote.owner),k=await t.provider.provideTitleAndDescription({commitMessages:a,patches:o,issues:[],template:u},this.generatingDescriptionCancellationToken.token);return this.generatingDescriptionCancellationToken=void 0,this._replyMessage(e,{description:k==null?void 0:k.description})}catch(t){return y.error(`Error generating description: ${be(t)}`,Pi.ID),this.generatingDescriptionCancellationToken=void 0,this._replyMessage(e,{description:void 0})}}async cancelGenerateDescription(){this.generatingDescriptionCancellationToken&&(this.generatingDescriptionCancellationToken.cancel(),this.generatingDescriptionCancellationToken=void 0)}async changeBaseBranch(e){const t=s.window.createQuickPick();let i=0;const r=async u=>{const k=++i;t.busy=!0;const A=await Op(this._item.githubRepository,this._folderRepositoryManager,void 0,!0,u);k===i&&(t.items=A,t.busy=!1)},a=zc(r,300),o=t.onDidChangeValue(async u=>a(u));try{t.busy=!0,t.canSelectMany=!1,t.placeholder=s.l10n.t("Select a new base branch"),t.show(),await r(void 0),t.busy=!1;const u=Pe(t.onDidAccept).then(()=>{var $;return($=t.selectedItems[0])==null?void 0:$.branch}),k=Pe(t.onDidHide),A=await Promise.race([u,k]);if(t.busy=!0,t.enabled=!1,A)try{await this._item.updateBaseBranch(A);const $=await this._getTimeline(),Q={base:A,events:$};await this._replyMessage(e,Q)}catch($){y.error(be($),Pi.ID),s.window.showErrorMessage(s.l10n.t("Changing base branch failed. {0}",be($))),this._throwError(e,`${be($)}`)}}catch(u){y.error(be(u),Pi.ID),s.window.showErrorMessage(be(u))}finally{t.hide(),o.dispose(),t.dispose()}}dispose(){super.dispose(),d(this._prListeners)}static dispose(){Pi._onVisible.dispose()}};ma(oo,"ID","PullRequestOverviewPanel"),ma(oo,"viewType",Wc),ma(oo,"currentPanel"),ma(oo,"_onVisible",new s.EventEmitter),ma(oo,"onVisible",oo._onVisible.event);let ir=oo;function dd(n){const e=s.workspace.getConfiguration(vt).get(vn);return e&&n.hasOwnProperty(e)&&n[e]?e:["merge","squash","rebase"].find(i=>n[i])}var h_=Object.defineProperty,m_=(n,e,t)=>e in n?h_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lo=(n,e,t)=>m_(n,typeof e!="symbol"?e+"":e,t);const ef=class em extends yp{constructor(e,t,i,r){if(super(t,r),this.pullRequestModel=e,lo(this,"_pendingCommentThreadAdds",[]),lo(this,"_commentHandlerId"),lo(this,"_commentThreadCache",{}),lo(this,"_context"),lo(this,"_githubRepositories"),this._commentController=i,this._context=t.context,this._commentHandlerId=gp(),Ji(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(i=>{Gm(i,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==Ut.Pr)return;const i=ki(t);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],i=r=>{const a=ki(r.uri);if(a&&a.prNumber===this.pullRequestModel.number)return r.editor?Promise.resolve(r.editor.document):(y.trace(`Opening text document for PR editor ${r.uri.toString()}`,em.ID),s.workspace.openTextDocument(r.uri))};for(const r of e){const a=[];r instanceof s.TabInputText?a.push({uri:r.uri}):r instanceof s.TabInputTextDiff?a.push({uri:r.original},{uri:r.modified}):a.push({uri:r.document.uri,editor:r}),t.push(...a.map(i).filter(o=>!!o))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,i=q(t,a=>a.path),r=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:o,isBase:u}=ki(a.uri),k=this.getCommentThreadCacheKey(o,u);this._commentThreadCache[k]||i[o]&&(this._commentThreadCache[k]=i[o].filter(A=>(A.diffSide===xi.LEFT&&u||A.diffSide===xi.RIGHT&&!u)&&A.endLine!==null).map(A=>{const $=A.endLine-1,Q=A.subjectType===Ba.FILE?void 0:$l(A.startLine-1,$,a.lineAt($).range.end.character);return Hl(this._context,a.uri,Q,A,this._commentController,r,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(Wc))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(i=>i.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await mi.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const i of e)t.push(await s.workspace.openTextDocument(i.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const i=await this.openAllTextDocuments();await this.addThreadsForEditors(i)}e.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}async onDidChangeReviewThreads(e){for(const t of e.added){const i=t.path,r=this._pendingCommentThreadAdds.findIndex(u=>{const k=this._folderRepoManager.gitRelativeRootPath(u.uri.path)===t.path,A=u.range===void 0&&t.subjectType===Ba.FILE||u.range&&u.range.end.line+1===t.endLine;return k&&A});let a;if(r>-1)a=this._pendingCommentThreadAdds[r],a.gitHubThreadId=t.id,a.comments=t.comments.map(u=>new Ki(this._context,u,a,this._githubRepositories)),$m(this._context,a,t,this._githubRepositories,void 0,!0),this._pendingCommentThreadAdds.splice(r,1);else{const k=(await this.getPREditors(s.window.visibleTextEditors)).find(A=>{const $=ki(A.uri),Q=t.diffSide===xi.RIGHT&&!($!=null&&$.isBase)||t.diffSide===xi.LEFT&&($==null?void 0:$.isBase);return($==null?void 0:$.fileName)===i&&Q});if(k){const A=t.endLine-1,$=t.subjectType===Ba.FILE?void 0:$l(t.startLine-1,A,k.lineAt(A).range.end.character);a=Hl(this._context,k.uri,$,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this._githubRepositories)}}if(!a)return;const o=this.getCommentThreadCacheKey(t.path,t.diffSide===xi.LEFT);this._commentThreadCache[o]?this._commentThreadCache[o].push(a):this._commentThreadCache[o]=[a]}for(const t of e.changed){const i=this.getCommentThreadCacheKey(t.path,t.diffSide===xi.LEFT),r=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id):-1;if(r>-1){const a=this._commentThreadCache[i][r];Ku(this._context,a,t,this._githubRepositories)}}for(const t of e.removed){const i=this.getCommentThreadCacheKey(t.path,t.diffSide===xi.LEFT),r=this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id);if(r>-1){const a=this._commentThreadCache[i][r];this._commentThreadCache[i].splice(r,1),a.dispose()}}}onDidChangeActiveTextEditor(e){const t=s.window.tabGroups.activeTabGroup.activeTab,i=(t==null?void 0:t.input)instanceof s.TabInputText?t.input.uri:(t==null?void 0:t.input)instanceof s.TabInputTextDiff?t.input.original:void 0;if(e===void 0||!e.document.uri.authority.startsWith(em.PREFIX)||!i||i.scheme!==Ut.Pr)return;const r=ki(i);if(!(!r||r.prNumber!==this.pullRequestModel.number))return this.tryAddCopilotMention(e,this.pullRequestModel)}hasCommentThread(e){if(e.uri.scheme!==Ut.Pr)return!1;const t=ki(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=ki(e.uri);return t!=null&&t.isBase?xi.LEFT:xi.RIGHT}async createOrReplyComment(e,t,i,r){var a;const o=e.comments.length,u=i?!1:r!==void 0?r:this.pullRequestModel.hasPendingReview,k=await this.optimisticallyAddComment(e,t,u);try{if(o)await this.reply(e,t,i);else{const A=this._folderRepoManager.gitRelativeRootPath(e.uri.path),$=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await Promise.all([this.pullRequestModel.createReviewThread(t,A,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,$,i),zu(e,await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),this._context)])}i&&await this.pullRequestModel.submitReview()}catch(A){(a=A.graphQLErrors)!=null&&a.length&&A.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then($=>{$==="Refresh"&&this.pullRequestModel.githubRepository.getPullRequest(this.pullRequestModel.number)}):s.window.showErrorMessage(`Creating comment failed: ${A}`),e.comments=e.comments.map($=>($ instanceof ha&&$.id===k&&($.mode=s.CommentMode.Editing),$))}}reply(e,t,i){const r=e.comments[0];if(r instanceof Ki)return this.pullRequestModel.createCommentReply(t,r.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new ha(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Ki&&a.commentId===t.commentId?r:a),r.id}async editComment(e,t){if(t instanceof Ki){const i=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(`Editing comment failed ${r}`),e.comments=e.comments.map(a=>a instanceof ha&&a.id===i?new Ki(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Ki?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(i=>!(i instanceof ha&&i.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r)await this.reply(e,t,!1);else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),u=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,o,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,u)}this.setContextKey(!0)}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(u=>(u instanceof ha&&u.id===a&&(u.mode=s.CommentMode.Editing),u))}}async openReview(){const e={owner:this.pullRequestModel.remote.owner,repo:this.pullRequestModel.remote.repositoryName,number:this.pullRequestModel.number};await ir.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,e,this.pullRequestModel),ir.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new ha(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Bo(e)}async createCommentOnResolve(e,t){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,t){if(e.parent.uri.scheme===Ut.Pr)try{e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){const r=be(i);if(r.includes("does not have the correct permissions to execute `RemoveReaction`"))return;throw new Error(r)}}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{d(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),Zt(this._commentHandlerId)}};lo(ef,"ID","PullRequestCommentController"),lo(ef,"PREFIX","github-browse");let Lp=ef;var p_=Object.defineProperty,v_=(n,e,t)=>e in n?p_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cd=(n,e,t)=>v_(n,typeof e!="symbol"?e+"":e,t);class g_ extends f{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,cd(this,"_prCommentHandlers",{}),cd(this,"_prCommentingRangeProviders",{}),cd(this,"_activeChangeListeners",new Map),cd(this,"resourceHints",{schemes:[Ut.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const i=e.uri,r=ki(i);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provider.provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber].provider)(e,t)}async toggleReaction(e,t){const i=e.parent.uri,r=ki(i);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(i)||this._activeChangeListeners.set(i,i.onDidChangeActivePullRequest(a=>{var o;a.old&&((o=this._prCommentHandlers[a.old.number])==null||o.dispose())}));const r=new Lp(t,i,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]?(this._prCommentingRangeProviders[e].refCount+=1,this._prCommentingRangeProviders[e]):(this._prCommentingRangeProviders[e]={provider:t,refCount:1,dispose:()=>{this._prCommentingRangeProviders[e]&&(this._prCommentingRangeProviders[e].refCount-=1,this._prCommentingRangeProviders[e].refCount===0&&delete this._prCommentingRangeProviders[e])}},this._prCommentingRangeProviders[e])}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var y_=Object.defineProperty,b_=(n,e,t)=>e in n?y_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rr=(n,e,t)=>b_(n,typeof e!="symbol"?e+"":e,t);const Up=20,Bp="GraphQL";var pa=(n=>(n.Unknown="unknown",n.Admin="ADMIN",n.Maintain="MAINTAIN",n.Read="READ",n.Triage="TRIAGE",n.Write="WRITE",n))(pa||{}),Wo=(n=>(n[n.None=0]="None",n[n.Try=1]="Try",n[n.Force=2]="Force",n))(Wo||{}),qp=(n=>(n.Unprocessable="UNPROCESSABLE",n))(qp||{}),Ha=(n=>(n.NotCopilotIssue="NotCopilotIssue",n.InProgress="InProgress",n.Error="Error",n.Done="Done",n))(Ha||{});const $p=class Sb extends f{constructor(e,t,i,r,a,o=!1){super(),this._id=e,this.remote=t,this.rootUri=i,this._credentialStore=r,this.telemetry=a,rr(this,"_initialized",!1),rr(this,"_hub"),rr(this,"_metadata"),rr(this,"commentsController"),rr(this,"commentsHandler"),rr(this,"_pullRequestModelsByNumber",new(xc())({maxAge:1e3*60*60*4,stale:!0,updateAgeOnGet:!0,dispose:(u,k)=>{d(k.disposables),k.model.dispose()}})),rr(this,"_issueModelsByNumber",new(xc())({maxAge:1e3*60*60*4,stale:!0,updateAgeOnGet:!0,dispose:(u,k)=>{d(k.disposables),k.model.dispose()}})),rr(this,"_queriesSchema"),rr(this,"_areQueriesLimited",!1),rr(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),rr(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),rr(this,"_onDidChangePullRequests",this._register(new s.EventEmitter)),rr(this,"onDidChangePullRequests",this._onDidChangePullRequests.event),rr(this,"query",async(u,k=!1,A)=>{var $,Q,re;const oe=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!oe){const me=($=u.query.definitions[0].name)==null?void 0:$.value;return y.debug(`Not available for query: ${me!=null?me:"unknown"}`,Bp),{data:null,loading:!1,networkStatus:qi.error,stale:!1}}let pe;try{pe=await oe.query(u)}catch(me){const Ne=(Q=u.query.definitions[0].name)==null?void 0:Q.value,Se=me.graphQLErrors?me.graphQLErrors:void 0;if(y.error(`Error querying GraphQL API (${Ne}): ${me.message}${Se?`. ${Se.map(Re=>{var Ae;return(Ae=Re.extensions)==null?void 0:Ae.code}).join(",")}`:""}`,this.id),A)return u.query=A.query,u.variables=A.variables,this.query(u,k);if(Se&&Se.length&&Se.some(Re=>{var Ae;return((Ae=Re.extensions)==null?void 0:Ae.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=xl(Wl(),dp()),u.query=this.schema[u.query.definitions[0].name.value],pe=await oe.query(u);else if(!(k&&Uc(me)))if((re=me.message)!=null&&re.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),pe=await oe.query(u);else throw me.graphQLErrors&&me.graphQLErrors.length&&me.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(u),me}return pe}),rr(this,"mutate",async(u,k)=>{var A;const $=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!$)return y.debug(`Not available for query: ${u.context}`,Bp),{data:null};let Q;try{Q=await $.mutate(u)}catch(re){if(k){if(u.mutation=k.mutation,(A=u.variables)!=null&&A.input)for(const oe of k.deleteProps)delete u.variables.input[oe];return this.mutate(u)}else re.graphQLErrors&&re.graphQLErrors.length&&re.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(u);throw re}return Q}),rr(this,"_repoAccessAndMergeMethods"),rr(this,"_branchHasMergeQueue",new Map),rr(this,"_useFallbackChecks",!1),this._queriesSchema=xl(Wl(),up()),o||this.ensureCommentsController()}get areQueriesLimited(){return this._areQueriesLimited}get hub(){if(!this._hub)throw this._initialized?new Wu:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}getExistingPullRequestModel(e){var t;return(t=this._pullRequestModelsByNumber.get(e))==null?void 0:t.model}getExistingIssueModel(e){var t;return(t=this._issueModelsByNumber.get(e))==null?void 0:t.model}get pullRequestModels(){return Array.from(this._pullRequestModelsByNumber.values().map(e=>e.model))}get issueModels(){return Array.from(this._issueModelsByNumber.values().map(e=>e.model))}async ensureCommentsController(){var e;try{if(await this.ensure(),this.commentsController)return;this.commentsController=s.comments.createCommentController(`${Lp.PREFIX}-${(e=this.remote.gitProtocol.normalizeUri())==null?void 0:e.authority}-${this.remote.remoteName}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new g_(this.commentsController,this.telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(t){console.log(t)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${Sb.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===Ti.GitHubDotCom&&this._credentialStore.isAuthenticated(Fn.github)?!0:!!(this.remote.githubServerType===Ti.Enterprise&&this._credentialStore.isAuthenticated(Fn.githubEnterprise))}async codespacesTokenError(e){var t;if(nd()&&((t=await this._metadata)!=null&&t.fork))throw this.telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){var i;if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return y.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;y.debug("Fetch metadata for repo - enter",this.id);const{octokit:r}=await this.ensure(),a=await r.call(r.api.repos.get,{owner:e,repo:t});return y.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...a.data,currentUser:await((i=this._hub)==null?void 0:i.currentUser)}}async getMetadata(){var e;if(this._metadata){const i=await this._metadata;return y.debug(`Using cached metadata ${(e=i.owner)==null?void 0:e.login}/${i.name}`,this.id),i}y.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),y.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=xs.remoteAsGitHub(Vo(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(y.warn(`Unable to resolve remote: ${e}`),Uc(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)||this.remote.authProviderId===Fn.githubEnterprise?(this._areQueriesLimited=!0,this._queriesSchema=xl(Wl(),dp())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=xl(Wl(),gk()):this._queriesSchema=xl(Wl(),up())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=rp();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){y.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{y.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),r=await e({query:i.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch pull request templates - done",this.id),r.data.repository.pullRequestTemplates.map(a=>a.body)}catch{}}async getRepoAccessAndMergeMethods(e=!1){var t,i,r,a,o,u;try{if(!this._repoAccessAndMergeMethods||e){y.debug("Fetch repo permissions and available merge methods - enter",this.id);const k=await this.getMetadata();y.debug("Fetch repo permissions and available merge methods - done",this.id);const A=(i=(t=k.permissions)==null?void 0:t.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:A,mergeMethodsAvailability:{merge:(r=k.allow_merge_commit)!=null?r:!1,squash:(a=k.allow_squash_merge)!=null?a:!1,rebase:(o=k.allow_rebase_merge)!=null?o:!1},viewerCanAutoMerge:(u=k.allow_auto_merge&&A)!=null?u:!1}}return this._repoAccessAndMergeMethods}catch(k){y.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${k}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,i;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{y.debug("Fetch branch has merge queue - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();if(!o.MergeQueueForBranch)return;const u=await r({query:o.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});y.debug("Fetch branch has merge queue - done",this.id);const k=Jm((i=(t=u.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:i.mergeMethod);return k&&this._branchHasMergeQueue.set(e,k),k}catch(r){y.error(`Fetching branch has merge queue failed: ${r}`,this.id)}}async commit(e,t,i){y.debug(`Committing files to branch ${e} - enter`,this.id);let r=!1;try{const{octokit:a,remote:o}=await this.ensure(),u=(await a.call(a.api.repos.getBranch,{owner:o.owner,repo:o.repositoryName,branch:e})).data.commit.sha,k=(await a.call(a.api.repos.getCommit,{owner:o.owner,repo:o.repositoryName,ref:u})).data.commit.tree.sha,A=[];for(const[re,oe]of i)A.push({path:re.substring(1),mode:"100644",content:oe.toString()});const $=(await a.call(a.api.git.createTree,{owner:o.owner,repo:o.repositoryName,base_tree:k,tree:A})).data.sha,Q=(await a.call(a.api.git.createCommit,{owner:o.owner,repo:o.repositoryName,message:t,tree:$,parents:[u]})).data.sha;await a.call(a.api.git.updateRef,{owner:o.owner,repo:o.repositoryName,ref:`heads/${e}`,sha:Q}),r=!0}catch(a){y.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return y.debug(`Committing files to branch ${e} - done`,this.id),r}async getCommitParent(e){y.debug(`Fetch commit for ref ${e} - enter`,this.id);try{const{octokit:t,remote:i}=await this.ensure();return(await t.call(t.api.repos.getCommit,{owner:i.owner,repo:i.repositoryName,ref:e})).data.parents[0].sha}catch(t){y.error(`Fetching commit for ref ${e} failed: ${t}`,this.id)}y.debug(`Fetch commit for ref ${e} - done`,this.id)}async getAllPullRequests(e){let t;try{y.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();t=i.remote;const r=i.octokit,a=await r.call(r.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:Up,page:e||1}),o=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return y.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const u=a.data.map(k=>k.head.repo?this.createOrUpdatePullRequestModel(Qu(k,this)):(y.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(k=>k!==null);return y.debug("Fetch all pull requests - done",this.id),{items:u,hasMorePages:o}}catch(i){if(y.error(`Fetching all pull requests failed: ${i}`,this.id),i.status===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestNumbers(){var e;let t;try{y.debug("Fetch pull request numbers - enter",this.id);const i=await this.ensure();t=i.remote;const{query:r,schema:a}=i,{data:o}=await r({query:a.PullRequestNumbers,variables:{owner:t.owner,name:t.repositoryName,first:100}});if(y.debug("Fetch pull request numbers - done",this.id),(e=o==null?void 0:o.repository)!=null&&e.pullRequests)return o.repository.pullRequests.nodes}catch(i){if(y.error(`Fetching pull request numbers failed: ${i}`,this.id),i.status===404)s.window.showWarningMessage(`Fetching pull request numbers for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(e,t){var i;let r;try{y.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();r=a.remote;const{query:o,schema:u}=a,{data:k}=await o({query:u.PullRequestForHead,variables:{owner:r.owner,name:r.repositoryName,headRefName:e}});if(y.debug("Fetch pull requests for branch - done",this.id),k!=null&&k.repository&&k.repository.pullRequests.nodes.length>0){const A=(await Promise.all(k.repository.pullRequests.nodes.map(Q=>Vl(Q,this)))).filter(Q=>{var re;return((re=Q.head)==null?void 0:re.repo.owner)===t});if(A.length===0)return;const $=(i=A.find(Q=>Q.state.toLowerCase()==="open"))!=null?i:A[0];return this.createOrUpdatePullRequestModel($)}}catch(a){y.error(`Fetching pull request for branch failed: ${a}`,this.id),a.status===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${r==null?void 0:r.remoteName}' failed, please check if the repository ${r==null?void 0:r.owner}/${r==null?void 0:r.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){y.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:i}=await this.ensure();const r=[];try{const{data:a}=await e({query:i.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(o=>{r.push(o)})}catch(a){return y.error(`Unable to fetch org projects: ${a}`,this.id),r}return y.debug("Fetch org projects - done",this.id),r}async getProjects(){var e;try{y.debug("Fetch projects - enter",this.id);let{query:t,remote:i,schema:r}=await this.ensure();if(!r.GetRepoProjects){const u=await this.ensureAdditionalScopes();t=u.query,i=u.remote,r=u.schema}const{data:a}=await t({query:r.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});y.debug("Fetch projects - done",this.id);const o=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(u=>{o.push(u)}),o}catch(t){y.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{y.debug("Fetch milestones - enter",this.id);const{query:i,remote:r,schema:a}=await this.ensure(),o=["OPEN"];e&&o.push("CLOSED");const{data:u}=await i({query:a.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:o}});y.debug("Fetch milestones - done",this.id);const k=[];return u&&((t=u.repository)!=null&&t.milestones)&&u.repository.milestones.nodes&&u.repository.milestones.nodes.forEach(A=>{const $=Ju(A);$&&k.push($)}),k}catch(i){y.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(e,t,i,r){var a;y.debug("Fetch milestones - enter",this.id);const{query:o,remote:u,schema:k}=await this.ensure(),{data:A}=await o({query:k.GetFileContent,variables:{owner:u.owner,name:u.repositoryName,expression:`${e}:${t}`}});if((a=A.repository)!=null&&a.object.text)return A.repository.object.text.split(`
`).slice(i-1,r).join(`
`)}async getIssues(e,t){try{y.debug("Fetch issues with query - enter",this.id);const{query:i,schema:r}=await this.ensure(),{data:a}=await i({query:r.Issues,variables:{query:`${t} type:issue`}});y.debug("Fetch issues with query - done",this.id);const o=[];return a&&a.search.edges&&await Promise.all(a.search.edges.map(async u=>{u.node.id&&o.push(await Zm(u.node,this))})),{items:o,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(i){y.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async _getMaxItem(e){try{y.debug(`Fetch max ${e?"issue":"pull request"} - enter`,this.id);const{query:t,remote:i,schema:r}=await this.ensure(),{data:a}=await t({query:e?r.MaxIssue:r.MaxPullRequest,variables:{owner:i.owner,name:i.repositoryName}});return y.debug(`Fetch max ${e?"issue":"pull request"} - done`,this.id),a!=null&&a.repository&&a.repository.issues.edges.length===1?a.repository.issues.edges[0].node.number:void 0}catch(t){y.error(`Unable to fetch ${e?"issues":"pull requests"} with query: ${t}`,this.id);return}}async getMaxIssue(){return this._getMaxItem(!0)}async getMaxPullRequest(){return this._getMaxItem(!1)}async getViewerPermission(){try{y.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch viewer permission - done",this.id),nk(r)}catch(e){return y.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async getWorkflowRunsFromAction(e){const{octokit:t,remote:i}=await this.ensure(),r=new Date(e),a=`>=${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;return await jl(t.api.actions.listWorkflowRunsForRepo,{owner:i.owner,repo:i.repositoryName,event:"dynamic",created:a})}async getWorkflowJobs(e){const{octokit:t,remote:i}=await this.ensure();return(await t.call(t.api.actions.listJobsForWorkflowRun,{owner:i.owner,repo:i.repositoryName,run_id:e})).data.jobs}async fork(){try{y.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure(),i=await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName});y.debug("Fork repository - done",this.id);const r=Date.now();let a=async()=>{try{return await e.call(e.api.repos.get,{owner:i.data.owner.login,repo:i.data.name}),y.appendLine("Fork ready",this.id),!0}catch{return y.appendLine("Fork not ready yet",this.id),!1}};for(;!await a()&&Date.now()-r<5e3;)await new Promise(o=>setTimeout(o,500));return i.data.clone_url}catch(e){y.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{y.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch repository fork details - done",this.id),r.repository}catch(e){y.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return await this._credentialStore.getCurrentUser(this.remote.authProviderId)}async getAuthenticatedUserEmails(){try{y.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticatedUser,{});y.debug("Fetch authenticated user emails - done",this.id);const i=t.some(r=>r.visibility==="private");return t.filter(r=>i?r.email.endsWith("@users.noreply.github.com"):r.verified).sort((r,a)=>+a.primary-+r.primary).map(r=>r.email)}catch(e){return y.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e,t=!1){var i;let r=(i=this._pullRequestModelsByNumber.get(e.number))==null?void 0:i.model;if(r)r.update(e);else{r=new mi(this._credentialStore,this.telemetry,this,this.remote,e);const a=r,o=[];o.push(r.onDidChange(u=>this._onPullRequestModelChanged(a,u))),this._pullRequestModelsByNumber.set(e.number,{model:r,disposables:o}),t||this._onDidAddPullRequest.fire(r)}return r}createOrUpdateIssueModel(e){var t;let i=(t=this._issueModelsByNumber.get(e.number))==null?void 0:t.model;if(i)i.update(e);else{i=new nr(this.telemetry,this,this.remote,e);const r=[];this._issueModelsByNumber.set(e.number,{model:i,disposables:r})}return i}_onPullRequestModelChanged(e,t){this._onDidChangePullRequests.fire([{model:e,event:t}])}async createPullRequest(e){try{y.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:i,schema:r}=await this.ensure(),{data:a}=await i({mutation:r.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(y.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(await Vl(a.createPullRequest.pullRequest,this))}catch(t){throw y.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,i,r){try{y.debug("Revert pull request - enter",this.id);const{mutate:a,schema:o}=await this.ensure(),{data:u}=await a({mutation:o.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:i,draft:r}}});if(y.debug("Revert pull request - done",this.id),!u)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(await Vl(u.revertPullRequest.revertPullRequest,this))}catch(a){throw y.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e,t=!1){if(t&&this._pullRequestModelsByNumber.has(e))return y.debug(`Using cached pull request model for ${e}`,this.id),this._pullRequestModelsByNumber.get(e).model;try{const{query:i,remote:r,schema:a}=await this.ensure();y.debug(`Fetch pull request ${r.owner}/${r.repositoryName} ${e} - enter`,this.id);const{data:o}=await i({query:a.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){y.error("Unexpected null repository when getting PR",this.id);return}y.debug(`Fetch pull request ${e} - done`,this.id);const u=this.createOrUpdatePullRequestModel(await Vl(o.repository.pullRequest,this));return await u.getLastUpdateTime(new Date(u.item.updatedAt)),u}catch(i){y.error(`Unable to fetch PR: ${i}`,this.id);return}}async getIssue(e,t=!1,i=!1){var r;if(i){const a=(r=this._issueModelsByNumber.get(e))==null?void 0:r.model;if(a)return y.debug(`Using cached issue model for ${e}`,this.id),a}try{y.debug(`Fetch issue ${e} - enter`,this.id);const{query:a,remote:o,schema:u}=await this.ensure(),{data:k}=await a({query:t?u.IssueWithComments:u.Issue,variables:{owner:o.owner,name:o.repositoryName,number:e}},!0);if(k.repository===null){y.error("Unexpected null repository when getting issue",this.id);return}y.debug(`Fetch issue ${e} - done`,this.id);const A=this.createOrUpdateIssueModel(await Zm(k.repository.issue,this));return await A.getLastUpdateTime(new Date(A.item.updatedAt)),A}catch(a){y.error(`Unable to fetch issue: ${a}`,this.id);return}}async getFile(e,t){var i;const{octokit:r,remote:a}=await this.ensure();let o="",u;y.debug(`Fetch file ${e} - enter`,this.id);try{if(u=await r.call(r.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(u.data))throw new Error(`Unexpected array response when getting file ${e}`);o=(i=u.data.content)!=null?i:""}catch(A){if(y.error(`Unable to fetch file ${e}: ${A}`,this.id),A.status===404)return new Uint8Array(0);throw A}if(o===""&&u.data.encoding==="none"){y.debug(`Fetch blob file ${e} - enter`,this.id);const A=u.data.sha;u=await r.call(r.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:A}),o=u.data.content,y.debug(`Fetch blob file ${e} - done`,this.id)}const k=lr.Buffer.from(o,u.data.encoding);return y.debug(`Fetch file ${e}, file length ${o.length} - done`,this.id),k}async hasBranch(e){var t,i,r;y.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:a,remote:o,schema:u}=await this.ensure(),{data:k}=await a({query:u.GetBranch,variables:{owner:o.owner,name:o.repositoryName,qualifiedName:`refs/heads/${e}`}});return y.appendLine(`Fetch branch ${e} - done: ${((t=k.repository)==null?void 0:t.ref)!==null}`,this.id),(r=(i=k.repository)==null?void 0:i.ref)==null?void 0:r.target.oid}async listBranches(e,t,i){const{query:r,remote:a,schema:o}=await this.ensure();y.debug(`List branches for ${e}/${t} - enter`,this.id);let u=null,k=!1;const A=[],$=(await this.getMetadataForRepo(e,t)).default_branch,Q=new Date().getTime(),re=s.workspace.getConfiguration(vt).get(Ct,5e3);do try{const{data:oe}=await r({query:o.ListBranches,variables:{owner:a.owner,name:a.repositoryName,first:100,after:u,query:i||null}});if(A.push(...oe.repository.refs.nodes.map(pe=>pe.name)),new Date().getTime()-Q>re){y.warn(`List branches timeout hit after ${re}ms.`,this.id);break}k=oe.repository.refs.pageInfo.hasNextPage,u=oe.repository.refs.pageInfo.endCursor}catch(oe){throw y.debug(`List branches for ${e}/${t} failed`,this.id),oe}while(k);return y.debug(`List branches for ${e}/${t} - done`,this.id),A.includes($)||A.unshift($),A}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(i){y.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){y.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let r=null,a=!1;const o=[];do try{const u=await e({query:i.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:r}});if(u.data.repository===null)return y.error("Unexpected null repository when getting mentionable users",this.id),[];o.push(...u.data.repository.mentionableUsers.nodes.map(k=>di(k,this))),a=u.data.repository.mentionableUsers.pageInfo.hasNextPage,r=u.data.repository.mentionableUsers.pageInfo.endCursor}catch(u){return y.debug(`Unable to fetch mentionable users: ${u}`,this.id),o}while(a);return o}async resolveUser(e){var t;y.debug(`Fetch user ${e}`,this.id);const{query:i,schema:r}=await this.ensure();try{const{data:a}=await i({query:r.GetUser,variables:{login:e}});return Zw(a,this)}catch(a){(t=a.message)!=null&&t.startsWith("GraphQL error: Could not resolve to a User with the login of")||y.warn(a.message)}}async getAssignableUsers(){var e,t,i;y.debug("Fetch assignable users - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();let u=null,k=!1;const A=[];do try{let $;if(o.GetSuggestedActors?$=await r({query:o.GetSuggestedActors,variables:{owner:a.owner,name:a.repositoryName,capabilities:["CAN_BE_ASSIGNED"],first:100,after:u}},!1,{query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:u}}):$=await r({query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:u}},!0),$.data.repository===null)return y.error("Unexpected null repository when getting assignable users",this.id),[];const Q=(i=(e=$.data.repository)==null?void 0:e.assignableUsers)!=null?i:(t=$.data.repository)==null?void 0:t.suggestedActors;A.push(...(Q==null?void 0:Q.nodes.map(re=>di(re,this)))||[]),k=Q==null?void 0:Q.pageInfo.hasNextPage,u=Q==null?void 0:Q.pageInfo.endCursor}catch($){return y.debug(`Unable to fetch assignable users: ${$}`,this.id),$.graphQLErrors&&$.graphQLErrors.length>0&&$.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${$.graphQLErrors[0].message}`),A}while(k);return A}async cancelWorkflow(e){y.debug("Cancel workflow run - enter",this.id);const{octokit:t,remote:i}=await this.ensure();try{return(await t.call(t.api.actions.cancelWorkflowRun,{owner:i.owner,repo:i.repositoryName,run_id:e})).status===202}catch(r){return y.error(`Unable to cancel workflow run: ${r}`,this.id),!1}}async getOrgTeamsCount(){if(y.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:i}=await this.ensureAdditionalScopes();try{const a=(await e({query:i.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return y.debug("Fetch Teams Count - done",this.id),a}catch(r){return y.debug(`Unable to fetch teams Count: ${r}`,this.id),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(y.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return y.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:i,schema:r}=await this.ensureAdditionalScopes();let a=null,o=!1;const u=[];do try{const k=await t({query:r.GetOrganizationTeams,variables:{login:i.owner,after:a,repoName:i.repositoryName}});k.data.organization.teams.nodes.forEach(A=>{const $={avatarUrl:to(A.avatarUrl,void 0,this.remote.isEnterprise),name:A.name,url:A.url,slug:A.slug,id:A.id,org:i.owner};u.push({...$,repositoryNames:A.repositories.nodes.map(Q=>Q.name)})}),o=k.data.organization.teams.pageInfo.hasNextPage,a=k.data.organization.teams.pageInfo.endCursor}catch(k){return y.debug(`Unable to fetch teams: ${k}`,this.id),k.graphQLErrors&&k.graphQLErrors.length>0&&k.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${k.graphQLErrors[0].message}`),u}while(o);return y.debug("Fetch Teams - exit",this.id),u}async getPullRequestParticipants(e){y.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:i,schema:r}=await this.ensure(),a=[];try{const o=await t({query:r.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:e,first:18}});if(o.data.repository===null)return y.error("Unexpected null repository when fetching participants",this.id),[];a.push(...o.data.repository.pullRequest.participants.nodes.map(u=>di(u,this)))}catch(o){y.debug(`Unable to fetch participants from a PullRequest: ${o}`,this.id),o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${o.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){y.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:r}=await this.ensure(),{data:a}=await r.call(r.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:e,head:t});return y.debug("Compare commits - done",this.id),a}catch(i){y.error(`Unable to compare commits between ${e} and ${t}: ${i}`,this.id)}}isCurrentUser(e,t){return this._credentialStore.isCurrentUser(e,t)}async getStatusChecks(e){var t,i,r;y.debug("Get Status Checks - enter",this.id);const{query:a,remote:o,schema:u}=await this.ensure(),k=this._useFallbackChecks;let A;try{A=await a({query:k?u.GetChecksWithoutSuite:u.GetChecks,variables:{owner:o.owner,name:o.repositoryName,number:e}})}catch(pe){if((Uc(pe)||this.remote.isEnterprise)&&!k)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw y.error(`Unable to fetch PR checks: ${pe}`,this.id),pe}if(A.data.repository===null||A.data.repository.pullRequest.commits.nodes===void 0||A.data.repository.pullRequest.commits.nodes.length===0)return y.error(`Unable to fetch PR checks: ${(t=A.errors)==null?void 0:t.map(pe=>pe.message).join(", ")}`,this.id),[null,null];const $=A.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup;let Q;if(!$)Q={state:li.Success,statuses:[]};else{const pe=this.deduplicateStatusChecks($.contexts.nodes.map(me=>{var Ne,Se,Re,Ae,Oe,Ge,We,qe,ot;return cw(me)?{id:me.id,url:(Se=(Ne=me.checkSuite)==null?void 0:Ne.app)==null?void 0:Se.url,avatarUrl:((Ae=(Re=me.checkSuite)==null?void 0:Re.app)==null?void 0:Ae.logoUrl)&&to(me.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(me.conclusion),description:me.title,context:me.name,workflowName:(Ge=(Oe=me.checkSuite)==null?void 0:Oe.workflowRun)==null?void 0:Ge.workflow.name,event:(qe=(We=me.checkSuite)==null?void 0:We.workflowRun)==null?void 0:qe.event,targetUrl:me.detailsUrl,isRequired:me.isRequired}:{id:me.id,url:(ot=me.targetUrl)!=null?ot:void 0,avatarUrl:me.avatarUrl?to(me.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(me.state),description:me.description,context:me.context,workflowName:void 0,event:void 0,targetUrl:me.targetUrl,isRequired:me.isRequired}}));Q={state:this.computeOverallCheckState(pe),statuses:pe}}let re=null;const oe=(i=A.data.repository.pullRequest.baseRef)==null?void 0:i.refUpdateRule;if(oe){const pe=A.data.repository.pullRequest.url;for(const Ae of oe.requiredStatusCheckContexts||[])Q.statuses.some(Oe=>Oe.context===Ae)||(Q.state=li.Pending,Q.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:li.Pending,description:s.l10n.t("Waiting for status to be reported"),context:Ae,workflowName:void 0,event:void 0,targetUrl:pe,isRequired:!0}));const me=(r=oe.requiredApprovingReviewCount)!=null?r:0,Ne=A.data.repository.pullRequest.latestReviews.nodes.filter(Ae=>Ae.authorCanPushToRepository&&Ae.state==="APPROVED"),Se=A.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(Ae=>Ae.authorCanPushToRepository);let Re=li.Success;Ne.length<me&&(Re=li.Failure,Se.length&&(Re=li.Pending)),me>0&&(re={count:me,approvals:Ne.map(Ae=>Ae.author.login),requestedChanges:Se.map(Ae=>Ae.author.login),state:Re})}return y.debug("Get Status Checks - done",this.id),[Q.statuses.length?Q:null,re]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return li.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return li.Failure;case"SUCCESS":return li.Success;case"NEUTRAL":case"SKIPPED":return li.Neutral}return li.Unknown}deduplicateStatusChecks(e){const t=new Map;for(const i of e){const r=t.get(i.context);if(!r){t.set(i.context,i);continue}const a=r.state===li.Pending||r.state===li.Unknown,o=i.state===li.Pending||i.state===li.Unknown;if(o&&!a)t.set(i.context,i);else{if(!o&&a)continue;i.id>r.id&&t.set(i.context,i)}}return Array.from(t.values())}computeOverallCheckState(e){if(e.length===0)return li.Success;let t=!1,i=!1;for(const r of e)r.state===li.Failure?t=!0:(r.state===li.Pending||r.state===li.Unknown)&&(i=!0);return t?li.Failure:i?li.Pending:li.Success}};rr($p,"ID","GitHubRepository");let Ri=$p;const tf=new AbortController().signal,Hp=new AbortController;Hp.abort();const x2=Hp.signal,O2=n=>{const e=new AbortController;if(!n)return e;if(n.aborted&&e.abort(),n!==tf){const t=new WeakRef(e);onAbort(n)(()=>{var i;return(i=t.deref())==null?void 0:i.abort()})}return e},w_=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return{resolve:n,reject:e,promise:t}};class nf extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const Gp={dispose:()=>{}};var Vp;(function(n){n.once=(e,t)=>{let i=!1,r;return r=e(a=>{t(a),r?r.dispose():i=!0}),i?(r.dispose(),Gp):r},n.toPromise=(e,t)=>t?t.aborted?Promise.reject(new nf):new Promise((i,r)=>{const a=k_(t)(()=>{o.dispose(),r(new nf)}),o=n.once(e,u=>{a.dispose(),i(u)})}):new Promise(i=>n.once(e,i))})(Vp||(Vp={}));const k_=n=>{const e=new __;if(n.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),n.removeEventListener("abort",t)};return n.addEventListener("abort",t),e.addListener};class zl{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class L2 extends zl{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class __ extends zl{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),Gp):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var jp=rn(65606);const S_=n=>{if("error"in n)throw n.error;return"success"in n?n.success:n.value},E_=()=>{if(typeof performance!="undefined"){const n=performance.now();return()=>performance.now()-n}else{const n=jp.hrtime.bigint();return()=>Number(jp.hrtime.bigint()-n)/1e6}};class fd{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new zl,this.failureEmitter=new zl,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new fd(this.errorFilter,this.resultFilter)}async invoke(e,...t){const i=this.successEmitter.size||this.failureEmitter.size?E_():null;try{const r=await e(...t);return this.resultFilter(r)?(i&&this.failureEmitter.emit({duration:i(),handled:!0,reason:{value:r}}),{value:r}):(i&&this.successEmitter.emit({duration:i()}),{success:r})}catch(r){const a=r,o=this.errorFilter(a);if(i&&this.failureEmitter.emit({duration:i(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}}class R_ extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class N_{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new zl,this.executor=new fd,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=tf){if(t.aborted)throw new nf;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:i,reject:r,promise:a}=w_();return this.queue.push({signal:t,fn:e,resolve:i,reject:r}),a}throw this.onRejectEmitter.emit(),new R_(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class T_{constructor(){this.executor=new fd,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=tf){return S_(await this.executor.invoke(e,{signal:t}))}}const hd=(n,e)=>e?t=>t instanceof n&&e(t):t=>t instanceof n,C_=()=>!0,Kl=()=>!1;class Ga{constructor(e){this.options=e}orType(e,t){const i=hd(e,t);return new Ga({...this.options,errorFilter:r=>this.options.errorFilter(r)||i(r)})}orWhen(e){return new Ga({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new Ga({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const i=hd(e,t);return new Ga({...this.options,resultFilter:r=>this.options.resultFilter(r)||i(r)})}}const U2=new T_,B2=new Ga({errorFilter:C_,resultFilter:Kl});function q2(n,e){return new Ga({errorFilter:hd(n,e),resultFilter:Kl})}function $2(n){return new Ga({errorFilter:n,resultFilter:Kl})}function H2(n,e){return new Ga({errorFilter:Kl,resultFilter:hd(n,e)})}function G2(n){return new Ga({errorFilter:Kl,resultFilter:n})}function Wp(n,e=0){return new N_(n,e)}function V2(n){return(e,t,i)=>{const r=i.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);i.value=function(...a){const o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return n.execute(u=>r.apply(this,[...a,u]),o)}}}function j2(n,e){return new TimeoutPolicy(n,typeof e=="string"?{strategy:e}:e)}function W2(...n){return{_altReturn:void 0,onFailure:n[0].onFailure,onSuccess:n[0].onSuccess,wrapped:n,execute(e,t){const i=(r,a)=>a===n.length?e(r):n[a].execute(o=>i({...r,...o},a+1),r.signal);return Promise.resolve(i({signal:t},0))}}}function z2(n,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function K2(n,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function Q2(n,e){return new FallbackPolicy(new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter),typeof e=="function"?e:()=>e)}var A_=Object.defineProperty,P_=(n,e,t)=>e in n?A_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rf=(n,e,t)=>P_(n,typeof e!="symbol"?e+"":e,t);const zp=class Gs{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,rf(this,"bulkhead",Wp(140)),rf(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(y.error("API call count has exceeded 140 concurrent calls.",Gs.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?y.appendLine(i,Gs.ID):y.debug(i,Gs.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,i=!1){var r,a,o,u;let k;try{const Q=await t;k=(r=Q==null?void 0:Q.data)==null?void 0:r.rateLimit}catch{return}const A=e==null?void 0:e.startsWith("/search/");((a=k==null?void 0:k.limit)!=null?a:5e3)<5e3&&(A?((o=k==null?void 0:k.limit)!=null?o:30)<30&&y.appendLine(`Unexpectedly low SEARCH rate limit: ${k==null?void 0:k.limit}`,Gs.ID):y.appendLine(`Unexpectedly low rate limit: ${k==null?void 0:k.limit}`,Gs.ID));const $=`${i?"REST":"GraphQL"} Rate limit remaining: ${k==null?void 0:k.remaining}, cost: ${k==null?void 0:k.cost}, ${e}`;((u=k==null?void 0:k.remaining)!=null?u:1e3)<1e3&&!A?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),y.warn($,Gs.ID)):y.debug($,Gs.ID)}async logRestRateLimit(e,t){let i;try{i=await t}catch{return}const r={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:r}}),!0)}};rf(zp,"ID","RateLimit");let M_=zp;class F_{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const i=(t=e.query.definitions[0].name)==null?void 0:t.value,r=this._rateLogger.logAndLimit(i,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,r),r}mutate(e){const t=e.context,i=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(i===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,i),i}}class I_{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var i,r;const a=(r=(i=e.endpoint)==null?void 0:i.DEFAULTS)==null?void 0:r.url,o=this._rateLogger.logAndLimit(a,()=>e(...t));if(o===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,o),o}}async function D_(n,e,t,i,r,a,o){y.debug(`Comparing commits for ${n.owner}/${n.repositoryName} with base ${t.repositoryCloneUrl.owner}:${r} and head ${i.repositoryCloneUrl.owner}:${i.sha}`,o);let u,k;const A=async $=>jl(e.api.pulls.listFiles,{owner:t.repositoryCloneUrl.owner,pull_number:a,repo:n.repositoryName},$);try{const{data:$}=await e.call(e.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${t.repositoryCloneUrl.owner}:${r}`,head:`${i.repositoryCloneUrl.owner}:${i.sha}`}),Q=100;$.files&&$.files.length>=Q?(y.appendLine(`More than ${Q} files changed in #${a}`,o),u=await A()):u=$.files?$.files:[],k=$.merge_base_commit.sha}catch($){if($.message==="Server Error")u=await A(3),k=t.sha;else throw $}return{mergeBaseSha:k,files:u}}var x_=Object.defineProperty,O_=(n,e,t)=>e in n?x_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L_=(n,e,t)=>O_(n,typeof e!="symbol"?e+"":e,t);class af{constructor(e,t,i,r,a,o,u){this.ref=e,this.label=t,this.sha=i,this.owner=a,this.name=o,this.isInOrganization=u,L_(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Dr(r)}}function U_(n,e){var t;const i=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const a of n.state.remotes){const o=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!o)continue;const u=Vo(a.name,o),k=u==null?void 0:u.owner.toLowerCase(),A=u==null?void 0:u.repositoryName.toLowerCase();if(k===r&&A===i)return a}}var B_=Object.defineProperty,q_=(n,e,t)=>e in n?B_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,uo=(n,e,t)=>q_(n,typeof e!="symbol"?e+"":e,t);const Kp=class tm{constructor(e,t,i,r){this.pullRequest=e,this.folderRepoManager=t,this.change=i,this.sha=r,uo(this,"_filePath"),uo(this,"_parentFilePath"),uo(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof Fs&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==Qt.RENAME)try{const i=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,i,this.fileName);t=Bc(r)}catch(i){y.error(`Failed to parse patch for outdated comments: ${i}`,tm.ID)}return t}async calculateChangedLinesCount(){try{const e=await this.diffHunks();let t=0,i=0;for(const r of e)for(const a of r.diffLines)a.type===Ci.Add?++t:a.type===Ci.Delete&&++i;return{added:t,removed:i}}catch(e){return y.warn(`Failed to calculate added/removed lines for ${this.fileName}: ${e}`,tm.ID),{added:0,removed:0}}}};uo(Kp,"ID","FileChangeModel");let sf=Kp;class of extends sf{constructor(e,t,i,r,a,o,u){if(super(t,e,i,o),uo(this,"_show"),this._filePath=r,this._parentFilePath=a,u)try{this.showBase()}catch{y.warn(`Unable to preload file content for ${r.fsPath} at commit ${o}`)}}async showBase(){if(!this._show&&this.change.status!==Qt.ADD){const e=this.change instanceof Fs||this.change instanceof Uo?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class co extends sf{constructor(e,t,i,r,a){super(t,e,i),this.change=i;const o=t.head.sha,u=i.status===Qt.RENAME?i.previousFileName:i.fileName,k=e.repository.rootUri.with({path:s.Uri.file(Ko(e.repository.rootUri,i.fileName)).path}),A=e.repository.rootUri.with({path:s.Uri.file(Ko(e.repository.rootUri,u)).path});this._filePath=r?i.status===Qt.DELETE?va(k,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):k:ds(k,t,i.baseCommit,o,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=r?va(A,i.status===Qt.RENAME?i.previousFileName:i.fileName,void 0,i.status===Qt.ADD?"":a,!1,{base:!0},e.repository.rootUri):ds(A,t,i.baseCommit,o,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===Qt.MODIFY||this.change.status===Qt.RENAME||this.change.status===Qt.ADD))return!0;this.change.status===Qt.DELETE||this.change.status===Qt.MODIFY?t=this.change.fileName:this.change.status===Qt.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class zo extends sf{constructor(e,t,i){super(i,e,t),this.change=t,uo(this,"fileChangeResourceUri"),uo(this,"childrenDisposables",[]);const r=i.head.sha,a=t.status===Qt.RENAME?t.previousFileName:t.fileName;this._filePath=ds(s.Uri.file(Ko(e.repository.rootUri,t.fileName)),i,t.baseCommit,r,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=ds(s.Uri.file(Ko(e.repository.rootUri,a)),i,t.baseCommit,r,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}var $_=Object.defineProperty,H_=(n,e,t)=>e in n?$_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ni=(n,e,t)=>H_(n,typeof e!="symbol"?e+"":e,t);const Qp=50,Yp=class Ln extends nr{constructor(e,t,i,r,a,o){super(t,i,r,a,!0),this.credentialStore=e,ni(this,"isDraft"),ni(this,"reviewers"),ni(this,"localBranchName"),ni(this,"mergeBase"),ni(this,"mergeQueueEntry"),ni(this,"conflicts"),ni(this,"suggestedReviewers"),ni(this,"hasChangesSinceLastReview"),ni(this,"_showChangesSinceReview"),ni(this,"_hasPendingReview",!1),ni(this,"_onDidChangePendingReviewState",this._register(new s.EventEmitter)),ni(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),ni(this,"_reviewThreadsCache"),ni(this,"_reviewThreadsCacheInitialized",!1),ni(this,"_onDidChangeReviewThreads",this._register(new s.EventEmitter)),ni(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),ni(this,"_fileChangeViewedState",{}),ni(this,"_viewedFiles",new Set),ni(this,"_unviewedFiles",new Set),ni(this,"_onDidChangeFileViewedState",this._register(new s.EventEmitter)),ni(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),ni(this,"_onDidChangeChangesSinceReview",this._register(new s.EventEmitter)),ni(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),ni(this,"_hasComments"),ni(this,"_comments"),ni(this,"_isActive"),ni(this,"isRemoteHeadDeleted"),ni(this,"head"),ni(this,"isRemoteBaseDeleted"),ni(this,"base"),ni(this,"_fileChanges",new Map),ni(this,"_rawFileChangesCache"),ni(this,"markFilesInProgressRefCount",new Map),this.isActive=!!o,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=void 0}async initializeReviewThreadCache(){const e=await this.getReviewThreads();return this._reviewThreadsCacheInitialized=!0,e}get reviewThreadsCache(){var e;return(e=this._reviewThreadsCache)!=null?e:[]}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChange.fire({comments:!0})}get fileChangeViewedState(){return this._fileChangeViewedState}stateToStateEnum(e){let t=hi.Closed;return e.toLowerCase()==="open"?t=hi.Open:(e.toLowerCase()==="merged"||this.item.merged)&&(t=hi.Merged),t}doUpdate(e){var t;const i=super.doUpdate(e);return this.isDraft!==e.isDraft&&(i.draft=!0,this.isDraft=e.isDraft),this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new af(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new af(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments),i}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const i=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,i).then(r=>{r&&r===i&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}updateIssueInput(e){return{pullRequestId:e}}updateIssueSchema(e){return e.UpdatePullRequest}async approve(e,t){var i,r,a,o,u,k;let A,$,Q;return this.isActive?($=(i=e.state.HEAD)==null?void 0:i.commit,A=(a=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:a.sha,Q=s.l10n.t("The remote head of the pull request branch has changed. Please pull the latest changes from the remote branch before approving.")):($=(o=this.head)==null?void 0:o.sha,A=(k=(u=await this.githubRepository.getPullRequest(this.number))==null?void 0:u.head)==null?void 0:k.sha,Q=s.l10n.t("The remote head of the pull request branch has changed. Please refresh the pull request before approving.")),!A||A!==$?Promise.reject(Q):(await this.getPendingReviewId()?this.submitReview(ca.Approve,t):this.createReview(ca.Approve,t)).then(oe=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChange.fire({comments:!0,timeline:!0}),oe))}async requestChanges(e){const t=await this.getPendingReviewId()?await this.submitReview(ca.RequestChanges,e):await this.createReview(ca.RequestChanges,e);return this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChange.fire({timeline:!0,comments:!0}),t}async merge(e,t,i,r,a){var o,u,k,A,$;y.debug(`Merging PR: ${this.number} method: ${r} for user: "${a}" - enter`,Ln.ID);const{mutate:Q,schema:re}=await this.githubRepository.ensure(),oe=(o=e.state.HEAD)==null?void 0:o.commit,pe=(u=this.head)==null?void 0:u.sha,me=e.state.workingTreeChanges.length>0;let Ne=(k=this.head)==null?void 0:k.sha;if(this.isActive){if(Ne=oe,oe!==pe){const{ahead:Re}=e.state.HEAD,Ae=s.l10n.t(`You have {0} unpushed commits on this pull request branch.

Would you like to proceed anyway?`,Re!=null?Re:"unknown"),Oe=s.l10n.t(`You have 1 unpushed commit on this pull request branch.

Would you like to proceed anyway?`);if(Re&&await s.window.showWarningMessage(Re>1?Ae:Oe,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(me&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this pull request branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const Se={pullRequestId:this.graphNodeId,commitHeadline:t,commitBody:i,expectedHeadOid:Ne,authorEmail:a,mergeMethod:($=r==null?void 0:r.toUpperCase())!=null?$:(A=s.workspace.getConfiguration(vt).get(vn,"merge"))==null?void 0:A.toUpperCase()};return Q({mutation:re.MergePullRequest,variables:{input:Se}}).then(async Re=>{var Ae,Oe;return y.debug(`Merging PR: ${this.number} - done`,Ln.ID),this._telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidChange.fire({state:!0}),{merged:!0,message:"",timeline:await ed((Oe=(Ae=Re.data)==null?void 0:Ae.mergePullRequest.pullRequest.timelineItems.nodes)!=null?Oe:[],await this.getCopilotTimelineEvents(),this.githubRepository)}}).catch(Re=>{this._telemetry.sendTelemetryErrorEvent("pr.merge.failure");const Ae=Re.graphQLErrors;if(Ae!=null&&Ae.length&&Ae.find(Oe=>{var Ge;return Oe.type===qp.Unprocessable&&((Ge=Oe.message)==null?void 0:Ge.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw Re})}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.pulls.update,{owner:i.owner,repo:i.repositoryName,pull_number:this.number,state:"closed"});this._telemetry.sendTelemetryEvent("pr.close");const a=await this.githubRepository.getAuthenticatedUser();return this.state=this.stateToStateEnum(r.data.state),setTimeout(()=>this._onDidChange.fire({state:!0}),1500),{item:Qu(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:nn.Closed,id:`${r.data.id}`,actor:{login:a.login,avatarUrl:a.avatarUrl,url:a.url}}}}async createReview(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure(),{data:a}=await i.call(i.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:e,body:t});return this._onDidChange.fire({timeline:!0}),qw(a,this.githubRepository)}async submitReview(e,t){var i;let r=await this.getPendingReviewId();const{mutate:a,schema:o}=await this.githubRepository.ensure();if(!r&&e===ca.Comment&&(r=await this.startReview()),r){const{data:u}=await a({mutation:o.SubmitReview,variables:{id:r,event:e||ca.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const k=Jw(u.submitPullRequestReview.pullRequestReview,this.githubRepository),A=((i=this._reviewThreadsCache)!=null?i:[]).find($=>$.comments.length?$.comments[0].pullRequestReviewId===k.id:void 0);return A&&(A.comments=k.comments,A.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[A],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),k}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),i=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:r}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e;y.debug("Fetch viewers latest review commit",nr.ID);const{query:t,remote:i,schema:r}=await this.githubRepository.ensure(),a=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:o}=await t({query:r.LatestReviewCommit,variables:{owner:i.owner,name:i.repositoryName,number:this.number,author:a}});o.repository===null&&y.error("Unexpected null repository while getting last review commit",Ln.ID);const u=(e=o.repository)==null?void 0:e.pullRequest.reviews.nodes[0];return u?{sha:u.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId();if(!e)throw new Error(`No pending review found for pull request #${this.number}.`);const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:o}=r.deletePullRequestReview.pullRequestReview,u=a.nodes.map(Q=>Gl(Q,!1,!1,this.githubRepository)),k=new Set(u.map(Q=>Q.id)),A=[],$=[];this._reviewThreadsCache||(this._reviewThreadsCache=[]);for(let Q=this._reviewThreadsCache.length-1;Q>=0;Q--){const re=this._reviewThreadsCache[Q],oe=re.comments.length;re.comments=re.comments.filter(pe=>!k.has(pe.id)),re.comments.length===0&&oe>0?(this._reviewThreadsCache.splice(Q,1),$.push(re)):re.comments.length!==oe&&A.push(re)}return(A.length>0||$.length>0)&&this._onDidChangeReviewThreads.fire({added:[],changed:A,removed:$}),this._comments&&(this.comments=this._comments.filter(Q=>!k.has(Q.id))),this.hasPendingReview=!1,await this.updateDraftModeContext(),this._onDidChange.fire({timeline:!0,comments:!0}),{deletedReviewId:o,deletedReviewComments:u}}async startReview(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,i,r,a,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const u=await this.getPendingReviewId(),{mutate:k,schema:A}=await this.githubRepository.ensure(),{data:$}=await k({mutation:A.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:u,startLine:i===r?void 0:i,line:r===void 0?0:r,side:a,subjectType:i===void 0||r===void 0?Ba.FILE:Ba.LINE}}},{mutation:A.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!$)throw new Error("Creating review thread failed.");if(!$.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const Q=$.addPullRequestReviewThread.thread,re=Yu(Q,this.githubRepository);return this._reviewThreadsCache||(this._reviewThreadsCache=[]),this._reviewThreadsCache.push(re),this._onDidChangeReviewThreads.fire({added:[re],changed:[],removed:[]}),this._onDidChange.fire({timeline:!0}),re}async createCommentReply(e,t,i,r){var a,o;if(!this.validatePullRequestModel("Creating comment failed"))return;let u=await this.getPendingReviewId();u||(u=await this.startReview(r));const{mutate:k,schema:A}=await this.githubRepository.ensure(),{data:$}=await k({mutation:A.AddComment,variables:{input:{pullRequestReviewId:u,body:e,inReplyTo:t,commitOID:r||((a=this.head)==null?void 0:a.sha)}}});if(!$)throw new Error("Creating comment reply failed.");const{comment:Q}=$.addPullRequestReviewComment,re=Gl(Q,!1,!1,this.githubRepository);i&&(re.isDraft=!1);const oe=(o=this._reviewThreadsCache)==null?void 0:o.find(pe=>pe.comments.some(me=>me.graphNodeId===t));return oe&&(oe.comments.push(re),this._onDidChangeReviewThreads.fire({added:[],changed:[oe],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),re}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async getTimelineEvents(){var e,t;const i=async()=>{y.debug(`Fetch timeline events of PR #${this.number} - enter`,Ln.ID);const{query:$,remote:Q,schema:re}=await this.githubRepository.ensure();try{const{data:oe}=await $({query:re.TimelineEvents,variables:{owner:Q.owner,name:Q.repositoryName,number:this.number}});return oe.repository===null&&y.error("Unexpected null repository when fetching timeline",Ln.ID),oe}catch(oe){y.error(`Failed to get pull request timeline events: ${oe}`,Ln.ID),console.log(oe);return}},[r,a,o,u]=await Promise.all([i(),this.getViewerLatestReviewCommit(),(await this.githubRepository.getAuthenticatedUser()).login,this.getReviewThreads()]),k=(t=(e=r==null?void 0:r.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],A=await ed(k,await this.getCopilotTimelineEvents(!0),this.githubRepository);return this.addReviewTimelineEventComments(A,u),rk(A,a==null?void 0:a.sha,o,this.head),y.debug(`Fetch timeline events of PR #${this.number} - done`,Ln.ID),this.timelineEvents=A,A}async getActivityTimelineEvents(){var e,t;y.debug(`Fetch timeline events of PR #${this.number} - enter`,Ln.ID);const{query:i,remote:r,schema:a}=await this.githubRepository.ensure();try{const{data:o}=await i({query:a.PullRequestActivityTimelineEvents,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return o.repository===null&&y.error("Unexpected null repository when fetching timeline",Ln.ID),ed((t=(e=o.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],[],this.githubRepository)}catch(o){return y.error(`Failed to get pull request timeline events: ${o}`,Ln.ID),console.log(o),[]}}addReviewTimelineEventComments(e,t){const i=e.filter($=>$.event===nn.Reviewed),r=t.reduce(($,Q)=>$.concat(Q.comments),[]),a=i.reduce(($,Q)=>($[Q.id]=Q,Q.comments=[],$),{}),o=r.reduce(($,Q)=>($[Q.id]=Q,$),{}),u=[];let k=r.length;for(;k-- >0;){const $=r[k];if(!$.inReplyToId){u.unshift($);continue}const Q=o[$.inReplyToId];Q.childComments=Q.childComments||[],Q.childComments=[$,...$.childComments||[],...Q.childComments]}u.forEach($=>{const Q=a[$.pullRequestReviewId];Q&&(Q.comments=Q.comments.concat($).concat($.childComments||[]))}),t.forEach($=>{if(!$.prReviewDatabaseId||!a[$.prReviewDatabaseId])return;const Q=a[$.prReviewDatabaseId];Q.reviewThread={threadId:$.id,canResolve:$.viewerCanResolve,canUnresolve:$.viewerCanUnresolve,isResolved:$.isResolved}});const A=i.filter($=>{var Q;return((Q=$.state)==null?void 0:Q.toLowerCase())==="pending"})[0];A&&(A.comments=r.filter($=>$.isDraft))}async editReviewComment(e,t){var i;const{mutate:r,schema:a}=await this.githubRepository.ensure();let o=(i=this._reviewThreadsCache)==null?void 0:i.find(A=>A.comments.some($=>$.graphNodeId===e.graphNodeId));if(!o)return this.editIssueComment(e,t);const{data:u}=await r({mutation:a.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!u)throw new Error("Editing review comment failed.");const k=Gl(u.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,!!e.isOutdated,this.githubRepository);if(o){const A=o.comments.findIndex($=>$.graphNodeId===e.graphNodeId);o.comments.splice(A,1,k),this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}),this._onDidChange.fire({timeline:!0})}return k}async deleteReviewComment(e){var t,i,r;try{const{octokit:a,remote:o}=await this.githubRepository.ensure(),u=Number(e),k=(i=(t=this._reviewThreadsCache)==null?void 0:t.findIndex(A=>A.comments.some($=>$.id===u)))!=null?i:-1;if(k===-1)this.deleteIssueComment(e);else if(await a.call(a.api.pulls.deleteReviewComment,{owner:o.owner,repo:o.repositoryName,comment_id:u}),k>-1){const A=this._reviewThreadsCache[k],$=A.comments.findIndex(Q=>Q.id===u);A.comments.splice($,1),A.comments.length===0?((r=this._reviewThreadsCache)==null||r.splice(k,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[A]})):this._onDidChangeReviewThreads.fire({added:[],changed:[A],removed:[]}),this._onDidChange.fire({timeline:!0})}}catch(a){throw new Error(be(a))}}async getFileContent(e,t,i){var r;y.debug("Fetch file content - enter",Ri.ID);const{query:a,remote:o,schema:u}=await this.githubRepository.ensure(),{data:k}=await a({query:u.GetFileContent,variables:{owner:e,name:o.repositoryName,expression:`${t}:${i}`}});if((r=k.repository)!=null&&r.object.text)return y.debug("Fetch file content - end",Ri.ID),k.repository.object.text}async compareBaseBranchForMerge(e,t,i,r){var a,o,u;const{octokit:k,remote:A}=await this.githubRepository.ensure(),$=await k.call(k.api.repos.compareCommits,{repo:A.repositoryName,owner:e,base:`${e}:${t}`,head:`${i}:${r}`});return(u=(o=(a=$==null?void 0:$.data)==null?void 0:a.files)==null?void 0:o.filter(Q=>Q!==void 0))!=null?u:[]}async getUpdateBranchFiles(e,t,i){if(this.item.mergeable===bi.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:r}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,e),o=(await r.call(r.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:e})).data.commit.tree.sha,u=await r.call(r.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:o,recursive:"true"});return(await Promise.all(a.map(async A=>{var $,Q,re,oe;if(!A)return;const pe=u.data.tree.find(We=>We.path===A.filename),me=($=pe==null?void 0:pe.mode)!=null?$:"100644",Se=(await r.call(r.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(We=>We.path===A.filename),Re=(Q=Se==null?void 0:Se.mode)!=null?Q:"100644";if(A.status==="removed")return{path:A.filename,sha:null,mode:(re=Se==null?void 0:Se.mode)!=null?re:"100644"};const Ae={path:A.filename,mode:me},Oe=i.resolvedConflicts.get(A.filename);if((Oe==null?void 0:Oe.resolvedContents)!==void 0){if(A.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${A.filename}: ${A.status}`);if(me!==Re)throw new Error(`Conflict resolution not supported for file with different modes ${A.filename}: ${me} -> ${Re}`);if(A.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return Ae.content=Oe.resolvedContents,Ae}if((!A.previous_filename||!this._fileChanges.has(A.previous_filename))&&!this._fileChanges.has(A.filename))return Ae.sha=A.sha,Ae;const{data:Ge}=await r.call(r.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(oe=A==null?void 0:A.previous_filename)!=null?oe:A.filename,ref:i.prHeadBranchName});if(A.status==="modified"&&A.patch&&Ge.content){const We=lr.Buffer.from(Ge.content,"base64"),qe=new TextDecoder().decode(We);Ae.content=Um(qe,A.patch)}else throw y.error(`File ${A.filename} has status ${A.status} and can't be merged.`,Ri.ID),new Error(`File ${A.filename} has status ${A.status} and can't be merged,`);return Ae}))).filter(A=>A!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:i}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(!e.resolvedConflicts||e.resolvedConflicts.size===0)throw new Error("Pull Request has conflicts but no resolutions were provided.");return y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,Ri.ID),this.updateBranchWithConflictResolution(e)}async updateBranchWithGraphQL(){var e;if(y.debug("Updating branch using GraphQL UpdatePullRequestBranch mutation - enter",Ri.ID),!((e=this.head)!=null&&e.sha))return y.error("Cannot update branch: head SHA is not available",Ri.ID),!1;try{const{mutate:t,schema:i}=await this.githubRepository.ensure();return await t({mutation:i.UpdatePullRequestBranch,variables:{input:{pullRequestId:this.graphNodeId,expectedHeadOid:this.head.sha}}}),y.debug("Updating branch using GraphQL UpdatePullRequestBranch mutation - done",Ri.ID),!0}catch(t){return y.error(`Updating branch using GraphQL UpdatePullRequestBranch mutation failed: ${t}`,Ri.ID),!1}}async updateBranchWithConflictResolution(e){y.debug(`Updating branch ${e.prHeadBranchName} with conflict resolution - enter`,Ri.ID);try{const{octokit:t}=await this.githubRepository.ensure(),i=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,r=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:i})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,r,e),o=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:r,tree:a})).data.sha;let u;e.prBaseOwner===e.prHeadOwner?u=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:u=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const k=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:u,tree:o,parents:[i,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:k})}catch(t){return y.error(`Updating branch ${e.prHeadBranchName} with conflict resolution failed: ${t}`,Ri.ID),!1}return y.debug(`Updating branch ${e.prHeadBranchName} with conflict resolution - done`,Ri.ID),!0}async updateBaseBranch(e){var t;y.debug(`Updating base branch to ${e} - enter`,Ln.ID);try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,baseRefName:e}}});if((t=a==null?void 0:a.updateIssue)!=null&&t.issue){const o=this.base.repositoryCloneUrl.toString()||"";this.base=new af(e,`${this.base.owner}:${e}`,this.base.sha,o,this.base.owner,this.base.name,this.base.isInOrganization),this._onDidChange.fire({base:!0})}y.debug(`Updating base branch to ${e} - done`,Ln.ID)}catch(i){throw y.error(`Updating base branch to ${e} failed: ${i}`,Ln.ID),i}}async getReviewRequests(){var e;y.debug("Get Review Requests - enter",Ln.ID);const t=this.githubRepository,{remote:i,query:r,schema:a}=await t.ensure(),{data:o}=await r({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(t.remote.authProviderId)?a.GetReviewRequestsAdditionalScopes:a.GetReviewRequests,variables:{number:this.number,owner:i.owner,name:i.repositoryName}});if(o.repository===null)return y.error("Unexpected null repository while getting review requests",Ln.ID),[];const u=Vw(o,t);return(((e=this.reviewers)==null?void 0:e.length)!==u.length||this.reviewers.some(k=>!u.some(A=>A.id===k.id)))&&(this.reviewers=u,this._onDidChange.fire({reviewers:!0})),y.debug("Get Review Requests - done",Ln.ID),u}async requestReview(e,t,i=!1){var r;const{mutate:a,schema:o}=await this.githubRepository.ensure(),u={pullRequestId:this.graphNodeId,teamIds:t.map($=>$.id),userIds:e.filter($=>$.accountType!==Yr.Bot).map($=>$.id),union:i};this.githubRepository.areQueriesLimited||(u.botIds=e.filter($=>$.accountType===Yr.Bot).map($=>$.id));const{data:k}=await a({mutation:o.AddReviewers,variables:{input:u}});if(!(k!=null&&k.requestReviews)){y.error("Unexpected null repository while getting review requests",Ln.ID);return}const A=[...e,...t].filter($=>{var Q;return!((Q=this.reviewers)!=null&&Q.some(re=>re.id===$.id))});((r=this.reviewers)==null?void 0:r.length)!==A.length&&(this.reviewers?this.reviewers.push(...A):this.reviewers=A,this.reviewers=[...this.reviewers,...A],this._onDidChange.fire({reviewers:!0}))}async deleteReviewRequest(e,t){var i;if(e.length===0&&t.length===0)return;const{octokit:r,remote:a}=await this.githubRepository.ensure();await r.call(r.api.pulls.removeRequestedReviewers,{owner:a.owner,repo:a.repositoryName,pull_number:this.number,reviewers:e.map(o=>o.id),team_reviewers:t.map(o=>o.id)}),this.reviewers=((i=this.reviewers)==null?void 0:i.filter(o=>!e.some(u=>u.id===o.id)&&!t.some(u=>u.id===o.id)))||[],this._onDidChange.fire({reviewers:!0})}diffThreads(e,t){const i=[],r=[],a=[];t.forEach(o=>{const u=e.find(k=>k.id===o.id);u?_l()(o,u)||r.push(o):i.push(o)}),e.forEach(o=>{t.find(u=>u.id===o.id)||a.push(o)}),(i.length>0||r.length>0||a.length>0)&&this._onDidChangeReviewThreads.fire({added:i,changed:r,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const e=await this.initializeReviewThreadCache();this.comments=e.map(t=>t.comments).reduce((t,i)=>t.concat(i),[]).sort((t,i)=>t.createdAt>i.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){var t;const i=e.map(a=>Yu(a,this.githubRepository)),r=(t=this._reviewThreadsCache)!=null?t:[];return this._reviewThreadsCache=i,this.diffThreads(r,i),i}async getRawReviewComments(){y.debug(`Fetching review comments for PR #${this.number} - enter`,Ln.ID);const{remote:e,query:t,schema:i}=await this.githubRepository.ensure();let r=null,a=!1;const o=[];try{do{const{data:u}=await t({query:i.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:r}},!1,{query:i.LegacyPullRequestComments});o.push(...u.repository.pullRequest.reviewThreads.nodes),a=u.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=u.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&o.length<1e3);return y.debug(`Fetching review comments for PR #${this.number} - exit`,Ln.ID),o}catch(u){return y.error(`Failed to get pull request review comments: ${u}`,Ln.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{y.debug(`Fetch commits of PR #${this.number} - enter`,Ln.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),i=await jl(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return y.debug(`Fetch commits of PR #${this.number} - done`,Ln.ID),i}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${be(e)}`),[]}}async getCommitChangedFiles(e){var t;try{y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,Ln.ID);const{octokit:i,remote:r}=await this.githubRepository.ensure(),a=await i.call(i.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:e.sha});return y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,Ln.ID),(t=a.data.files)!=null?t:[]}catch(i){return s.window.showErrorMessage(`Fetching commit file changes failed: ${be(i)}`),[]}}async getCoAuthors(){var e;if(!pi[this.item.user.login])return[];const{octokit:t,remote:i}=await this.githubRepository.ensure(),a=(e=(await t.call(t.api.issues.listEventsForTimeline,{issue_number:this.number,owner:i.owner,repo:i.repositoryName,per_page:100})).data.find(o=>o.event==="copilot_work_started"))==null?void 0:e.actor;return a?[di(a,this.githubRepository)]:[]}getUpdatesQuery(e){return e.LatestUpdates}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t,i){const r=await Ln.getChangeModels(e,t),a=[];for(const o of r)a.push([o.filePath,o.parentFilePath,o.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),i&&(s.window.tabGroups.all.length<2&&await s.commands.executeCommand("workbench.action.splitEditor"),await s.commands.executeCommand("workbench.action.focusSecondEditorGroup")),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),a)}static async openCommitChanges(e,t,i){var r;try{const a=await t.getCommitParent(i);if(!a){s.window.showErrorMessage(s.l10n.t("Commit {0} has no parent",i.substring(0,7)));return}const o=await t.compareCommits(a,i);if(!(o!=null&&o.files)||o.files.length===0){hc(e,i);return}const u=[];for(const k of o.files){const A=Jp(k.filename,{commit:i,owner:t.remote.owner,repo:t.remote.repositoryName}),$=Jp((r=k.previous_filename)!=null?r:k.filename,{commit:a,owner:t.remote.owner,repo:t.remote.repositoryName}),Q=ql(k.status);Q===Qt.ADD?u.push([A,void 0,A]):Q===Qt.DELETE?u.push([A,$,void 0]):u.push([A,$,A])}return t.telemetry.sendTelemetryEvent("pr.openCommitChanges"),ft.executeCommand("vscode.changes",s.l10n.t("Changes in Commit {0}",i.substring(0,7)),u)}catch(a){const o=a instanceof Error?a.message:String(a);s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",o))}}static async openDiffFromComment(e,t,i){const a=(await t.getFileChangesInfo()).find(k=>k.fileName===i.path||k.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");const o=i.path.split("/"),u=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,o[o.length-1],u)}static async openFirstDiff(e,t){const i=await t.getFileChangesInfo();if(!i.length)return;const r=i[0];this.openDiff(e,t,r,r.fileName)}static async openDiff(e,t,i,r,a){let o,u;if(t.equals(e.activePullRequest)){const k=s.Uri.file(K.resolve(e.repository.rootUri.fsPath,i.fileName));o=i.status===Qt.DELETE?va(k,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):k;const A=t.mergeBase||t.base.sha;u=va(k,i.status===Qt.RENAME?i.previousFileName:i.fileName,void 0,i.status===Qt.ADD?"":A,!1,{base:!0},e.repository.rootUri)}else{const k=t.head.sha,A=i.status===Qt.RENAME?i.previousFileName:i.fileName;o=ds(s.Uri.file(Ko(e.repository.rootUri,i.fileName)),t,i.baseCommit,k,i.fileName,!1,i.status,i.previousFileName),u=ds(s.Uri.file(Ko(e.repository.rootUri,A)),t,i.baseCommit,k,i.fileName,!0,i.status,i.previousFileName)}s.commands.executeCommand("vscode.diff",u,o,`${r} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}get rawFileChanges(){return this._rawFileChangesCache}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,i=await xw(e,t);return i.forEach(r=>{this._fileChanges.set(r.fileName,r)}),i}async getPatch(){const e=this.githubRepository,{octokit:t,remote:i}=await e.ensure(),{data:r}=await t.call(t.api.pulls.get,{owner:i.owner,repo:i.repositoryName,pull_number:this.number,mediaType:{format:"diff"}});if(typeof r=="string")return r;throw new Error("Expected diff data to be a string")}static async getChangeModels(e,t){var i;const r=((i=e.activePullRequest)==null?void 0:i.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),o=[];for(const u of a){let k;u instanceof Uo?k=new zo(e,u,t):k=new co(e,t,u,r,t.mergeBase),o.push(k)}return o}async getRawFileChangesInfo(){var e;y.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,Ln.ID);const t=this.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!this.base){y.appendLine("No base branch found for PR, fetching it now",Ln.ID),y.trace(`Fetching from ${r.owner}/${r.repositoryName}. PR #${this.number}`,Ln.ID);const $=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Qu($.data,t))}let a=this.base.sha;const o=await this.getViewerLatestReviewCommit(),u=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=o!==void 0&&((e=this.head)==null?void 0:e.sha)!==o.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&o!=null&&(a=o.sha),this.item.merged){y.appendLine("PR is merged, fetching all file changes",Ln.ID);const $=await jl(i.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,this._rawFileChangesCache=$,$}y.debug(`Comparing commits for ${r.owner}/${r.repositoryName} with base ${this.base.repositoryCloneUrl.owner}:${a} and head ${this.head.repositoryCloneUrl.owner}:${this.head.sha}`,Ln.ID);const{files:k,mergeBaseSha:A}=await D_(r,i,this.base,this.head,a,this.number,Ln.ID);return this.mergeBase=A,u!==void 0&&u!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),y.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${k.length} `,Ln.ID),this._rawFileChangesCache=k,k}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,i,r,a;try{y.debug(`Fetch pull request mergeability ${this.number} - enter`,Ln.ID);const{query:o,remote:u,schema:k}=await this.githubRepository.ensure(),{data:A}=await o({query:k.PullRequestMergeability,variables:{owner:u.owner,name:u.repositoryName,number:this.number}});A.repository===null&&y.error("Unexpected null repository while getting mergeability",Ln.ID),y.debug(`Fetch pull request mergeability ${this.number} - done`,Ln.ID);const $=Xu((e=A.repository)==null?void 0:e.pullRequest.mergeable,(t=A.repository)==null?void 0:t.pullRequest.mergeStateStatus);return this.item.mergeable=$,this.conflicts=(a=(r=(i=A.repository)==null?void 0:i.pullRequest.mergeRequirements)==null?void 0:r.conditions.find(Q=>Q.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:a.conflicts,this.update(this.item),{mergeability:$,conflicts:this.conflicts}}catch(o){return y.error(`Unable to fetch PR Mergeability: ${o}`,Ln.ID),{mergeability:bi.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const r={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:Xu(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this.item.allowAutoMerge=r.allowAutoMerge,this._onDidChange.fire({draft:!0}),r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}async convertToDraft(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ConvertToDraft,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.convertToDraft.success");const r={isDraft:i.convertPullRequestToDraft.pullRequest.isDraft,mergeable:Xu(i.convertPullRequestToDraft.pullRequest.mergeable,i.convertPullRequestToDraft.pullRequest.mergeStateStatus)};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this._onDidChange.fire({draft:!0}),r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.convertToDraft.failure"),e}}updateCommentReactions(e,t){var i;const r=(i=this._reviewThreadsCache)==null?void 0:i.find(a=>a.comments.some(o=>o.graphNodeId===e));if(r){const a=r.comments.find(o=>o.graphNodeId===e);a&&(a.reactions=Ds(t),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]}))}}async addCommentReaction(e,t){const i=td().reduce((k,A)=>(k[A.label]=A.title,k),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.AddReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Add comment reaction failed.");const u=o.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,u),o}async deleteCommentReaction(e,t){const i=td().reduce((k,A)=>(k[A.label]=A.title,k),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Delete comment reaction failed.");const u=o.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,u),o}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){var t,i,r,a;const o=(t=this._reviewThreadsCache)==null?void 0:t.find(u=>u.id===e);try{y.debug("Resolve review thread - enter",Ln.ID);const{mutate:u,schema:k}=await this.githubRepository.ensure();o&&o.viewerCanResolve&&(o.isResolved=!0,o.viewerCanResolve=!1,o.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}));const{data:A}=await u({mutation:k.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:k.LegacyResolveReviewThread,deleteProps:[]});if(!A)throw this.undoOptimisticResolveState(o),new Error("Resolve review thread failed.");const $=(r=(i=this._reviewThreadsCache)==null?void 0:i.findIndex(Q=>Q.id===e))!=null?r:-1;if($>-1){const Q=Yu(A.resolveReviewThread.thread,this.githubRepository);(a=this._reviewThreadsCache)==null||a.splice($,1,Q),this._onDidChangeReviewThreads.fire({added:[],changed:[Q],removed:[]})}y.debug("Resolve review thread - done",Ln.ID)}catch(u){y.error(`Resolve review thread failed: ${u}`,Ln.ID),this.undoOptimisticResolveState(o)}}async unresolveReviewThread(e){var t,i,r,a;const o=(t=this._reviewThreadsCache)==null?void 0:t.find(u=>u.id===e);try{y.debug("Unresolve review thread - enter",Ln.ID);const{mutate:u,schema:k}=await this.githubRepository.ensure();o&&o.viewerCanUnresolve&&(o.isResolved=!1,o.viewerCanUnresolve=!1,o.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}));const{data:A}=await u({mutation:k.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:k.LegacyUnresolveReviewThread,deleteProps:[]});if(!A)throw this.undoOptimisticResolveState(o),new Error("Unresolve review thread failed.");const $=(r=(i=this._reviewThreadsCache)==null?void 0:i.findIndex(Q=>Q.id===e))!=null?r:-1;if($>-1){const Q=Yu(A.unresolveReviewThread.thread,this.githubRepository);(a=this._reviewThreadsCache)==null||a.splice($,1,Q),this._onDidChangeReviewThreads.fire({added:[],changed:[Q],removed:[]})}y.debug("Unresolve review thread - done",Ln.ID)}catch(u){y.error(`Unresolve review thread failed: ${u}`,Ln.ID),this.undoOptimisticResolveState(o)}}async enableAutoMerge(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){y.debug(`Dequeue pull request ${this.number} - enter`,Ri.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),y.debug(`Dequeue pull request ${this.number} - done`,Ri.ID),this.mergeQueueEntry=void 0,!0}catch(i){return y.error(`Dequeueing pull request failed: ${i}`,Ri.ID),!1}}async enqueuePullRequest(){var e;y.debug(`Enqueue pull request ${this.number} - enter`,Ri.ID);const{mutate:t,schema:i}=await this.githubRepository.ensure();if(i.EnqueuePullRequest)try{const{data:r}=await t({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return y.debug(`Enqueue pull request ${this.number} - done`,Ri.ID),(e=Ym(r==null?void 0:r.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(r){y.error(`Enqueuing pull request failed: ${r}`,Ri.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:i}=await this.githubRepository.ensure(),r=[];let a=null,o=!1;do{const{data:u}=await e({query:t.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:a}});u.repository.pullRequest.files.nodes.forEach(k=>{this._fileChangeViewedState[k.path]!==k.viewerViewedState&&r.push({fileName:k.path,viewed:k.viewerViewedState}),this.setFileViewedState(k.path,k.viewerViewedState,!1)}),o=u.repository.pullRequest.files.pageInfo.hasNextPage,a=u.repository.pullRequest.files.pageInfo.endCursor}while(o);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}updateMarkFilesInProgressRefCount(e,t){const i=[];for(const r of e){let a=this.markFilesInProgressRefCount.get(r)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(r),i.push(r)):this.markFilesInProgressRefCount.set(r,a)}return i}async markFiles(e,t,i){const r=e.map(A=>ne(this.githubRepository.rootUri.path,A,!1,"/")?A.substring(this.githubRepository.rootUri.path.length+1):A);this.updateMarkFilesInProgressRefCount(r,"increment");const{mutate:a}=await this.githubRepository.ensure(),o=this.graphNodeId,u=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let A=0;A<r.length;A+=Qp)try{const $=r.slice(A,A+Qp),Q=Tu()`mutation Batch${u}{
					${$.map((re,oe)=>`alias${oe}: ${u}(
							input: {path: "${re}", pullRequestId: "${o}"}
						) { clientMutationId }
						`)}
				}`;await a({mutation:Q})}catch($){y.error(`Error marking files as ${i}: ${$}`,Ln.ID)}this.updateMarkFilesInProgressRefCount(r,"decrement").forEach(A=>this.setFileViewedState(A,i==="viewed"?ea.VIEWED:ea.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,i){const r=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===Ut.VscodeVfs?r.path:r.fsPath;switch(t){case ea.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case ea.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case ea.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};ni(Yp,"ID","PullRequestModel");let mi=Yp;async function lf(n,e,t){return!pi[n.author.login]||(t||(t=await n.getCoAuthors()),!t||t.length===0)?!1:t.some(i=>i.login===e.login)}function ta(n){return JSON.parse(n)}function ki(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function G_(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function uf(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Os(n,e,t){return n.with({scheme:e,query:JSON.stringify(t)})}function V_(n){if(!(n.scheme!=="githubcommit"||n.query===""))try{return JSON.parse(n.query)}catch{}}function Jp(n,e){return s.Uri.from({scheme:"githubcommit",path:`/${n}`,query:JSON.stringify(e)})}const j_=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],Xp=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],Zp=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function df(n,e){try{const{commit:t,baseCommit:i,headCommit:r,isBase:a,path:o}=JSON.parse(n.query),u=K.extname(o);if(!Xp.includes(u))return;const k=n.scheme==="review"?t:a?i:r,A=K.join(e.rootUri.fsPath,o).replace(/\\/g,"/"),{object:$}=await e.getObjectDetails(k,A),{mimetype:Q}=await e.detectObjectType($);if(Q==="text/plain")return;if(j_.indexOf(Q)>-1){const re=await e.buffer(k,A);return os.write(K.dirname(o),K.basename(o),re,!1,e.rootUri)}}catch{return}}var Qi;(n=>{const e="userIcons";function t(me){const Ne=La(me);if(me.avatarUrl){const Se=me.avatarUrl.split("").reduce((Re,Ae)=>(Re=(Re<<5)-Re+Ae.charCodeAt(0),Re&Re),0);return`${Ne}_${Math.abs(Se)}.jpg`}return`${Ne}.jpg`}function i(me){return s.Uri.joinPath(me.globalStorageUri,e)}function r(me,Ne){return s.Uri.joinPath(i(me),t(Ne))}function a(me){return s.Uri.joinPath(i(me),"cache.log")}async function o(me,Ne,Se){await s.workspace.fs.createDirectory(i(me));const Re=r(me,Ne);return await s.workspace.fs.writeFile(Re,Se),Re}async function u(me,Ne){try{const Se=r(me,Ne);return s.workspace.fs.readFile(Se)}catch{return}}function k(me){return s.Uri.parse(`data:image/svg+xml;size:${me.byteLength};base64,${me.toString("base64")}`)}n.asImageDataURI=k;function A(me,Ne){const Se=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${me}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM13.854 13.146L13.147 13.853L11.501 12.207L9.855 13.853L9.148 13.146L10.794 11.5L9.148 9.854L9.855 9.147L11.501 10.793L13.147 9.147L13.854 9.854L12.208 11.5L13.854 13.146Z" fill="${Ne}" />
</svg>`,Re=lr.Buffer.from(Se);return k(Re)}n.copilotErrorAsImageDataURI=A;function $(me,Ne){const Se=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${me}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.5 14.25C10.963 14.25 10.445 14.105 10 13.844V14.5H9V12.5L9.5 12H11.5V13H10.536C10.823 13.16 11.155 13.25 11.5 13.25C12.177 13.25 12.805 12.907 13.137 12.354L13.994 12.87C13.481 13.722 12.525 14.25 11.5 14.25ZM14 10.5L13.5 11H11.5V10H12.464C12.177 9.84 11.845 9.75 11.5 9.75C10.823 9.75 10.195 10.093 9.863 10.646L9.006 10.13C9.519 9.278 10.475 8.75 11.5 8.75C12.037 8.75 12.555 8.895 13 9.156V8.5H14V10.5Z" fill="${Ne}" />
</svg>`,Re=lr.Buffer.from(Se);return k(Re)}n.copilotInProgressAsImageDataURI=$;function Q(me,Ne){const Se=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${me}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.393 13.309L10.7 13.401L8.7 11.901L9.3 11.1L10.909 12.307L13.357 9.192L14.143 9.809L11.393 13.309Z" fill="${Ne}" />
</svg>`,Re=lr.Buffer.from(Se);return k(Re)}n.copilotSuccessAsImageDataURI=Q;function re(me,Ne){const Se=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark?"#FFFFFF":"#000000",Re=`<svg width="${me}" height="${Ne}" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
<path d="M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z" fill="${Se}"/>
</svg>`,Ae=lr.Buffer.from(Re);return k(Ae)}function oe(me){var Ne;return(Ne=me==null?void 0:me.includes("githubusercontent.com"))!=null?Ne:!1}n.isGitHubDotComAvatar=oe;async function pe(me,Ne,Se,Re,Ae){let Oe;const Ge=a(me);try{const kt=await s.workspace.fs.readFile(Ge);Oe=JSON.parse(kt.toString())}catch{Oe=[]}const We=Oe.length,qe=await Promise.all(Ne.map(async kt=>{const bt=kt.avatarUrl;if(bt===void 0)return;let fn,cn=!1;try{const et=await u(me,kt);if(!et)throw new Error("Temporary state not initialized");fn=lr.Buffer.from(et)}catch{if(Ae)return;cn=!0;const st=async()=>{var Tt;const Xt=await Qr()(bt.toString());if(!Xt.ok)throw new Error(`HTTP ${Xt.status}: ${Xt.statusText}`);if((Tt=Xt.headers.get("content-type"))!=null&&Tt.startsWith("image/")){const Qn=await Xt.arrayBuffer();await o(me,kt,new Uint8Array(Qn)),fn=lr.Buffer.from(Qn)}};try{await st()}catch{try{await st()}catch(Xt){const Qn=Bi(kt)?`${kt.org}/${kt.slug}`:kt.login||"unknown";return y.error(`Failed to fetch avatar after retry for user ${Qn}: ${Xt}`,"avatarCirclesAsImageDataUris"),re(Re,Se)}}}if(!fn)return;if(cn){const et=t(kt);Oe.push(et)}const On=`data:image/jpeg;size:${fn.byteLength};base64,${fn.toString("base64")}`,ve=`<svg width="${Re}" height="${Se}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${On}" width="${Re}" height="${Se}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,Ue=lr.Buffer.from(ve);return k(Ue)})),ot=Math.max(Ne.length,200);if(Oe.length>We&&We>0&&Oe.length>ot){const kt=Oe.splice(0,50);await Promise.all(kt.map(async bt=>{try{await s.workspace.fs.delete(s.Uri.joinPath(i(me),bt))}catch(fn){y.error(`Failed to delete avatar from cache: ${fn}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(Ge,lr.Buffer.from(JSON.stringify(Oe))),qe}n.avatarCirclesAsImageDataUris=pe})(Qi||(Qi={}));function W_(n,e){return s.Uri.parse(K.posix.join(`commit~${e.substr(0,8)}`,n))}function va(n,e,t,i,r,a,o){const u={path:e||n.path,ref:t,commit:i,base:a.base,isOutdated:r,rootPath:o.path};let k=n.path;return a.replaceFileExtension&&(k=`${k}.git`),n.with({scheme:"review",path:k,query:JSON.stringify(u)})}function cf(n,e,t,i,r){const a={prNumber:e,fileName:t,status:i,previousFileName:r};return n.with({scheme:"filechange",query:JSON.stringify(a)})}function ev(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function ds(n,e,t,i,r,a,o,u){const k={baseCommit:t,headCommit:i,isBase:a,fileName:r,prNumber:e.number,status:o,remoteName:e.githubRepository.remote.remoteName,previousFileName:u},A=n.path;return n.with({scheme:"pr",path:A,query:JSON.stringify(k)})}function ff(n){let e;return n instanceof mi?e=`${n.remote.url}:${n.number}`:typeof n=="string"?e=n:e=`${n.remote}:${n.prNumber}`,e}function tv(n){const e=n.lastIndexOf(":");if(e===-1)return;const t=n.substring(0,e),i=n.substring(e+1),r=Number(i);if(!(!t||isNaN(r)||r<=0))return{remote:t,prNumber:r}}function Ql(n,e){const t=ff(n),i={prIdentifier:t};return e!==void 0&&(i.showCopilot=e),s.Uri.parse(`PRNode:${t}`).with({scheme:"prnode",query:JSON.stringify(i)})}function nv(n,e,t){const i={owner:n,repo:e,prNumber:t};return s.Uri.parse(`commitsnode:${n}/${e}/${t}`).with({scheme:"commitsnode",query:JSON.stringify(i)})}function z_(n){if(n.scheme==="commitsnode")try{return JSON.parse(n.query)}catch{return}}function hf(n){return s.Uri.from({scheme:"notification",path:n.key})}function K_(n){if(n.scheme==="notification")try{return{key:n.path}}catch{}}function Q_(n){const e={origin:n.originUri.toString()};return n.repoUriParams&&(e.origin=Y_(n.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function md(n){if(n.scheme==="newissue")try{const e=JSON.parse(n.query),t=s.Uri.parse(e.origin),i=mf(t);return{originUri:t,repoUriParams:i}}catch{}}function Y_(n){const e={folderManagerRootUri:n.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${n.owner}/${n.repo}`,query:JSON.stringify(e)})}function mf(n){if(n.scheme!=="repo")return;const[e,t]=n.path.split("/");try{const i=JSON.parse(n.query),r=s.Uri.parse(i.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:r}}catch{}}const J_=/^(?!-)(?!.*--)[a-zA-Z0-9-]+(?<!-)$/,X_=/^[a-zA-Z0-9_.-]+$/;function pf(n,e,t){if(!n||!e||!t)return!1;const i=Number(t);return!(isNaN(i)||i<=0||isNaN(Number(t))||n.length===0||e.length===0||!J_.test(n)||!X_.test(e))}var Yl=(n=>(n.OpenIssueWebview="/open-issue-webview",n.OpenPullRequestWebview="/open-pull-request-webview",n.CheckoutPullRequest="/checkout-pull-request",n.OpenPullRequestChanges="/open-pull-request-changes",n))(Yl||{});async function iv(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:Ui,path:"/open-issue-webview",query:e}))}function Z_(n){if(Me(n.authority,Ui)===0&&n.path==="/open-issue-webview")try{const e=JSON.parse(n.query.split("&")[0]);return pf(e.owner,e.repo,e.issueNumber)?e:void 0}catch{}}async function rv(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:Ui,path:"/open-pull-request-webview",query:e}))}async function Y2(n){const e=JSON.stringify(n);return vscode.env.asExternalUri(vscode.Uri.from({scheme:vscode.env.uriScheme,authority:EXTENSION_ID,path:"/open-pull-request-changes",query:e}))}function av(n){if(Me(n.authority,Ui)===0&&!(n.path!=="/open-pull-request-webview"&&n.path!=="/checkout-pull-request"&&n.path!=="/open-pull-request-changes"))try{const t=new URLSearchParams(n.query).get("uri");if(t){const a=/^https?:\/\/github\.com\/(?<owner>[^\/]+)\/(?<repo>[^\/]+)\/pull\/(?<pullRequestNumber>\d+)$/.exec(t);if(a&&a.groups){const{owner:o,repo:u,pullRequestNumber:k}=a.groups,A={owner:o,repo:u,pullRequestNumber:parseInt(k,10)};return pf(A.owner,A.repo,A.pullRequestNumber.toString())?A:void 0}}const i=JSON.parse(n.query.split("&")[0]);return pf(i.owner,i.repo,i.pullRequestNumber)?i:void 0}catch{}}function sv(n){return s.Uri.from({scheme:"prquery",path:n.isCopilot?"copilot":void 0,query:n.remote?JSON.stringify({remote:n.remote}):void 0})}function e1(n){if(n.scheme==="prquery")try{return{remote:(n.query?JSON.parse(n.query):void 0).remote,isCopilot:n.path==="copilot"}}catch{}}var Ut=(n=>(n.File="file",n.Review="review",n.Pr="pr",n.PRNode="prnode",n.FileChange="filechange",n.GithubPr="githubpr",n.GitPr="gitpr",n.VscodeVfs="vscode-vfs",n.Comment="comment",n.MergeOutput="merge-output",n.Notification="notification",n.NewIssue="newissue",n.Repo="repo",n.Git="git",n.PRQuery="prquery",n.GitHubCommit="githubcommit",n.CommitsNode="commitsnode",n))(Ut||{});function Ko(n,e){return n.scheme==="file"?K.resolve(n.fsPath,e):K.posix.resolve(n.path,e)}function ov(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Qo=ov();function t1(n){Qo=n}const n1=/[&<>"']/,i1=/[&<>"']/g,r1=/[<>"']|&(?!#?\w+;)/,a1=/[<>"']|&(?!#?\w+;)/g,s1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lv=n=>s1[n];function cr(n,e){if(e){if(n1.test(n))return n.replace(i1,lv)}else if(r1.test(n))return n.replace(a1,lv);return n}const o1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function uv(n){return n.replace(o1,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const l1=/(^|[^\[])\^/g;function yi(n,e){n=n.source||n,e=e||"";const t={replace:(i,r)=>(r=r.source||r,r=r.replace(l1,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const u1=/[^\w:]/g,d1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function dv(n,e,t){if(n){let i;try{i=decodeURIComponent(uv(t)).replace(u1,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!d1.test(t)&&(t=m1(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const pd={},c1=/^[^:]+:\/*[^/]*$/,f1=/^([^:]+:)[\s\S]*$/,h1=/^([^:]+:\/*[^/]*)[\s\S]*$/;function m1(n,e){pd[" "+n]||(c1.test(n)?pd[" "+n]=n+"/":pd[" "+n]=gd(n,"/",!0)),n=pd[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(f1,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(h1,"$1")+e:n+e}const vd={exec:function(){}};function Aa(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function cv(n,e){const t=n.replace(/\|/g,(a,o,u)=>{let k=!1,A=o;for(;--A>=0&&u[A]==="\\";)k=!k;return k?"|":" |"}),i=t.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function gd(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const a=n.charAt(i-r-1);if(a===e&&!t)r++;else if(a!==e&&t)r++;else break}return n.substr(0,i-r)}function p1(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function fv(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function hv(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function mv(n,e,t,i){const r=e.href,a=e.title?cr(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:r,title:a,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,u}else return{type:"image",raw:t,href:r,title:a,text:cr(o)}}function v1(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[o]=a;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class vf{constructor(e){this.options=e||Qo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:gd(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=v1(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const a=gd(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,a,o,u,k,A,$,Q,re,oe,pe,me=t[1].trim();const Ne=me.length>1,Se={type:"list",raw:"",ordered:Ne,start:Ne?+me.slice(0,-1):"",loose:!1,items:[]};me=Ne?`\\d{1,9}\\${me.slice(-1)}`:`\\${me}`,this.options.pedantic&&(me=Ne?me:"[*+-]");const Re=new RegExp(`^( {0,3}${me})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(pe=!1,!(!(t=Re.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),$=t[2].split(`
`,1)[0],Q=e.split(`
`,1)[0],this.options.pedantic?(o=2,oe=$.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,oe=$.slice(o),o+=t[1].length),k=!1,!$&&/^ *$/.test(Q)&&(i+=Q+`
`,e=e.substring(Q.length+1),pe=!0),!pe){const Oe=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(re=e.split(`
`,1)[0],$=re,this.options.pedantic&&($=$.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Oe.test($));){if($.search(/[^ ]/)>=o||!$.trim())oe+=`
`+$.slice(o);else if(!k)oe+=`
`+$;else break;!k&&!$.trim()&&(k=!0),i+=re+`
`,e=e.substring(re.length+1)}}Se.loose||(A?Se.loose=!0:/\n *\n *$/.test(i)&&(A=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(oe),r&&(a=r[0]!=="[ ] ",oe=oe.replace(/^\[[ xX]\] +/,""))),Se.items.push({type:"list_item",raw:i,task:!!r,checked:a,loose:!1,text:oe}),Se.raw+=i}Se.items[Se.items.length-1].raw=i.trimRight(),Se.items[Se.items.length-1].text=oe.trimRight(),Se.raw=Se.raw.trimRight();const Ae=Se.items.length;for(u=0;u<Ae;u++){this.lexer.state.top=!1,Se.items[u].tokens=this.lexer.blockTokens(Se.items[u].text,[]);const Oe=Se.items[u].tokens.filter(We=>We.type==="space"),Ge=Oe.every(We=>{const qe=We.raw.split("");let ot=0;for(const kt of qe)if(kt===`
`&&(ot+=1),ot>1)return!0;return!1});!Se.loose&&Oe.length&&Ge&&(Se.loose=!0,Se.items[u].loose=!0)}return Se}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):cr(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:cv(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,a,o,u,k;for(a=0;a<r;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(r=i.rows.length,a=0;a<r;a++)i.rows[a]=cv(i.rows[a],i.header.length).map(A=>({text:A}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(k=i.rows[o],u=0;u<k.length;u++)k[u].tokens=[],this.lexer.inlineTokens(k[u].text,k[u].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:cr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):cr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=gd(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=p1(t[2],"()");if(o>-1){const k=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,k).trim(),t[3]=""}}let r=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),mv(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return mv(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const a=r[1]||r[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let u,k,A=o,$=0;const Q=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Q.lastIndex=0,t=t.slice(-1*e.length+o);(r=Q.exec(t))!=null;){if(u=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!u)continue;if(k=u.length,r[3]||r[4]){A+=k;continue}else if((r[5]||r[6])&&o%3&&!((o+k)%3)){$+=k;continue}if(A-=k,A>0)continue;if(k=Math.min(k,k+A+$),Math.min(o,k)%2){const oe=e.slice(1,o+r.index+k);return{type:"em",raw:e.slice(0,o+r.index+k+1),text:oe,tokens:this.lexer.inlineTokens(oe,[])}}const re=e.slice(2,o+r.index+k-1);return{type:"strong",raw:e.slice(0,o+r.index+k+1),text:re,tokens:this.lexer.inlineTokens(re,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return r&&a&&(i=i.substring(1,i.length-1)),i=cr(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,a;return i[2]==="@"?(r=cr(this.options.mangle?t(i[1]):i[1]),a="mailto:"+r):(r=cr(i[1]),a=r),{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,a;if(i[2]==="@")r=cr(this.options.mangle?t(i[0]):i[0]),a="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=cr(i[0]),i[1]==="www."?a="http://"+r:a=r}return{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):cr(i[0]):i[0]:r=cr(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const _n={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:vd,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};_n._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,_n.def=yi(_n.def).replace("label",_n._label).replace("title",_n._title).getRegex(),_n.bullet=/(?:[*+-]|\d{1,9}[.)])/,_n.listItemStart=yi(/^( *)(bull) */).replace("bull",_n.bullet).getRegex(),_n.list=yi(_n.list).replace(/bull/g,_n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_n.def.source+")").getRegex(),_n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_n._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,_n.html=yi(_n.html,"i").replace("comment",_n._comment).replace("tag",_n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_n.paragraph=yi(_n._paragraph).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.blockquote=yi(_n.blockquote).replace("paragraph",_n.paragraph).getRegex(),_n.normal=Aa({},_n),_n.gfm=Aa({},_n.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_n.gfm.table=yi(_n.gfm.table).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.gfm.paragraph=yi(_n._paragraph).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_n.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.pedantic=Aa({},_n.normal,{html:yi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vd,paragraph:yi(_n.normal._paragraph).replace("hr",_n.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const on={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:vd,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:vd,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};on._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",on.punctuation=yi(on.punctuation).replace(/punctuation/g,on._punctuation).getRegex(),on.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,on.escapedEmSt=/\\\*|\\_/g,on._comment=yi(_n._comment).replace("(?:-->|$)","-->").getRegex(),on.emStrong.lDelim=yi(on.emStrong.lDelim).replace(/punct/g,on._punctuation).getRegex(),on.emStrong.rDelimAst=yi(on.emStrong.rDelimAst,"g").replace(/punct/g,on._punctuation).getRegex(),on.emStrong.rDelimUnd=yi(on.emStrong.rDelimUnd,"g").replace(/punct/g,on._punctuation).getRegex(),on._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,on._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,on._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,on.autolink=yi(on.autolink).replace("scheme",on._scheme).replace("email",on._email).getRegex(),on._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,on.tag=yi(on.tag).replace("comment",on._comment).replace("attribute",on._attribute).getRegex(),on._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,on._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,on._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,on.link=yi(on.link).replace("label",on._label).replace("href",on._href).replace("title",on._title).getRegex(),on.reflink=yi(on.reflink).replace("label",on._label).replace("ref",_n._label).getRegex(),on.nolink=yi(on.nolink).replace("ref",_n._label).getRegex(),on.reflinkSearch=yi(on.reflinkSearch,"g").replace("reflink",on.reflink).replace("nolink",on.nolink).getRegex(),on.normal=Aa({},on),on.pedantic=Aa({},on.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:yi(/^!?\[(label)\]\((.*?)\)/).replace("label",on._label).getRegex(),reflink:yi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",on._label).getRegex()}),on.gfm=Aa({},on.normal,{escape:yi(on.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),on.gfm.url=yi(on.gfm.url,"i").replace("email",on.gfm._extended_email).getRegex(),on.breaks=Aa({},on.gfm,{br:yi(on.br).replace("{2,}","*").getRegex(),text:yi(on.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function g1(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function pv(n){let e="",t,i;const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class cs{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Qo,this.options.tokenizer=this.options.tokenizer||new vf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:_n.normal,inline:on.normal};this.options.pedantic?(t.block=_n.pedantic,t.inline=on.pedantic):this.options.gfm&&(t.block=_n.gfm,this.options.breaks?t.inline=on.breaks:t.inline=on.gfm),this.tokenizer.rules=t}static get rules(){return{block:_n,inline:on}}static lex(e,t){return new cs(t).lex(e)}static lexInline(e,t){return new cs(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const k=e.slice(1);let A;this.options.extensions.startBlock.forEach(function($){A=$.call({lexer:this},k),typeof A=="number"&&A>=0&&(u=Math.min(u,A))}),u<1/0&&u>=0&&(a=e.substring(0,u+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,a,o=e,u,k,A;if(this.tokens.links){const $=Object.keys(this.tokens.links);if($.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)$.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,u.index)+"["+hv("a",u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,u.index)+"["+hv("a",u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,u.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(k||(A=""),k=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some($=>(i=$.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,A)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,pv)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,pv))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let $=1/0;const Q=e.slice(1);let re;this.options.extensions.startInline.forEach(function(oe){re=oe.call({lexer:this},Q),typeof re=="number"&&re>=0&&($=Math.min($,re))}),$<1/0&&$>=0&&(a=e.substring(0,$+1))}if(i=this.tokenizer.inlineText(a,g1)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(A=i.raw.slice(-1)),k=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const $="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error($);break}else throw new Error($)}}return t}}class yd{constructor(e){this.options=e||Qo}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+cr(r,!0)+'">'+(i?e:cr(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:cr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const r=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+r+a+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=dv(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+cr(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=dv(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class vv{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class gv{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class fs{constructor(e){this.options=e||Qo,this.options.renderer=this.options.renderer||new yd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new vv,this.slugger=new gv}static parse(e,t){return new fs(t).parse(e)}static parseInline(e,t){return new fs(t).parseInline(e)}parse(e,t=!0){let i="",r,a,o,u,k,A,$,Q,re,oe,pe,me,Ne,Se,Re,Ae,Oe,Ge,We;const qe=e.length;for(r=0;r<qe;r++){if(oe=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oe.type]&&(We=this.options.extensions.renderers[oe.type].call({parser:this},oe),We!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(oe.type))){i+=We||"";continue}switch(oe.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(oe.tokens),oe.depth,uv(this.parseInline(oe.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(oe.text,oe.lang,oe.escaped);continue}case"table":{for(Q="",$="",u=oe.header.length,a=0;a<u;a++)$+=this.renderer.tablecell(this.parseInline(oe.header[a].tokens),{header:!0,align:oe.align[a]});for(Q+=this.renderer.tablerow($),re="",u=oe.rows.length,a=0;a<u;a++){for(A=oe.rows[a],$="",k=A.length,o=0;o<k;o++)$+=this.renderer.tablecell(this.parseInline(A[o].tokens),{header:!1,align:oe.align[o]});re+=this.renderer.tablerow($)}i+=this.renderer.table(Q,re);continue}case"blockquote":{re=this.parse(oe.tokens),i+=this.renderer.blockquote(re);continue}case"list":{for(pe=oe.ordered,me=oe.start,Ne=oe.loose,u=oe.items.length,re="",a=0;a<u;a++)Re=oe.items[a],Ae=Re.checked,Oe=Re.task,Se="",Re.task&&(Ge=this.renderer.checkbox(Ae),Ne?Re.tokens.length>0&&Re.tokens[0].type==="paragraph"?(Re.tokens[0].text=Ge+" "+Re.tokens[0].text,Re.tokens[0].tokens&&Re.tokens[0].tokens.length>0&&Re.tokens[0].tokens[0].type==="text"&&(Re.tokens[0].tokens[0].text=Ge+" "+Re.tokens[0].tokens[0].text)):Re.tokens.unshift({type:"text",text:Ge}):Se+=Ge),Se+=this.parse(Re.tokens,Ne),re+=this.renderer.listitem(Se,Oe,Ae);i+=this.renderer.list(re,pe,me);continue}case"html":{i+=this.renderer.html(oe.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(oe.tokens));continue}case"text":{for(re=oe.tokens?this.parseInline(oe.tokens):oe.text;r+1<qe&&e[r+1].type==="text";)oe=e[++r],re+=`
`+(oe.tokens?this.parseInline(oe.tokens):oe.text);i+=t?this.renderer.paragraph(re):re;continue}default:{const ot='Token with "'+oe.type+'" type was not found.';if(this.options.silent){console.error(ot);return}else throw new Error(ot)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,a,o;const u=e.length;for(r=0;r<u;r++){if(a=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(o=this.options.extensions.renderers[a.type].call({parser:this},a),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=o||"";continue}switch(a.type){case"escape":{i+=t.text(a.text);break}case"html":{i+=t.html(a.text);break}case"link":{i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{i+=t.image(a.href,a.title,a.text);break}case"strong":{i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(a.tokens,t));break}case"text":{i+=t.text(a.text);break}default:{const k='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(k);return}else throw new Error(k)}}}return i}}function Pn(n,e,t){if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Aa({},Pn.defaults,e||{}),fv(e),t){const i=e.highlight;let r;try{r=cs.lex(n,e)}catch(u){return t(u)}const a=function(u){let k;if(!u)try{e.walkTokens&&Pn.walkTokens(r,e.walkTokens),k=fs.parse(r,e)}catch(A){u=A}return e.highlight=i,u?t(u):t(null,k)};if(!i||i.length<3||(delete e.highlight,!r.length))return a();let o=0;Pn.walkTokens(r,function(u){u.type==="code"&&(o++,setTimeout(()=>{i(u.text,u.lang,function(k,A){if(k)return a(k);A!=null&&A!==u.text&&(u.text=A,u.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}try{const i=cs.lex(n,e);return e.walkTokens&&Pn.walkTokens(i,e.walkTokens),fs.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+cr(i.message+"",!0)+"</pre>";throw i}}Pn.options=Pn.setOptions=function(n){return Aa(Pn.defaults,n),t1(Pn.defaults),Pn},Pn.getDefaults=ov,Pn.defaults=Qo,Pn.use=function(...n){const e=Aa({},...n),t=Pn.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const o=t.renderers?t.renderers[a.name]:null;o?t.renderers[a.name]=function(...u){let k=a.renderer.apply(this,u);return k===!1&&(k=o.apply(this,u)),k}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),r.renderer){const a=Pn.defaults.renderer||new yd;for(const o in r.renderer){const u=a[o];a[o]=(...k)=>{let A=r.renderer[o].apply(a,k);return A===!1&&(A=u.apply(a,k)),A}}e.renderer=a}if(r.tokenizer){const a=Pn.defaults.tokenizer||new vf;for(const o in r.tokenizer){const u=a[o];a[o]=(...k)=>{let A=r.tokenizer[o].apply(a,k);return A===!1&&(A=u.apply(a,k)),A}}e.tokenizer=a}if(r.walkTokens){const a=Pn.defaults.walkTokens;e.walkTokens=function(o){r.walkTokens.call(this,o),a&&a.call(this,o)}}i&&(e.extensions=t),Pn.setOptions(e)})},Pn.walkTokens=function(n,e){for(const t of n)switch(e.call(Pn,t),t.type){case"table":{for(const i of t.header)Pn.walkTokens(i.tokens,e);for(const i of t.rows)for(const r of i)Pn.walkTokens(r.tokens,e);break}case"list":{Pn.walkTokens(t.items,e);break}default:Pn.defaults.extensions&&Pn.defaults.extensions.childTokens&&Pn.defaults.extensions.childTokens[t.type]?Pn.defaults.extensions.childTokens[t.type].forEach(function(i){Pn.walkTokens(t[i],e)}):t.tokens&&Pn.walkTokens(t.tokens,e)}},Pn.parseInline=function(n,e){if(typeof n=="undefined"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=Aa({},Pn.defaults,e||{}),fv(e);try{const t=cs.lexInline(n,e);return e.walkTokens&&Pn.walkTokens(t,e.walkTokens),fs.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+cr(t.message+"",!0)+"</pre>";throw t}},Pn.Parser=fs,Pn.parser=fs.parse,Pn.Renderer=yd,Pn.TextRenderer=vv,Pn.Lexer=cs,Pn.lexer=cs.lex,Pn.Tokenizer=vf,Pn.Slugger=gv,Pn.parse=Pn;const J2=Pn.options,X2=Pn.setOptions,Z2=Pn.use,eF=Pn.walkTokens,tF=Pn.parseInline,gf=Pn,nF=fs.parse,iF=cs.lex;var rF=rn(48318);const yv=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function bv(n){return n.match(yv)}function y1(n){return!!bv(n.body)}async function wv(n,e,t=!0){const i=n[2],r=n[3],a=n[5],o=Number(n[6])-1,u=n[8]?Number(n[8])-1:o;let k;for(const $ of e.folderManagers){const Q=await $.getGitHubRemotes();for(const re of Q)if(i.toLowerCase()===re.owner.toLowerCase()&&r.toLowerCase()===re.repositoryName.toLowerCase()){k=$;break}if(k)break}if(!k)return;const A=s.Uri.joinPath(k.repository.rootUri,a);try{await s.workspace.fs.stat(A)}catch{return}return{file:A,start:o,end:u}}async function b1(n,e){const t=bv(n.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const i=await wv(t,e,!1);if(!i)return s.env.openExternal(s.Uri.parse(t[0]));const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=new s.Range(i.start,0,i.end,a.text.length);return s.window.showTextDocument(i.file,{selection:o})}var w1=Object.defineProperty,k1=(n,e,t)=>e in n?w1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_1=(n,e,t)=>k1(n,typeof e!="symbol"?e+"":e,t);function S1(n){switch(n.state){case hi.Open:return n instanceof mi?"$(git-pull-request)":"$(issues)";case hi.Closed:return n instanceof mi?"$(git-pull-request)":"$(issue-closed)";case hi.Merged:return"$(git-merge)"}}function E1(n){if(n instanceof mi)return S1(n);switch(n.state){case hi.Open:return'<span style="color:#22863a;">$(issues)</span>';case hi.Closed:return`<span style="color:${n.stateReason!=="COMPLETED"?"#6a737d":"#8957e5"};">$(issue-closed)</span>`}}function R1(n,e){let t;return n.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(t=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}function kv(n,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=R1(e,n.owner+"/"+n.repo);return(e.location||i)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),i&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",i)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function _v(n,e,t){let i=n.search(e),r=0;for(;i>=0&&i<n.length;){let a;if(i===0||n.charAt(i-1)!=="&"){const u=n.substring(i).match(e);if(u){const k=await t(u);k&&(a=n.slice(0,i)+k,n=a+n.slice(i+u[0].length))}}r=a?a.length:i+1;const o=n.substring(r).search(e);i=o>0?r+o:o}return n}function Sv(n,e){return _v(n,qa,async t=>{const i=Is(t);if(i){const r=Gc(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${r}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function N1(n,e){return _v(n,yv,async t=>{const i=await wv(t,e);if(i){y.trace("finding code links in issue","Issues");const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:a.text.length}}}],u=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(o))}`);return`[${t[0]}](${u} "Open ${i.file.fsPath}")`}})}const bd=200;async function Ls(n,e,t,i,r){var a;const o=new s.MarkdownString(void 0,!0);o.supportHtml=!0;const u=new Date(n.createdAt),k=`${n.remote.owner}/${n.remote.repositoryName}`;o.appendMarkdown(`[${k}](https://github.com/${k}) on ${u.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const A=n instanceof mi&&n.isDraft?`[DRAFT] ${n.title}`:n.title,$=gf(A,{renderer:new yf,smartypants:!0}).trim();o.appendMarkdown(`${E1(n)} **${$}** [#${n.number}](${n.html_url})  
`);let Q=gf(n.body,{renderer:new yf,smartypants:!0});if(o.appendMarkdown(`  
`),Q=Q.length>bd?Q.substr(0,bd)+"...":Q,Q=await Sv(Q,n),Q=await N1(Q,t),o.appendMarkdown(Q+`  
`),n.item.labels.length>0&&(await Ms(e),o.appendMarkdown(`&nbsp;  
`),n.item.labels.forEach(re=>{o.appendMarkdown(`[${op(re)}](https://github.com/${k}/labels/${encodeURIComponent(re.name)}) `)})),n.item.comments&&i){for(const re of n.item.comments)if(re.databaseId===i){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${re.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${re.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let oe=gf(re.body.length>bd?re.body.substr(0,bd)+"...":re.body,{renderer:new yf,smartypants:!0});oe=await Sv(oe,n),o.appendMarkdown(oe)}}if(r){const re=(a=Ev(r))==null?void 0:a.tooltip;re&&(o.appendMarkdown(`  \r
\r
`),o.appendMarkdown(`_${re}_`))}return o}class yf extends yd{constructor(e=!1){super(),_1(this,"allowSimpleMarkdown"),this.allowSimpleMarkdown=e}code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,i,r){return e+" "}hr(){return""}list(e,t,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return this.allowSimpleMarkdown?`\`${e}\``:`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,i){return""}text(e){return e}link(e,t,i){return i+" "}}function Ev(n){if(n&Ir.CIFailed&&n&Ir.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(n&Ir.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(n&Ir.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(n&Ir.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(n&Ir.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(n===Ir.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}var bf;(n=>{function e(t){return t.issue!==void 0}n.is=e})(bf||(bf={}));class T1{constructor(e,t,i){this._stateManager=e,this._reposManager=t,this._context=i}async provideChatContextForResource(e,t){var i;const r=(i=ao.currentPanel)==null?void 0:i.getCurrentItem();if(r)return this._issueToUnresolvedContext(r)}async resolveChatContext(e,t){return e.value=await this._resolvedIssueValue(e.issue),e.modelDescription="All the information about the GitHub issue the user is viewing, including comments.",e.tooltip=await Ls(e.issue,this._context,this._reposManager),e}async provideChatContextExplicit(e){var t,i;const r=[],a=new Set;for(const o of this._reposManager.folderManagers){const u=this._stateManager.getIssueCollection(o==null?void 0:o.repository.rootUri);for(const k of u){const A=await k[1];if(((t=A.issues)!=null?t:[]).length!==0)for(const $ of(i=A.issues)!=null?i:[]){const Q=Ho($);a.has(Q)||(a.add(Q),r.push(this._issueToUnresolvedContext($)))}}}return r}_issueToUnresolvedContext(e){return{icon:new s.ThemeIcon("issues"),label:`#${e.number} ${e.title}`,modelDescription:"The GitHub issue the user is viewing.",tooltip:new s.MarkdownString(`#${e.number} ${e.title}`),issue:e,command:{command:"issue.openDescription",title:s.l10n.t("Open Issue")}}}async _resolvedIssueValue(e){var t;const i=(t=e.timelineEvents)!=null?t:await e.getIssueTimelineEvents();return JSON.stringify({issueNumber:e.number,owner:e.remote.owner,repo:e.remote.repositoryName,title:e.title,body:e.body,comments:i.filter(r=>r.event===nn.Commented).map(r=>{var a;return{author:(a=r.user)==null?void 0:a.login,body:r.body,createdAt:r.createdAt}})})}}var C1=Object.defineProperty,A1=(n,e,t)=>e in n?C1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rv=(n,e,t)=>A1(n,typeof e!="symbol"?e+"":e,t),wf;(n=>{function e(t){return t.pr!==void 0}n.is=e})(wf||(wf={}));class P1 extends f{constructor(e,t,i,r){super(),this._prsTreeModel=e,this._reposManager=t,this._git=i,this._context=r,Rv(this,"_onDidChangeWorkspaceChatContext",new s.EventEmitter),Rv(this,"onDidChangeWorkspaceChatContext",this._onDidChangeWorkspaceChatContext.event)}async initialize(){this._git.state==="uninitialized"&&await new Promise(e=>{this._register(G(this._git.onDidChangeState)(()=>e()))}),this._reposManager.folderManagers.forEach(e=>{this._register(e.onDidChangeActivePullRequest(()=>{this._onDidChangeWorkspaceChatContext.fire()}))}),this._register(this._reposManager.onDidChangeFolderRepositories(e=>{e.added&&(this._register(e.added.onDidChangeActivePullRequest(()=>{this._onDidChangeWorkspaceChatContext.fire()})),this._onDidChangeWorkspaceChatContext.fire())})),this._register(this._reposManager.onDidChangeAnyGitHubRepository(()=>{this._onDidChangeWorkspaceChatContext.fire()})),this._onDidChangeWorkspaceChatContext.fire()}async provideWorkspaceChatContext(e){var t,i;const r=this._reposManager.folderManagers.length>1?"Information about one of the current repositories. You can use this information when you need to calculate diffs or compare changes with the default branch":"Information about the current repository. You can use this information when you need to calculate diffs or compare changes with the default branch",a=[];for(const o of this._reposManager.folderManagers){if(o.gitHubRepositories.length===0)continue;const u=await o.getPullRequestDefaults();let k=`Repository name: ${u.repo}
Owner: ${u.owner}
Current branch: ${(i=(t=o.repository.state.HEAD)==null?void 0:t.name)!=null?i:"unknown"}
Default branch: ${u.base}`;o.activePullRequest&&(k=`${k}
Active pull request (may not be the same as open pull request): ${o.activePullRequest.title} ${o.activePullRequest.html_url}`),a.push({icon:new s.ThemeIcon("github-alt"),label:`${u.owner}/${u.repo}`,modelDescription:r,value:k})}return a}async provideChatContextForResource(e,t){var i;const r=(i=ir.currentPanel)==null?void 0:i.getCurrentItem();if(r)return this._prToUnresolvedContext(r)}async resolveChatContext(e,t){return e.pr&&(e.value=await this._resolvedPrValue(e.pr),e.modelDescription="All the information about the GitHub pull request the user is viewing, including comments, review threads, and changes.",e.tooltip=await Ls(e.pr,this._context,this._reposManager)),e}async provideChatContextExplicit(e){return(await this._prsTreeModel.getAllPullRequests(this._reposManager.folderManagers[0],!1)).items.map(i=>this._prToUnresolvedContext(i))}_prToUnresolvedContext(e){return{icon:new s.ThemeIcon("git-pull-request"),label:`#${e.number} ${e.title}`,modelDescription:"The GitHub pull request the user is viewing.",tooltip:new s.MarkdownString(`#${e.number} ${e.title}`),pr:e,command:{command:"pr.openDescription",title:s.l10n.t("Open Pull Request")}}}async _resolvedPrValue(e){var t,i;return JSON.stringify({prNumber:e.number,owner:e.remote.owner,repo:e.remote.repositoryName,title:e.title,body:e.body,comments:e.comments.map(r=>{var a;return{author:(a=r.user)==null?void 0:a.login,body:r.body,createdAt:r.createdAt}}),threads:((t=e.reviewThreadsCache)!=null?t:await e.getReviewThreads()).map(r=>({comments:r.comments.map(a=>{var o;return{author:(o=a.user)==null?void 0:o.login,body:a.body,createdAt:a.createdAt}}),isResolved:r.isResolved})),changes:((i=e.rawFileChanges)!=null?i:await e.getRawFileChangesInfo()).map(r=>r.patch)})}}function Jl(n){return!!n&&n.kind==="notification"}function Xl(n){return n===void 0||n===0?0:n-1}function aF(n,e){for(let t=0;t<n.length;t++){const i=n[t];for(let r=0;r<i.diffLines.length;r++)if(i.diffLines[r].positionInHunk===e)return i.diffLines[r]}}function wd(n,e,t){const i=Bl(n);let r=i.next(),a=0;for(;!r.done;){const o=r.value;if(!(o.oldLineNumber>e))if(o.oldLineNumber+o.oldLength-1<e)a+=o.newLength-o.oldLength;else{if(t===o.newLength)return a+=o.newLength-o.oldLength,e+a;for(const u of o.diffLines){if(u.oldLineNumber>e)return e+a;u.type===Ci.Add?a++:u.type===Ci.Delete&&a--}return e+a}r=i.next()}return e+a}function Zl(n,e){const t=Bl(n);let i=t.next(),r=0;for(;!i.done;){const a=i.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)r+=a.oldLength-a.newLength;else{for(const o of a.diffLines)if(o.type===Ci.Add?r--:o.type===Ci.Delete&&r++,o.newLineNumber>e)return e+r;return e+r}i=t.next()}return e+r}function Nv(n,e,t="GetCommentingRanges"){n.length===0&&y.debug("No commenting ranges: File contains no diffs.",t);const i=[];for(let r=0;r<n.length;r++){const a=n[r];let o,u;if(e){let k;for(let A=0;A<a.diffLines.length;A++){const $=a.diffLines[A];$.type===Ci.Delete?(o!==void 0||(o=Xl($.oldLineNumber)),k=Xl($.oldLineNumber)):o!==void 0&&k!==void 0&&(i.push(new s.Range(o,0,k,0)),o=void 0,k=void 0)}o!==void 0&&k!==void 0?(i.push(new s.Range(o,0,k,0)),o=void 0,k=void 0):i.length===0&&y.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(o=Xl(a.newLineNumber),u=Xl(a.newLength),i.push(new s.Range(o,0,o+u,0))):y.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return y.debug(`Found ${i.length} commenting ranges.`,t),i}var M1=Object.defineProperty,F1=(n,e,t)=>e in n?M1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fo=(n,e,t)=>F1(n,typeof e!="symbol"?e+"":e,t);class fr extends f{constructor(e){super(),this.parent=e,fo(this,"_children"),fo(this,"childrenDisposables",[]),fo(this,"label"),fo(this,"accessibilityInformation"),fo(this,"id"),fo(this,"description")}getParent(){if(this.parent instanceof fr)return this.parent}get children(){if(this._children&&this._children.length)return this._children}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(i){y.error(i,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this._children&&this._children.length?this._children:this.getChildren()}async getChildren(e=!0){return this._children&&this._children.length&&e&&d(this._children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&d(this.childrenDisposables)}}class kf extends fr{constructor(e,t){super(e),fo(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var I1=Object.defineProperty,D1=(n,e,t)=>e in n?I1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pa=(n,e,t)=>D1(n,typeof e!="symbol"?e+"":e,t);function kd(n,e={}){const t=s.window.activeTextEditor,i={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===n.path&&(i.selection=t.selection),{command:"vscode.open",arguments:[n,i],title:"Open File"}}async function _f(n,e,t,i,r){let a=await df(e,n.repository)||e,o=await df(t,n.repository)||t;(a.scheme==="data"||o.scheme==="data")&&(r===Qt.ADD&&(a=Zp),r===Qt.DELETE&&(o=Zp));const u=t.path.split("/");return{command:"vscode.diff",arguments:[a,o,`${u[u.length-1]} (Pull Request)`,i],title:"Open Changed File in pull request"}}class ho extends fr{constructor(e,t,i,r){var a;super(e),this.pullRequestManager=t,this.pullRequest=i,this.changeModel=r,Pa(this,"iconPath"),Pa(this,"fileChangeResourceUri"),Pa(this,"contextValue"),Pa(this,"command"),Pa(this,"opts"),Pa(this,"checkboxState");const o=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:ea.UNVIEWED;this.contextValue=`${Ut.FileChange}:${Qt[this.changeModel.status]}:${o===ea.VIEWED?"viewed":"unviewed"}`,this.label=K.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=cf(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof Fs?this.changeModel.change.previousFileName:void 0),this.updateViewed(o),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(u=>{[...u.added,...u.removed].some(k=>k.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(u=>{const k=u.changed.find(A=>A.fileName===this.changeModel.fileName&&A.viewed!==this.changeModel.viewed);k&&(this.updateViewed(k.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"},this.description=this._getDescription()}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}_getDescription(){return s.workspace.getConfiguration(vt).get(ht)==="flat"?!0:""}isUnderCommitNode(){var e;return this.changeModel.sha!==void 0&&this.changeModel.sha!==((e=this.pullRequest.head)==null?void 0:e.sha)}updateViewed(e){var t,i;this.changeModel.updateViewed(e),this.contextValue=`${Ut.FileChange}:${Qt[this.changeModel.status]}:${e===ea.VIEWED?"viewed":"unviewed"}`,this.isUnderCommitNode()?this.checkboxState=void 0:this.checkboxState=e===ea.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(i=this.label)!=null?i:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?ea.VIEWED:ea.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const i=this.pullRequest.reviewThreadsCache,a=(q(i,o=>o.path)[this.changeModel.fileName]||[]).filter(o=>!o.isOutdated);if(a.length){a.sort((k,A)=>k.endLine-A.endLine);const o=(e=a[0].startLine)!=null?e:a[0].originalStartLine,u=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(o,0,u,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return kd(this.changeModel.filePath)}async openDiff(e,t){var i;const r=await _f(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(r.command,...(i=r.arguments)!=null?i:[])}}class Sf extends ho{_getDescription(){let e=s.workspace.asRelativePath(K.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,i,r){super(e,t,i,r),this.fileChangeResourceUri=cf(s.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class _d extends ho{constructor(e,t,i,r){super(t,e,i,r),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===Qt.ADD?this.command=kd(this.changeModel.filePath):this.command=await _f(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class mo extends ho{constructor(e,t,i,r,a,o){super(e,t,i,r),this.isCurrent=a,this._comments=o,Pa(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Qt.DELETE||this.status===Qt.ADD){const oe=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Qt.DELETE?[this.changeModel.parentFilePath,oe,`${this.fileName}`,{}]:[oe,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:i,rootPath:r}=ta(this.changeModel.filePath.query),a=`${i}^`,o={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:r},u=this.changeModel.filePath.with({query:JSON.stringify(o)});let k=this.changeModel.filePath;this.isCurrent&&(k=this.pullRequestManager.repository.rootUri.with({path:K.posix.join(o.rootPath,o.path)}));const A={},$=this.pullRequest.reviewThreadsCache,re=(q($,oe=>oe.path)[this.fileName]||[]).filter(oe=>oe.isOutdated).sort((oe,pe)=>oe.endLine-pe.endLine);return re.length&&(A.selection=new s.Range(re[0].originalStartLine,0,re[0].originalEndLine,0)),{command:"vscode.diff",arguments:[u,k,`${this.fileName} from ${(i||"").substr(0,8)}`,A],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(Mr,this.pullRequestManager.repository.rootUri).get(_i,!0)&&this.status!==Qt.ADD?this.command=await _f(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Sd extends fr{constructor(e,t,i,r,a,o,u){super(e),this.fileName=t,this.previousFileName=i,this.status=r,this.baseBranch=a,this.headBranch=o,this.isLocal=u,Pa(this,"iconPath"),Pa(this,"fileChangeResourceUri"),Pa(this,"tooltip"),Pa(this,"command");const k=u?Ut.GitPr:Ut.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:k,query:JSON.stringify({status:r,fileName:t})});let A=Os(s.Uri.file(t),k,{fileName:t,branch:a}),$=Os(s.Uri.file(t),k,{fileName:t,branch:o});switch(r){case Qt.ADD:A=Os(s.Uri.file(t),k,{fileName:t,branch:a,isEmpty:!0});break;case Qt.RENAME:A=Os(s.Uri.file(i),k,{fileName:i,branch:a,isEmpty:!0});break;case Qt.DELETE:$=Os(s.Uri.file(t),k,{fileName:t,branch:o,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[A,$,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Ef(n){return n.filter(e=>e instanceof mo)}var x1=Object.defineProperty,O1=(n,e,t)=>e in n?x1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ma=(n,e,t)=>O1(n,typeof e!="symbol"?e+"":e,t);const Rf=class Sr extends yp{constructor(e,t,i,r,a,o){var u,k;super(t,o),this._reviewManager=e,this._repository=i,this._reviewModel=r,this._gitApi=a,Ma(this,"_commentHandlerId"),Ma(this,"_workspaceFileChangeCommentThreads",{}),Ma(this,"_reviewSchemeFileChangeCommentThreads",{}),Ma(this,"_obsoleteFileChangeCommentThreads",{}),Ma(this,"_visibleNormalTextEditors",[]),Ma(this,"_pendingCommentThreadAdds",[]),Ma(this,"_context"),Ma(this,"resourceHints",{schemes:[Ut.Review]}),Ma(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`${Sr.PREFIX}-${(u=t.activePullRequest)==null?void 0:u.remote.owner}-${(k=t.activePullRequest)==null?void 0:k.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=gp(),Ji(this._commentHandlerId,this,i)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const i=t.comments[0].originalCommitId,r=s.Uri.file(K.join(`commit~${i.substr(0,8)}`,e)),a=va(r,e,void 0,i,!0,{base:t.diffSide===xi.LEFT},this._repository.rootUri),o=t.subjectType===Ba.FILE?void 0:$l(t.originalStartLine-1,t.originalEndLine-1);return Hl(this._context,a,o,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,i){let r=i.startLine,a=i.endLine;const o=await this._repository.diffWithHEAD(t);o&&(r=wd(o,r),a=wd(o,a));let u;if(i.subjectType!==Ba.FILE){const k=r-1,A=a-1;(k<0||A<0)&&y.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${k}, ${A})`,Sr.ID),u=$l(k,A)}return Hl(this._context,e,u,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,i){var r;if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=va(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),o=i.subjectType===Ba.FILE?void 0:$l(i.startLine-1,i.endLine-1);return Hl(this._context,a,o,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const i in this._workspaceFileChangeCommentThreads)d(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)d(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)d(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const t=q(e,i=>i.path);Object.keys(t).forEach(i=>{const r=t[i],a=r[0];if(a){const o=K.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),u=this._repository.rootUri.with({path:o});let k=[],A=[],$=[];const Q=r.map(async re=>{re.isOutdated?$.push(await this.createOutdatedCommentThread(i,re)):re.diffSide===xi.RIGHT?k.push(await this.createWorkspaceCommentThread(u,i,re)):A.push(await this.createReviewCommentThread(u,i,re))});Promise.all(Q),this._workspaceFileChangeCommentThreads[i]=k,this._reviewSchemeFileChangeCommentThreads[i]=A,this._obsoleteFileChangeCommentThreads[i]=$}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,r]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(r.status!==Qt.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);y.trace(`Prefetching commenting ranges for ${a.toString()}`,Sr.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const r in i)i[r].forEach(a=>{Gm(a,t),Bo(a)})})})),this._register(e.onDidChangeReviewThreads(async t=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);for(const r of t.added){const{path:a}=r,o=await Le(this._pendingCommentThreadAdds,async A=>{const $=this._folderRepoManager.gitRelativeRootPath(A.uri.path);if($!==r.path)return!1;const Q=await this.getContentDiff(A.uri,$);return(A.range?Zl(Q,A.range.end.line):0)+1===r.endLine});let u;if(o>-1)u=this._pendingCommentThreadAdds[o],u.gitHubThreadId=r.id,u.comments=r.comments.map(A=>new Ki(this._context,A,u,i)),$m(this._context,u,r,i,void 0,!0),this._pendingCommentThreadAdds.splice(o,1);else{const A=K.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),$=this._repository.rootUri.with({path:A});r.isOutdated?u=await this.createOutdatedCommentThread(a,r):r.diffSide===xi.RIGHT?u=await this.createWorkspaceCommentThread($,a,r):u=await this.createReviewCommentThread($,a,r)}const k=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===xi.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;k[a]?k[a].push(u):k[a]=[u]}for(const r of t.changed){const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];Ku(this._context,o,r,i)}}for(const r of t.removed){const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];a.threadMap[r.path].splice(a.index,1),o.dispose()}}this.updateResourcesWithCommentingRanges()})))}_findMatchingThread(e){var t,i,r,a;const o=e.isOutdated?this._obsoleteFileChangeCommentThreads:e.diffSide===xi.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;let u=(i=(t=o[e.path])==null?void 0:t.findIndex(k=>k.gitHubThreadId===e.id))!=null?i:-1;if(u===-1&&e.isOutdated&&(u=(a=(r=this._workspaceFileChangeCommentThreads[e.path])==null?void 0:r.findIndex(k=>k.gitHubThreadId===e.id))!=null?a:-1,u>-1)){const k=this._workspaceFileChangeCommentThreads[e.path].splice(u,1)[0];this._obsoleteFileChangeCommentThreads[e.path]||(this._obsoleteFileChangeCommentThreads[e.path]=[]),this._obsoleteFileChangeCommentThreads[e.path].push(k)}return{threadMap:o,index:u}}onDidChangeActiveTextEditor(e){var t;(t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0;const i=s.window.tabGroups.activeTabGroup.activeTab,r=(i==null?void 0:i.input)instanceof s.TabInputText?i.input.uri:(i==null?void 0:i.input)instanceof s.TabInputTextDiff?i.input.modified:void 0;if(e&&r&&e.document.uri.authority.startsWith(Sr.PREFIX)&&r.scheme===Ut.File&&this._folderRepoManager.activePullRequest&&r.toString().startsWith(this._repository.rootUri.toString())&&this.tryAddCopilotMention(e,this._folderRepoManager.activePullRequest),(e==null?void 0:e.document.uri.scheme)!==Ut.Comment)return;const a=()=>{e.document.getText().includes("```suggestion")?ft.setContext(Mt.ACTIVE_COMMENT_HAS_SUGGESTION,!0):ft.setContext(Mt.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(o=>{o.document.uri.toString()===e.document.uri.toString()&&a()}),a()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const i=this.githubReposForPullRequest(t);function r(k,A){if(A.size!==0)for(const $ of A.keys()){const Q=A.get($),re=k[$];for(const oe of re){const pe=Q.get(oe.gitHubThreadId);Ku(this._context,oe,pe,i,e)}}}const a=new Map,o=new Map,u=new Map;for(const k of t.reviewThreadsCache){let A;k.isOutdated?A=a:k.diffSide===xi.RIGHT?A=u:A=o,A.has(k.path)||A.set(k.path,new Map),A.get(k.path).set(k.id,k)}r(this._obsoleteFileChangeCommentThreads,a),r(this._reviewSchemeFileChangeCommentThreads,o),r(this._workspaceFileChangeCommentThreads,u)}visibleEditorsEqual(e,t){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),t=t.filter(i=>i.document.uri.scheme!=="comment"),e=L(e,i=>i.document.uri.toString()),t=L(t,i=>i.document.uri.toString()),e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.find(a=>a.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===Ut.Review?!0:tp(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let i=e.uri.query&&e.uri.query!==""?ta(e.uri.query):void 0;if(i){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return y.debug("Found matched file for commenting ranges.",Sr.ID),{ranges:Nv(await a.changeModel.diffHunks(),i.base,Sr.ID),enableFileComments:!0}}const r=qc(this._gitApi,e.uri);if((r==null?void 0:r.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&y.debug("No commenting ranges: File is not in the current repository.",Sr.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){y.debug("No commenting ranges: Active PR has not been resolved.",Sr.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),o=Ef(this._reviewModel.localFileChanges).find(k=>k.fileName===a),u=[];if(o){const k=await o.changeModel.diffHunks();if(o.status===Qt.RENAME&&k.length===0)return y.debug("No commenting ranges: File was renamed with no diffs.",Sr.ID),{ranges:[],enableFileComments:!0};const A=await this.getContentDiff(e.uri,o.fileName);for(let $=0;$<k.length;$++){const Q=k[$],re=wd(A,Q.newLineNumber,e.lineCount),oe=wd(A,Q.newLineNumber+Q.newLength-1,e.lineCount);re>0&&oe>0&&u.push(new s.Range(re-1,0,oe-1,0))}u.length===0&&y.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",Sr.ID)}else y.debug("No commenting ranges: File does not match any of the files in the review.",Sr.ID);return y.debug(`Providing ${u.length} commenting ranges for ${K.basename(e.uri.fsPath)}.`,Sr.ID),{ranges:u,enableFileComments:u.length>0}}else y.debug("No commenting ranges: File scheme differs from repository scheme.",Sr.ID)}async getContentDiff(e,t,i=!0){var r,a,o,u;const k=s.window.visibleTextEditors.find(A=>A.document.uri.toString()===e.toString());if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.head))throw y.error("Failed to get content diff. Cannot get content diff without an active pull request head.",Sr.ID),new Error("Cannot get content diff without an active pull request head.");try{if(k&&k.document.isDirty&&s.workspace.getConfiguration("files",k.document.uri).get("autoSave")!=="afterDelay"){const A=k.document.getText(),Q=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,re=await this._repository.hashObject(A);return await this._repository.diffBlobs(Q,re)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(A){if(y.error(`Failed to get content diff. ${be(A)}`,Sr.ID),(a=A.stderr)!=null&&a.includes("bad object")){if((o=this._repository.state.HEAD)!=null&&o.upstream&&i){const $=s.workspace.getConfiguration(vt).get(Mi,"pull");if(($==="pull"||$==="pullAndMergeBase"||$==="pullAndUpdateBase"||$===!0)&&s.workspace.getConfiguration(vt).get(sn,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((u=this._repository.state.HEAD)!=null&&u.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),y.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,Sr.ID)}throw A}}findMatchedFileChangeForReviewDiffView(e,t){const i=ta(t.query),r=e.filter(a=>{const o=a.changeModel;if(o instanceof zo||o.fileName!==i.path&&!(o.change instanceof Fs&&o.change.previousFileName===i.path))return!1;if(o.filePath.scheme!=="review"&&o.sha===i.commit)return!0;const u=o.filePath.query?JSON.parse(o.filePath.query):void 0;if(u&&u.commit===i.commit)return!0;const k=o.parentFilePath.query?JSON.parse(o.parentFilePath.query):void 0;return!!(k&&k.commit===i.commit)});if(r&&r.length)return r[0]}getCommentSide(e){return e.uri.scheme===Ut.Review&&ta(e.uri.query).base?xi.LEFT:xi.RIGHT}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r){const o=e.comments[0];if(o instanceof Ki)await this._folderRepoManager.activePullRequest.createCommentReply(t,o.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),u=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let k,A;if(e.range){if(u===xi.RIGHT){const $=await this.getContentDiff(e.uri,o);k=Zl($,e.range.start.line),A=Zl($,e.range.end.line)}else k=e.range.start.line,A=e.range.end.line;k++,A++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,o,k,A,u),zu(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(u=>(u instanceof ha&&u.id===a&&(u.mode=s.CommentMode.Editing),u))}}async openReview(){await this._reviewManager.openDescription(),ir.scrollToReview()}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(),a=new ha(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Bo(e)}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(),r=new ha(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Ki&&a.commentId===t.commentId?r:a),r.id}async createOrReplyComment(e,t,i,r){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const o=e.comments.length,u=i?!1:r!==void 0?r:this._folderRepoManager.activePullRequest.hasPendingReview,k=await this.optimisticallyAddComment(e,t,u);try{if(o){const A=e.comments[0];if(A instanceof Ki)await this._folderRepoManager.activePullRequest.createCommentReply(t,A.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const A=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const $=this.getCommentSide(e);let Q,re;if(e.range){if($===xi.RIGHT){const oe=await this.getContentDiff(e.uri,A);Q=Zl(oe,e.range.start.line),re=Zl(oe,e.range.end.line)}else Q=e.range.start.line,re=e.range.end.line;Q++,re++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,A,Q,re,$,i),zu(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(A){(a=A.graphQLErrors)!=null&&a.length&&A.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then($=>{$==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${A}`),e.comments=e.comments.map($=>($ instanceof ha&&$.id===k&&($.mode=s.CommentMode.Editing),$))}}async createSuggestionsFromChanges(e,t){const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await i.createReviewThread(a,r,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,xi.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,t){if(t instanceof Ki){const i=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(be(r)),e.comments=e.comments.map(a=>a instanceof ha&&a.id===i?new Ki(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof Ki?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof ha&&r.id===t.id)),e.comments.length===0?e.dispose():Bo(e);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error(be(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){const r=be(i);if(r.includes("does not have the correct permissions to execute `RemoveReaction`"))return;throw new Error(r)}}async applySuggestion(e){const t=e.parent.range,i=e.suggestion;if(i===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(a=>{a.replace(t.with(void 0,r.document.lineAt(t.end.line).range.end),i)})}dispose(){super.dispose(),Zt(this._commentHandlerId)}};Ma(Rf,"ID","ReviewCommentController"),Ma(Rf,"PREFIX","github-review");let Tv=Rf;var L1=Object.defineProperty,U1=(n,e,t)=>e in n?L1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cv=(n,e,t)=>U1(n,typeof e!="symbol"?e+"":e,t);class B1{constructor(){Cv(this,"_onDidChangeFile",new s.EventEmitter),Cv(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,i){}delete(e,t){}rename(e,t,i){}}class Nf extends B1{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){y.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const i=new Promise(o=>{t=this.gitAPI.onDidOpenRepository(()=>{y.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,o()})});let r;const a=new Promise(o=>{r=setTimeout(()=>{y.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),o()},e)});await Promise.race([i,a]),r&&clearTimeout(r),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.","RepositoryFileSystemProvider"),new Promise(t=>{const i=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.","RepositoryFileSystemProvider"),i.dispose(),t()})})}}var q1=Object.defineProperty,$1=(n,e,t)=>e in n?q1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yo=(n,e,t)=>$1(n,typeof e!="symbol"?e+"":e,t);class Tf extends f{constructor(e,t,i,r){super(),this._repository=e,this._upstream=t,this._into=i,this.push=r,Yo(this,"startingConflictsCount"),Yo(this,"_lastReportedRemainingCount"),Yo(this,"_onConflictCountChanged",new s.EventEmitter),Yo(this,"onConflictCountChanged",this._onConflictCountChanged.event),Yo(this,"_finishedCommit",new s.EventEmitter),Yo(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(i=>{var r;const a=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._register(this._repository.state.onDidChange(()=>{var o;((o=this._repository.state.HEAD)==null?void 0:o.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&i(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await ft.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>ft.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,i,r){const a=new Tf(e,t,i,r);if(a.remainingConflicts.length!==0)return a._register(new H1(a,e)),a.first(),a}finished(){return Pe(this._finishedCommit.event)}}class H1 extends f{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(i,r)=>{const a=o=>{i.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:o})};return a(0),new Promise(o=>{this._register(this._conflictModel.onConflictCountChanged(u=>{const k=u*(100/this._conflictModel.startingConflictsCount);a(k),this._conflictModel.remainingConflicts.length===0&&o(!0)})),this._register(r.onCancellationRequested(()=>{this._conflictModel.abort(),o(!1)}))})}).then(async i=>{if(i){const r=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let o;this._conflictModel.push?o=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):o=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const u=await s.window.showInformationMessage(o,r,a);u===r?await this._repository.commit(this._conflictModel.message):u===a&&await this._conflictModel.abort()}})}}var G1=Object.defineProperty,V1=(n,e,t)=>e in n?G1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cf=(n,e,t)=>V1(n,typeof e!="symbol"?e+"":e,t);class j1 extends f{constructor(e){super(),this._conflictResolutionModel=e,Cf(this,"_treeView"),Cf(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Cf(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),ft.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),i=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(i.iconPath=new s.ThemeIcon("check"),i.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):i.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},i}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let i=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),i=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,i}}var W1=Object.defineProperty,z1=(n,e,t)=>e in n?W1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ed=(n,e,t)=>z1(n,typeof e!="symbol"?e+"":e,t);async function K1(n,e,t,i){let r="";return i||(r=await n.repository.show(t,s.Uri.joinPath(n.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class Av{constructor(){Ed(this,"_onDidChangeFile",new s.EventEmitter),Ed(this,"onDidChangeFile",this._onDidChangeFile.event),Ed(this,"changedFiles",new Map),Ed(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var i;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(i=this.changedFiles.get(e.toString()))==null?void 0:i.file}writeFile(e,t,i){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}async stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,i){}}class Pv extends Av{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>Me(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=uf(e),i=await this.tryReadFile(e,t);if(i)return i;const r=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!r)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await r.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const i=new Map;for(const[r,a]of this.changedFiles)a.modified&&i.set(s.Uri.parse(r).path,a.file);return this._gitHubRepositories[0].commit(t,e,i)}}class Q1 extends Av{constructor(e){super(),this.folderRepositoryManager=e}async stat(e){var t,i;let r=0;const a=uf(e);if(a!=null&&a.branch){const o=await this.folderRepositoryManager.repository.getBranch(a==null?void 0:a.branch);if(o.commit){const u=await this.folderRepositoryManager.repository.getCommit(o.commit);u&&(r=(i=(t=u.commitDate)==null?void 0:t.getTime())!=null?i:0)}}return{type:s.FileType.File,ctime:0,mtime:r,size:0,permissions:s.FilePermission.Readonly}}async readFile(e){const t=uf(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const i=await K1(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:i,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const i=[];for(const[r,a]of this.changedFiles)if(a.modified){const o=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(r).path);await s.workspace.fs.writeFile(o,a.file),i.push(o.fsPath)}return await this.folderRepositoryManager.repository.add(i),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var Y1=Object.defineProperty,J1=(n,e,t)=>e in n?Y1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,po=(n,e,t)=>J1(n,typeof e!="symbol"?e+"":e,t);const Mv=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class X1 extends f{constructor(e){super(),this._conflictResolutionModel=e,po(this,"_createTime",0),po(this,"_modifiedTimes",new Map),po(this,"_mergedFiles",new Map),po(this,"_onDidChangeFile",this._register(new s.EventEmitter)),po(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,i,r;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(r=(i=this._mergedFiles.get(e.path))==null?void 0:i.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,lr.Buffer.from(Mv)),this._mergedFiles.get(e.path)}writeFile(e,t,i){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,i){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,lr.Buffer.from(Mv));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class Z1 extends f{constructor(e,t,i){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=i,po(this,"_mergeOutputProvider"),po(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new X1(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),i=this._conflictResolutionModel.baseUri(e),r={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:i,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},o=this._conflictResolutionModel.mergeBaseUri(e),u=this._conflictResolutionModel.mergeOutputUri(e),k={base:o,input1:r,input2:a,output:u};await ft.executeCommand("_open.mergeEditor",k)}register(){this._register(s.workspace.registerFileSystemProvider(Ut.GithubPr,new Pv(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new j1(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await ft.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await ft.setContext(Mt.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await ft.setContext(Mt.RESOLVING_CONFLICTS,!1);const t=[];for(const i of s.window.tabGroups.all)for(const r of i.tabs)r.input instanceof s.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(r);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Pe(this._onExitConflictResolutionMode.event)}}var eS=Object.defineProperty,tS=(n,e,t)=>e in n?eS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,eu=(n,e,t)=>tS(n,typeof e!="symbol"?e+"":e,t);class nS{constructor(e,t,i,r,a,o,u,k){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=i,this.latestPrBaseSha=r,this.prHeadOwner=a,this.prHeadBranchName=o,this.prBaseBranchName=u,this.prMergeBaseRef=k,eu(this,"_startingConflicts",new Map),eu(this,"_resolvedConflicts",new Map),eu(this,"_onAddedResolution",new s.EventEmitter),eu(this,"onAddedResolution",this._onAddedResolution.event),eu(this,"mergeScheme",`${Ut.MergeOutput}-${new Date().getTime()}`);for(const A of e)this._startingConflicts.set(A.prHeadFilePath,A)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Os(t,Ut.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Os(t,Ut.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return Os(t,Ut.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var iS=Object.defineProperty,rS=(n,e,t)=>e in n?iS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,aS=(n,e,t)=>rS(n,typeof e!="symbol"?e+"":e,t);const Fv="github-pr-remote",Iv="github-pr-owner-number",sS="github-pr-base-branch",oS="vscode-merge-base",Dv=/branch\.(.+)\.github-pr-owner-number/,lS=/branch\.(.+)\.remote/,xv=class ai{static async checkoutFromFork(e,t,i,r){const a=await ai.calculateUniqueBranchNameForPR(e,t);i||(y.appendLine(`Branch ${a} is from a fork. Create a remote first.`,ai.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),i=await ai.createRemote(e,t.remote,t.head.repositoryCloneUrl));const o=`${t.head.ref}:${a}`;y.debug(`Fetch ${i}/${t.head.ref}:${a} - start`,ai.ID),r.report({message:s.l10n.t("Fetching branch {0}",o)}),await e.fetch(i,o),y.debug(`Fetch ${i}/${t.head.ref}:${a} - done`,ai.ID),r.report({message:s.l10n.t("Checking out {0}",o)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${i}/${t.head.ref}`),await ai.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,i,r){var a;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const o=ai.getHeadRemoteForPullRequest(t,i),u=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!o||u)return ai.checkoutFromFork(e,i,o&&o.remoteName,r);const k=i.head.ref,A=o.remoteName;let $,Q=k;const re=`refs/remotes/${A}/${k}`;y.appendLine(`Fetch tracked branch ${re}`,ai.ID),r.report({message:s.l10n.t("Fetching branch {0}",k)}),await e.fetch(A,k);const oe=await e.getBranch(re);try{if($=await e.getBranch(Q),$.commit!==oe.commit){y.appendLine(`Local branch ${Q} commit ${$.commit} differs from remote commit ${oe.commit}. Creating new branch to avoid overwriting user's work.`,ai.ID);const pe=await ai.calculateUniqueBranchNameForPR(e,i);y.appendLine(`Creating branch ${pe} for PR checkout`,ai.ID),r.report({message:s.l10n.t("Creating branch {0} for pull request",pe)}),await e.createBranch(pe,!1,oe.commit),await e.setBranchUpstream(pe,re),Q=pe,$=await e.getBranch(Q)}if(((a=e.state.HEAD)==null?void 0:a.name)===$.name){y.appendLine(`Tried to checkout ${Q}, but branch is already checked out.`,ai.ID);return}y.debug(`Checkout ${Q}`,ai.ID),r.report({message:s.l10n.t("Checking out {0}",Q)}),await e.checkout(Q),$.upstream||await e.setBranchUpstream(Q,re),$.behind!==void 0&&$.behind>0&&$.ahead===0&&(y.debug("Pull from upstream",ai.ID),r.report({message:s.l10n.t("Pulling {0}",Q)}),await e.pull())}catch{y.appendLine(`Branch ${Q} doesn't exist on local disk yet. Creating from remote.`,ai.ID),r.report({message:s.l10n.t("Creating and checking out branch {0}",Q)}),await e.createBranch(Q,!0,oe.commit),await e.setBranchUpstream(Q,re)}await ai.associateBranchWithPullRequest(e,i,Q)}static async checkoutExistingPullRequestBranch(e,t,i){const r=ai.buildPullRequestMetadata(t),a=await e.getConfigs(),o=k=>a.filter(({key:A})=>k===A).map(({value:A})=>A)[0],u=a.map(k=>{const A=Dv.exec(k.key);return{branch:A&&A.length?A[1]:null,value:k.value}}).filter(k=>k.branch&&k.value===r);if(u&&u.length){const k=u[0].branch;i.report({message:s.l10n.t("Checking out branch {0}",k)}),await e.checkout(k);const A=s.workspace.getConfiguration(vt).get(Mi,"pull");if(A==="pull"||A==="pullAndMergeBase"||A==="pullAndUpdateBase"||A===!0){const Q=o(`branch.${k}.remote`),re=o(`branch.${k}.merge`);i.report({message:s.l10n.t("Fetching branch {0}",k)}),await e.fetch(Q,re)}const $=await e.getBranch(u[0].branch);return $.upstream===void 0?!1:($.behind!==void 0&&$.behind>0&&$.ahead===0&&(y.debug("Pull from upstream",ai.ID),i.report({message:s.l10n.t("Pulling branch {0}",k)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let i=null;try{const r=ai.buildPullRequestMetadata(t),a=await e.getConfigs(),o=a.map(u=>{const k=Dv.exec(u.key);return{branch:k&&k.length?k[1]:null,value:u.value}}).find(u=>!!u.branch&&u.value===r);if(o){i=o.branch;const u=`branch.${i}.remote`,k=a.filter(re=>re.key===u).map(re=>re.value);let A;k.length&&(A=k[0]);let $=!1;if(A){const re=`remote.${A}.github-pr-remote`;a.filter(pe=>pe.key===re&&pe.value).length&&($=!0)}let Q;return $&&(Q=a.some(re=>!!(lS.exec(re.key)&&re.key!==`branch.${i}.remote`&&re.value===A))),{branch:i,remote:A,createdForPullRequest:$,remoteInUse:Q}}}catch(r){return i?{branch:i}:(y.error(`getBranchNRemoteForPullRequest failed ${r}`,ai.ID),null)}return null}static async getEmail(e){try{const t=await e.getConfig("user.email");return t||await e.getGlobalConfig("user.email")}catch{return}}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,i){return`${e}#${t}#${i}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,i,r,a]=t;return{owner:i,repositoryName:r,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${Iv}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const i=this.getMetadataKeyForBranch(t),a=(await e.getConfigs()).filter(o=>o.key===i).sort((o,u)=>u.value<o.value?1:-1);return ai.parsePullRequestMetadata(a[0].value)}catch{return}}static async createRemote(e,t,i){y.appendLine(`create remote for ${i}.`,ai.ID);const r=io(e);for(const o of r)if(new Dr(o.url).equals(i))return o.remoteName;const a=ai.getUniqueRemoteName(e,i.owner);return i.update({type:t.gitProtocol.type}),await e.addRemote(a,i.toString()),await e.setConfig(`remote.${a}.${Fv}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{y.debug(`Check if remote '${t}' is created for pull request - start`,ai.ID);const i=await e.getConfig(`remote.${t}.${Fv}`);return y.debug(`Check if remote '${t}' is created for pull request - end`,ai.ID),i==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const i=`pr/${t.author.login}/${t.number}`;let r=i,a=1;for(;;)try{await e.getBranch(r),r=`${i}-${a++}`}catch{break}return r}static getUniqueRemoteName(e,t){let i=t,r=1;const a=io(e);for(;a.find(o=>o.remoteName===i);)i=`${t}${r++}`;return i}static getHeadRemoteForPullRequest(e,t){return e.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,i){try{t&&y.appendLine(`associate ${i} with Pull Request #${t.number}`,ai.ID);const r=`branch.${i}.${Iv}`;t?await e.setConfig(r,ai.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(r)}catch{t&&y.error(`associate ${i} with Pull Request #${t.number} failed`,ai.ID)}}static async associateBaseBranchWithBranch(e,t,i){try{const r=`branch.${t}.${sS}`;if(i)y.appendLine(`associate ${t} with base branch ${i.owner}/${i.repo}#${i.branch}`,ai.ID),await e.setConfig(r,ai.buildBaseBranchMetadata(i.owner,i.repo,i.branch));else if(e.unsetConfig){await e.unsetConfig(r);const a=`branch.${t}.${oS}`;await e.unsetConfig(a)}}catch{y.error(`associate ${t} with base branch ${i==null?void 0:i.owner}/${i==null?void 0:i.repo}#${i==null?void 0:i.branch} failed`,ai.ID)}}};aS(xv,"ID","PullRequestGitHelper");let hr=xv;var uS=rn(65606);let Ov=!1;const Lv=class{static async getApiHost(n){const e=uS.env.GITHUB_TEST_SERVER;if(e){if(Ov)return s.Uri.parse(e);const i=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},i)===i)return Ov=!0,s.Uri.parse(e)}const t=n instanceof s.Uri?n:s.Uri.parse(n.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(n,e){return(n instanceof s.Uri?n:s.Uri.parse(n.host)).authority==="github.com"?e:`/api/v3${e}`}},Uv=void 0;var dS=Object.defineProperty,cS=(n,e,t)=>e in n?dS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rd=(n,e,t)=>cS(n,typeof e!="symbol"?e+"":e,t);const Nd=class bl{constructor(){Rd(this,"_knownServers",new Map([...Array.from(bl._githubDotComServers.keys()).map(e=>[e,Ti.GitHubDotCom]),...Array.from(bl._gheServers.keys()).map(e=>[e,Ti.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return Ti.None;const i=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return Ti.None;if(bl.isGithubDotCom(i))return Ti.GitHubDotCom;const r=Array.from(this._knownServers.keys()).find(A=>i.endsWith(A)),a=$o();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!r||this._knownServers.get(r)===Ti.None))return Ti.Enterprise;if(r)return(t=this._knownServers.get(r))!=null?t:Ti.None;const[o,u]=await bl.getOptions(e,"HEAD","/rate_limit");let k=Ti.None;try{const A=await Qr()(o.toString(),u),$=[];A.headers.forEach((oe,pe)=>{$.push(pe)}),y.debug(`All headers: ${$.join(", ")}`,"GitHubServer");const Q=A.headers.get("x-github-request-id"),re=A.headers.get("x-github-enterprise-version");if(!Q&&!re){const[oe]=await bl.getOptions(e,"HEAD","/status"),me=await(await Qr()(oe.toString())).text();if(me.startsWith("GitHub lives!"))k=Ti.Enterprise;else{y.appendLine(`Received fallback response from the server: ${me}`,"GitHubServer");const Ne=JSON.parse(me);Ne.documentation_url&&Ne.documentation_url.startsWith("https://docs.github.com/enterprise")&&(k=Ti.Enterprise)}}else k=Q!=null?re?Ti.Enterprise:Ti.GitHubDotCom:Ti.None;return k}catch(A){return y.warn(`No response from host ${e}: ${A.message}`,"GitHubServer"),k}finally{y.debug(`Host ${e} is associated with GitHub: ${k}`,"GitHubServer"),this._knownServers.set(i,k)}}static async getOptions(e,t="GET",i,r){const a={"user-agent":"GitHub VSCode Pull Requests"};r&&(a.authorization=`token ${r}`);const o=s.Uri.joinPath(await Lv.getApiHost(e),Lv.getApiPath(e,i)),u={hostname:o.authority,port:443,method:t,headers:a,agent:Uv};return[o,u]}};Rd(Nd,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),Rd(Nd,"_gheServers",new Set().add("ghe.com")),Rd(Nd,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com").add("codeberg.org"));let Bv=Nd;var Td;(n=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}n.checkout=e})(Td||(Td={}));var fS=Object.defineProperty,hS=(n,e,t)=>e in n?fS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gn=(n,e,t)=>hS(n,typeof e!="symbol"?e+"":e,t);async function mS(n){var e;const t=n.head;if(!t)throw new Error("No head found for pull request");const i=await n.getLatestBaseCommitSha(),r=n.base.owner,a=t.owner,o=t.ref,u=(await n.githubRepository.ensure()).remote.repositoryName,k=[];if(n.item.mergeable===bi.Conflict){const A=await n.compareBaseBranchForMerge(a,o,r,i);if(n.item.mergeable===bi.Conflict&&A.length>=300)return;const $=new Map;for(const re of n.fileChanges.values())re.previousFileName&&$.set(re.previousFileName,re);const Q=new Set(n.conflicts);for(const re of A){const oe=(e=n.fileChanges.get(re.filename))!=null?e:$.get(re.filename);if(oe&&(Q.size===0||Q.has(oe.fileName))){const pe=oe.fileName;let me=!1,Ne=!1,Se=!1;re.status==="modified"&&(me=!0),(re.previous_filename||oe.previousFileName)&&(Ne=!0),k.push({prHeadFilePath:pe,contentsConflict:me,filePathConflict:Ne,modeConflict:Se})}}}return new nS(k,u,r,i,a,o,n.base.ref,n.mergeBase)}class qv extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class pS extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first)",this.repository.rootUri.toString())}}class vS extends Error{constructor(e,t,i){super(),this.branchName=e,this.upstreamRef=t,this.problem=i}get message(){const{upstreamRef:{remote:e,name:t},branchName:i,problem:r}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,i,r)}}const $v="ReposManagerStateContext";var Hr=(n=>(n.Initializing="Initializing",n.NeedsAuthentication="NeedsAuthentication",n.RepositoriesLoaded="RepositoriesLoaded",n))(Hr||{}),gS=(n=>(n[n.PullRequest=0]="PullRequest",n[n.IssueSearch=1]="IssueSearch",n))(gS||{});const yS="templateBody",Hv=class Eb extends f{constructor(e,t,i,r,a,o,u,k){super(),this._id=e,this.context=t,this._repository=i,this.telemetry=r,this._git=a,this._credentialStore=o,this.createPullRequestHelper=u,this.themeWatcher=k,Gn(this,"_state","Initializing"),Gn(this,"_activePullRequest"),Gn(this,"_activeIssue"),Gn(this,"_githubRepositories"),Gn(this,"_allGitHubRemotes",[]),Gn(this,"_mentionableUsers"),Gn(this,"_fetchMentionableUsersPromise"),Gn(this,"_assignableUsers"),Gn(this,"_teamReviewers"),Gn(this,"_fetchAssignableUsersPromise"),Gn(this,"_fetchTeamReviewersPromise"),Gn(this,"_gitBlameCache",{}),Gn(this,"_githubManager"),Gn(this,"_repositoryPageInformation",new Map),Gn(this,"_addedUpstreamCount",0),Gn(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Gn(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Gn(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Gn(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Gn(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Gn(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Gn(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Gn(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Gn(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Gn(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Gn(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Gn(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Gn(this,"_onDidChangePullRequestsEvents",[]),Gn(this,"_onDidChangeAnyPullRequests",this._register(new s.EventEmitter)),Gn(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),Gn(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Gn(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Gn(this,"_onDidDispose",this._register(new s.EventEmitter)),Gn(this,"onDidDispose",this._onDidDispose.event),Gn(this,"_sessionIgnoredRemoteNames",new Set),Gn(this,"_updatingRepositories"),Gn(this,"totalFetchedPages",new Map),Gn(this,"_updateMessageShown",!1),Gn(this,"_createGitHubRepositoryBulkhead",Wp(1,300)),this._githubRepositories=[],this._githubManager=new Bv,this._register(s.workspace.onDidChangeConfiguration(async A=>{A.affectsConfiguration(`${vt}.${fi}`)&&await this.updateRepositories()})),this._register(o.onDidInitialize(()=>this.updateRepositories())),this._register({dispose:()=>d(this._onDidChangePullRequestsEvents)}),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(Ap);if(t!=null&&t.repos){let i=!1;Object.keys(t.repos).forEach(r=>{var a;((a=t.repos[r].stateModifiedTime)!=null?a:0)<e&&(i=!0,delete t.repos[r])}),i&&this.context.globalState.update(Ap,t)}}get id(){return`${Eb.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=(await vp(this.repository)).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",be(o))),[])),r=[];let a=0;for(const o of t)i[a]===Ti.None&&r.push(o),a++;return r}async computeAllGitHubRemotes(){const t=(await vp(this.repository)).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",be(o))),[])),r=[];let a=0;for(const o of t)i[a]!==Ti.None&&r.push(xs.remoteAsGitHub(o,i[a])),a++;return r}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(vt).get(fi);if(!t)return y.error("Unable to read remotes setting",this.id),Promise.resolve([]);const i=t.filter(r=>!e.some(a=>a.remoteName===r));return i.length===t.length?y.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):y.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),y.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(r=>e.find(a=>a.remoteName===r)).filter(r=>!!r&&!this._sessionIgnoredRemoteNames.has(r.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t;if(e===this._activePullRequest)return;const i=this._activePullRequest;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(t=e.githubRepository.commentsHandler)==null||t.unregisterCommentController(e.number)),this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:i,new:e})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(ft.setContext(Mt.VIEWED_FILES,Array.from(t.viewed)),ft.setContext(Mt.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){ft.setContext(Mt.VIEWED_FILES,[]),ft.setContext(Mt.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),t()})});await this._credentialStore.login(Fn.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),y.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`,this.id),this._allGitHubRemotes.length>1&&await s.commands.executeCommand("setContext","github:hasMultipleGitHubRemotes",!0)):y.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`,this.id),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,i=0;for(const a of e)a.githubServerType===Ti.GitHubDotCom?t++:a.githubServerType===Ti.Enterprise&&i++;let r=this._credentialStore.isAuthenticated(Fn.github)||this._credentialStore.isAuthenticated(Fn.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(Fn.github)||i>0&&this._credentialStore.isAuthenticated(Fn.githubEnterprise)||r&&(t>0||i>0)&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._onDidLoadRepositories.fire(e))}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return y.appendLine("Cannot updates repositories as git is uninitialized",this.id),!1;const t=await this.getActiveRemotes(),i=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0){const A=await this.computeAllUnknownRemotes(),$=A.every(Q=>Bv.isNeverGitHub(s.Uri.parse(Q.normalizedHost).authority));if(A.length>0&&$)return y.appendLine("No GitHub remotes found and all remotes are marked as never GitHub.",this.id),this.state="RepositoriesLoaded",!0}const r=[],a=[],o=[];this._githubRepositories.forEach(A=>o.push(A));const u=t.filter(A=>this._credentialStore.isAuthenticated(A.authProviderId));for(const A of u){const $=await this.createGitHubRepository(A,this._credentialStore);a.push($.resolveRemote()),r.push($)}const k=async A=>{for(const $ of A){this._sessionIgnoredRemoteNames.add($.remote.remoteName),this.removeGitHubRepository($.remote);const Q=r.indexOf($);Q>-1&&r.splice(Q,1)}};return Promise.all(a).then(async A=>{const $=[];for(let re=0;re<A.length;re++)A[re]||$.push(r[re]);if($.length>0){const re=await this._credentialStore.showSamlMessageAndAuth($.map(me=>me.remote.owner)),oe=re.canceled?[]:await Promise.all($.map(me=>me.resolveRemote())),pe=re.canceled?$:oe.map((me,Ne)=>me?void 0:$[Ne]).filter(me=>!!me);if(pe.length>0){if(pe.length===r.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),k(pe)}}d(this._onDidChangePullRequestsEvents),this._githubRepositories=r;for(const re of this._githubRepositories)this._onDidChangePullRequestsEvents.push(re.onDidChangePullRequests(oe=>this._onDidChangeAnyPullRequests.fire(oe))),this._onDidChangePullRequestsEvents.push(re.onDidAddPullRequest(oe=>this._onDidAddPullRequest.fire(oe)));o.filter(re=>this._githubRepositories.indexOf(re)<0).forEach(re=>re.dispose());const Q=o.length!==this._githubRepositories.length?this.gitHubRepositories.filter(re=>!o.some(oe=>oe.remote.equals(re.remote))):[];return Q.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&Q.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(Q.length>0),this.getAssignableUsers(Q.length>0),i&&t.length?(this.state="RepositoriesLoaded",this.associateLocalBranchesWithPRsOnFirstActivation().catch(re=>{y.error(`Failed to associate branches with PRs: ${re}`,this.id)})):i||(this.state="NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:Q.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const i=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(vt);if(i.fork&&i.parent&&r.get(si,"add")==="add"){const a=new Dr(i.parent.git_url);if(!this._githubRepositories.some(u=>Me(u.remote.owner,a.owner)===0&&Me(u.remote.repositoryName,a.repositoryName)===0)){const k=!this.repository.state.remotes.some(A=>A.name==="upstream")?"upstream":(e=i.parent.owner)==null?void 0:e.login;if(k){if(this.gitHubRepositories[0].remote.gitProtocol.type===hp.SSH?await this.repository.addRemote(k,i.parent.ssh_url):await this.repository.addRemote(k,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const $=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),$).then(Q=>{Q===$&&r.update(si,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){y.appendLine(`Missing upstream check failed: ${t}`,this.id)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){y.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let i;try{i=await s.workspace.fs.stat(t)}catch{}if(!i){y.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const r={};if((await Promise.all(this._githubRepositories.map(async o=>{const u=`${o.remote.owner}/${o.remote.repositoryName}.json`,k=s.Uri.joinPath(t,u);let A,$;try{A=await s.workspace.fs.readFile(k),$=JSON.parse(A.toString())}catch(Q){Q instanceof Error&&Q.message.includes("Unexpected non-whitespace character after JSON")&&y.error(`Error parsing ${e} cache for ${o.remote.remoteName}.`,this.id)}if(A&&A.toString())return r[o.remote.remoteName]=$!=null?$:[],!0}))).every(o=>o))return y.appendLine(`Using globalState ${e} for ${Object.keys(r).length}.`,this.id),r;y.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const i=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async r=>{const a=`${r.remote.owner}/${r.remote.repositoryName}.json`,o=s.Uri.joinPath(i,a);await s.workspace.fs.writeFile(o,new TextEncoder().encode(JSON.stringify(t[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const i=this._githubRepositories.map(async r=>{const a=await r.getMentionableUsers();e[r.remote.remoteName]=a});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return y.appendLine("Using in-memory cached mentionable users.",this.id),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return y.appendLine("Using in-memory cached assignable users.",this.id),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},r=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const o=this._githubRepositories.map(async u=>{const k=await u.getAssignableUsers();i[u.remote.remoteName]=k.sort(ep),r.push(...k)});Promise.all(o).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),a(i),this._onDidChangeAssignableUsers.fire(r)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===Wo.Force&&delete this._teamReviewers,this._teamReviewers)return y.appendLine("Using in-memory cached team reviewers.",this.id),this._teamReviewers;const t=e===Wo.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var a;const o=new Map;for(const u of this._githubRepositories){if(!o.has(u.remote.owner))try{const A=await u.getOrgTeams(e);o.set(u.remote.owner,A)}catch{break}const k=(a=o.get(u.remote.owner))!=null?a:[];i[u.remote.remoteName]=k.filter(A=>A.repositoryNames.includes(u.remote.repositoryName)).sort(Yw)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),r(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var i;const r=new Map;for(const a of this._githubRepositories){if(!r.has(a.remote.owner))try{const o=await a.getOrgProjects();r.set(a.remote.owner,o)}catch{break}e[a.remote.remoteName]=(i=r.get(a.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const i=!!(await e.getMetadata()).organization,[r,a]=await Promise.all([e.getProjects(),i?this.getOrgProjects(t):void 0]);return[...r!=null?r:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),i=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(y.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",be(a))),[])),r=t.map((a,o)=>xs.remoteAsGitHub(a,i[o]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(o=>o.name!==void 0).map(o=>o.name),i=[],r=100;for(let o=0;o<t.length;o+=r){const u=t.slice(o,o+r);i.push(u)}const a=[];for(const o of i)a.push(...await Promise.all(o.map(async u=>{const k=await hr.getMatchingPullRequestMetadataForBranch(this.repository,u);if(k){const{owner:A,prNumber:$}=k,Q=e.find(re=>re.remote.owner.toLocaleLowerCase()===A.toLocaleLowerCase());if(Q){const re=await Q.getPullRequest($);if(re)return re.localBranchName=u,re}}})));return a.filter(o=>o!==void 0)}async associateLocalBranchesWithPRsOnFirstActivation(){const e=`${t_}.${this.repository.rootUri.fsPath}`;if(this.context.globalState.get(e,!1)){y.debug("Branch association has already run for this workspace folder",this.id);return}y.appendLine("First activation: associating local branches with PRs",this.id);const i=this._githubRepositories;if(!i||!i.length||!this.repository.getRefs){y.debug("No GitHub repositories or getRefs not available, skipping branch association",this.id),await this.context.globalState.update(e,!0);return}try{const r=(await this.repository.getRefs({pattern:"refs/heads/",sort:"committerdate",count:10})).filter(k=>k.name!==void 0).map(k=>k.name);y.debug(`Found ${r.length} local branches to check`,this.id);const a=[],o=await Promise.all(r.map(async k=>{try{if(await hr.getMatchingPullRequestMetadataForBranch(this.repository,k))return!1;const $=await this.repository.getBranch(k);if(!$.upstream)return!1;const Q=$.upstream.remote,re=$.upstream.name,oe=i.find(Ne=>Ne.remote.remoteName===Q);if(!oe)return!1;const pe=await oe.getMetadata();if(!(pe!=null&&pe.owner))return!1;const me=await oe.getPullRequestForBranch(re,pe.owner.login);return me?(y.appendLine(`Found PR #${me.number} for branch ${k}, associating...`,this.id),await hr.associateBranchWithPullRequest(this.repository,me,k),!0):!1}catch(A){return y.debug(`Error checking branch ${k}: ${A}`,this.id),!1}}));a.push(...o);const u=a.filter(k=>k).length;y.appendLine(`Branch association complete: ${u} branches associated with PRs`,this.id)}catch(r){y.error(`Error during branch association: ${r}`,this.id)}finally{await this.context.globalState.update(e,!0)}}async getLabels(e,t){const i=e?e.githubRepository:this._githubRepositories.find(A=>A.remote.owner===(t==null?void 0:t.owner)&&A.remote.repositoryName===(t==null?void 0:t.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:a}=await i.ensure();let o=!1,u=1,k=[];do{const A=await a.call(a.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:u});k=k.concat(A.data.map($=>{var Q;return{name:$.name,color:$.color,description:(Q=$.description)!=null?Q:void 0}})),k=k.sort(($,Q)=>$.name.localeCompare(Q.name)),o=!!A.headers.link&&A.headers.link.indexOf('rel="next"')>-1,u+=1}while(o);return k}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let i;try{i=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!i)return;await hr.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:u,value:k})=>/^branch.*\.remote$/.test(u)&&k===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,i=0,r=Un.All,a){const o=i===0?this._githubRepositories.filter(Ne=>this.repository.state.remotes.find(Se=>Se.name===Ne.remote.remoteName)):this._githubRepositories;if(!o.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const u=()=>this.totalFetchedPages.get(t)||0,k=Ne=>this.totalFetchedPages.set(t,Ne);for(const Ne of o){const Se=Ne.remote.url.toString()+t;this._repositoryPageInformation.get(Se)||this._repositoryPageInformation.set(Se,{pullRequestPage:0,hasMorePages:null})}let A=0;const $={hasMorePages:!1,items:[],totalCount:0},Q=Ne=>{A++,Ne&&($.items=$.items.concat(Ne.items),$.hasMorePages=Ne.hasMorePages,$.totalCount=Ne.totalCount)},re=await this.getActiveGitHubRemotes(this._allGitHubRemotes),oe=s.workspace.getConfiguration(vt).inspect(fi),pe=!!(oe!=null&&oe.globalValue||oe!=null&&oe.workspaceValue||oe!=null&&oe.workspaceFolderValue),me=this._githubRepositories.filter(Ne=>{if(!re.find(Re=>Re.equals(Ne.remote)))return!1;const Se=this._repositoryPageInformation.get(Ne.remote.url.toString()+t);return Se&&(e.fetchNextPage===!1||Se.hasMorePages!==!1)});for(let Ne=0;Ne<me.length;Ne++){const Se=me[Ne],Re=Se.remote.url.toString()+t;let Ae=this._repositoryPageInformation.get(Re);Ae||(y.warn(`No page information for ${Re}`),Ae={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Re,Ae));const Oe=Ae,Ge=async bt=>{const fn=a?no(a,void 0,{base:await Se.getDefaultBranch(),owner:Se.remote.owner,repo:Se.remote.repositoryName}):void 0;switch(i){case 0:return r===Un.All?Se.getAllPullRequests(bt):this.getPullRequestsForCategory(Se,fn||"",bt);case 1:return Se.getIssues(Oe.pullRequestPage,fn)}};e.fetchNextPage?(Oe.pullRequestPage++,Q(await Ge(Oe.pullRequestPage)),k(u()+1)):(Oe.pullRequestPage===0&&(Oe.pullRequestPage=1),(await Promise.all(Array.from({length:Oe.pullRequestPage}).map((fn,cn)=>Ge(cn+1)))).forEach(fn=>Q(fn))),Oe.hasMorePages=$.hasMorePages;const We=$.items.length>0,qe=e.fetchNextPage,ot=e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&A>=u();if(We&&(qe||ot)&&!pe)return u()===0&&k(A),{items:$.items,hasMorePages:Oe.hasMorePages,hasUnsearchedRepositories:Ne<me.length-1,totalCount:$.totalCount}}return{items:$.items,hasMorePages:$.hasMorePages,hasUnsearchedRepositories:!1,totalCount:$.totalCount}}async getPullRequestsForCategory(e,t,i){try{y.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:r,query:a,schema:o}=await e.ensure();this.telemetry.sendTelemetryEvent("pr.search.category");const u=(await e.getAuthenticatedUser()).login,{data:k,headers:A}=await r.call(r.api.search.issuesAndPullRequests,{q:ak(u,t),per_page:Up,advanced_search:"true",page:i||1}),$=k.items.map(async pe=>{const me=new Dr(pe.repository_url),Ne=await this.createGitHubRepositoryFromOwnerName(me.owner,me.repositoryName),{data:Se}=await a({query:o.PullRequest,variables:{owner:Ne.remote.owner,name:Ne.remote.repositoryName,number:pe.number}});return{data:Se,repo:Ne}}),Q=!!A.link&&A.link.indexOf('rel="next"')>-1,re=await Promise.all($),oe=(await Promise.all(re.map(async pe=>pe!=null&&pe.data.repository?pe.repo.createOrUpdatePullRequestModel(await Vl(pe.data.repository.pullRequest,pe.repo),!0):(y.appendLine("Pull request doesn't appear to exist.",this.id),null)))).filter(pe=>pe!==null);return y.debug(`Fetch pull request category ${t} - done`,this.id),{items:oe,hasMorePages:Q,totalCount:k.total_count}}catch(r){if(y.error(`Fetching pull request with query failed: ${r}`,this.id),r.status===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${e.remote.owner}/${e.remote.repositoryName} is valid.`);else throw r}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(r=>r.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},i){const r=e.toString()+(i||"");return this.fetchPagedData(t,r,0,e,i)}async createMilestone(e,t){try{const{data:i}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,be(i)));return}}async getRepoForIssue(e){const t=new ad(e.repositoryName,e.repositoryUrl,new Dr(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e,t={fetchNextPage:!1,fetchOnePagePerRepo:!1}){if(this.gitHubRepositories.length!==0)try{const i=await this.fetchPagedData(t,`issuesKey${e}`,1,Un.All,e),r={items:[],hasMorePages:i.hasMorePages,hasUnsearchedRepositories:i.hasUnsearchedRepositories,totalCount:i.totalCount};for(const a of i.items){const o=await this.getRepoForIssue(a);r.items.push(new nr(this.telemetry,o,o.remote,a))}return r}catch(i){return y.error(`Error fetching issues with query ${e}: ${i instanceof Error?i.message:i}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let t=0;for(const i of e)i!==void 0&&(t=Math.max(t,i));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md",t="{docs,.github}/ISSUE_TEMPLATE/*.yml",[i,r]=await Promise.all([s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null),s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,t),null)]);return[...i,...r]}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){y.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getAllPullRequestTemplates(e){try{const t=this.gitHubRepositories.find(a=>a.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();if(i&&i.length>0)return i;const r=await this.createGitHubRepositoryFromOwnerName(e,".github");return r?r.getPullRequestTemplates():void 0}catch(t){y.error(`Error fetching pull request templates for ${e}: ${t instanceof Error?t.message:t}`,this.id);return}}async getPullRequestTemplateWithCache(e){const t=`${yS}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(e).then(o=>(o?this.context.workspaceState.update(t,o):this.context.workspaceState.update(t,null),o)),r=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(r){if(a===null)return;if(a)return a}return i}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const i=await t.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(r=>r.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(e){var t,i;if(!e&&!this.repository.state.HEAD)throw new pS(this.repository);const r=await this.getOrigin(e),a=await r.getMetadata(),o=(t=s.workspace.getConfiguration(vt).inspect(fi))==null?void 0:t.defaultValue,u=s.workspace.getConfiguration(vt).get(fi),k=!u||(o==null?void 0:o.every(($,Q)=>u[Q]===$)),A=a.fork&&a.parent&&k?a.parent:await(this.findRepo(Jo("upstream"))||r).getMetadata();return{owner:A.owner.login,repo:A.name,base:(i=rp())!=null?i:A.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(Jo(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){y.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:i}=await t.getBranch(e),r="",a=0;do{if(i){let o=await t.getCommit(i);if(o.parents.length<=1){r=o.message;break}else i=o.parents[0]}a++}while(r===""&&i&&a<5);return y.debug(`Git tip message for branch ${e} - done`,this.id),r}async getOrigin(e){if(!this._githubRepositories.length)throw new qv(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(Jo(t.remote));if(!a){const o=(await this.getAllGitHubRemotes()).find(u=>u.remoteName===t.remote);if(o)return this.createAndAddGitHubRepository(o,this._credentialStore);throw y.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new vS(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[i,...r]=this._githubRepositories;return r.length&&(this.findRepo(Jo("origin"))||await this.findRepoAsync(bS))||i}findRepo(e){return this._githubRepositories.filter(e)[0]}findRepoAsync(e){return(async()=>{for(const t of this._githubRepositories)if(await e(t))return t})()}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const i=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!i)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let r;try{r=await i.createPullRequest(e);const a=e.head.indexOf(":"),o=e.head.slice(a+1);return await hr.associateBranchWithPullRequest(this._repository,r,o),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),r}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const o=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const o=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.add(this._repository.state.indexChanges.map(k=>k.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(y.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),r)return r;throw new Error(be(a))}}async createIssue(e){try{const t=this._githubRepositories.find(o=>o.remote.owner===e.owner&&o.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:i}=await t.octokit.call(t.octokit.api.issues.create,e),r=Wm(i,t),a=new nr(this.telemetry,t,t.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){y.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",be(t)))}}async assignIssue(e,t){try{const i=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!i)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await i.ensure();const r={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await i.octokit.call(i.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){y.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",be(i)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const o=a.key,u=/^branch\.(.*)\.(.*)$/.exec(o);if(u&&u.length===3){const k=u[1];t.has(k)||t.set(k,{});const A=t.get(k);if(u[2]==="remote"&&(A.remote=a.value),u[2]==="github-pr-owner-number"){const $=hr.parsePullRequestMetadata(a.value);A!=null&&A.metadata||(A.metadata=[]),$&&(A.metadata.find(re=>re.owner===$.owner&&re.repositoryName===$.repositoryName&&re.prNumber===$.prNumber)||A.metadata.push($))}t.set(k,A)}}),y.debug(`Found ${t.size} possible branches to delete`,this.id),y.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const i=[];t.forEach((a,o)=>{var u;if(a.metadata){const k=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl,A=a.metadata.find($=>{var Q;return $.owner===(k==null?void 0:k.owner)&&$.repositoryName===(k==null?void 0:k.repositoryName)&&$.prNumber===((Q=this.activePullRequest)==null?void 0:Q.number)});A?(y.debug(`Skipping ${A.prNumber}, active PR is #${(u=this.activePullRequest)==null?void 0:u.number}`,this.id),y.trace(`Skipping active branch ${o}`,this.id)):i.push({label:`${o}`,picked:!1,metadata:a.metadata})}});const r=await Promise.all(i.map(async a=>((await Promise.all(a.metadata.map(async u=>{var k,A;const $=this._githubRepositories.find(pe=>pe.remote.owner.toLowerCase()===u.owner.toLowerCase()&&pe.remote.repositoryName.toLowerCase()===u.repositoryName.toLowerCase());if(!$)return a;const{remote:Q,query:re,schema:oe}=await $.ensure();try{const{data:pe}=await re({query:oe.PullRequestState,variables:{owner:Q.owner,name:Q.repositoryName,number:u.prNumber}});return u.isOpen=((k=pe.repository)==null?void 0:k.pullRequest.state)==="OPEN",((A=pe.repository)==null?void 0:A.pullRequest.state)!=="OPEN"}catch{}return!1}))).every(u=>u)&&(a.legacy=!0),a)));return r.forEach(a=>{a.metadata.length!==0&&(a.description=`${a.metadata[0].repositoryName}/${a.metadata[0].owner} ${a.metadata.map(o=>{const u=`#${o.prNumber}`;return o.isOpen?s.l10n.t("{0} is open",u):u}).join(", ")}`,a.legacy&&(a.picked=!0))}),r}gitRelativeRootPath(e){return K.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var i;const r=await this.getPullRequestDefaults();if(e===r.base){y.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){y.debug("Not cleaning up user's branch.",this.id);return}const o=(i=(await this.repository.getBranch(e)).upstream)==null?void 0:i.remote;try{y.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!o)return;const u=await this.getDeleatableRemotes(void 0);u.has(o)&&u.get(o).createdForPullRequest&&(y.debug(`Cleaning up remote ${o}`,this.id),this.repository.removeRemote(o))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),i=new Map;return t.forEach(r=>{const a=r.key;let o=/^branch\.(.*)\.(.*)$/.exec(a);if(o&&o.length===3){const u=o[1];if(o[2]==="remote"){const k=r.value;i.has(k)||i.set(k,{branches:new Set}),e!=null&&e.has(u)||i.get(k).branches.add(u)}}if(o=/^remote\.(.*)\.(.*)$/.exec(a),o&&o.length===3){const u=o[1];i.has(u)||i.set(u,{branches:new Set});const k=i.get(u);o[2]==="github-pr-remote"&&(k.createdForPullRequest=r.value==="true"),o[2]==="url"&&(k.url=r.value)}}),i}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),i=[];return t.forEach((r,a)=>{if(r.branches.size===0){let o=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(o=o?`${o} ${r.url}`:r.url),i.push({label:a,description:o,picked:r.createdForPullRequest,remote:a})}}),i}async deleteBranches(e,t,i,r,a,o){const u=()=>{a++,i.report({message:s.l10n.t("Deleted {0} of {1} branches",a,r)})},k=async A=>{await hr.associateBaseBranchWithBranch(this.repository,A,void 0),await hr.associateBranchWithPullRequest(this.repository,void 0,A)};for(const A of e)await k(A.label);await Xe(e,5,async A=>{try{await this.repository.deleteBranch(A.label,!0),await hr.getMatchingPullRequestMetadataForBranch(this.repository,A.label)&&console.log(`Branch ${A.label} was not deleted`),u()}catch($){if(typeof $.stderr=="string"&&$.stderr.includes("not found"))t.add(A.label),u();else if(typeof $.stderr=="string"&&$.stderr.includes("unable to access")&&o)o.push(A);else throw $}}),o&&o.length&&await this.deleteBranches(o,t,i,r,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const i=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();t.items=i,t.selectedItems=i.filter(o=>o.picked&&!(o.label===r.base&&o.metadata.find(u=>u.owner===r.owner&&u.repositoryName===r.repo))),t.busy=!1,i.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const o=t.selectedItems,u=new Set;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async A=>{try{await this.deleteBranches(o,u,A,o.length,0,[])}catch($){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",$.message,$.stderr))}}),a=!1;const k=await this.getRemoteDeletionItems(u);k&&k.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=k,t.selectedItems=k.filter(A=>A.picked)):t.hide()}else{const o=t.selectedItems;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",o.length)},async()=>{await Xe(o,5,async u=>{await this.repository.removeRemote(u.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,i,r){const a=this._githubRepositories.find(u=>u.remote.owner===e.remote.owner&&u.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,i,r)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,i){var r;return await((r=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===i))==null?void 0:r.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;y.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!e.base){const{data:a}=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:e.number});e.update(Qu(a,t))}if(!e.mergeBase){const{data:a}=await i.call(i.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",be(t)))}y.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let i=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===e.toLowerCase()&&r.remote.repositoryName.toLowerCase()===t.toLowerCase());return i||(y.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(e,t)),i}async resolveIssueOrPullRequest(e,t,i){let r=await this.resolveIssue(e,t,i,!0);return r||(r=await this.resolvePullRequest(e,t,i)),r}async resolvePullRequest(e,t,i,r=!1){const a=await this.resolveItem(e,t);if(y.trace(`Found GitHub repo for pr #${i}: ${a?"yes":"no"}`,this.id),a){const o=await a.getPullRequest(i,r);return y.trace(`Found GitHub pr repo for pr #${i}: ${o?"yes":"no"}`,this.id),o}}async resolveIssue(e,t,i,r=!1,a=!1){const o=await this.resolveItem(e,t);if(y.trace(`Found GitHub repo for issue #${i}: ${o?"yes":"no"}`,this.id),o){const u=await o.getIssue(i,r,a);return y.trace(`Found GitHub issue repo for issue #${i}: ${u?"yes":"no"}`,this.id),u}}async resolveUser(e,t,i){return y.debug(`Fetch user ${i}`,this.id),(await this.createGitHubRepositoryFromOwnerName(e,t)).resolveUser(i)}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await hr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,i,r){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,i,r)}catch(a){return y.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,i){var r,a;if(y.debug(`Searching GitHub for a PR with branch ${i} and remote ${t}`,this.id),!t)return null;const o=new Dr(t);let u=this.findRepo(A=>Me(A.remote.owner,o.owner)===0&&Me(A.remote.repositoryName,o.repositoryName)===0);if(!u&&this.gitHubRepositories.length>0){const A=Vo(o.repositoryName,t,o);A&&(u=await this.createGitHubRepository(A,this.credentialStore,!0,!0))}const k=await this.doGetMatchingPullRequestMetadataFromGitHub(u,i);if(k&&e.upstream===void 0&&u&&e.name){const A=await hr.createRemote(this.repository,u==null?void 0:u.remote,o),$=`refs/remotes/${A}/${(r=k.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:A,ref:(a=k.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,$)}return k}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){var i;if(y.debug(`Searching GitHub for a PR with branch ${t} and remote ${e}`,this.id),!e)return null;let r=this.gitHubRepositories.find(a=>a.remote.remoteName===e);if(!r&&this.gitHubRepositories.length>0){const a=this.repository.state.remotes.find(A=>A.name===e),o=(i=a==null?void 0:a.fetchUrl)!=null?i:a==null?void 0:a.pushUrl;if(!o)return null;const u=new Dr(o!=null?o:""),k=Vo(e,o,u);k&&(r=await this.createGitHubRepository(k,this.credentialStore,!0,!0))}return this.doGetMatchingPullRequestMetadataFromGitHub(r,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const i=await(e==null?void 0:e.getMetadata());if(!(i!=null&&i.owner))return null;const r=this.gitHubRepositories.filter(a=>{var o,u,k;return i.fork?a.remote.owner===((u=(o=i.parent)==null?void 0:o.owner)==null?void 0:u.login)&&a.remote.repositoryName===i.parent.name:a.remote.owner===((k=i.owner)==null?void 0:k.login)&&a.remote.repositoryName===i.name});for(const a of r){const o=await a.getPullRequestForBranch(t,i.owner.login);if(o)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:o.number,model:o}}return null}async checkoutExistingPullRequestBranch(e,t){return await hr.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await hr.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await hr.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var i;if(await this.isHeadUpToDateWithBase(e))return!0;const r=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||r){const u=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>mS(e));if(u===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:r?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let k=!0;if(e.item.mergeable===bi.Conflict){const A=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),$=new Z1(this.telemetry,u,A);k=await $.enterConflictResolutionAndWaitForExit(),$.dispose()}return k?e.updateBranch(u):!1}if(e.item.mergeable!==bi.Conflict)return await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Updating branch...")},async()=>{const k=await e.updateBranchWithGraphQL();return k&&e.isActive&&await this.repository.pull(),k});if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(i=U_(this.repository,e.base))==null?void 0:i.name;if(!a)return!1;const o=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async u=>{u.report({message:s.l10n.t("Fetching branch {0}",o)}),await this.repository.fetch({ref:e.base.ref,remote:a}),u.report({message:s.l10n.t("Merging branch {0} into {1}",o,this.repository.state.HEAD.name)});try{await this.repository.merge(o)}catch(k){if(k.gitErrorCode!==un.Conflict)throw k}}),e.item.mergeable===bi.Conflict){const u=await Tf.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(u==null?void 0:u.finished()),u==null||u.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(o=>o.remote.owner===e.remote.owner&&o.remote.repositoryName===e.remote.repositoryName),i=`${e.head.owner}:${e.head.ref}`,r=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(r,i));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const i=await e.getPullRequest(t);if(i)return i;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e,t){const i="AndPull",r=s.workspace.getConfiguration(vt).get(In,Xn);let a=e,o;t&&r.startsWith(Dn)&&(a=t.base.ref,o=t.remote.remoteName),r.endsWith(i)?await this.checkoutDoneBranchAndPull(a,o):await this.checkoutDoneBranchOnly(a,o)}async checkoutDoneBranchAndPull(e,t){await this.checkoutDoneBranchOnly(e,t);try{(await this.repository.getBranch(e)).upstream&&(y.debug(`Pulling latest changes for branch ${e}`,this.id),await this.repository.pull())}catch(i){y.warn(`Failed to pull latest changes for branch ${e}: ${i}`,this.id)}}async fetchBranch(e,t){try{await this.repository.fetch({remote:t,ref:e}),await this.repository.createBranch(e,!1),await this.repository.setBranchUpstream(e,`refs/remotes/${t}/${e}`)}catch(i){y.error(`Failed to fetch branch ${e}: ${i}`,this.id),s.window.showErrorMessage(s.l10n.t("Failed to create branch {0}: {1}",e,be(i)));return}}async checkoutDoneBranchOnly(e,t){var i,r,a,o,u,k;let A;try{A=await this.repository.getBranch(e)}catch($){(i=$.message)!=null&&i.includes("No such branch")&&t&&await this.fetchBranch(e,t)}try{if(A=await this.repository.getBranch(e),((r=this.repository.state.HEAD)==null?void 0:r.name)===A.name){const re=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),re).then(oe=>{if(oe===re)return Td.checkout()});return}if(s.workspace.getConfiguration(Mr).get(ts,!1)&&A.upstream)try{await this.repository.fetch({remote:A.upstream.remote,ref:`${A.upstream.name}:${A.name}`})}catch(re){if((a=re.stderr)!=null&&a.startsWith&&re.stderr.startsWith("fatal: refusing to fetch into branch"))s.window.showErrorMessage(s.l10n.t("Unable to fetch the {0} branch. There is some state (bisect, unpushed commits, etc.) on {0} that is preventing the fetch.",[A.name]));else throw re}A.upstream&&e===A.upstream.name?await this.repository.checkout(e):await Td.checkout();const Q=[];for(const re of s.window.tabGroups.all)for(const oe of re.tabs){let pe;oe.input instanceof s.TabInputText?pe=oe.input.uri:oe.input instanceof s.TabInputTextDiff?pe=oe.input.original:oe.input instanceof s.TabInputWebview&&(pe=oe.input.viewType),(pe instanceof s.Uri&&pe.scheme===Ut.Review||typeof pe=="string"&&pe.endsWith(Wc))&&Q.push(s.window.tabGroups.close(oe))}await Promise.all(Q)}catch($){if($.gitErrorCode&&$.gitErrorCode===un.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}y.error(`Exiting failed: ${$}. Target branch ${e} used to find branch ${(o=A==null?void 0:A.name)!=null?o:"unknown"} with upstream ${(k=(u=A==null?void 0:A.upstream)==null?void 0:u.name)!=null?k:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${$}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Yc,!1)&&(this.context.globalState.update(Yc,!1),await s.workspace.getConfiguration(vt).update(sn,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(vt).get(sn,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,i){if(!this._updateMessageShown||i){if(await e.copilotWorkingStatus()===Ha.InProgress)return;this._updateMessageShown=!0;const a=s.l10n.t("Pull"),o=s.l10n.t("Always Pull"),u=s.l10n.t("Never Show Again"),k=[a];i||k.push(o,u),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...k)===a?(await this.pullBranch(t),this._updateMessageShown=!1):u?await s.workspace.getConfiguration(vt).update(sn,"never",s.ConfigurationTarget.Global):o&&(await s.workspace.getConfiguration(vt).update(sn,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var i,r;if(((i=this.activePullRequest)==null?void 0:i.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const o=a.upstream?a.upstream.remote:null,u=a.upstream?a.upstream.name:a.name;if(o){try{t&&s.workspace.getConfiguration(vt).get(ys,!0)&&await this._repository.fetch(o,u)}catch(A){A.stderr&&(A.stderr.startsWith("fatal: couldn't find remote ref")||A.stderr.includes("key_exchange_identification")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",A.stderr))),y.error(`Error when fetching: ${(r=A.stderr)!=null?r:A}`,this.id)}const k=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(k){case"always":{const A=s.workspace.getConfiguration(Mr).get(je,!1);return A?this.promptPullBrach(e,a,A):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,i){const r=this._id+this._githubRepositories.length*.1,a=new Ri(r,xs.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,i);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===e.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||i.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,i,r=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:r?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,i)})}async createGitHubRepositoryFromOwnerName(e,t){var i,r;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const u=io(this.repository).find(A=>A.owner===e&&A.repositoryName===t),k=(i=u==null?void 0:u.url)!=null?i:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new ad((r=u==null?void 0:u.remoteName)!=null?r:t,k,new Dr(k)),this._credentialStore)}async findUpstreamForItem(e){let t,i;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const o=await a.getRepositoryForkDetails();if(o&&o.isFork&&o.parent.owner.login===e.remote.owner&&o.parent.name===e.remote.repositoryName){const u=await a.getViewerPermission();if(u===pa.Admin||u===pa.Maintain||u===pa.Write){i=a.remote;break}}}let r=!1;if(t&&!i){const a=await e.githubRepository.getViewerPermission();(a===pa.Read||a===pa.Triage||a===pa.Unknown)&&(r=!0)}return{needsFork:r,upstream:t,remote:i}}async forkWithProgress(e,t,i,r){e.report({message:s.l10n.t("Forking {0}...",i)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const o=r.state.remotes.length>1?"origin":r.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const u=this.gitHubRepositories.length;return await r.renameRemote(o,"upstream"),await r.addRemote(o,a),await new Promise(k=>{var A;if(this.gitHubRepositories.length===u&&((A=s.workspace.getConfiguration(vt).get(fi))!=null&&A.includes("upstream"))){const $=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>u&&($.dispose(),k())})}else k()}),e.report({increment:50}),o}async doFork(e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,e,t,i)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,i=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},i,r)){case i:return this.doFork(e,t,this.repository);case r:return!1;default:return}}async publishBranch(e,t){const i=await this.createGitHubRepository(e,this.credentialStore),r=await i.getViewerPermission();let a;if(r===pa.Read||r===pa.Triage||r===pa.Unknown){const o=await this.tryOfferToFork(i);if(!o)return;a=(await this.getGitHubRemotes()).find(u=>u.remoteName===o)}else a=(await this.getGitHubRemotes()).find(o=>o.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(o){if(o.gitErrorCode===un.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(o.gitErrorCode===un.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw o}}saveLastUsedEmail(e){return this.context.globalState.update(Pp,e)}async getPreferredEmail(e){if(await this.credentialStore.getIsEmu(e.remote.authProviderId))return;const i=await e.githubRepository.getAuthenticatedUserEmails(),r=k=>k&&i.find(A=>A.toLowerCase()===k.toLowerCase()),a=await hr.getEmail(this.repository);let o=r(a);if(o)return o;const u=this.context.globalState.get(Pp);return o=r(u),o||i[0]}getTitleAndDescriptionProvider(e){if(!s.workspace.getConfiguration(ln).get(yn,!1))return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){if(!s.workspace.getConfiguration(ln).get(yn,!1))return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Gn(Hv,"ID","FolderRepositoryManager");let vo=Hv;function sF(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const bS=async n=>n.isCurrentUser(n.remote.authProviderId,n.remote.owner),Jo=n=>({remote:{remoteName:e}})=>e===n;function wS(n){if(!n)return n;const e=/^[ \t]*([*+\-]|\d+\.)\s/,t=/^[ \t]*>/,i=/^[ \t]*```/,r=me=>{var Ne,Se;return(Se=(Ne=me.match(/^[ \t]*/))==null?void 0:Ne[0].length)!=null?Se:0},a=me=>/ {2}$/.test(me),o=(me,Ne)=>Ne?me.length>0&&!/\s$/.test(me)?`${me} ${Ne}`:`${me}${Ne}`:me,u=n.split(`
`),k=[];let A=0,$=!1;const Q=[],re=me=>{for(let Ne=me;Ne<u.length;Ne++){const Se=u[Ne];if(Se.trim()!=="")return{line:Se,indent:r(Se),isListItem:e.test(Se)}}},oe=me=>{for(let Ne=Q.length-1;Ne>=0;Ne--){const Se=Q[Ne];if(me>=Se+2)return Q.length=Ne+1,Se;Q.pop()}},pe=(me,Ne,Se)=>{const Re=u[me];if(!Re||!Re.trim()||a(Se)||a(Re)||e.test(Re)||t.test(Re)||i.test(Re))return!1;const Oe=r(Re);if(Oe<Ne+2||Oe>=Ne+4)return!1;const Ge=re(me+1);return Ge?!(Ge.isListItem&&Ge.indent<=Ne):!0};for(;A<u.length;){const me=u[A];if(me.trim()===""){k.push(me),A++,Q.length=0;continue}if(i.test(me)){$=!$,k.push(me),A++;continue}if($){k.push(me),A++;continue}const Ne=r(me);if(e.test(me)){for(;Q.length&&Ne<Q[Q.length-1];)Q.pop();!Q.length||Ne>Q[Q.length-1]?Q.push(Ne):Q[Q.length-1]=Ne,k.push(me),A++;continue}const Re=oe(Ne),Ae=Re!==void 0?Re+4:4,Oe=t.test(me),Ge=Ne>=Ae;if(Oe||Ge){k.push(me),A++;continue}if(Re!==void 0&&Ne>=Re+2){const qe=k.length-1;if(qe>=0){let ot=k[qe],kt=!1,bt=A;for(;bt<u.length&&pe(bt,Re,ot);){const fn=u[bt].trim();fn&&(ot=o(ot,fn),kt=!0),bt++}if(kt){k[qe]=ot,A=bt;continue}}k.push(me),A++;continue}let We=me;for(A++;A<u.length;){const qe=u[A];if(qe.trim()===""||i.test(qe)||e.test(qe)||t.test(qe)||r(qe)>=4)break;We+=" "+qe,A++}k.push(We)}return k.join(`
`)}const kS=async n=>{const e=await n;if(!e)return;const t=e.indexOf(`
`),i=t!==-1,r=i?e.slice(t+1).trim():"";return{title:i?e.slice(0,t):e,body:wS(r)}};var _S=Object.defineProperty,SS=(n,e,t)=>e in n?_S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ES=(n,e,t)=>SS(n,typeof e!="symbol"?e+"":e,t);class RS extends Nf{constructor(e,t,i){super(t,i),this.reposManagers=e,ES(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,i,r){const a=t.equals(i.activePullRequest);return e.map(o=>o instanceof Uo?new zo(i,o,t):new co(i,t,o,a,r))}waitForGitHubRepos(e,t){return new Promise(i=>{const r=setTimeout(()=>{a.dispose(),i()},t),a=e.onDidLoadRepositories(o=>{o===Hr.RepositoriesLoaded&&(clearTimeout(r),a.dispose(),i())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const i=this.reposManagers.getManagerForFile(e);if(!i)return;let r=i.findRepo(A=>A.remote.remoteName===t.remoteName);if(r||(await this.waitForGitHubRepos(i,1e4),r=i.findRepo(A=>A.remote.remoteName===t.remoteName)),!r)return;const a=await i.resolvePullRequest(r.remote.owner,r.remote.repositoryName,t.prNumber);if(!a)return;const o=await a.getFileChangesInfo(),u=a.mergeBase;if(!u)return;const k=this.resolveChanges(o,a,i,u);this.registerTextDocumentContentProvider(a.number,async A=>{const $=ki(A);if(!$)return"";const Q=k.find(re=>re.fileName===$.fileName);return Q?Mf(i,a,$,Q):(y.error(`Cannot find content for document ${A.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const i=this._prFileChangeContentProviders[t];if(i){const r=await i(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var t;const i=ki(e);if(!i||i.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,i.prNumber);return r||(await this.tryRegisterNewProvider(e,i),(t=await this.readFileWithProvider(e,i.prNumber))!=null?t:new TextEncoder().encode(""))}}let Af;function Pf(n){return!Af&&n&&(Af=new RS(n.reposManager,n.gitAPI,n.credentialStore)),Af}async function Mf(n,e,t,i){if(t.isBase&&i.status===Qt.ADD||!t.isBase&&i.status===Qt.DELETE)return"";const r=await i.diffHunks();let a=!1;if(i instanceof co&&(a=await i.isPartial()),i instanceof zo||i instanceof co&&a)try{return t.isBase?e.githubRepository.getFile(i.previousFileName||i.fileName,t.baseCommit):e.githubRepository.getFile(i.fileName,t.headCommit)}catch(o){return y.error(`Fetching file content failed: ${o}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(u=>{u==="Open on GitHub"&&i.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(i.blobUrl))}),""}if(i instanceof co)if(i.status===Qt.ADD||i.status===Qt.DELETE)if(t.isBase){const u=[];for(let k=0;k<r.length;k++)for(let A=0;A<r[k].diffLines.length;A++){const $=r[k].diffLines[A];$.type===Ci.Add||($.type===Ci.Delete?u.push($.text):$.type===Ci.Control||u.push($.text))}return u.join(`
`)}else{const u=[];for(let k=0;k<r.length;k++)for(let A=0;A<r[k].diffLines.length;A++){const $=r[k].diffLines[A];$.type===Ci.Add?u.push($.text):$.type===Ci.Delete||$.type===Ci.Control||u.push($.text)}return u.join(`
`)}else{const u=i.status===Qt.RENAME?i.previousFileName:i.fileName,k=s.Uri.joinPath(n.repository.rootUri,u),A=await n.repository.show(t.baseCommit,k.fsPath);return t.isBase?A:Um(A,i.patch)}return""}var NS=Object.defineProperty,TS=(n,e,t)=>e in n?NS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gv=(n,e,t)=>TS(n,typeof e!="symbol"?e+"":e,t);class CS{constructor(){Gv(this,"_progress",Promise.resolve()),Gv(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var AS=Object.defineProperty,PS=(n,e,t)=>e in n?AS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cd=(n,e,t)=>PS(n,typeof e!="symbol"?e+"":e,t);class MS{constructor(){Cd(this,"_localFileChanges"),Cd(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),Cd(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Cd(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}class Ad{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(vt).get(De)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new Ad(e,t))}provideTerminalLinks(e,t){var i;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const a=e.line.substring(r),o=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),u=a.match(o);if(u&&u.length===4){const k=u[1],A=u[2],$=u[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(re=>re.remote.owner===k&&re.remote.repositoryName===A)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===$)return[{startIndex:r,length:e.line.length-r,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=Ad.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const i="Yes",r="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",i,"No, continue to github.com",r).then(a=>{switch(a){case i:{this.reviewManager.createPullRequest();break}case r:{s.workspace.getConfiguration(vt).update(De,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var FS=Object.defineProperty,IS=(n,e,t)=>e in n?FS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$i=(n,e,t)=>IS(n,typeof e!="symbol"?e+"":e,t);const Vv=class Rb extends f{constructor(e,t,i,r,a,o,u,k,A,$,Q){super(),this._id=e,this._context=t,this._repository=i,this._folderRepoManager=r,this._telemetry=a,this.changesInPrDataProvider=o,this._pullRequestsTree=u,this._showPullRequest=k,this._activePrViewCoordinator=A,this._createPullRequestHelper=$,this._gitApi=Q,$i(this,"_localToDispose",[]),$i(this,"_reviewModel",new MS),$i(this,"_lastCommitSha"),$i(this,"_validateStatusInProgress"),$i(this,"_reviewCommentController"),$i(this,"_quickDiffProvider"),$i(this,"_inMemGitHubContentProvider"),$i(this,"_statusBarItem"),$i(this,"_prNumber"),$i(this,"_isShowingLastReviewChanges",!1),$i(this,"_previousRepositoryState"),$i(this,"_switchingToReviewMode"),$i(this,"_changesSinceLastReviewProgress",new CS),$i(this,"justSwitchedToReviewMode",!1),$i(this,"_switchedToPullRequest"),$i(this,"_isRepositorySelected"),$i(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._isRepositorySelected=i.ui.selected,this._previousRepositoryState={HEAD:i.state.HEAD,remotes:io(this._repository)},this._register(l(()=>d(this._localToDispose))),this.registerListeners(),Q.state==="initialized"&&this.updateState(!0)}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!t&&!i)return;let r;!t||!i?r=!1:r=t.upstream?i.upstream&&t.upstream.name===i.upstream.name&&t.upstream.remote===i.upstream.remote:!i.upstream;const a=r&&t.ahead===i.ahead&&t.behind===i.behind&&t.commit===i.commit&&t.name===i.name&&t.remote===i.remote&&t.type===i.type,o=io(this._repository),u=this._previousRepositoryState.remotes.length===o.length&&this._previousRepositoryState.remotes.every(k=>o.some(A=>k.equals(A)));(!a||!u)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:o},this.updateState(!0)),t&&i&&this.updateBaseBranchMetadata(t,i)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${vt}.${mt}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(this._repository.ui.onDidChange(()=>{this._isRepositorySelected=this._repository.ui.selected,this.updateStatusBarVisibility()})),this._register(Ad.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var i;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let r=this._folderRepoManager.gitHubRepositories.find(a=>{var o;return a.remote.remoteName===((o=e.upstream)==null?void 0:o.remote)});if(r){const a=await r.getMetadata();return a.fork&&e.name===a.default_branch&&(r=(i=this._folderRepoManager.gitHubRepositories.find(o=>{var u,k,A;return o.remote.owner===((k=(u=a.parent)==null?void 0:u.owner)==null?void 0:k.login)&&o.remote.repositoryName===((A=a.parent)==null?void 0:A.name)}))!=null?i:r),hr.associateBaseBranchWithBranch(this.repository,t.name,{owner:r.remote.owner,repo:r.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(vt).get(dn)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const i=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.toString());if(i)return i.changeModel.parentFilePath}},"github-pr",e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}updateStatusBarVisibility(){this._statusBarItem&&(this._isRepositorySelected&&(this._folderRepoManager.activePullRequest||this._switchingToReviewMode)?this._statusBarItem.show():this._statusBarItem.hide())}showStatusBarIfSelected(){this._isRepositorySelected&&this.statusBarItem.show()}get repository(){return this._repository}get reviewModel(){return this._reviewModel}get id(){return`${Rb.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(y.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(y.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let i;const r=new Promise(o=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,y.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),o()},12e4)}),a=new Promise(o=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),o()})})});return Promise.race([a,r])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(r,0),o=new Date().getTime();if(o-a<1e3*60*60*24)return!1;const{base:u}=await this._folderRepoManager.getPullRequestDefaults(e);if(u!==e)return!1;await this._context.workspaceState.update(r,o);const k=s.l10n.t("Ignore Pull Request"),A=s.l10n.t("Don't Show Again"),$=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),k,A);if($===k){y.appendLine(`Branch ${e} will now be ignored in ${mt}.`,this.id);const Q=s.workspace.getConfiguration(vt),re=Q.get(mt,[]);return re.push(e),await Q.update(mt,re),!0}else if($===A)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return y.debug(`Upstream for branch ${e.name} is ${e.upstream.remote}/${e.upstream.name}`,this.id),{remoteName:e.upstream.remote,upstreamBranchName:e.upstream.name,remoteUrl:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),i=await this.repository.getConfig(`branch.${e.name}.merge`);let r;return i&&(r=i.substring(11)),y.debug(`Upstream for branch ${e.name} is ${r} at ${t}`,this.id),{remoteUrl:t,upstreamBranchName:r,remoteName:void 0}}catch{return y.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{remoteUrl:void 0,upstreamBranchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){try{let t;this._repository.state.HEAD&&e.name===this._repository.state.HEAD.name?t=this._repository.state.HEAD:t=e;const{remoteUrl:i,upstreamBranchName:r,remoteName:a}=await this.getUpstreamUrlAndName(t),o=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,a,i,r);if(o)return y.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${o.owner}/${o.repositoryName} PR: ${o.prNumber}`,this.id),await hr.associateBranchWithPullRequest(this._repository,o.model,e.name),o}catch(t){y.warn(`Failed to check GitHub for PR branch: ${t.message}`,this.id);return}}async resolvePullRequest(e,t){try{this._prNumber=e.prNumber;const{owner:i,repositoryName:r}=e;y.appendLine("Resolving pull request",this.id);let a=await this._folderRepoManager.resolvePullRequest(i,r,e.prNumber,t);if(!a||!a.isResolved()||!await a.githubRepository.hasBranch(a.base.name)){await this.clear(!0),this._prNumber=void 0,y.appendLine("This PR is no longer valid",this.id);return}return a}catch(i){y.appendLine(`Pull request cannot be resolved: ${i.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var i,r,a,o,u;y.appendLine("Validating state...",this.id);const k=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const A=this._repository.state.HEAD,$=s.workspace.getConfiguration(vt).get(mt),Q=(r=A.remote)!=null?r:(i=A.upstream)==null?void 0:i.remote;if($!=null&&$.find(Ge=>Ge===A.name)&&(Q==="origin"||!((o=await((a=this._folderRepoManager.gitHubRepositories.find(Ge=>Ge.remote.remoteName===Q))==null?void 0:a.getMetadata()))!=null&&o.fork))){y.appendLine(`Branch ${A.name} is ignored in ${mt}.`,this.id),await this.clear(!0);return}let re=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(re||(y.appendLine(`No matching pull request metadata found locally for current branch ${A.name}`,this.id),re=await this.checkGitHubForPrBranch(A)),!re){y.appendLine(`No matching pull request metadata found on GitHub for current branch ${A.name}`,this.id),await this.clear(!0);return}y.appendLine(`Found matching pull request metadata for current branch ${A.name}. Repo: ${re.owner}/${re.repositoryName} PR: ${re.prNumber}`,this.id),y.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${re.prNumber}`,this.id);const oe=this._prNumber,pe=this.justSwitchedToReviewMode&&oe===re.prNumber;let me=await this.resolvePullRequest(re,pe);if(!me){y.appendLine(`Unable to resolve PR #${re.prNumber}`,this.id);return}if(y.appendLine(`Resolved PR #${re.prNumber}, state is ${me.state}`,this.id),me.state!==hi.Open){const Ge=await this.checkGitHubForPrBranch(A);if(Ge&&(Ge==null?void 0:Ge.prNumber)!==me.number){const We=await this.resolvePullRequest(Ge,!1);We&&(me=We)}}const Ne=A.commit!==k&&A.ahead===0&&A.behind===0;if(!this.justSwitchedToReviewMode&&oe===me.number&&!Ne&&this._isShowingLastReviewChanges===me.showChangesSinceReview)return;this._isShowingLastReviewChanges=me.showChangesSinceReview,oe!==me.number&&this.clear(!1);const Se=xn(),Re=((u=this._switchedToPullRequest)==null?void 0:u.number)===me.number;if(me.isClosed&&!Se.closed&&!Re){y.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(me.isMerged&&!Se.merged&&!Re){y.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(vt).get(Ft,!1)||this.offerIgnoreBranch(A.name);const Oe=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=me,this._lastCommitSha=me.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(me,!0)),y.appendLine("Fetching pull request data",this.id),e||G(this._reviewModel.onDidChangeLocalFileChanges)(()=>{me&&this._upgradePullRequestEditors(me)}),this.initializePullRequestData(me),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,me,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),y.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(me,this._folderRepoManager,this,Oe),this._localToDispose.push(me.onDidChangeChangesSinceReview(async Ge=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),me&&mi.openChanges(this._folderRepoManager,me),this._changesSinceLastReviewProgress.endProgress()})),y.appendLine("Register in memory content provider",this.id),oe!==me.number&&await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",me.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[me]},y.appendLine("Display pull request status bar indicator.",this.id),this.showStatusBarIfSelected(),this.layout(me,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,i){const r=this._context.workspaceState.get(da);if(y.appendLine(`Using focus mode = ${r}.`,this.id),y.appendLine(`State validation silent = ${i}.`,this.id),y.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&r)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&r){const a=this._showPullRequest.onChangedShowValue(o=>{y.appendLine(`PR show value changed = ${o}.`,this.id),o&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(i=>{if(i.input instanceof s.TabInputTextDiff&&i.input.original.scheme===Ut.Review)for(const r of this._reviewModel.localFileChanges){const a=ta(i.input.original.query);if(r.fileName===a.path){e=!0,s.window.tabGroups.close(i).then(o=>r.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const i of this._reviewModel.localFileChanges)if(i.status===Qt.MODIFY)if(Xp.includes(K.extname(i.fileName)))e.push(i);else{e.unshift(i);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_openFirstDiff(){if(this._reviewModel.localFileChanges.length)this.openDiff();else{const e=this._reviewModel.onDidChangeLocalFileChanges(()=>{e.dispose(),this.openDiff()})}}_doFocusShow(e,t){if(s.workspace.getConfiguration(Qe).get(dt)!=="never"&&e.hasComments&&ft.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const r=s.workspace.getConfiguration(vt).get(jn);if(r&&e.fileChanges.size===0)return this.openDescription();if(r==="firstDiff")return this._openFirstDiff();if(r==="overview")return this.openDescription();if(r==="multiDiff")return e.fileChanges.size<400?mi.openChanges(this._folderRepoManager,e):this._openFirstDiff()}}async _closeOutdatedMultiDiffEditors(e){const t=s.l10n.t("Changes in Pull Request #{0}",e.number),i=[];for(const r of s.window.tabGroups.all)for(const a of r.tabs)a.input instanceof s.TabInputTextMultiDiff&&a.label.startsWith(t)&&(y.appendLine(`Closing outdated multidiff editor for PR #${e.number}`,this.id),i.push(Promise.resolve(s.window.tabGroups.close(a))));await Promise.all(i)}async _upgradePullRequestEditors(e){await this._closeOutdatedMultiDiffEditors(e);const t=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===Ut.Pr&&a.input.modified.scheme===Ut.Pr){const o=ki(a.input.original),u=ki(a.input.modified);if((o==null?void 0:o.prNumber)===e.number&&(u==null?void 0:u.prNumber)===e.number)return t.add([o,u]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const i=[];if(t.size){for(const r of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const o=a[1];if(r.fileName===o.fileName){i.push(r.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(i)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const r=[];for(const a of t){const o=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),u=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;r.push({suggestionContent:o,originalLineLength:u-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(r.map(async a=>{var o;try{await((o=this._reviewCommentController)==null?void 0:o.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,i=e.oldLength,r=0;for(;r<e.diffLines.length;r++){const u=e.diffLines[r];if(u.type!==Ci.Control)if(u.type===Ci.Context)t++,i--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Ci.Context;a--)i--;let o=e.diffLines.slice(r,a+1);o.every(u=>u.type===Ci.Add)&&(r>1?(r--,t--,i++):a<e.diffLines.length-1?(a++,i++):(r=1,a=e.diffLines.length-1),o=e.diffLines.slice(r,a+1)),e.diffLines=o,e.oldLength=i,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Ci.Add||t.type==Ci.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(A=>A.toString());let i=!1,r=0;const a=[],o=async(A,$)=>{var Q;try{await((Q=this._reviewCommentController)==null?void 0:Q.createSuggestionsFromChanges(A.uri,this.convertDiffHunkToSuggestion($))),a.push(A.uri)}catch{i=!0}},u=async A=>{if(!(!t.includes(A.uri.toString())||A.status!==gt.MODIFIED))return Bc(await this._folderRepoManager.repository.diffWithHEAD(A.uri.fsPath)).map($=>Dw($)).flat()},k=async(A,$)=>{const Q=await u(A);if(Q)if(r+=Q.length,$)await Promise.allSettled(Q.map(async re=>o(A,re)));else for(const re of Q)await o(A,re)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let A=0;for(;a.length===0&&A<this._folderRepoManager.repository.state.workingTreeChanges.length;A++){const Q=this._folderRepoManager.repository.state.workingTreeChanges[A];await k(Q,!1)}const $=[];for(;A<this._folderRepoManager.repository.state.workingTreeChanges.length;A++){const Q=this._folderRepoManager.repository.state.workingTreeChanges[A];$.push(k(Q,!0))}await Promise.all($)}),i)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,r),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const A=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},A).then($=>{if($===A)return Promise.all(a.map(Q=>this._folderRepoManager.repository.checkout(Q.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!a||!a.isResolved()){y.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const i=[],r=e.mergeBase||e.base.sha,a=e.head.sha;for(let o=0;o<t.length;o++){const u=t[o],k=K.join(this._repository.rootUri.path,u.fileName).replace(/\\/g,"/"),A=this._repository.rootUri.with({path:k}),$=u.status===Qt.DELETE?va(A,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):A,Q=va(A,u.status===Qt.RENAME?u.previousFileName:u.fileName,void 0,u.status===Qt.ADD?"":r,!1,{base:!0},this._repository.rootUri),re=new of(this._folderRepoManager,e,u,$,Q,a,t.length<20),oe=new mo(this.changesInPrDataProvider,this._folderRepoManager,e,re);i.push(oe)}return i}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=e.comments.filter(o=>o.isOutdated||!o.position),r=q(i,o=>o.originalCommitId),a=[];for(const o in r){const u=r[o],k=q(u,A=>A.path);for(const A in k){const $=k[A],Q=s.Uri.file(K.join(`commit~${o.substr(0,8)}`,A)),re=new of(this._folderRepoManager,e,{status:Qt.MODIFY,fileName:A,blobUrl:void 0},va(Q,A,void 0,$[0].originalCommitId,!0,{base:!1},this._repository.rootUri),va(Q,A,void 0,$[0].originalCommitId,!0,{base:!0},this._repository.rootUri),o),oe=new mo(this.changesInPrDataProvider,this._folderRepoManager,e,re,!1,$);a.push(oe)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){y.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=await i.getFileChangesInfo(),a=i.mergeBase;if(!a)return;const o=r.map(u=>u instanceof Uo?new zo(this._folderRepoManager,u,i):new co(this._folderRepoManager,i,u,!0,a));this._inMemGitHubContentProvider=(t=Pf())==null?void 0:t.registerTextDocumentContentProvider(i.number,async u=>{const k=ki(u);if(!k)return"";const A=o.find($=>$.fileName===k.fileName);return A?Mf(this._folderRepoManager,i,k,A):(y.error(`Cannot find content for document ${u.toString()}`,"PR"),"")})}catch(i){y.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;(i=this._folderRepoManager.activePullRequest)!=null&&i.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new Tv(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,i;y.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.showStatusBarIfSelected(),this.switchingToReviewMode=!0,this._switchedToPullRequest=e;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const r=s.workspace.getConfiguration(vt).get(Mi,"pull");(r==="pullAndMergeBase"||r==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,r==="pullAndUpdateBase")}catch(r){y.error(`Checkout failed #${JSON.stringify(r)}`,this.id),this.switchingToReviewMode=!1,r.message==="User aborted"||(r.gitErrorCode&&(r.gitErrorCode===un.LocalChangesOverwritten||r.gitErrorCode===un.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=r.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&r.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(`Error switching to pull request: ${be(r)}`)),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.showStatusBarIfSelected(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),y.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.showStatusBarIfSelected()}async createPullRequest(e){const t=async i=>{if(!i)return;const r=s.workspace.getConfiguration(vt).get(mn,"openOverview");if(r==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await au(this._telemetry,i,a,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);a&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a,void 0),r==="checkoutDefaultBranchAndShow"?(await ft.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a,void 0),await this._pullRequestsTree.expandPullRequest(i)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a,void 0),s.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await au(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(vt).get(jn)?(s.commands.executeCommand("setContext",da,!0),await this._context.workspaceState.update(da,!0)):(s.commands.executeCommand("setContext",da,!1),this._context.workspaceState.update(da,!1))}async clear(e){var t,i;if(e){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._switchedToPullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),d(this._localToDispose),r==null||r.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:i,base:r}=ta(e.query);let a=Ef(this._reviewModel.localFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i);if(a.length){const o=a[0],u=i===o.sha?Ci.Delete:Ci.Add;return(await o.changeModel.diffHunks()).map(A=>A.diffLines.filter($=>$.type!==u).map($=>$.text)).reduce((A,$)=>A.concat(...$),[]).join(`
`)}if(a=Ef(this._reviewModel.obsoleteFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i),a.length){const o=a[0],u=i===o.sha?Ci.Delete:Ci.Add,k=[],A=q(o.comments,$=>String($.originalPosition));for(const $ in A){if(!A[$][0].diffHunks)continue;const Q=A[$][0].diffHunks.map(re=>re.diffLines.filter(oe=>oe.type!==u).map(oe=>oe.text)).reduce((re,oe)=>re.concat(...oe),[]);k.push(...Q)}return k.join(`
`)}else if(r&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,i)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,i){return e.find(r=>r._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!i||r._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(e,t){return e.find(i=>i._folderRepoManager===t)}};$i(Vv,"ID","Review");let na=Vv;class DS{constructor(){$i(this,"_shouldShow",!1),$i(this,"_onChangedShowValue",new s.EventEmitter),$i(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}function Ff(n,e=!1){const t=n.length;let i=0,r="",a=0,o=16,u=0,k=0,A=0,$=0,Q=0;function re(Ae,Oe){let Ge=0,We=0;for(;Ge<Ae||!Oe;){let qe=n.charCodeAt(i);if(qe>=48&&qe<=57)We=We*16+qe-48;else if(qe>=65&&qe<=70)We=We*16+qe-65+10;else if(qe>=97&&qe<=102)We=We*16+qe-97+10;else break;i++,Ge++}return Ge<Ae&&(We=-1),We}function oe(Ae){i=Ae,r="",a=0,o=16,Q=0}function pe(){let Ae=i;if(n.charCodeAt(i)===48)i++;else for(i++;i<n.length&&Xo(n.charCodeAt(i));)i++;if(i<n.length&&n.charCodeAt(i)===46)if(i++,i<n.length&&Xo(n.charCodeAt(i)))for(i++;i<n.length&&Xo(n.charCodeAt(i));)i++;else return Q=3,n.substring(Ae,i);let Oe=i;if(i<n.length&&(n.charCodeAt(i)===69||n.charCodeAt(i)===101))if(i++,(i<n.length&&n.charCodeAt(i)===43||n.charCodeAt(i)===45)&&i++,i<n.length&&Xo(n.charCodeAt(i))){for(i++;i<n.length&&Xo(n.charCodeAt(i));)i++;Oe=i}else Q=3;return n.substring(Ae,Oe)}function me(){let Ae="",Oe=i;for(;;){if(i>=t){Ae+=n.substring(Oe,i),Q=2;break}const Ge=n.charCodeAt(i);if(Ge===34){Ae+=n.substring(Oe,i),i++;break}if(Ge===92){if(Ae+=n.substring(Oe,i),i++,i>=t){Q=2;break}switch(n.charCodeAt(i++)){case 34:Ae+='"';break;case 92:Ae+="\\";break;case 47:Ae+="/";break;case 98:Ae+="\b";break;case 102:Ae+="\f";break;case 110:Ae+=`
`;break;case 114:Ae+="\r";break;case 116:Ae+="	";break;case 117:const qe=re(4,!0);qe>=0?Ae+=String.fromCharCode(qe):Q=4;break;default:Q=5}Oe=i;continue}if(Ge>=0&&Ge<=31)if(tu(Ge)){Ae+=n.substring(Oe,i),Q=2;break}else Q=6;i++}return Ae}function Ne(){if(r="",Q=0,a=i,k=u,$=A,i>=t)return a=t,o=17;let Ae=n.charCodeAt(i);if(If(Ae)){do i++,r+=String.fromCharCode(Ae),Ae=n.charCodeAt(i);while(If(Ae));return o=15}if(tu(Ae))return i++,r+=String.fromCharCode(Ae),Ae===13&&n.charCodeAt(i)===10&&(i++,r+=`
`),u++,A=i,o=14;switch(Ae){case 123:return i++,o=1;case 125:return i++,o=2;case 91:return i++,o=3;case 93:return i++,o=4;case 58:return i++,o=6;case 44:return i++,o=5;case 34:return i++,r=me(),o=10;case 47:const Oe=i-1;if(n.charCodeAt(i+1)===47){for(i+=2;i<t&&!tu(n.charCodeAt(i));)i++;return r=n.substring(Oe,i),o=12}if(n.charCodeAt(i+1)===42){i+=2;const Ge=t-1;let We=!1;for(;i<Ge;){const qe=n.charCodeAt(i);if(qe===42&&n.charCodeAt(i+1)===47){i+=2,We=!0;break}i++,tu(qe)&&(qe===13&&n.charCodeAt(i)===10&&i++,u++,A=i)}return We||(i++,Q=1),r=n.substring(Oe,i),o=13}return r+=String.fromCharCode(Ae),i++,o=16;case 45:if(r+=String.fromCharCode(Ae),i++,i===t||!Xo(n.charCodeAt(i)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r+=pe(),o=11;default:for(;i<t&&Se(Ae);)i++,Ae=n.charCodeAt(i);if(a!==i){switch(r=n.substring(a,i),r){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return r+=String.fromCharCode(Ae),i++,o=16}}function Se(Ae){if(If(Ae)||tu(Ae))return!1;switch(Ae){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function Re(){let Ae;do Ae=Ne();while(Ae>=12&&Ae<=15);return Ae}return{setPosition:oe,getPosition:()=>i,scan:e?Re:Ne,getToken:()=>o,getTokenValue:()=>r,getTokenOffset:()=>a,getTokenLength:()=>i-a,getTokenStartLine:()=>k,getTokenStartCharacter:()=>a-$,getTokenError:()=>Q}}function If(n){return n===32||n===9}function tu(n){return n===10||n===13}function Xo(n){return n>=48&&n<=57}var jv;(function(n){n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.space=32]="space",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.asterisk=42]="asterisk",n[n.backslash=92]="backslash",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.plus=43]="plus",n[n.slash=47]="slash",n[n.formFeed=12]="formFeed",n[n.tab=9]="tab"})(jv||(jv={}));const oF=new Array(20).fill(0).map((n,e)=>" ".repeat(e)),Zo=200,lF={" ":{"\n":new Array(Zo).fill(0).map((n,e)=>`
`+" ".repeat(e)),"\r":new Array(Zo).fill(0).map((n,e)=>"\r"+" ".repeat(e)),"\r\n":new Array(Zo).fill(0).map((n,e)=>`\r
`+" ".repeat(e))},"	":{"\n":new Array(Zo).fill(0).map((n,e)=>`
`+"	".repeat(e)),"\r":new Array(Zo).fill(0).map((n,e)=>"\r"+"	".repeat(e)),"\r\n":new Array(Zo).fill(0).map((n,e)=>`\r
`+"	".repeat(e))}},uF=null;function dF(n,e,t){var Ge;let i,r,a,o,u;if(e){for(o=e.offset,u=o+e.length,a=o;a>0&&!Wv(n,a-1);)a--;let We=u;for(;We<n.length&&!Wv(n,We);)We++;r=n.substring(a,We),i=xS(r,t)}else r=n,i=0,a=0,o=0,u=n.length;const k=OS(t,n),A=supportedEols.includes(k);let $=0,Q=0,re;t.insertSpaces?re=(Ge=cachedSpaces[t.tabSize||4])!=null?Ge:el(cachedSpaces[1],t.tabSize||4):re="	";const oe=re==="	"?"	":" ";let pe=createScanner(r,!1),me=!1;function Ne(){if($>1)return el(k,$)+el(re,i+Q);const We=re.length*(i+Q);return!A||We>cachedBreakLinesWithSpaces[oe][k].length?k+el(re,i+Q):We<=0?k:cachedBreakLinesWithSpaces[oe][k][We]}function Se(){let We=pe.scan();for($=0;We===15||We===14;)We===14&&t.keepLines?$+=1:We===14&&($=1),We=pe.scan();return me=We===16||pe.getTokenError()!==0,We}const Re=[];function Ae(We,qe,ot){!me&&(!e||qe<u&&ot>o)&&n.substring(qe,ot)!==We&&Re.push({offset:qe,length:ot-qe,content:We})}let Oe=Se();if(t.keepLines&&$>0&&Ae(el(k,$),0,0),Oe!==17){let We=pe.getTokenOffset()+a,qe=re.length*i<20&&t.insertSpaces?cachedSpaces[re.length*i]:el(re,i);Ae(qe,a,We)}for(;Oe!==17;){let We=pe.getTokenOffset()+pe.getTokenLength()+a,qe=Se(),ot="",kt=!1;for(;$===0&&(qe===12||qe===13);){let fn=pe.getTokenOffset()+a;Ae(cachedSpaces[1],We,fn),We=pe.getTokenOffset()+pe.getTokenLength()+a,kt=qe===12,ot=kt?Ne():"",qe=Se()}if(qe===2)Oe!==1&&Q--,t.keepLines&&$>0||!t.keepLines&&Oe!==1?ot=Ne():t.keepLines&&(ot=cachedSpaces[1]);else if(qe===4)Oe!==3&&Q--,t.keepLines&&$>0||!t.keepLines&&Oe!==3?ot=Ne():t.keepLines&&(ot=cachedSpaces[1]);else{switch(Oe){case 3:case 1:Q++,t.keepLines&&$>0||!t.keepLines?ot=Ne():ot=cachedSpaces[1];break;case 5:t.keepLines&&$>0||!t.keepLines?ot=Ne():ot=cachedSpaces[1];break;case 12:ot=Ne();break;case 13:$>0?ot=Ne():kt||(ot=cachedSpaces[1]);break;case 6:t.keepLines&&$>0?ot=Ne():kt||(ot=cachedSpaces[1]);break;case 10:t.keepLines&&$>0?ot=Ne():qe===6&&!kt&&(ot="");break;case 7:case 8:case 9:case 11:case 2:case 4:t.keepLines&&$>0?ot=Ne():(qe===12||qe===13)&&!kt?ot=cachedSpaces[1]:qe!==5&&qe!==17&&(me=!0);break;case 16:me=!0;break}$>0&&(qe===12||qe===13)&&(ot=Ne())}qe===17&&(t.keepLines&&$>0?ot=Ne():ot=t.insertFinalNewline?k:"");const bt=pe.getTokenOffset()+a;Ae(ot,We,bt),Oe=qe}return Re}function el(n,e){let t="";for(let i=0;i<e;i++)t+=n;return t}function xS(n,e){let t=0,i=0;const r=e.tabSize||4;for(;t<n.length;){let a=n.charAt(t);if(a===cachedSpaces[1])i++;else if(a==="	")i+=r;else break;t++}return Math.floor(i/r)}function OS(n,e){for(let t=0;t<e.length;t++){const i=e.charAt(t);if(i==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(i===`
`)return`
`}return n&&n.eol||`
`}function Wv(n,e){return`\r
`.indexOf(n.charAt(e))!==-1}var nu;(function(n){n.DEFAULT={allowTrailingComma:!1}})(nu||(nu={}));function LS(n,e){const t=[],i=new Object;let r;const a={value:{},offset:0,length:0,type:"object",parent:void 0};let o=!1;function u(k,A,$,Q){a.value=k,a.offset=A,a.length=$,a.type=Q,a.colonOffset=void 0,r=a}try{Pd(n,{onObjectBegin:(k,A)=>{if(e<=k)throw i;r=void 0,o=e>k,t.push("")},onObjectProperty:(k,A,$)=>{if(e<A||(u(k,A,$,"property"),t[t.length-1]=k,e<=A+$))throw i},onObjectEnd:(k,A)=>{if(e<=k)throw i;r=void 0,t.pop()},onArrayBegin:(k,A)=>{if(e<=k)throw i;r=void 0,t.push(0)},onArrayEnd:(k,A)=>{if(e<=k)throw i;r=void 0,t.pop()},onLiteralValue:(k,A,$)=>{if(e<A||(u(k,A,$,Qv(k)),e<=A+$))throw i},onSeparator:(k,A,$)=>{if(e<=A)throw i;if(k===":"&&r&&r.type==="property")r.colonOffset=A,o=!1,r=void 0;else if(k===","){const Q=t[t.length-1];typeof Q=="number"?t[t.length-1]=Q+1:(o=!0,t[t.length-1]=""),r=void 0}}})}catch(k){if(k!==i)throw k}return{path:t,previousNode:r,isAtPropertyKey:o,matches:k=>{let A=0;for(let $=0;A<k.length&&$<t.length;$++)if(k[A]===t[$]||k[A]==="*")A++;else if(k[A]!=="**")return!1;return A===k.length}}}function US(n,e=[],t=nu.DEFAULT){let i=null,r=[];const a=[];function o(k){Array.isArray(r)?r.push(k):i!==null&&(r[i]=k)}return Pd(n,{onObjectBegin:()=>{const k={};o(k),a.push(r),r=k,i=null},onObjectProperty:k=>{i=k},onObjectEnd:()=>{r=a.pop()},onArrayBegin:()=>{const k=[];o(k),a.push(r),r=k,i=null},onArrayEnd:()=>{r=a.pop()},onLiteralValue:o,onError:(k,A,$)=>{e.push({error:k,offset:A,length:$})}},t),r[0]}function BS(n,e=[],t=nu.DEFAULT){let i={type:"array",offset:-1,length:-1,children:[],parent:void 0};function r(k){i.type==="property"&&(i.length=k-i.offset,i=i.parent)}function a(k){return i.children.push(k),k}Pd(n,{onObjectBegin:k=>{i=a({type:"object",offset:k,length:-1,parent:i,children:[]})},onObjectProperty:(k,A,$)=>{i=a({type:"property",offset:A,length:-1,parent:i,children:[]}),i.children.push({type:"string",value:k,offset:A,length:$,parent:i})},onObjectEnd:(k,A)=>{r(k+A),i.length=k+A-i.offset,i=i.parent,r(k+A)},onArrayBegin:(k,A)=>{i=a({type:"array",offset:k,length:-1,parent:i,children:[]})},onArrayEnd:(k,A)=>{i.length=k+A-i.offset,i=i.parent,r(k+A)},onLiteralValue:(k,A,$)=>{a({type:Qv(k),offset:A,length:$,parent:i,value:k}),r(A+$)},onSeparator:(k,A,$)=>{i.type==="property"&&(k===":"?i.colonOffset=A:k===","&&r(A))},onError:(k,A,$)=>{e.push({error:k,offset:A,length:$})}},t);const u=i.children[0];return u&&delete u.parent,u}function qS(n,e){if(!n)return;let t=n;for(let i of e)if(typeof i=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let r=!1;for(const a of t.children)if(Array.isArray(a.children)&&a.children[0].value===i&&a.children.length===2){t=a.children[1],r=!0;break}if(!r)return}else{const r=i;if(t.type!=="array"||r<0||!Array.isArray(t.children)||r>=t.children.length)return;t=t.children[r]}return t}function zv(n){if(!n.parent||!n.parent.children)return[];const e=zv(n.parent);if(n.parent.type==="property"){const t=n.parent.children[0].value;e.push(t)}else if(n.parent.type==="array"){const t=n.parent.children.indexOf(n);t!==-1&&e.push(t)}return e}function Df(n){switch(n.type){case"array":return n.children.map(Df);case"object":const e=Object.create(null);for(let t of n.children){const i=t.children[1];i&&(e[t.children[0].value]=Df(i))}return e;case"null":case"string":case"number":case"boolean":return n.value;default:return}}function $S(n,e,t=!1){return e>=n.offset&&e<n.offset+n.length||t&&e===n.offset+n.length}function Kv(n,e,t=!1){if($S(n,e,t)){const i=n.children;if(Array.isArray(i))for(let r=0;r<i.length&&i[r].offset<=e;r++){const a=Kv(i[r],e,t);if(a)return a}return n}}function Pd(n,e,t=nu.DEFAULT){const i=Ff(n,!1),r=[];let a=0;function o(ve){return ve?()=>a===0&&ve(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function u(ve){return ve?Ue=>a===0&&ve(Ue,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function k(ve){return ve?Ue=>a===0&&ve(Ue,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),()=>r.slice()):()=>!0}function A(ve){return ve?()=>{a>0?a++:ve(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),()=>r.slice())===!1&&(a=1)}:()=>!0}function $(ve){return ve?()=>{a>0&&a--,a===0&&ve(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:()=>!0}const Q=A(e.onObjectBegin),re=k(e.onObjectProperty),oe=$(e.onObjectEnd),pe=A(e.onArrayBegin),me=$(e.onArrayEnd),Ne=k(e.onLiteralValue),Se=u(e.onSeparator),Re=o(e.onComment),Ae=u(e.onError),Oe=t&&t.disallowComments,Ge=t&&t.allowTrailingComma;function We(){for(;;){const ve=i.scan();switch(i.getTokenError()){case 4:qe(14);break;case 5:qe(15);break;case 3:qe(13);break;case 1:Oe||qe(11);break;case 2:qe(12);break;case 6:qe(16);break}switch(ve){case 12:case 13:Oe?qe(10):Re();break;case 16:qe(1);break;case 15:case 14:break;default:return ve}}}function qe(ve,Ue=[],He=[]){if(Ae(ve),Ue.length+He.length>0){let et=i.getToken();for(;et!==17;){if(Ue.indexOf(et)!==-1){We();break}else if(He.indexOf(et)!==-1)break;et=We()}}}function ot(ve){const Ue=i.getTokenValue();return ve?Ne(Ue):(re(Ue),r.push(Ue)),We(),!0}function kt(){switch(i.getToken()){case 11:const ve=i.getTokenValue();let Ue=Number(ve);isNaN(Ue)&&(qe(2),Ue=0),Ne(Ue);break;case 7:Ne(null);break;case 8:Ne(!0);break;case 9:Ne(!1);break;default:return!1}return We(),!0}function bt(){return i.getToken()!==10?(qe(3,[],[2,5]),!1):(ot(!1),i.getToken()===6?(Se(":"),We(),On()||qe(4,[],[2,5])):qe(5,[],[2,5]),r.pop(),!0)}function fn(){Q(),We();let ve=!1;for(;i.getToken()!==2&&i.getToken()!==17;){if(i.getToken()===5){if(ve||qe(4,[],[]),Se(","),We(),i.getToken()===2&&Ge)break}else ve&&qe(6,[],[]);bt()||qe(4,[],[2,5]),ve=!0}return oe(),i.getToken()!==2?qe(7,[2],[]):We(),!0}function cn(){pe(),We();let ve=!0,Ue=!1;for(;i.getToken()!==4&&i.getToken()!==17;){if(i.getToken()===5){if(Ue||qe(4,[],[]),Se(","),We(),i.getToken()===4&&Ge)break}else Ue&&qe(6,[],[]);ve?(r.push(0),ve=!1):r[r.length-1]++,On()||qe(4,[],[4,5]),Ue=!0}return me(),ve||r.pop(),i.getToken()!==4?qe(8,[4],[]):We(),!0}function On(){switch(i.getToken()){case 3:return cn();case 1:return fn();case 10:return ot(!0);default:return kt()}}return We(),i.getToken()===17?t.allowEmptyContent?!0:(qe(4,[],[]),!1):On()?(i.getToken()!==17&&qe(9,[],[]),!0):(qe(4,[],[]),!1)}function HS(n,e){let t=Ff(n),i=[],r,a=0,o;do switch(o=t.getPosition(),r=t.scan(),r){case 12:case 13:case 17:a!==o&&i.push(n.substring(a,o)),e!==void 0&&i.push(t.getTokenValue().replace(/[^\r\n]/g,e)),a=t.getPosition();break}while(r!==17);return i.join("")}function Qv(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(n){if(Array.isArray(n))return"array"}else return"null";return"object"}default:return"null"}}function cF(n,e,t){return GS(n,e,void 0,t)}function GS(n,e,t,i){const r=e.slice(),a=[],o=parseTree(n,a);let u,k;for(;r.length>0&&(k=r.pop(),u=findNodeAtLocation(o,r),u===void 0&&t!==void 0);)typeof k=="string"?t={[k]:t}:t=[t];if(u)if(u.type==="object"&&typeof k=="string"&&Array.isArray(u.children)){const A=findNodeAtLocation(u,[k]);if(A!==void 0)if(t===void 0){if(!A.parent)throw new Error("Malformed AST");const $=u.children.indexOf(A.parent);let Q,re=A.parent.offset+A.parent.length;if($>0){let oe=u.children[$-1];Q=oe.offset+oe.length}else Q=u.offset+1,u.children.length>1&&(re=u.children[1].offset);return go(n,{offset:Q,length:re-Q,content:""},i)}else return go(n,{offset:A.offset,length:A.length,content:JSON.stringify(t)},i);else{if(t===void 0)return[];const $=`${JSON.stringify(k)}: ${JSON.stringify(t)}`,Q=i.getInsertionIndex?i.getInsertionIndex(u.children.map(oe=>oe.children[0].value)):u.children.length;let re;if(Q>0){let oe=u.children[Q-1];re={offset:oe.offset+oe.length,length:0,content:","+$}}else u.children.length===0?re={offset:u.offset+1,length:0,content:$}:re={offset:u.offset+1,length:0,content:$+","};return go(n,re,i)}}else if(u.type==="array"&&typeof k=="number"&&Array.isArray(u.children)){const A=k;if(A===-1){const $=`${JSON.stringify(t)}`;let Q;if(u.children.length===0)Q={offset:u.offset+1,length:0,content:$};else{const re=u.children[u.children.length-1];Q={offset:re.offset+re.length,length:0,content:","+$}}return go(n,Q,i)}else if(t===void 0&&u.children.length>=0){const $=k,Q=u.children[$];let re;if(u.children.length===1)re={offset:u.offset+1,length:u.length-2,content:""};else if(u.children.length-1===$){let oe=u.children[$-1],pe=oe.offset+oe.length,me=u.offset+u.length;re={offset:pe,length:me-2-pe,content:""}}else re={offset:Q.offset,length:u.children[$+1].offset-Q.offset,content:""};return go(n,re,i)}else if(t!==void 0){let $;const Q=`${JSON.stringify(t)}`;if(!i.isArrayInsertion&&u.children.length>k){const re=u.children[k];$={offset:re.offset,length:re.length,content:Q}}else if(u.children.length===0||k===0)$={offset:u.offset+1,length:0,content:u.children.length===0?Q:Q+","};else{const re=k>u.children.length?u.children.length:k,oe=u.children[re-1];$={offset:oe.offset+oe.length,length:0,content:","+Q}}return go(n,$,i)}else throw new Error(`Can not ${t===void 0?"remove":i.isArrayInsertion?"insert":"modify"} Array index ${A} as length is not sufficient`)}else throw new Error(`Can not add ${typeof k!="number"?"index":"property"} to parent of type ${u.type}`);else{if(t===void 0)throw new Error("Can not delete in empty document");return go(n,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(t)},i)}}function go(n,e,t){if(!t.formattingOptions)return[e];let i=Yv(n,e),r=e.offset,a=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;r>0&&!isEOL(i,r-1);)r--;for(;a<i.length&&!isEOL(i,a);)a++}const o=format(i,{offset:r,length:a-r},{...t.formattingOptions,keepLines:!1});for(let k=o.length-1;k>=0;k--){const A=o[k];i=Yv(i,A),r=Math.min(r,A.offset),a=Math.max(a,A.offset+A.length),a+=A.content.length-A.length}const u=n.length-(i.length-a)-r;return[{offset:r,length:u,content:i.substring(r,a)}]}function Yv(n,e){return n.substring(0,e.offset)+e.content+n.substring(e.offset+e.length)}function fF(n,e){return`\r
 	`.indexOf(n.charAt(e))!==-1}const hF=Ff;var Jv;(function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"})(Jv||(Jv={}));var Xv;(function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"})(Xv||(Xv={}));const mF=LS,VS=US,pF=BS,vF=qS,gF=Kv,yF=zv,bF=Df,wF=Pd,kF=HS;var Zv;(function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"})(Zv||(Zv={}));function _F(n){switch(n){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function SF(n,e,t){return formatter.format(n,e,t)}function EF(n,e,t,i){return edit.setProperty(n,e,t,i)}function RF(n,e){let t=e.slice(0).sort((r,a)=>{const o=r.offset-a.offset;return o===0?r.length-a.length:o}),i=n.length;for(let r=t.length-1;r>=0;r--){let a=t[r];if(a.offset+a.length<=i)n=edit.applyEdit(n,a);else throw new Error("Overlapping edit");i=a.offset}return n}async function jS(){let n=null;const e=s.workspace.getConfiguration(it).get(Lt);if(e){const t=WS(e);t&&(n=await eg(t))}return n}async function eg(n){const t=new TextDecoder().decode(await s.workspace.fs.readFile(n));let i=VS(t);if(i.include)try{const r=s.Uri.joinPath(n,"..",i.include),a=await eg(r);i={...i,colors:{...a.colors||{},...i.colors||{}},tokenColors:[...a.tokenColors||[],...i.tokenColors||[]],semanticTokenColors:{...a.semanticTokenColors||{},...i.semanticTokenColors||{}}}}catch(r){console.warn(`Failed to load theme include file: ${r}`)}return i}function WS(n){for(const e of s.extensions.all){const t=e.packageJSON.contributes&&e.packageJSON.contributes.themes;if(!t)continue;const i=t.find(r=>r.label===n||r.id===n);if(i)return s.Uri.joinPath(e.extensionUri,i.path)}}function tl(n,e){var t,i;return(i=(t=n==null?void 0:n.colors)==null?void 0:t["icon.foreground"])!=null?i:e==="dark"?"#C5C5C5":"#424242"}function tg(n,e){var t,i;return(i=(t=n==null?void 0:n.colors)==null?void 0:t["list.warningForeground"])!=null?i:e==="dark"?"#CCA700":"#855F00"}function ng(n,e){var t,i;return(i=(t=n==null?void 0:n.colors)==null?void 0:t["list.errorForeground"])!=null?i:e==="dark"?"#F88070":"#B01011"}function ig(n,e){var t,i;return(i=(t=n==null?void 0:n.colors)==null?void 0:t["notebookStatusSuccessIcon.foreground"])!=null?i:e==="dark"?"#89D185":"#388A34"}var zS=Object.defineProperty,KS=(n,e,t)=>e in n?zS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Md=(n,e,t)=>KS(n,typeof e!="symbol"?e+"":e,t);class hs extends fr{constructor(e,t){super(e),Md(this,"collapsibleState"),Md(this,"_children",[]),Md(this,"pathToChild",new Map),Md(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this._children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this._children.length===0||(this._children.forEach(t=>{t instanceof hs&&t.trimTree()}),this._children.length!==1))return;const e=this._children[0];e instanceof hs&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this._children=e._children,this._children.forEach(t=>{t.parent=this}))}sort(){if(this._children.length<=1)return;const e=[],t=[];this._children.forEach(i=>{i instanceof hs?(i.sort(),e.push(i)):t.push(i)}),e.sort((i,r)=>i.label<r.label?-1:1),t.sort((i,r)=>i.label<r.label?-1:1),this._children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this._children.push(t);return}const i=e[0],r=e.slice(1);let a=this.pathToChild.get(i);a||(a=new hs(this,i),this.pathToChild.set(i,a),this._children.push(a)),a.addPathRecc(r,t)}allChildrenViewed(){for(const e of this._children)if(e instanceof hs){if(!e.allChildrenViewed())return!1}else if(!e.checkboxState||e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var QS=Object.defineProperty,YS=(n,e,t)=>e in n?QS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iu=(n,e,t)=>YS(n,typeof e!="symbol"?e+"":e,t);const rg=class uc extends fr{constructor(e,t,i,r,a,o){super(e),this._folderReposManager=t,this.pullRequestModel=i,this._isLocal=r,this._notificationProvider=a,this._prsTreeModel=o,iu(this,"_fileChanges"),iu(this,"_commentController"),iu(this,"_inMemPRContentProvider"),iu(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this._folderReposManager.onDidChangeActivePullRequest(u=>{var k,A;(((k=u.new)==null?void 0:k.number)===this.pullRequestModel.number||((A=u.old)==null?void 0:A.number)===this.pullRequestModel.number)&&this.refresh(this)})),this._register(this._folderReposManager.themeWatcher.onDidChangeTheme(()=>{this.refresh(this)})),this.resolvePRCommentController()}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),y.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,uc.ID);try{if(!this.pullRequestModel.isResolved())return[];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=Pf())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const t=[];if(s.workspace.getConfiguration(vt).get(ht)==="tree"){const r=new hs(this,"");this._fileChanges.forEach(a=>r.addFile(a)),r.finalize(),r.label===""?t.push(...r._children):t.push(r)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this._children=t,this.pullRequestModel.reviewThreadsCacheReady||this.pullRequestModel.initializeReviewThreadCache(),t}catch(t){return y.error(`Error getting children ${t}: ${t.message}`,uc.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${vt}.${Wn}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(i=>{i.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===Ut.Pr&&r.input.modified.scheme===Ut.Pr&&this._fileChanges)for(const a of this._fileChanges){const o=ki(r.input.original),u=ki(r.input.modified),k=ki(a.changeModel.filePath);if((o==null?void 0:o.prNumber)===e.number&&(u==null?void 0:u.prNumber)===e.number&&a.fileName===u.fileName&&(k==null?void 0:k.headCommit)!==u.headCommit){t=!0,s.window.tabGroups.close(r).then(A=>a.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof _d&&t.comments.forEach(i=>i.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?e.map(r=>{if(r instanceof Uo){const u=new zo(this._folderReposManager,r,this.pullRequestModel);return new Sf(this,this._folderReposManager,this.pullRequestModel,u)}const a=new co(this._folderReposManager,this.pullRequestModel,r,t,i);return new _d(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async _getAuthorIcon(){var e;return Qi.isGitHubDotComAvatar(this.pullRequestModel.author.avatarUrl)?(e=(await Qi.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?e:new s.ThemeIcon("github"):new s.ThemeIcon("github")}async _getIcon(){const e=await this.pullRequestModel.copilotWorkingStatus(),t=this._folderReposManager.themeWatcher.themeData;if(e===Ha.NotCopilotIssue)return this._getAuthorIcon();switch(e){case Ha.InProgress:return{light:Qi.copilotInProgressAsImageDataURI(tl(t,"light"),tg(t,"light")),dark:Qi.copilotInProgressAsImageDataURI(tl(t,"dark"),tg(t,"dark"))};case Ha.Done:return{light:Qi.copilotSuccessAsImageDataURI(tl(t,"light"),ig(t,"light")),dark:Qi.copilotSuccessAsImageDataURI(tl(t,"dark"),ig(t,"dark"))};case Ha.Error:return{light:Qi.copilotErrorAsImageDataURI(tl(t,"light"),ng(t,"light")),dark:Qi.copilotErrorAsImageDataURI(tl(t,"dark"),ng(t,"dark"))};default:return this._getAuthorIcon()}}_getLabel(){const e=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:t,number:i,author:r,isDraft:a}=this.pullRequestModel;let o="";e&&(o+="$(check) "),s.workspace.getConfiguration(vt).get(Wn,!1)&&(o+=`#${i}: `);let k=s.workspace.getConfiguration(it).get(Yt,!1)&&t.length>50?`${t.substring(0,50)}...`:t;return pi[r.login]&&(k=k.replace("[WIP]","")),o+=k.replace(/\$\([a-zA-Z0-9~-]+\)/g,"\\$&"),a&&(o=`_${o}_`),o}async getTreeItem(){var e,t;const i=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:r,number:a,author:o,isDraft:u,html_url:k}=this.pullRequestModel,A=(e=o.specialDisplayName)!=null?e:o.login,$=this._notificationProvider.hasNotification(this.pullRequestModel)||this._prsTreeModel.hasCopilotNotification(this.pullRequestModel.remote.owner,this.pullRequestModel.remote.repositoryName,this.pullRequestModel.number),Q={label:new s.MarkdownString(this._getLabel(),!0)},re=`by @${A}`,oe={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]};return{label:Q,id:`${this.parent instanceof fr?(t=this.parent.id)!=null?t:this.parent.label:""}${k}${this._isLocal?this.pullRequestModel.localBranchName:""}`,description:re,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(i?":active":":nonactive")+($?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:await this._getIcon(),accessibilityInformation:{label:`${u?"Draft ":""}Pull request number ${a}: ${r} by ${A}`},resourceUri:Ql(this.pullRequestModel,this.parent instanceof ia&&this.parent.isCopilot?!0:void 0),command:oe}}async provideCommentingRanges(e,t){if(e.uri.scheme===Ut.Pr){const i=ki(e.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName);return!r||r instanceof Sf?void 0:{ranges:Nv(await r.changeModel.diffHunks(),i.isBase,uc.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const i=ki(e);if(!i)return"";const r=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName))==null?void 0:t.changeModel;return r?Mf(this._folderReposManager,this.pullRequestModel,i,r):(y.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};iu(rg,"ID","PRNode");let mr=rg;var JS=Object.defineProperty,XS=(n,e,t)=>e in n?JS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gr=(n,e,t)=>XS(n,typeof e!="symbol"?e+"":e,t),nl=(n=>(n[n.Empty=0]="Empty",n[n.More=1]="More",n[n.TryOtherRemotes=2]="TryOtherRemotes",n[n.Login=3]="Login",n[n.LoginEnterprise=4]="LoginEnterprise",n[n.NoRemotes=5]="NoRemotes",n[n.NoMatchingRemotes=6]="NoMatchingRemotes",n[n.ConfigureRemotes=7]="ConfigureRemotes",n))(nl||{});class Us extends fr{constructor(e,t,i){switch(super(e),Gr(this,"collapsibleState"),Gr(this,"iconPath"),Gr(this,"type"),Gr(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}var Va;(n=>{let e;(i=>{i.LOCAL="Local Pull Request Branches",i.ALL="All Open"})(e=n.Queries||(n.Queries={}));let t;(i=>{i.DEFAULT="default"})(t=n.Values||(n.Values={}))})(Va||(Va={}));function xf(n){return n.label===Va.Queries.LOCAL&&n.query===Va.Values.DEFAULT}function Of(n){return n.label===Va.Queries.ALL&&n.query===Va.Values.DEFAULT}class ia extends fr{constructor(e,t,i,r,a,o,u,k){var A,$;switch(super(e),this.folderRepoManager=t,this._telemetry=i,this.type=r,this._notificationProvider=a,this._prsTreeModel=o,this._categoryQuery=k,Gr(this,"collapsibleState"),Gr(this,"prs"),Gr(this,"fetchNextPage",!1),Gr(this,"repositoryPageInformation",new Map),Gr(this,"contextValue"),Gr(this,"resourceUri"),Gr(this,"tooltip"),Gr(this,"isCopilot"),Gr(this,"_repo"),Gr(this,"_firstLoad"),this.prs=new Map,this.isCopilot=!!k&&Ep(k),this.type){case Un.All:this.label=s.l10n.t("All Open");break;case Un.Query:this.label=u;break;case Un.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof fr?`${(A=e.id)!=null?A:e.label}/${this.label}`:this.label,s.workspace.getConfiguration(vt).get(es,!1)?this.collapsibleState=s.TreeItemCollapsibleState.Collapsed:this._prsTreeModel.expandedQueries===void 0&&this.type===Un.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=($=this._prsTreeModel.expandedQueries)!=null&&$.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue=this.isCopilot?"copilot-query":"query"),this.isCopilot?this.tooltip=s.l10n.t("Pull requests you asked the coding agent to create"):this.type===Un.LocalPullRequest?this.tooltip=s.l10n.t("Pull requests for branches you have locally"):this.type===Un.All?this.tooltip=s.l10n.t("All open pull requests in the current repository"):k?this.tooltip=new s.MarkdownString(s.l10n.t("Pull requests for query: `{0}`",k)):this.tooltip=this.label}get repo(){return this._repo}_getDescription(){if(!this.isCopilot||!this._repo)return;const e=this._prsTreeModel.getCopilotCounts(this._repo.owner,this._repo.repositoryName);if(e.total!==0)return e.error>0?e.inProgress>0?s.l10n.t("{0} in progress, {1} with errors",e.inProgress,e.error):s.l10n.t("{0} with errors",e.error):e.inProgress>0?s.l10n.t("{0} in progress",e.inProgress):s.l10n.t("done working on {0}",e.total)}async expandPullRequest(e,t=!0){if(!this._children&&t&&(await this.getChildren(),t=!1),this._children){for(const i of this._children)if(i instanceof mr&&i.pullRequestModel.equals(e))return this.reveal(i,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async getChildren(e=!0){if(await super.getChildren(e),!e&&this._children)return this._children;const t=!this._firstLoad;return t&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):t?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,i=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===Un.LocalPullRequest)try{this.prs.clear(),(await this._prsTreeModel.getLocalPullRequests(this.folderRepoManager)).items.forEach(a=>this.prs.set(a.id,a))}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",be(a))),i=a instanceof Wu}else try{let a;switch(this.type){case Un.All:a=await this._prsTreeModel.getAllPullRequests(this.folderRepoManager,r);break;case Un.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this.folderRepoManager,r,this._categoryQuery);break}r||this.prs.clear(),a.items.forEach(o=>this.prs.set(o.id,o)),e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){if(!(this.isCopilot&&a.response.status===422&&a.message.includes("the users do not exist"))){const o=be(a),u=[];o.includes("Bad credentials")&&u.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",be(a)),...u).then(k=>{k&&k===u[0]&&this.folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),i=a instanceof Wu}}if(this.prs.size>0){const a=Array.from(this.prs.values()).map(o=>new mr(this,this.folderRepoManager,o,this.type===Un.LocalPullRequest,this._notificationProvider,this._prsTreeModel));return e?a.push(new Us(this,1,this)):t&&a.push(new Us(this,2,this)),this._children=a,a}else{const a=i?3:0,o=[new Us(this,a)];return this._children=o,o}}async getTreeItem(){if(this.description=this._getDescription(),this._repo||(this._repo=await Vc(this.folderRepoManager,this._categoryQuery)),this.resourceUri=sv({remote:this._repo,isCopilot:this.isCopilot}),this._categoryQuery){const e=this.isCopilot&&this._repo&&this._prsTreeModel.getCopilotNotificationsCount(this._repo.owner,this._repo.repositoryName)>0;this.contextValue=this.isCopilot?e?"copilot-query-with-notifications":"copilot-query":"query"}return this}}var ZS=Object.defineProperty,eE=(n,e,t)=>e in n?ZS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fd=(n,e,t)=>eE(n,typeof e!="symbol"?e+"":e,t);class tE extends fr{constructor(e,t,i,r,a){var o;super(e),this.pullRequestManager=t,this.pullRequest=i,this.commit=r,this.isCurrent=a,Fd(this,"sha"),Fd(this,"collapsibleState"),Fd(this,"iconPath"),Fd(this,"contextValue"),this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(o=r.commit.author)!=null&&o.date?te(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author)if(!Qi.isGitHubDotComAvatar(this.commit.author.avatar_url))this.iconPath=new s.ThemeIcon("github");else{const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url,accountType:this.commit.author.type};this.iconPath=(await Qi.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new kf(this,"No changed files")];const i=t.map(o=>{const u=o.filename,k=W_(u,this.commit.sha),A=new of(this.pullRequestManager,this.pullRequest,{status:ql(o.status),fileName:u,blobUrl:void 0},va(k,u,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),va(k,u,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),$=new mo(this,this.pullRequestManager,this.pullRequest,A,this.isCurrent);return $.useViewChangesCommand(),$});let r=[];if(s.workspace.getConfiguration(vt).get(ht)==="tree"){const o=new hs(this,"");i.forEach(u=>o.addFile(u)),o.finalize(),o.label===""?r.push(...o._children):r.push(o)}else r=i;return this._children=r,r}}var nE=Object.defineProperty,iE=(n,e,t)=>e in n?nE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ru=(n,e,t)=>iE(n,typeof e!="symbol"?e+"":e,t);class rE extends fr{constructor(e,t,i){super(e),ru(this,"collapsibleState"),ru(this,"resourceUri"),ru(this,"_folderRepoManager"),ru(this,"_pr"),ru(this,"tooltip"),this.label=s.l10n.t("Commits"),this._pr=i,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.resourceUri=nv(i.remote.owner,i.remote.repositoryName,i.number),this.tooltip=s.l10n.t("Commits"),this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Commits node",M),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Commits node",M),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{y.appendLine("Getting children for Commits node",M);const e=await this._pr.getCommits();return this._children=e.map((t,i)=>{var r;return new tE(this,this._folderRepoManager,this._pr,t,i===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===t.sha)}),y.appendLine("Got all children for Commits node",M),this._children}catch{return[]}}}var aE=Object.defineProperty,sE=(n,e,t)=>e in n?aE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lf=(n,e,t)=>sE(n,typeof e!="symbol"?e+"":e,t);class oE extends fr{constructor(e,t,i){super(e),this._reviewModel=t,Lf(this,"label",s.l10n.t("Files")),Lf(this,"collapsibleState"),Lf(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{y.appendLine("Local files have changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(i.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Files node",M),this.refresh(this))})),this.childrenDisposables.push(i.onDidChangeFileViewedState(()=>{y.appendLine("File viewed state has changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${vt}.${an}`)&&(y.appendLine("Hide viewed files setting has changed, refreshing Files node",M),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),y.appendLine("Getting children for Files node",M),!this._reviewModel.hasLocalFileChanges)return new Promise(o=>{const u=this._reviewModel.onDidChangeLocalFileChanges(()=>{o([]),u.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new kf(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(vt).get(ht),i=s.workspace.getConfiguration(vt).get(an,!1),r=i?this._reviewModel.localFileChanges.filter(o=>o.changeModel.viewed!==ea.VIEWED):this._reviewModel.localFileChanges;if(r.length===0&&i)return[new kf(this,s.l10n.t("All files viewed"))];const a=new hs(this,"");if(r.forEach(o=>a.addFile(o)),a.finalize(),a.label===""?this.directories=a._children:this.directories=[a],t==="tree")e=this.directories;else{const o=[...r];o.sort((u,k)=>Me(u.fileChangeResourceUri.toString(),k.fileChangeResourceUri.toString())),e=o}return y.appendLine("Got all children for Files node",M),this._children=e,e}}var lE=Object.defineProperty,uE=(n,e,t)=>e in n?lE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ms=(n,e,t)=>uE(n,typeof e!="symbol"?e+"":e,t);class ja extends fr{constructor(e,t,i,r,a){super(e),this.parent=e,this.pullRequestModel=t,this._pullRequestManager=i,this._reviewModel=r,this._progress=a,ms(this,"_filesCategoryNode"),ms(this,"_commitsCategoryNode"),ms(this,"command"),ms(this,"contextValue"),ms(this,"tooltip"),ms(this,"iconPath"),ms(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),ms(this,"isLocal"),ms(this,"repository"),this.isLocal=!0,this.repository=i.repository,this.label=t.title,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.tooltip=s.l10n.t("Description of pull request #{0}",t.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",t.number),role:"button"},this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(o=>{var u;if(s.workspace.getConfiguration(vt).get(Dt)){const k=(u=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:u.input;if(k instanceof s.TabInputTextDiff&&k.original.scheme===Ut.Review&&k.modified.scheme!==Ut.Review&&k.original.path.startsWith("/commit"))return;const A=o==null?void 0:o.document.uri.toString();this.revealActiveEditorInTree(A)}})),this._register(this.parent.view.onDidChangeVisibility(o=>{var u;const k=(u=s.window.activeTextEditor)==null?void 0:u.document.uri.toString();this.revealActiveEditorInTree(k)})),this._register(this.pullRequestModel.onDidChange(o=>{(o.title||o.state)&&this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(i=>i.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(y.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,M),this._filesCategoryNode=new oE(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new rE(this.parent,this._pullRequestManager,this.pullRequestModel)),this._children=[this._filesCategoryNode,this._commitsCategoryNode],this._children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),Qi.isGitHubDotComAvatar(this.pullRequestModel.author.avatarUrl)?this.iconPath=(await Qi.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0]:this.iconPath=new s.ThemeIcon("github"),this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(i=>i instanceof ja&&i.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this._pullRequestManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this._pullRequestManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}var dE=rn(48287).Buffer;function Id(n,e){if(e)return e instanceof mr?e.pullRequestModel:e;if(!n.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return n.activePullRequest}async function au(n,e,t,i,r,a=!0){const o=Id(i,e);r&&(t==null||t.reveal(t,{select:!0,focus:!0}));const u={owner:o.remote.owner,repo:o.remote.repositoryName,number:o.number};o instanceof mi?await ir.createOrShow(n,i.context.extensionUri,i,u,o,void 0,a):(await ao.createOrShow(n,i.context.extensionUri,i,u,o),n.sendTelemetryEvent("issue.openDescription"))}async function Wa(n,e){n instanceof mr||n instanceof ja?s.commands.executeCommand("vscode.open",s.Uri.parse(n.pullRequestModel.html_url)):Jl(n)?s.commands.executeCommand("vscode.open",s.Uri.parse(n.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(n.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function cE(){const n=s.window.tabGroups,e=n.all.map(t=>t.tabs).flat();for(const t of e){const i=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(i&&i===Ut.Pr||i===Ut.Review)&&await n.close(t)}}function ag(n){return!!n.pullRequestDetails}function fE(n,e,t,i,r,a,o,u){const k="RegisterCommands";n.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async ve=>{if(ve)Wa(ve,i);else{const Ue=e.folderManagers.map(He=>He.activePullRequest).filter(He=>!!He);if(Ue.length>=1){const He=await us(Ue,et=>({label:et.html_url}));He&&Wa(He,i)}}})),n.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async ve=>{ve&&Wa(ve,i)})),n.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const ve=e.folderManagers.filter(st=>st.activePullRequest).map(st=>({activePr:st.activePullRequest,folderManager:st})),Ue=ve.length>=1?await us(ve,st=>({label:st.activePr.html_url})):ve[0];if(!Ue)return;const{folderManager:He}=Ue,et=na.getReviewManagerForFolderManager(t.reviewManagers,He);et&&et.reviewModel.localFileChanges.forEach(st=>st.openDiff(He,{preview:!1}))})),n.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async ve=>{if(!(ve instanceof Sf&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",ve.changeModel.fileName),s.l10n.t("Open")))&&ve.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(ve.changeModel.blobUrl))})),n.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",ve=>{s.env.clipboard.writeText(ve.sha)})),n.subscriptions.push(s.commands.registerCommand("pr.revealFileInOS",ve=>{let Ue=ve;if(!Ue){for(const et of t.reviewManagers){const Tt=et.changesInPrDataProvider.view.selection.find(Xt=>Xt instanceof mo);if(Tt){Ue=Tt;break}}if(!Ue){const st=u.view.selection.find(Tt=>Tt instanceof _d);st&&(Ue=st)}}if(!Ue)return;const He=e.getManagerForIssueModel(Ue.pullRequest);if(He){const et=s.Uri.joinPath(He.repository.rootUri,Ue.changeModel.fileName);s.commands.executeCommand("revealFileInOS",et)}})),n.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async ve=>{const Ue=e.getManagerForIssueModel(ve.pullRequest);if(Ue){const He=await df(ve.changeModel.parentFilePath,Ue.repository);s.commands.executeCommand("vscode.open",He||ve.changeModel.parentFilePath)}})),n.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",ve=>{let Ue;const He=s.window.tabGroups.activeTabGroup.activeTab;ve?Ue=ve.changeModel.filePath:(He==null?void 0:He.input)instanceof s.TabInputTextDiff&&(Ue=He.input.modified),Ue&&s.commands.executeCommand("vscode.open",Ue,He==null?void 0:He.group.viewColumn)}));async function A(ve){var Ue;if(ve&&!(ve instanceof s.Uri)){const He=e.getManagerForIssueModel(ve.pullRequest);return He?ve.openDiff(He):void 0}else if(ve||s.window.activeTextEditor){const He=ve instanceof s.Uri?s.window.visibleTextEditors.find(ii=>ii.document.uri.toString()===ve.toString()):s.window.activeTextEditor,et=He.visibleRanges,st=e.getManagerForFile(He.document.uri);if(!(st!=null&&st.activePullRequest))return;const Tt=na.getReviewManagerForFolderManager(t.reviewManagers,st);if(!Tt)return;const Xt=Tt.reviewModel.localFileChanges.find(ii=>ii.resourceUri.with({query:""}).toString()===He.document.uri.toString());await(Xt==null?void 0:Xt.openDiff(st));const Qn=(Ue=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:Ue.input,Vn=Qn instanceof s.TabInputTextDiff&&Qn.modified.toString()===He.document.uri.toString()?s.window.activeTextEditor:void 0;Vn&&Vn.revealRange(et[0])}}n.subscriptions.push(s.commands.registerCommand("pr.openDiffView",ve=>A(ve))),n.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",ve=>A(ve))),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async ve=>{var Ue;const He=e.getManagerForIssueModel(ve.pullRequestModel);if(!He)return;const et=Id(He,ve),st="Delete Unmerged Branch";let Tt=null;try{await He.deleteLocalPullRequest(et)}catch(Xt){if(Xt.gitErrorCode===un.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(Ue=et.localBranchName)!=null?Ue:"unknown branch"),st)!==st)return;try{await He.deleteLocalPullRequest(et,!0)}catch(Vn){Tt=Vn}}else Tt=Xt}Tt?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${Tt}`)):i.sendTelemetryEvent("pr.deleteLocalPullRequest.success")}));function $(ve){if(ve){const Ue=s.Uri.file(ve).toString();for(const He of t.reviewManagers)if(He.repository.rootUri.toString()===Ue)return He}return us(t.reviewManagers,Ue=>({label:K.basename(Ue.repository.rootUri.fsPath)}),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function Q(ve){return!!(ve!=null&&ve.rootUri)}n.subscriptions.push(s.commands.registerCommand("pr.create",async ve=>{var Ue,He;Q(ve)?(Ue=await $(ve.rootUri.fsPath))==null||Ue.createPullRequest():(He=await $(ve==null?void 0:ve.repoPath))==null||He.createPullRequest(ve==null?void 0:ve.compareBranch)})),n.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async ve=>{var Ue;if(Q(ve)){const He=await $(ve.rootUri.fsPath),et=e.getManagerForFile(ve.rootUri);let st=!0;if(et!=null&&et.activePullRequest){const Tt=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},Tt)!==Tt)return;st=!1}He&&((Ue=ve.state.HEAD)!=null&&Ue.upstream&&await ve.push(),st&&He.createPullRequest())}})),n.subscriptions.push(s.commands.registerCommand("pr.pick",async ve=>{if(ve===void 0)return y.error("Unexpectedly received undefined when picking a PR.",k),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Ue,He;ve instanceof mr||ve instanceof ja?(Ue=ve.pullRequestModel,He=ve.repository):Ue=ve;const et=e.getManagerForIssueModel(Ue);if(!et)return s.window.showErrorMessage(s.l10n.t("Unable to find repository for this pull request."));const st=ve instanceof mi;return t.switchToPr(et,Ue,He,st)}));const re=async ve=>{var Ue;if(!ve)return;const He=(Ue=e.getManagerForRepository(ve.owner,ve.repo))!=null?Ue:e.folderManagers[0];if(!He)return;const et=await He.resolvePullRequest(ve.owner,ve.repo,ve.number,!0);if(et)return{folderManager:He,pr:et}},oe=async(ve,Ue,He)=>{let et;try{if(et=await He.getPatch(),!et.trim()){s.window.showErrorMessage(s.l10n.t("No patch data available for pull request #{0}",He.number.toString()));return}const st=K.join(Ue.repository.rootUri.fsPath,".git",`pr-${He.number}.patch`),Tt=new TextEncoder,Xt=s.Uri.file(st);await s.workspace.fs.writeFile(Xt,Tt.encode(et));try{await Ue.repository.apply(st,!1),ve.report({message:s.l10n.t("Successfully applied changes from pull request #{0}",He.number.toString()),increment:100})}finally{await s.workspace.fs.delete(Xt)}}catch(st){const Tt=be(st);y.error(`Failed to apply PR changes: ${Tt}`,"Commands");const Xt=s.l10n.t("Copy git apply");if(await s.window.showErrorMessage(s.l10n.t("Failed to apply changes from pull request: {0}",Tt),Xt)===Xt)if(et){const Vn=`git apply --3way <<'EOF'
${et}
EOF`;await s.env.clipboard.writeText(Vn),s.window.showInformationMessage(s.l10n.t("Git apply command copied to clipboard"))}else s.window.showErrorMessage(s.l10n.t("Unable to copy git apply command - patch content is not available"))}};function pe(ve){var Ue,He;if(ve!=null&&ve.owner&&(ve!=null&&ve.name)){const st=(Ue=e.getManagerForRepository(ve.owner,ve.name))!=null?Ue:e.folderManagers[0];if(!st||st.gitHubRepositories.length===0)return;const Tt=(He=st.gitHubRepositories.find(Xt=>Xt.remote.owner===ve.owner&&Xt.remote.repositoryName===ve.name))!=null?He:st.gitHubRepositories[0];return{folderManager:st,githubRepo:Tt}}if(e.folderManagers.length===0)return;const et=e.folderManagers[0];if(et.gitHubRepositories.length!==0)return{folderManager:et,githubRepo:et.gitHubRepositories[0]}}function me(ve){return!!ve.path}function Ne(ve){const Ue=ve.startsWith("/")?ve.substring(1):ve;if(!Number.isNaN(Number(Ue)))return Number(Ue);const He=Number(dE.from(Ue,"base64").toString("utf8"));if(!Number.isNaN(He))return He}function Se(ve,Ue){return Array.isArray(ve)?{ctx:ve[0],metadata:ve[1]}:{ctx:ve,metadata:Ue}}async function Re(ve,Ue){const He=Ne(ve.path);if(!He)return;const et=pe(Ue);if(!et)return;const{folderManager:st,githubRepo:Tt}=et,Xt=await st.fetchById(Tt,He);if(Xt)return{folderManager:st,pullRequest:Xt,prNumber:He}}n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromChat",async(ve,Ue)=>{const{ctx:He,metadata:et}=Se(ve,Ue);if(!He)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const st=await Re(He,et);return st?t.switchToPr(st.folderManager,st.pullRequest,st.folderManager.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to find pull request from chat context."))})),n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromDescription",async ve=>{if(!ve)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Ue=await re(ve);return Ue?t.switchToPr(Ue.folderManager,Ue.pr,Ue.folderManager.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.applyChangesFromChat",async(ve,Ue)=>{const{ctx:He,metadata:et}=Se(ve,Ue);if(!He)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for applying changes."));const st=await Re(He,et);if(!st)return s.window.showErrorMessage(s.l10n.t("Unable to find pull request from chat context."));await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Applying changes from pull request #{0}",st.prNumber.toString()),cancellable:!1},async Tt=>(Tt.report({increment:30}),oe(Tt,st.folderManager,st.pullRequest)))})),n.subscriptions.push(s.commands.registerCommand("pr.applyChangesFromDescription",async ve=>{if(!ve)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for applying changes."));await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Applying changes from pull request"),cancellable:!1},async Ue=>{Ue.report({increment:30});const He=await re(ve);return He?oe(Ue,He.folderManager,He.pr):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for applying changes."))})})),n.subscriptions.push(s.commands.registerCommand("pr.openChanges",async ve=>{if(ve===void 0)return y.error("Unexpectedly received undefined when picking a PR.",k),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Ue;if(ve instanceof mr||ve instanceof ja)Ue=ve.pullRequestModel;else if(ve instanceof mi)Ue=ve;else if(ag(ve)){const et=await re({owner:ve.pullRequestDetails.repository.owner.login,repo:ve.pullRequestDetails.repository.name,number:ve.pullRequestDetails.number,preventDefaultContextMenuItems:!0});Ue=et==null?void 0:et.pr}else if(me(ve)){const{path:et}=ve,st=Ne(et);if(!st)return s.window.showErrorMessage(s.l10n.t("No pull request number found in context path."));const Tt=e.folderManagers[0],Xt=await Tt.fetchById(Tt.gitHubRepositories[0],Number(st));if(!Xt)return s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",st.toString()));Ue=Xt}else{const et=await re(ve);Ue=et==null?void 0:et.pr}if(!Ue)return s.window.showErrorMessage(s.l10n.t("No pull request found to open changes."));const He=e.getManagerForIssueModel(Ue);if(He)return mi.openChanges(He,Ue)}));let Ae=!1;n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var ve,Ue;const He=(ve=s.window.activeTextEditor)==null?void 0:ve.document.uri;if((He==null?void 0:He.scheme)!==Ut.Pr)return;const et=ki(He);if(et===void 0)return;let st;const Tt=e.folderManagers.find(Qn=>(st=Qn.gitHubRepositories.find(Vn=>Vn.remote.remoteName===et.remoteName),!!st));if(!Tt||!st)return;const Xt=await s.window.withProgress({location:s.ProgressLocation.Window},()=>Tt.fetchById(st,Number(et.prNumber)));if(Xt&&!Ae){Ae=!0;try{await((Ue=na.getReviewManagerForFolderManager(t.reviewManagers,Tt))==null?void 0:Ue.switch(Xt))}catch(Qn){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",Qn instanceof Error?Qn.message:"unknown"))}Ae=!1}}));const Oe=async(ve,Ue,He=!1)=>{if(ve===void 0)return y.error("Unexpectedly received undefined when picking a PR.",k),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let et;return ve instanceof mr||ve instanceof ja?et=ve.pullRequestModel:et=ve,He&&!et.head?s.window.showErrorMessage(s.l10n.t("Unable to checkout pull request: missing head branch information.")):s.env.openExternal(s.Uri.parse(Ue(et)))};n.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async ve=>Oe(ve,id))),n.subscriptions.push(s.commands.registerCommand("pr.pickOnCodespaces",async ve=>Oe(ve,sp,!0))),n.subscriptions.push(s.commands.registerCommand("pr.checkoutOnVscodeDevFromDescription",async ve=>{if(!ve)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Ue=await re(ve);return Ue?s.env.openExternal(s.Uri.parse(id(Ue.pr))):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.checkoutOnCodespacesFromDescription",async ve=>{if(!ve)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Ue=await re(ve);return Ue?Ue.pr.head?s.env.openExternal(s.Uri.parse(sp(Ue.pr))):s.window.showErrorMessage(s.l10n.t("Unable to checkout pull request: missing head branch information.")):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.openSessionLogFromDescription",async ve=>{if(!ve)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Ue=od.getResource(ve.pullNumber,ve.sessionIndex);return s.commands.executeCommand("vscode.open",Ue)})),n.subscriptions.push(s.commands.registerCommand("pr.exit",async ve=>{let Ue;if(ve instanceof mr||ve instanceof ja?Ue=ve.pullRequestModel:ve===void 0?Ue=await us(e.folderManagers.map(et=>et.activePullRequest).filter(et=>!!et),et=>({label:`${et.number}: ${et.title}`}),{placeHolder:s.l10n.t("Choose the pull request to exit")}):Ue=ve,!Ue)return;const He=ve instanceof mi;return i.sendTelemetryEvent("pr.exit",{fromDescription:He.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var et;const st=await Ue.githubRepository.getDefaultBranch(),Tt=e.getManagerForIssueModel(Ue);if(Tt){const Xt=(et=Tt.repository.state.HEAD)==null?void 0:et.name;await Tt.checkoutDefaultBranch(st,Ue),Xt&&await Tt.cleanupAfterPullRequest(Xt,Ue)}})})),n.subscriptions.push(s.commands.registerCommand("pr.merge",async ve=>{const Ue=e.getManagerForIssueModel(ve==null?void 0:ve.pullRequestModel);if(!Ue)return;const He=Id(Ue,ve);if(He.base&&He.head&&!He.base.repositoryCloneUrl.equals(He.head.repositoryCloneUrl)&&nd())return Wa(He,i);const Tt=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},Tt).then(async Xt=>{let Qn;if(Xt===Tt)try{return Qn=await He.merge(Ue.repository),Qn}catch(Vn){return s.window.showErrorMessage(`Unable to merge pull request. ${be(Vn)}`),Qn}})})),n.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",ve=>{ve instanceof mr&&(a.markPrNotificationsAsRead(ve.pullRequestModel),o.clearCopilotNotification(ve.pullRequestModel.remote.owner,ve.pullRequestModel.remote.repositoryName,ve.pullRequestModel.number))})),n.subscriptions.push(s.commands.registerCommand("pr.markAllCopilotNotificationsAsRead",ve=>{ve instanceof ia&&ve.isCopilot&&ve.repo&&o.clearAllCopilotNotifications(ve.repo.owner,ve.repo.repositoryName)}));async function Ge(ve){var Ue,He,et;let st;if(ve)ve instanceof ja||ve instanceof mr?st=ve.pullRequestModel:ag(ve)?st=(Ue=await re({owner:ve.pullRequestDetails.repository.owner.login,repo:ve.pullRequestDetails.repository.name,number:ve.pullRequestDetails.number,preventDefaultContextMenuItems:!0}))==null?void 0:Ue.pr:wf.is(ve)?st=ve.pr:bf.is(ve)?st=ve.issue:st=ve;else{const Vn=e.folderManagers.map(ii=>ii.activePullRequest).filter(ii=>!!ii);Vn.length>=1&&(st=await us(Vn,ii=>({label:ii.title})))}if(!st){y.appendLine("No pull request found.",k);return}const Tt=(He=e.getManagerForIssueModel(st))!=null?He:e.folderManagers[0];let Xt;if(ve instanceof mr)Xt=ve;else if(st instanceof mi&&((et=Tt.activePullRequest)!=null&&et.equals(st))){const Vn=na.getReviewManagerForFolderManager(t.reviewManagers,Tt);if(!Vn)return;Xt=Vn.changesInPrDataProvider.getDescriptionNode(Tt)}const Qn=!(ve instanceof mr);await au(i,st,Xt,Tt,Qn,!(ve instanceof ja))}async function We(ve){const Ue=await re({owner:ve.pullRequestDetails.repository.owner.login,repo:ve.pullRequestDetails.repository.name,number:ve.pullRequestDetails.number,preventDefaultContextMenuItems:!0}).then(et=>et==null?void 0:et.pr);if(!Ue){y.warn("No pull request found in chat session",k);return}const He=e.getManagerForRepository(Ue.githubRepository.remote.owner,Ue.githubRepository.remote.repositoryName);return He?t.switchToPr(He,Ue,He.repository,!1):(y.warn(`No folder manager found for pull request ${Ue.number}`,k),s.window.showErrorMessage(s.l10n.t("Unable to find repository for pull request #{0}",Ue.number.toString())))}n.subscriptions.push(s.commands.registerCommand("pr.checkoutChatSessionPullRequest",We)),n.subscriptions.push(s.commands.registerCommand("pr.openDescription",Ge)),n.subscriptions.push(s.commands.registerCommand("issue.openDescription",Ge)),n.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{ir.currentPanel&&ir.refresh()})),n.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{ir.currentPanel&&ir.scrollToReview()})),n.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async ve=>{const Ue=e.getManagerForIssueModel(ve.pullRequestModel);if(!Ue)return;const He=ve.pullRequestModel,et=Id(Ue,He);ve.reveal(ve,{select:!0,focus:!0});const st={owner:et.remote.owner,repo:et.remote.repositoryName,number:et.number};ir.createOrShow(i,n.extensionUri,Ue,st,et,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async ve=>{ve.pullRequestModel.showChangesSinceReview=!0})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async ve=>{ve.pullRequestModel.showChangesSinceReview=!1})),n.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),n.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),n.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const ve of e.folderManagers)await ve.deleteLocalBranchesNRemotes()})),n.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),n.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} remotes`))),n.subscriptions.push(s.commands.registerCommand("pr.startReview",async ve=>{i.sendTelemetryEvent("pr.startReview");const Ue=zt(ve.thread);Ue&&Ue.startReview(ve.thread,ve.text)})),n.subscriptions.push(s.commands.registerCommand("pr.openReview",async ve=>{i.sendTelemetryEvent("pr.openReview");const Ue=zt(ve);Ue&&await Ue.openReview(ve)}));function qe(ve){let Ue,He="";return ve instanceof Ki?Ue=ve.parent:Ot.is(ve)||ju.is(ve==null?void 0:ve.thread)?Ue=ve.thread:Ue=ve,{thread:Ue,text:He}}const ot=async(ve,Ue,He)=>{if(Ue?i.sendTelemetryEvent("pr.resolveReviewThread"):i.sendTelemetryEvent("pr.unresolveReviewThread"),!ve){const Xt=Vi();if(!Xt){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}ve=Xt.commentController.activeCommentThread}const{thread:et,text:st}=qe(ve),Tt=zt(et);Tt&&(Ue?await Tt.resolveReviewThread(et,st):(await Tt.unresolveReviewThread(et,st),He&&et.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};n.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async ve=>ot(ve,!0))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",ve=>ot(ve,!1,!1))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",ve=>ot(ve,!1,!0)));const kt=ve=>{const{path:Ue,rootPath:He}=ta(ve.query),et=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(He),Ue).with({scheme:et.uri.scheme,authority:et.uri.authority})};n.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async ve=>{i.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const Ue={};Ue.selection=ve.range;const He=K.basename(ve.uri.fsPath),{commit:et}=ta(ve.uri.query);s.commands.executeCommand("vscode.diff",ve.uri,kt(ve.uri),`${He} from ${(et||"").substr(0,8)} diffed with HEAD`,Ue)})),n.subscriptions.push(s.commands.registerCommand("pr.createComment",async ve=>{i.sendTelemetryEvent("pr.createComment");const Ue=zt(ve.thread);Ue&&Ue.createOrReplyComment(ve.thread,ve.text,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async ve=>{i.sendTelemetryEvent("pr.createSingleComment");const Ue=zt(ve.thread);Ue&&Ue.createOrReplyComment(ve.thread,ve.text,!0)})),n.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async ve=>{var Ue,He;let et;if(ve===void 0?et=(Ue=Vi())==null?void 0:Ue.commentController.activeCommentThread:et=ve instanceof Ki?ve.parent:ve==null?void 0:ve.thread,!(et!=null&&et.range))return;const st=et,Tt=((He=s.window.activeTextEditor)==null?void 0:He.document.uri.scheme)===Ut.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(ii=>ii.document.uri.scheme===Ut.Comment&&ii.document.uri.query==="");if(!Tt){y.error("No comment editor visible for making a suggestion.",k),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const Xt=s.window.visibleTextEditors.find(ii=>ii.document.uri.toString()===st.uri.toString()),Qn=Xt==null?void 0:Xt.document.getText(new s.Range(st.range.start.line,0,st.range.end.line,Xt.document.lineAt(st.range.end.line).text.length)),Vn=Tt.document.lineAt(Tt.selection.end.line).range.end;return Tt.edit(ii=>{ii.insert(Vn,`
\`\`\`suggestion
${Qn}
\`\`\``)})})),n.subscriptions.push(s.commands.registerCommand("pr.editComment",async ve=>{i.sendTelemetryEvent("pr.editComment"),ve.startEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.editQuery",ve=>{if(i.sendTelemetryEvent("pr.editQuery"),ve.label!==void 0)return Ur(vt,ve.label)})),n.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async ve=>{i.sendTelemetryEvent("pr.cancelEditComment"),ve.cancelEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.saveComment",async ve=>{i.sendTelemetryEvent("pr.saveComment");const Ue=zt(ve.parent);Ue&&await Ue.editComment(ve.parent,ve)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async ve=>{i.sendTelemetryEvent("pr.deleteComment");const Ue=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},Ue)===Ue){const et=zt(ve.parent);et&&await et.deleteComment(ve.parent,ve)}})),n.subscriptions.push(s.commands.registerCommand("review.openFile",ve=>{var Ue;const He=ve instanceof mo?ve.openFileCommand():kd(ve);s.commands.executeCommand(He.command,...(Ue=He.arguments)!=null?Ue:[])})),n.subscriptions.push(s.commands.registerCommand("review.openLocalFile",ve=>{var Ue,He;const et=ve!=null?ve:(Ue=s.window.activeTextEditor)==null?void 0:Ue.document.uri;if(!et)return;const st=kt(et),Tt=s.window.visibleTextEditors.find(Qn=>Qn.document.uri.toString()===et.toString()),Xt=kd(st,Tt?{selection:Tt.selection}:void 0);s.commands.executeCommand(Xt.command,...(He=Xt.arguments)!=null?He:[])})),n.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(ve,...Ue)=>{let He;const et=ve;if(et.resourceStates?He=et.resourceStates.map(Xt=>Xt.resourceUri):(He=[ve.resourceUri],Ue&&He.push(...Ue.map(Qn=>Qn.resourceUri))),He.length===0)return;const st=e.getManagerForFile(He[0]);if(!st||!st.activePullRequest)return;const Tt=na.getReviewManagerForFolderManager(t.reviewManagers,st);return Tt==null?void 0:Tt.createSuggestionsFromChanges(He)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async ve=>{const Ue=s.window.tabGroups.activeTabGroup.activeTab,He=Ue==null?void 0:Ue.input;if(!(He instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(He.original.scheme!==Ut.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const et=s.window.visibleTextEditors.find(Vn=>Vn.document.uri.toString()===He.modified.toString());if(!et)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const st=e.getManagerForFile(He.modified);if(!st||!st.activePullRequest)return;const Tt=et.selection,Xt=ve.filter(Vn=>!!Tt.intersection(new s.Selection(Vn.modifiedStartLineNumber-1,0,Vn.modifiedEndLineNumber-1,100)));if(Xt.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const Qn=na.getReviewManagerForFolderManager(t.reviewManagers,st);return Qn==null?void 0:Qn.createSuggestionFromChange(et.document,Xt)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",ve=>{t.reviewManagers.forEach(Ue=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Promise.all([Ue.repository.pull(!1),Ue.updateComments()])})})})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",ve=>{s.workspace.getConfiguration(vt).update(ht,"tree",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",ve=>{s.workspace.getConfiguration(vt).update(ht,"flat",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.toggleHideViewedFiles",ve=>{const Ue=s.workspace.getConfiguration(vt),He=Ue.get(an,!1);Ue.update(an,!He,s.ConfigurationTarget.Global)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",ve=>{var Ue;const He=e.getManagerForIssueModel(ve.pullRequestModel);He&&ve.pullRequestModel.equals(He==null?void 0:He.activePullRequest)&&((Ue=na.getReviewManagerForFolderManager(t.reviewManagers,He))==null||Ue.updateComments()),ir.refresh()}));const bt=(ve,Ue)=>{var He;if(Ue.scheme===Ut.Pr){const et=ki(Ue);if(et)for(const st of(He=ve==null?void 0:ve.gitHubRepositories)!=null?He:[]){const Tt=Number(et.prNumber);return st.getExistingPullRequestModel(Tt)}}else return ve==null?void 0:ve.activePullRequest};n.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async ve=>{var Ue;try{if(ve===void 0&&(ve=(Ue=s.window.activeTextEditor)==null?void 0:Ue.document.uri),ve instanceof ho)await ve.markFileAsViewed(!1);else if(ve){const He=s.window.tabGroups.activeTabGroup.activeTab;if(He){let Tt;He.input instanceof s.TabInputTextDiff?Tt=He.input.modified:He.input instanceof s.TabInputText&&(Tt=He.input.uri),Tt&&ve.toString()===Tt.toString()&&s.window.tabGroups.close(He)}const et=e.getManagerForFile(ve),st=bt(et,ve);await(st==null?void 0:st.markFiles([ve.path],!0,"viewed")),et==null||et.setFileViewedContext()}}catch(He){s.window.showErrorMessage(`Marked file as viewed failed: ${He}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async ve=>{var Ue;try{if(ve===void 0&&(ve=(Ue=s.window.activeTextEditor)==null?void 0:Ue.document.uri),ve instanceof ho)ve.unmarkFileAsViewed(!1);else if(ve){const He=e.getManagerForFile(ve),et=bt(He,ve);await(et==null?void 0:et.markFiles([ve.path],!0,"unviewed")),He==null||He.setFileViewedContext()}}catch(He){s.window.showErrorMessage(`Marked file as not viewed failed: ${He}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async ve=>{var Ue;await((Ue=ve.activePullRequest)==null?void 0:Ue.unmarkAllFilesAsViewed()),ve.setFileViewedContext()})}catch(ve){s.window.showErrorMessage(`Marked file as not viewed failed: ${ve}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),n.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",ve=>{if(ve instanceof Ki)return s.env.clipboard.writeText(ve.rawComment.htmlUrl)})),n.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async ve=>{var Ue;let He;if(ve)He=await((Ue=e.getManagerForRepository(ve.owner,ve.repo))==null?void 0:Ue.resolvePullRequest(ve.owner,ve.repo,ve.number,!0));else{const et=e.folderManagers.map(st=>st.activePullRequest).filter(st=>!!st);He=await us(et,st=>({label:`${st.number}: ${st.title}`}),{placeHolder:s.l10n.t("Pull request to create a link for")})}if(He)return s.env.clipboard.writeText(id(He))})),n.subscriptions.push(s.commands.registerCommand("pr.copyPrLink",async ve=>{let Ue;if(ve){const He=e.getManagerForRepository(ve.owner,ve.repo);Ue=await(He==null?void 0:He.resolvePullRequest(ve.owner,ve.repo,ve.number,!0)),Ue||(Ue=await(He==null?void 0:He.resolveIssue(ve.owner,ve.repo,ve.number)))}if(Ue)return s.env.clipboard.writeText(Ue.html_url)}));function fn(ve,Ue,He){const et=/^#?(\d*)$/,st=ve.match(et);if(st&&st.length===2&&!Number.isNaN(Number(st[1]))){const Qn=Number(st[1]);if(Qn>0)return{isValid:!0,prNumber:Qn}}const Tt=ve.match(qa),Xt=Is(Tt);return Xt&&Xt.issueNumber&&Xt.issueNumber>0?Xt.owner&&Xt.name&&(Xt.owner!==Ue||Xt.name!==He)?{isValid:!1,errorMessage:s.l10n.t("Repository in URL does not match the selected repository")}:{isValid:!0,prNumber:Xt.issueNumber}:{isValid:!1,errorMessage:s.l10n.t("Value must be a pull request number or GitHub URL")}}n.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var ve,Ue,He;const et=[];for(const Vn of e.folderManagers){const ii=await Vn.getActiveGitHubRemotes(await Vn.getGitHubRemotes()),Eu=Vn.gitHubRepositories.filter(Ai=>ii.find(Ar=>Ar.remoteName===Ai.remote.remoteName));et.push(...Eu.map(Ai=>({manager:Vn,repo:Ai})))}const st=await us(et,Vn=>({label:`${Vn.repo.remote.owner}/${Vn.repo.remote.repositoryName}`}),{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!st)return;const Tt=s.window.createQuickPick();Tt.placeholder=s.l10n.t("Enter a pull request number/URL or select from the list"),Tt.matchOnDescription=!0,Tt.matchOnDetail=!0,Tt.show();let Xt,Qn;try{const Vn=new Promise(Gi=>{Xt=Tt.onDidAccept(()=>{let ya,Ya;Tt.value&&(ya=Tt.value),Tt.selectedItems.length>0&&(Ya=Tt.selectedItems[0]),Gi({selectedItem:Ya,selectedString:ya})}),Qn=Tt.onDidHide(()=>Gi({selectedItem:void 0,selectedString:void 0}))}),ii=await st.repo.getPullRequestNumbers();if(!ii)return s.window.showErrorMessage(s.l10n.t("Failed to fetch pull requests"));const Ai=ii.sort((Gi,ya)=>ya.number-Gi.number).map(Gi=>({label:`#${Gi.number} ${Gi.title}`,description:`by @${Gi.author.login}`,prNumber:Gi.number}));Tt.items=Ai;const Ar=await Vn;if(Tt.busy=!0,!Ar.selectedItem&&!Ar.selectedString)return;let aa;if(Ar.selectedString){const Gi=fn(Ar.selectedString,st.repo.remote.owner,st.repo.remote.repositoryName);if(!Gi.isValid&&!Ar.selectedItem)return s.window.showErrorMessage(Gi.errorMessage||s.l10n.t("Invalid pull request number or URL"));if(Gi.prNumber!==void 0){const ya=(ve=Ar.selectedItem)==null?void 0:ve.prNumber;if(ya!==void 0){const Ya=Gi.prNumber.toString(),Ja=ya.toString();Ja.length>Ya.length&&Ja.startsWith(Ya)&&(Gi.prNumber=ya)}aa=await st.manager.fetchById(st.repo,Gi.prNumber)}}if((Ue=Ar.selectedItem)!=null&&Ue.prNumber&&!aa&&(aa=await st.manager.fetchById(st.repo,Ar.selectedItem.prNumber)),aa)return(He=na.getReviewManagerForFolderManager(t.reviewManagers,st.manager))==null?void 0:He.switch(aa)}catch(Vn){s.window.showErrorMessage(s.l10n.t("Failed to fetch pull requests: {0}",be(Vn)))}finally{Xt==null||Xt.dispose(),Qn==null||Qn.dispose(),Tt.hide(),Tt.dispose()}}));function cn(){const ve=[];return e.folderManagers.forEach(Ue=>{ve.push(...Ue.gitHubRepositories)}),us(ve,Ue=>({label:`${Ue.remote.owner}/${Ue.remote.repositoryName}`}),{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}n.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const ve=await cn();ve&&s.env.openExternal(ok(ve))})),n.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const ve=await cn();ve&&s.env.openExternal(lk(ve))})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async ve=>{i.sendTelemetryEvent("pr.applySuggestion");const Ue=zt(ve.parent);Ue instanceof Tv&&Ue.applySuggestion(ve)})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async ve=>{i.sendTelemetryEvent("pr.applySuggestionWithCopilot");const Ue=ju.is(ve),He=Ue?ve:ve.parent,et=Ue?ve.comments[0].body:ve.body;He.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const st=et instanceof s.MarkdownString?et.value:et;Ue?(await s.commands.executeCommand(ft.NEW_CHAT,{inputValue:st,isPartialQuery:!0,agentMode:!0}),await s.commands.executeCommand(ft.OPEN_CHAT)):await s.commands.executeCommand("vscode.editorChat.start",{initialRange:He.range,message:st,autoSend:!0})})),n.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{ft.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{ft.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async ve=>{const Ue=ve.fileName;let He=ds(ve.resourceUri,ve.pullRequest,ve.pullRequest.base.sha,ve.pullRequest.head.sha,ve.fileName,!0,ve.status),et=ds(ve.resourceUri,ve.pullRequest,ve.pullRequest.base.sha,ve.pullRequest.head.sha,ve.fileName,!1,ve.status);return s.commands.executeCommand("vscode.diff",He,et,`${Ue} (Pull Request Compare Base with Head)`)})),n.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async ve=>{const Ue=ve.fileName;let He=ds(ve.resourceUri,ve.pullRequest,ve.pullRequest.base.sha,ve.pullRequest.head.sha,ve.fileName,!1,ve.status);return s.commands.executeCommand("vscode.diff",He,ve.resourceUri,`${Ue} (Pull Request Compare Head with Local)`)}));async function On(ve,Ue){const He=s.window.tabGroups.activeTabGroup.activeTab,et=He==null?void 0:He.input;if(!(et instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const st=s.window.visibleTextEditors.find(Ai=>Ai.document.uri.toString()===et.modified.toString());if(!st)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Tt=st.document.uri;if(et.original.scheme!==Ut.Review&&et.original.scheme!==Ut.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const Xt=st.selection.active,Qn=Ue?ve:ve.reverse();for(const Ai of Qn){const Ar=Ai.modifiedEndLineNumber>Ai.modifiedStartLineNumber?Ai.modifiedEndLineNumber:Ai.modifiedStartLineNumber+1,aa=new s.Range(Ai.modifiedStartLineNumber?Ai.modifiedStartLineNumber-1:Ai.modifiedStartLineNumber,0,Ar,0);if(Ue&&Xt.line+1<Ai.modifiedStartLineNumber){st.revealRange(aa),st.selection=new s.Selection(aa.start,aa.start);return}else if(!Ue&&Xt.line+1>Ai.modifiedStartLineNumber){st.revealRange(aa),st.selection=new s.Selection(aa.start,aa.start);return}}if(et.original.scheme===Ut.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const Vn=e.getManagerForFile(Tt);if(!Vn)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const ii=na.getReviewManagerForFolderManager(t.reviewManagers,Vn);if(!ii)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!ii.reviewModel.hasLocalFileChanges||ii.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Ai=0;Ai<ii.reviewModel.localFileChanges.length;Ai++){const Ar=Ue?Ai:ii.reviewModel.localFileChanges.length-1-Ai;if(ii.reviewModel.localFileChanges[Ar].changeModel.filePath.toString()===Tt.toString()){const Gi=Ue?Ar+1:Ar-1;if(ii.reviewModel.localFileChanges.length>Gi){if(await ii.reviewModel.localFileChanges[Gi].openDiff(Vn),!Ue){const ya=s.window.visibleTextEditors.find(Ya=>Ya.document.uri.toString()===ii.reviewModel.localFileChanges[Gi].changeModel.filePath.toString());if(ya){const Ya=await ii.reviewModel.localFileChanges[Gi].changeModel.diffHunks(),Ja=Ya[Ya.length-1],gb=Ja.newLineNumber+Ja.newLength,k2=gb>Ja.newLineNumber?gb:Ja.newLineNumber+1,Zh=new s.Range(Ja.newLineNumber?Ja.newLineNumber-1:Ja.newLineNumber,0,k2,0);ya.revealRange(Zh),ya.selection=new s.Selection(Zh.start,Zh.start)}}return}}}const Eu=Ue?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),Eu).then(Ai=>{if(Ai===Eu)return ii.reviewModel.localFileChanges[Ue?0:ii.reviewModel.localFileChanges.length-1].openDiff(Vn)})}n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async ve=>{On(ve,!0)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async ve=>{On(ve,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const ve of e.folderManagers)for(const Ue of ve.gitHubRepositories)for(const He of Ue.pullRequestModels)He.isResolved()&&He.reviewThreadsCacheReady&&He.initializeReviewThreadCache()})),n.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",cE)),n.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const ve=e.folderManagers.map(He=>He.activePullRequest).filter(He=>!!He),Ue=await us(ve,He=>({label:`${He.number}: ${He.title}`}),{placeHolder:s.l10n.t("Pull request to create a link for")});if(Ue)return s.env.clipboard.writeText(Ue.html_url)}))}function hE(n,e){const t=n.rootUri.fsPath;for(const i of e.repositories)if(i.rootUri.toString()!==n.rootUri.toString()){for(const r of i.state.submodules)if(s.Uri.joinPath(i.rootUri,r.path).fsPath===t)return!0}return!1}let su;const mE={};function pE(n){su=n.globalState}const Uf=(n,e)=>{if(!su)throw new Error("Persistent store not initialized.");return su.get(n+":"+e,mE)},Bf=(n,e,t)=>{if(!su)throw new Error("Persistent store not initialized.");return su.update(n+":"+e,t)};var il=rn(41566),vE=Object.defineProperty,gE=(n,e,t)=>e in n?vE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qf=(n,e,t)=>gE(n,typeof e!="symbol"?e+"":e,t);class yE extends f{constructor(e){super(),this.baseReporter=e,qf(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...t},i)}sendTelemetryErrorEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const i={};for(const[r,a]of t)i[r]=a;this.sendTelemetryEvent(e,i)}}function bE(){switch(s.env.uriScheme){case"vscode":return il.Z7.Public;case"vscode-insiders":return il.Z7.Insiders;case"vscode-exploration":return il.Z7.Internal;case"code-oss":return il.Z7.Team;default:return il.Z7.Public}}class wE{constructor(){qf(this,"initializePromise",Promise.resolve()),qf(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function kE(n,e){const t=n.extension.id,i=n.extension.packageJSON.name,r=n.extension.packageJSON.version,a=bE();return i==="vscode-pull-request-github"?(0,il.M$)(t,r,a,e,n.globalState):new wE}var ou=rn(65606);function Dd(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof ou=="object"&&ou.version!==void 0?`Node.js/${ou.version.substr(1)} (${ou.platform}; ${ou.arch})`:"<environment undetectable>"}function $f(n,e,t,i){if(typeof t!="function")throw new Error("method for before hook must be a function");return i||(i={}),Array.isArray(e)?e.reverse().reduce((r,a)=>$f.bind(null,n,a,r,i),t)():Promise.resolve().then(()=>n.registry[e]?n.registry[e].reduce((r,a)=>a.hook.bind(null,r,i),t)():t(i))}function _E(n,e,t,i){const r=i;n.registry[t]||(n.registry[t]=[]),e==="before"&&(i=(a,o)=>Promise.resolve().then(r.bind(null,o)).then(a.bind(null,o))),e==="after"&&(i=(a,o)=>{let u;return Promise.resolve().then(a.bind(null,o)).then(k=>(u=k,r(u,o))).then(()=>u)}),e==="error"&&(i=(a,o)=>Promise.resolve().then(a.bind(null,o)).catch(u=>r(u,o))),n.registry[t].push({hook:i,orig:r})}function SE(n,e,t){if(!n.registry[e])return;const i=n.registry[e].map(r=>r.orig).indexOf(t);i!==-1&&n.registry[e].splice(i,1)}const sg=Function.bind,og=sg.bind(sg);function lg(n,e,t){const i=og(SE,null).apply(null,t?[e,t]:[e]);n.api={remove:i},n.remove=i,["before","error","after","wrap"].forEach(r=>{const a=t?[e,r,t]:[e,r];n[r]=n.api[r]=og(_E,null).apply(null,a)})}function EE(){const n=Symbol("Singular"),e={registry:{}},t=$f.bind(null,e,n);return lg(t,e,n),t}function RE(){const n={registry:{}},e=$f.bind(null,n);return lg(e,n),e}const NE={Singular:EE,Collection:RE};var TE="0.0.0-development",CE=`octokit-endpoint.js/${TE} ${Dd()}`,AE={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":CE},mediaType:{format:""}};function PE(n){return n?Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{}):{}}function ME(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function ug(n,e){const t=Object.assign({},n);return Object.keys(e).forEach(i=>{ME(e[i])?i in n?t[i]=ug(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}function dg(n){for(const e in n)n[e]===void 0&&delete n[e];return n}function Hf(n,e,t){var r;if(typeof e=="string"){let[a,o]=e.split(" ");t=Object.assign(o?{method:a,url:o}:{url:a},t)}else t=Object.assign({},e);t.headers=PE(t.headers),dg(t),dg(t.headers);const i=ug(n||{},t);return t.url==="/graphql"&&(n&&((r=n.mediaType.previews)!=null&&r.length)&&(i.mediaType.previews=n.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),i}function FE(n,e){const t=/\?/.test(n)?"&":"?",i=Object.keys(e);return i.length===0?n:n+t+i.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}var IE=/\{[^{}}]+\}/g;function DE(n){return n.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function xE(n){const e=n.match(IE);return e?e.map(DE).reduce((t,i)=>t.concat(i),[]):[]}function cg(n,e){const t={__proto__:null};for(const i of Object.keys(n))e.indexOf(i)===-1&&(t[i]=n[i]);return t}function fg(n){return n.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function rl(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function lu(n,e,t){return e=n==="+"||n==="#"?fg(e):rl(e),t?rl(t)+"="+e:e}function al(n){return n!=null}function Gf(n){return n===";"||n==="&"||n==="?"}function OE(n,e,t,i){var r=n[t],a=[];if(al(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),i&&i!=="*"&&(r=r.substring(0,parseInt(i,10))),a.push(lu(e,r,Gf(e)?t:""));else if(i==="*")Array.isArray(r)?r.filter(al).forEach(function(o){a.push(lu(e,o,Gf(e)?t:""))}):Object.keys(r).forEach(function(o){al(r[o])&&a.push(lu(e,r[o],o))});else{const o=[];Array.isArray(r)?r.filter(al).forEach(function(u){o.push(lu(e,u))}):Object.keys(r).forEach(function(u){al(r[u])&&(o.push(rl(u)),o.push(lu(e,r[u].toString())))}),Gf(e)?a.push(rl(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else e===";"?al(r)&&a.push(rl(t)):r===""&&(e==="&"||e==="?")?a.push(rl(t)+"="):r===""&&a.push("");return a}function LE(n){return{expand:UE.bind(null,n)}}function UE(n,e){var t=["+","#",".","/",";","?","&"];return n=n.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,r,a){if(r){let u="";const k=[];if(t.indexOf(r.charAt(0))!==-1&&(u=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(A){var $=/([^:\*]*)(?::(\d+)|(\*))?/.exec(A);k.push(OE(e,u,$[1],$[2]||$[3]))}),u&&u!=="+"){var o=",";return u==="?"?o="&":u!=="#"&&(o=u),(k.length!==0?u:"")+k.join(o)}else return k.join(",")}else return fg(a)}),n==="/"?n:n.replace(/\/$/,"")}function hg(n){var $;let e=n.method.toUpperCase(),t=(n.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},n.headers),r,a=cg(n,["method","baseUrl","url","headers","request","mediaType"]);const o=xE(t);t=LE(t).expand(a),/^http/.test(t)||(t=n.baseUrl+t);const u=Object.keys(n).filter(Q=>o.includes(Q)).concat("baseUrl"),k=cg(a,u);if(!/application\/octet-stream/i.test(i.accept)&&(n.mediaType.format&&(i.accept=i.accept.split(/,/).map(Q=>Q.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${n.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&($=n.mediaType.previews)!=null&&$.length)){const Q=i.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];i.accept=Q.concat(n.mediaType.previews).map(re=>{const oe=n.mediaType.format?`.${n.mediaType.format}`:"+json";return`application/vnd.github.${re}-preview${oe}`}).join(",")}return["GET","HEAD"].includes(e)?t=FE(t,k):"data"in k?r=k.data:Object.keys(k).length&&(r=k),!i["content-type"]&&typeof r!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:t,headers:i},typeof r!="undefined"?{body:r}:null,n.request?{request:n.request}:null)}function BE(n,e,t){return hg(Hf(n,e,t))}function mg(n,e){const t=Hf(n,e),i=BE.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:mg.bind(null,t),merge:Hf.bind(null,t),parse:hg})}var qE=mg(null,AE),$E=rn(6773);class xd extends Error{constructor(t,i,r){super(t);At(this,"name");At(this,"status");At(this,"request");At(this,"response");this.name="HttpError",this.status=Number.parseInt(i),Number.isNaN(this.status)&&(this.status=0),"response"in r&&(this.response=r.response);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a}}var HE="10.0.3",GE={headers:{"user-agent":`octokit-request.js/${HE} ${Dd()}`}};function VE(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}async function pg(n){var Q,re,oe,pe,me;const e=((Q=n.request)==null?void 0:Q.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const t=((re=n.request)==null?void 0:re.log)||console,i=((oe=n.request)==null?void 0:oe.parseSuccessResponseBody)!==!1,r=VE(n.body)||Array.isArray(n.body)?JSON.stringify(n.body):n.body,a=Object.fromEntries(Object.entries(n.headers).map(([Ne,Se])=>[Ne,String(Se)]));let o;try{o=await e(n.url,{method:n.method,body:r,redirect:(pe=n.request)==null?void 0:pe.redirect,headers:a,signal:(me=n.request)==null?void 0:me.signal,...n.body&&{duplex:"half"}})}catch(Ne){let Se="Unknown Error";if(Ne instanceof Error){if(Ne.name==="AbortError")throw Ne.status=500,Ne;Se=Ne.message,Ne.name==="TypeError"&&"cause"in Ne&&(Ne.cause instanceof Error?Se=Ne.cause.message:typeof Ne.cause=="string"&&(Se=Ne.cause))}const Re=new xd(Se,500,{request:n});throw Re.cause=Ne,Re}const u=o.status,k=o.url,A={};for(const[Ne,Se]of o.headers)A[Ne]=Se;const $={url:k,status:u,headers:A,data:""};if("deprecation"in A){const Ne=A.link&&A.link.match(/<([^<>]+)>; rel="deprecation"/),Se=Ne&&Ne.pop();t.warn(`[@octokit/request] "${n.method} ${n.url}" is deprecated. It is scheduled to be removed on ${A.sunset}${Se?`. See ${Se}`:""}`)}if(u===204||u===205)return $;if(n.method==="HEAD"){if(u<400)return $;throw new xd(o.statusText,u,{response:$,request:n})}if(u===304)throw $.data=await Vf(o),new xd("Not modified",u,{response:$,request:n});if(u>=400)throw $.data=await Vf(o),new xd(WE($.data),u,{response:$,request:n});return $.data=i?await Vf(o):o.body,$}async function Vf(n){var i;const e=n.headers.get("content-type");if(!e)return n.text().catch(()=>"");const t=(0,$E.xL)(e);if(jE(t)){let r="";try{return r=await n.text(),JSON.parse(r)}catch{return r}}else return t.type.startsWith("text/")||((i=t.parameters.charset)==null?void 0:i.toLowerCase())==="utf-8"?n.text().catch(()=>""):n.arrayBuffer().catch(()=>new ArrayBuffer(0))}function jE(n){return n.type==="application/json"||n.type==="application/scim+json"}function WE(n){if(typeof n=="string")return n;if(n instanceof ArrayBuffer)return"Unknown error";if("message"in n){const e="documentation_url"in n?` - ${n.documentation_url}`:"";return Array.isArray(n.errors)?`${n.message}: ${n.errors.map(t=>JSON.stringify(t)).join(", ")}${e}`:`${n.message}${e}`}return`Unknown error: ${JSON.stringify(n)}`}function jf(n,e){const t=n.defaults(e);return Object.assign(function(r,a){const o=t.merge(r,a);if(!o.request||!o.request.hook)return pg(t.parse(o));const u=(k,A)=>pg(t.parse(t.merge(k,A)));return Object.assign(u,{endpoint:t,defaults:jf.bind(null,t)}),o.request.hook(u,o)},{endpoint:t,defaults:jf.bind(null,t)})}var Wf=jf(qE,GE),zE="0.0.0-development";function KE(n){return`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join(`
`)}var QE=class extends Error{constructor(e,t,i){super(KE(i));At(this,"name","GraphqlResponseError");At(this,"errors");At(this,"data");this.request=e,this.headers=t,this.response=i,this.errors=i.errors,this.data=i.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},YE=["method","baseUrl","url","headers","request","query","mediaType","operationName"],JE=["query","method","url"],vg=/\/api\/v3\/?$/;function XE(n,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(JE.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},t):e,r=Object.keys(i).reduce((o,u)=>YE.includes(u)?(o[u]=i[u],o):(o.variables||(o.variables={}),o.variables[u]=i[u],o),{}),a=i.baseUrl||n.endpoint.DEFAULTS.baseUrl;return vg.test(a)&&(r.url=a.replace(vg,"/api/graphql")),n(r).then(o=>{if(o.data.errors){const u={};for(const k of Object.keys(o.headers))u[k]=o.headers[k];throw new QE(r,u,o.data)}return o.data.data})}function zf(n,e){const t=n.defaults(e);return Object.assign((r,a)=>XE(t,r,a),{defaults:zf.bind(null,t),endpoint:t.endpoint})}var NF=zf(Wf,{headers:{"user-agent":`octokit-graphql.js/${zE} ${Dd()}`},method:"POST",url:"/graphql"});function ZE(n){return zf(n,{method:"POST",url:"/graphql"})}var Kf="(?:[a-zA-Z0-9_-]+)",gg="\\.",yg=new RegExp(`^${Kf}${gg}${Kf}${gg}${Kf}$`),eR=yg.test.bind(yg);async function tR(n){const e=eR(n),t=n.startsWith("v1.")||n.startsWith("ghs_"),i=n.startsWith("ghu_");return{type:"token",token:n,tokenType:e?"app":t?"installation":i?"user-to-server":"oauth"}}function nR(n){return n.split(/\./).length===3?`bearer ${n}`:`token ${n}`}async function iR(n,e,t,i){const r=e.endpoint.merge(t,i);return r.headers.authorization=nR(n),e(r)}var rR=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(tR.bind(null,e),{hook:iR.bind(null,e)})};const bg="7.0.3",wg=()=>{},aR=console.warn.bind(console),sR=console.error.bind(console);function oR(n={}){return typeof n.debug!="function"&&(n.debug=wg),typeof n.info!="function"&&(n.info=wg),typeof n.warn!="function"&&(n.warn=aR),typeof n.error!="function"&&(n.error=sR),n}const kg=`octokit-core.js/${bg} ${Dd()}`;class Qf{constructor(e={}){At(this,"request");At(this,"graphql");At(this,"log");At(this,"hook");At(this,"auth");const t=new NE.Collection,i={baseUrl:Wf.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=e.userAgent?`${e.userAgent} ${kg}`:kg,e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=Wf.defaults(i),this.graphql=ZE(this.request).defaults(i),this.log=oR(e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...o}=e,u=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));t.wrap("request",u.hook),this.auth=u}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=rR(e.auth);t.wrap("request",a.hook),this.auth=a}const r=this.constructor;for(let a=0;a<r.plugins.length;++a)Object.assign(this,r.plugins[a](this,e))}static defaults(e){return class extends this{constructor(...i){const r=i[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const t=this.plugins;return r=class extends this{},At(r,"plugins",t.concat(e.filter(a=>!t.includes(a)))),r}}At(Qf,"VERSION",bg),At(Qf,"plugins",[]);const lR="6.0.0";function _g(n){n.hook.wrap("request",(e,t)=>{n.log.debug("request",t);const i=Date.now(),r=n.request.endpoint.parse(t),a=r.url.replace(t.baseUrl,"");return e(t).then(o=>{const u=o.headers["x-github-request-id"];return n.log.info(`${r.method} ${a} - ${o.status} with id ${u} in ${Date.now()-i}ms`),o}).catch(o=>{var k;const u=((k=o.response)==null?void 0:k.headers["x-github-request-id"])||"UNKNOWN";throw n.log.error(`${r.method} ${a} - ${o.status} with id ${u} in ${Date.now()-i}ms`),o})})}_g.VERSION=lR;var uR="0.0.0-development";function dR(n){if(!n.data)return{...n,data:[]};if(!(("total_count"in n.data||"total_commits"in n.data)&&!("url"in n.data)))return n;const t=n.data.incomplete_results,i=n.data.repository_selection,r=n.data.total_count,a=n.data.total_commits;delete n.data.incomplete_results,delete n.data.repository_selection,delete n.data.total_count,delete n.data.total_commits;const o=Object.keys(n.data)[0],u=n.data[o];return n.data=u,typeof t!="undefined"&&(n.data.incomplete_results=t),typeof i!="undefined"&&(n.data.repository_selection=i),n.data.total_count=r,n.data.total_commits=a,n}function Yf(n,e,t){const i=typeof e=="function"?e.endpoint(t):n.request.endpoint(e,t),r=typeof e=="function"?e:n.request,a=i.method,o=i.headers;let u=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!u)return{done:!0};try{const k=await r({method:a,url:u,headers:o}),A=dR(k);if(u=((A.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],!u&&"total_commits"in A.data){const $=new URL(A.url),Q=$.searchParams,re=parseInt(Q.get("page")||"1",10),oe=parseInt(Q.get("per_page")||"250",10);re*oe<A.data.total_commits&&(Q.set("page",String(re+1)),u=$.toString())}return{value:A}}catch(k){if(k.status!==409)throw k;return u="",{value:{status:200,headers:{},data:[]}}}}})}}function Sg(n,e,t,i){return typeof t=="function"&&(i=t,t=void 0),Eg(n,[],Yf(n,e,t)[Symbol.asyncIterator](),i)}function Eg(n,e,t,i){return t.next().then(r=>{if(r.done)return e;let a=!1;function o(){a=!0}return e=e.concat(i?i(r.value,o):r.value.data),a?e:Eg(n,e,t,i)})}var TF=Object.assign(Sg,{iterator:Yf}),cR=null;function CF(n){return typeof n=="string"?cR.includes(n):!1}function Rg(n){return{paginate:Object.assign(Sg.bind(null,n),{iterator:Yf.bind(null,n)})}}Rg.VERSION=uR;const Ng="16.0.0";var fR={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubBillingUsageReportUser:["GET /users/{username}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},campaigns:{createCampaign:["POST /orgs/{org}/campaigns"],deleteCampaign:["DELETE /orgs/{org}/campaigns/{campaign_number}"],getCampaignSummary:["GET /orgs/{org}/campaigns/{campaign_number}"],listOrgCampaigns:["GET /orgs/{org}/campaigns"],updateCampaign:["PATCH /orgs/{org}/campaigns/{campaign_number}"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"]},credentials:{revoke:["POST /credentials/revoke"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}};const yo=new Map;for(const[n,e]of Object.entries(fR))for(const[t,i]of Object.entries(e)){const[r,a,o]=i,[u,k]=r.split(/ /),A=Object.assign({method:u,url:k},a);yo.has(n)||yo.set(n,new Map),yo.get(n).set(t,{scope:n,methodName:t,endpointDefaults:A,decorations:o})}const hR={has({scope:n},e){return yo.get(n).has(e)},getOwnPropertyDescriptor(n,e){return{value:this.get(n,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(n,e,t){return Object.defineProperty(n.cache,e,t),!0},deleteProperty(n,e){return delete n.cache[e],!0},ownKeys({scope:n}){return[...yo.get(n).keys()]},set(n,e,t){return n.cache[e]=t},get({octokit:n,scope:e,cache:t},i){if(t[i])return t[i];const r=yo.get(e).get(i);if(!r)return;const{endpointDefaults:a,decorations:o}=r;return o?t[i]=mR(n,e,i,a,o):t[i]=n.request.defaults(a),t[i]}};function Tg(n){const e={};for(const t of yo.keys())e[t]=new Proxy({octokit:n,scope:t,cache:{}},hR);return e}function mR(n,e,t,i,r){const a=n.request.defaults(i);function o(...u){let k=a.endpoint.merge(...u);if(r.mapToData)return k=Object.assign({},k,{data:k[r.mapToData],[r.mapToData]:void 0}),a(k);if(r.renamed){const[A,$]=r.renamed;n.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${A}.${$}()`)}if(r.deprecated&&n.log.warn(r.deprecated),r.renamedParameters){const A=a.endpoint.merge(...u);for(const[$,Q]of Object.entries(r.renamedParameters))$ in A&&(n.log.warn(`"${$}" parameter is deprecated for "octokit.${e}.${t}()". Use "${Q}" instead`),Q in A||(A[Q]=A[$]),delete A[$]);return a(A)}return a(...u)}return Object.assign(o,a)}function pR(n){return{rest:Tg(n)}}pR.VERSION=Ng;function Cg(n){const e=Tg(n);return{...e,rest:e}}Cg.VERSION=Ng;const vR=Qf.plugin(_g,Cg,Rg).defaults({userAgent:"octokit-rest.js/22.0.0"});function gR(n){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Od(n)},t={kind:"Document",definitions:[e]};return t}function yR(n,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Od(n)},i={kind:"Document",definitions:[t]};return i}function Od(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string"||typeof n=="undefined"||n===null)return null;if(Array.isArray(n))return Od(n[0]);var e=[];Object.keys(n).forEach(function(i){var r=Od(n[i]),a={kind:"Field",name:{kind:"Name",value:i},selectionSet:r||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var bR={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},wR=function(){function n(){}return n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:Lu(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},n.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},n.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Lu(e.fragment,e.fragmentName)})},n.prototype.writeData=function(e){var t=e.id,i=e.data;if(typeof t!="undefined"){var r=null;try{r=this.read({rootId:t,optimistic:!1,query:bR})}catch{}var a=r&&r.__typename||"__ClientData",o=Object.assign({__typename:a},i);this.writeFragment({id:t,fragment:yR(o,a),data:o})}else this.writeQuery({query:gR(i),data:i})},n}(),Ag;Ag||(Ag={});var yr=null,Pg={},kR=1,_R=function(){return function(){function n(){this.id=["slot",kR++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=yr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Pg)break;return e!==yr&&(yr.slots[this.id]=t),!0}return yr&&(yr.slots[this.id]=Pg),!1},n.prototype.getValue=function(){if(this.hasValue())return yr.slots[this.id]},n.prototype.withValue=function(e,t,i,r){var a,o=(a={__proto__:null},a[this.id]=e,a),u=yr;yr={parent:u,slots:o};try{return t.apply(r,i)}finally{yr=u}},n.bind=function(e){var t=yr;return function(){var i=yr;try{return yr=t,e.apply(this,arguments)}finally{yr=i}}},n.noContext=function(e,t,i){if(yr){var r=yr;try{return yr=null,e.apply(i,t)}finally{yr=r}}else return e.apply(i,t)},n}()},Jf="@wry/context:Slot",Xf=Array,Zf=Xf[Jf]||function(){var n=_R();try{Object.defineProperty(Xf,Jf,{value:Xf[Jf]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}(),eh=Zf.bind,SR=Zf.noContext;function MF(n,e){return setTimeout(eh(n),e)}function FF(n){return function(){var e=n.apply(this,arguments),t=eh(e.next),i=eh(e.throw);return new Promise(function(r,a){function o(A,$){try{var Q=A.call(e,$)}catch(oe){return a(oe)}var re=Q.done?r:u;ER(Q.value)?Q.value.then(re,Q.done?a:k):re(Q.value)}var u=function(A){return o(t,A)},k=function(A){return o(i,A)};u()})}}function ER(n){return n&&typeof n.then=="function"}var Mg=null;function IF(n){if(Mg.indexOf(n)<0){var e=function(t,i){var r=t[i];t[i]=function(){return SR(r,arguments,this)}};e(n,"yield"),e(n.prototype,"run"),e(n.prototype,"throwInto"),Mg.push(n)}return n}function RR(){}var NR=function(){function n(e,t){e===void 0&&(e=1/0),t===void 0&&(t=RR),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},n.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,r=t.newer;r&&(r.older=i),i&&(i.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},n.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},n}(),Ld=new Zf,TR=[],th=[],CR=100;function sl(n,e){if(!n)throw new Error(e||"assertion failure")}function AR(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function Fg(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function PR(n){return n.slice(0)}var MR=function(){function n(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++n.count}return n.prototype.recompute=function(){if(sl(!this.recomputing,"already recomputing"),!(!FR(this)&&nh(this)))return ol(this)?IR(this):Fg(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ig(this),ih(this))},n.prototype.dispose=function(){var e=this;Ug(this).forEach(nh),ih(this),this.parents.forEach(function(t){t.setDirty(),Bg(t,e)})},n.count=0,n}();function FR(n){var e=Ld.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),ol(n)?xg(e,n):Og(e,n),e}function IR(n){var e=Ug(n);return Ld.withValue(n,DR,[n]),OR(n)&&xR(n),e.forEach(nh),Fg(n.value)}function DR(n){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,n.args)}catch(e){n.value[1]=e}n.recomputing=!1}function ol(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function xR(n){n.dirty=!1,!ol(n)&&Dg(n)}function Ig(n){n.parents.forEach(function(e){return xg(e,n)})}function Dg(n){n.parents.forEach(function(e){return Og(e,n)})}function xg(n,e){if(sl(n.childValues.has(e)),sl(ol(e)),!n.dirtyChildren)n.dirtyChildren=th.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),Ig(n)}function Og(n,e){sl(n.childValues.has(e)),sl(!ol(e));var t=n.childValues.get(e);t.length===0?n.childValues.set(e,PR(e.value)):AR(t,e.value)||n.setDirty(),Lg(n,e),!ol(n)&&Dg(n)}function Lg(n,e){var t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(th.length<CR&&th.push(t),n.dirtyChildren=null))}function nh(n){return n.parents.size===0&&typeof n.reportOrphan=="function"&&n.reportOrphan()===!0}function Ug(n){var e=TR;return n.childValues.size>0&&(e=[],n.childValues.forEach(function(t,i){Bg(n,i),e.push(i)})),sl(n.dirtyChildren===null),e}function Bg(n,e){e.parents.delete(n),n.childValues.delete(e),Lg(n,e)}function OR(n){if(typeof n.subscribe=="function")try{ih(n),n.unsubscribe=n.subscribe.apply(null,n.args)}catch{return n.setDirty(),!1}return!0}function ih(n){var e=n.unsubscribe;typeof e=="function"&&(n.unsubscribe=void 0,e())}var rh=function(){function n(e){this.weakness=e}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return e.forEach(function(i){return t=t.getChildTrie(i)}),t.data||(t.data=Object.create(null))},n.prototype.getChildTrie=function(e){var t=this.weakness&&LR(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=t.get(e);return i||t.set(e,i=new n(this.weakness)),i},n}();function LR(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var UR=new rh(typeof WeakMap=="function");function BR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return UR.lookupArray(n)}var ah=new Set;function uu(n,e){e===void 0&&(e=Object.create(null));var t=new NR(e.max||Math.pow(2,16),function(o){return o.dispose()}),i=!!e.disposable,r=e.makeCacheKey||BR;function a(){if(!(i&&!Ld.hasValue())){var o=r.apply(null,arguments);if(o===void 0)return n.apply(null,arguments);var u=Array.prototype.slice.call(arguments),k=t.get(o);k?k.args=u:(k=new MR(n,u),t.set(o,k),k.subscribe=e.subscribe,i&&(k.reportOrphan=function(){return t.delete(o)}));var A=k.recompute();return t.set(o,k),ah.add(t),Ld.hasValue()||(ah.forEach(function($){return $.clean()}),ah.clear()),i?void 0:A}}return a.dirty=function(){var o=r.apply(null,arguments),u=o!==void 0&&t.get(o);u&&u.setDirty()},a}var qg=!1;function $g(){var n=!qg;return Pc()||(qg=!0),n}var qR=function(){function n(){}return n.prototype.ensureReady=function(){return Promise.resolve()},n.prototype.canBypassInit=function(){return!0},n.prototype.match=function(e,t,i){var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,u=o===void 0?a&&"Query":o;return u&&u===t?!0:($g(),"heuristic")},n}(),DF=function(){function n(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return n.prototype.match=function(e,t,i){ei(this.isReady,1);var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,u=o===void 0?a&&"Query":o;if(ei(u,2),u===t)return!0;var k=this.possibleTypesMap[t];return!!(u&&k&&k.indexOf(u)>-1)},n.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(t[i.name]=i.possibleTypes.map(function(r){return r.name}))}),t},n}(),Hg=Object.prototype.hasOwnProperty,ll=function(){function n(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=uu(function(i){return t.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.depend(e),this.data[e]},n.prototype.set=function(e,t){var i=this.data[e];t!==i&&(this.data[e]=t,this.depend.dirty(e))},n.prototype.delete=function(e){Hg.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},n.prototype.clear=function(){this.replace(null)},n.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(i){t.set(i,e[i])}),Object.keys(this.data).forEach(function(i){Hg.call(e,i)||t.delete(i)})):Object.keys(this.data).forEach(function(i){t.delete(i)})},n}();function Gg(n){return new ll(n)}var $R=function(){function n(e){var t=this,i=e===void 0?{}:e,r=i.cacheKeyRoot,a=r===void 0?new rh(Di):r,o=i.freezeResults,u=o===void 0?!1:o,k=this,A=k.executeStoreQuery,$=k.executeSelectionSet,Q=k.executeSubSelectedArray;this.freezeResults=u,this.executeStoreQuery=uu(function(re){return A.call(t,re)},{makeCacheKey:function(re){var oe=re.query,pe=re.rootValue,me=re.contextValue,Ne=re.variableValues,Se=re.fragmentMatcher;if(me.store instanceof ll)return a.lookup(me.store,oe,Se,JSON.stringify(Ne),pe.id)}}),this.executeSelectionSet=uu(function(re){return $.call(t,re)},{makeCacheKey:function(re){var oe=re.selectionSet,pe=re.rootValue,me=re.execContext;if(me.contextValue.store instanceof ll)return a.lookup(me.contextValue.store,oe,me.fragmentMatcher,JSON.stringify(me.variableValues),pe.id)}}),this.executeSubSelectedArray=uu(function(re){return Q.call(t,re)},{makeCacheKey:function(re){var oe=re.field,pe=re.array,me=re.execContext;if(me.contextValue.store instanceof ll)return a.lookup(me.contextValue.store,oe,pe,JSON.stringify(me.variableValues))}})}return n.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Pt(Pt({},e),{returnPartialData:!1})).result},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,r=e.variables,a=e.previousResult,o=e.returnPartialData,u=o===void 0?!0:o,k=e.rootId,A=k===void 0?"ROOT_QUERY":k,$=e.fragmentMatcherFunction,Q=e.config,re=Al(i);r=Po({},Fo(re),r);var oe={store:t,dataIdFromObject:Q&&Q.dataIdFromObject,cacheRedirects:Q&&Q.cacheRedirects||{}},pe=this.executeStoreQuery({query:i,rootValue:{type:"id",id:A,generated:!0,typename:"Query"},contextValue:oe,variableValues:r,fragmentMatcher:$}),me=pe.missing&&pe.missing.length>0;return me&&!u&&pe.missing.forEach(function(Ne){if(!Ne.tolerable)throw new Wi(8)}),a&&Er(a,pe.result)&&(pe.result=a),{result:pe.result,complete:!me}},n.prototype.executeStoreQuery=function(e){var t=e.query,i=e.rootValue,r=e.contextValue,a=e.variableValues,o=e.fragmentMatcher,u=o===void 0?HR:o,k=Xs(t),A=Cs(t),$=As(A),Q={query:t,fragmentMap:$,contextValue:r,variableValues:a,fragmentMatcher:u};return this.executeSelectionSet({selectionSet:k.selectionSet,rootValue:i,execContext:Q})},n.prototype.executeSelectionSet=function(e){var t=this,i=e.selectionSet,r=e.rootValue,a=e.execContext,o=a.fragmentMap,u=a.contextValue,k=a.variableValues,A={result:null},$=[],Q=u.store.get(r.id),re=Q&&Q.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function oe(pe){var me;return pe.missing&&(A.missing=A.missing||[],(me=A.missing).push.apply(me,pe.missing)),pe.result}return i.selections.forEach(function(pe){var me;if(Hn(pe,k))if(ut(pe)){var Ne=oe(t.executeField(Q,re,pe,a));typeof Ne!="undefined"&&$.push((me={},me[tt(pe)]=Ne,me))}else{var Se=void 0;if(Gt(pe))Se=pe;else if(Se=o[pe.name.value],!Se)throw new Wi(9);var Re=Se.typeCondition&&Se.typeCondition.name.value,Ae=!Re||a.fragmentMatcher(r,Re,u);if(Ae){var Oe=t.executeSelectionSet({selectionSet:Se.selectionSet,rootValue:r,execContext:a});Ae==="heuristic"&&Oe.missing&&(Oe=Pt(Pt({},Oe),{missing:Oe.missing.map(function(Ge){return Pt(Pt({},Ge),{tolerable:!0})})})),$.push(oe(Oe))}}}),A.result=Fc($),this.freezeResults,A},n.prototype.executeField=function(e,t,i,r){var a=r.variableValues,o=r.contextValue,u=i.name.value,k=Ye(i,a),A={resultKey:tt(i),directives:Kn(i,a)},$=GR(e,t,u,k,o,A);return Array.isArray($.result)?this.combineExecResults($,this.executeSubSelectedArray({field:i,array:$.result,execContext:r})):i.selectionSet?$.result==null?$:this.combineExecResults($,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:$.result,execContext:r})):(Vg(i,$.result),this.freezeResults,$)},n.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;return e.forEach(function(r){r.missing&&(i=i||[],i.push.apply(i,r.missing))}),{result:e.pop().result,missing:i}},n.prototype.executeSubSelectedArray=function(e){var t=this,i=e.field,r=e.array,a=e.execContext,o;function u(k){return k.missing&&(o=o||[],o.push.apply(o,k.missing)),k.result}return r=r.map(function(k){return k===null?null:Array.isArray(k)?u(t.executeSubSelectedArray({field:i,array:k,execContext:a})):i.selectionSet?u(t.executeSelectionSet({selectionSet:i.selectionSet,rootValue:k,execContext:a})):(Vg(i,k),k)}),this.freezeResults,{result:r,missing:o}},n}();function Vg(n,e){if(!n.selectionSet&&jt(e))throw new Wi(10)}function HR(){return!0}function xF(n){invariant(isIdValue(n),11)}function GR(n,e,t,i,r,a){var o=a.resultKey,u=a.directives,k=t;(i||u)&&(k=$e(k,i,u));var A=void 0;if(n&&(A=n[k],typeof A=="undefined"&&r.cacheRedirects&&typeof e=="string")){var $=r.cacheRedirects[e];if($){var Q=$[t];Q&&(A=Q(n,i,{getCacheKey:function(re){var oe=r.dataIdFromObject(re);return oe&&tn({id:oe,typename:re.__typename})}}))}}return typeof A=="undefined"?{result:A,missing:[{object:n,fieldName:k,tolerable:!1}]}:(Rn(A)&&(A=A.json),{result:A})}var Ud=function(){function n(e){e===void 0&&(e=Object.create(null)),this.data=e}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){this.data[e]=t},n.prototype.delete=function(e){this.data[e]=void 0},n.prototype.clear=function(){this.data=Object.create(null)},n.prototype.replace=function(e){this.data=e||Object.create(null)},n}();function OF(n){return new Ud(n)}var VR=function(n){$r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function jR(n,e){var t=new VR(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+n.message,t.stack=n.stack,t}var WR=function(){function n(){}return n.prototype.writeQueryToStore=function(e){var t=e.query,i=e.result,r=e.store,a=r===void 0?Gg():r,o=e.variables,u=e.dataIdFromObject,k=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:t,store:a,variables:o,dataIdFromObject:u,fragmentMatcherFunction:k})},n.prototype.writeResultToStore=function(e){var t=e.dataId,i=e.result,r=e.document,a=e.store,o=a===void 0?Gg():a,u=e.variables,k=e.dataIdFromObject,A=e.fragmentMatcherFunction,$=Ts(r);try{return this.writeSelectionSetToStore({result:i,dataId:t,selectionSet:$.selectionSet,context:{store:o,processedData:{},variables:Po({},Fo($),u),dataIdFromObject:k,fragmentMap:As(Cs(r)),fragmentMatcherFunction:A}})}catch(Q){throw jR(Q,r)}},n.prototype.writeSelectionSetToStore=function(e){var t=this,i=e.result,r=e.dataId,a=e.selectionSet,o=e.context,u=o.variables,k=o.store,A=o.fragmentMap;return a.selections.forEach(function($){var Q;if(Hn($,u))if(ut($)){var re=tt($),oe=i[re];if(typeof oe!="undefined")t.writeFieldToStore({dataId:r,value:oe,field:$,context:o});else{var pe=!1,me=!1;$.directives&&$.directives.length&&(pe=$.directives.some(function(We){return We.name&&We.name.value==="defer"}),me=$.directives.some(function(We){return We.name&&We.name.value==="client"})),!pe&&!me&&o.fragmentMatcherFunction}}else{var Ne=void 0;Gt($)?Ne=$:(Ne=(A||{})[$.name.value],ei(Ne,3));var Se=!0;if(o.fragmentMatcherFunction&&Ne.typeCondition){var Re=r||"self",Ae=tn({id:Re,typename:void 0}),Oe={store:new Ud((Q={},Q[Re]=i,Q)),cacheRedirects:{}},Ge=o.fragmentMatcherFunction(Ae,Ne.typeCondition.name.value,Oe);vm(),Se=!!Ge}Se&&t.writeSelectionSetToStore({result:i,selectionSet:Ne.selectionSet,dataId:r,context:o})}}),k},n.prototype.writeFieldToStore=function(e){var t,i=e.field,r=e.value,a=e.dataId,o=e.context,u=o.variables,k=o.dataIdFromObject,A=o.store,$,Q,re=Ce(i,u);if(!i.selectionSet||r===null)$=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var oe=a+"."+re;$=this.processArrayValue(r,oe,i.selectionSet,o)}else{var pe=a+"."+re,me=!0;if(sh(pe)||(pe="$"+pe),k){var Ne=k(r);ei(!Ne||!sh(Ne),4),(Ne||typeof Ne=="number"&&Ne===0)&&(pe=Ne,me=!1)}Wg(pe,i,o.processedData)||this.writeSelectionSetToStore({dataId:pe,result:r,selectionSet:i.selectionSet,context:o});var Se=r.__typename;$=tn({id:pe,typename:Se},me),Q=A.get(a);var Re=Q&&Q[re];if(Re!==$&&jt(Re)){var Ae=Re.typename!==void 0,Oe=Se!==void 0,Ge=Ae&&Oe&&Re.typename!==Se;ei(!me||Re.generated||Ge,5),ei(!Ae||Oe,6),Re.generated&&(Ge?me||A.delete(Re.id):jg(Re.id,$.id,A))}}Q=A.get(a),(!Q||!Er($,Q[re]))&&A.set(a,Pt(Pt({},Q),(t={},t[re]=$,t)))},n.prototype.processArrayValue=function(e,t,i,r){var a=this;return e.map(function(o,u){if(o===null)return null;var k=t+"."+u;if(Array.isArray(o))return a.processArrayValue(o,k,i,r);var A=!0;if(r.dataIdFromObject){var $=r.dataIdFromObject(o);$&&(k=$,A=!1)}return Wg(k,i,r.processedData)||a.writeSelectionSetToStore({dataId:k,result:o,selectionSet:i,context:r}),tn({id:k,typename:o.__typename},A)})},n}();function sh(n){return n[0]==="$"}function jg(n,e,t){if(n===e)return!1;var i=t.get(n),r=t.get(e),a=!1;Object.keys(i).forEach(function(u){var k=i[u],A=r[u];jt(k)&&sh(k.id)&&jt(A)&&!Er(k,A)&&jg(k.id,A.id,t)&&(a=!0)}),t.delete(n);var o=Pt(Pt({},i),r);return Er(o,r)?a:(t.set(e,o),!0)}function Wg(n,e,t){if(!t)return!1;if(t[n]){if(t[n].indexOf(e)>=0)return!0;t[n].push(e)}else t[n]=[e];return!1}var zR={fragmentMatcher:new qR,dataIdFromObject:KR,addTypename:!0,resultCaching:!0,freezeResults:!1};function KR(n){if(n.__typename){if(n.id!==void 0)return n.__typename+":"+n.id;if(n._id!==void 0)return n.__typename+":"+n._id}return null}var QR=Object.prototype.hasOwnProperty,zg=function(n){$r(e,n);function e(t,i,r){var a=n.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=i,a.transaction=r,a}return e.prototype.toObject=function(){return Pt(Pt({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return QR.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(Ud),YR=function(n){$r(e,n);function e(t){t===void 0&&(t={});var i=n.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new rh(Di),i.silenceBroadcast=!1,i.config=Pt(Pt({},zR),t),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new ll:new Ud,i.optimisticData=i.data,i.storeWriter=new WR,i.storeReader=new $R({cacheKeyRoot:i.cacheKeyRoot,freezeResults:t.freezeResults});var r=i,a=r.maybeBroadcastWatch;return i.maybeBroadcastWatch=uu(function(o){return a.call(i,o)},{makeCacheKey:function(o){if(!o.optimistic&&!o.previousResult&&r.data instanceof ll)return r.cacheKeyRoot.lookup(o.query,JSON.stringify(o.variables))}}),i}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:r,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(t){var i=this;return this.watches.add(t),function(){i.watches.delete(t)}},e.prototype.evict=function(t){throw new Wi(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var i=[],r=0,a=this.optimisticData;a instanceof zg;)a.optimisticId===t?++r:i.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;i.length>0;){var o=i.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,i){var r=this,a=r.data,o=r.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new zg(i,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=o,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,i){return this.performTransaction(t,i)},e.prototype.transformDocument=function(t){if(this.addTypename){var i=this.typenameDocumentCache.get(t);return i||(i=Ze(t),this.typenameDocumentCache.set(t,i),this.typenameDocumentCache.set(i,i)),i}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(i){return t.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(wR);function JR(n){return new Na(function(e,t){var i=Cu(e,[]);return new Fr(function(r){var a;return Promise.resolve(i).then(function(o){return n(o,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){a&&a.unsubscribe()}})})}var XR=rn(70585),ZR={includeQuery:!0,includeExtensions:!1},eN={accept:"*/*","content-type":"application/json"},tN={method:"POST"},nN={http:ZR,headers:eN,options:tN},Kg=function(n,e,t){var i=new Error(t);throw i.name="ServerError",i.response=n,i.statusCode=n.status,i.result=e,i},iN=function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var i=r;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,Promise.reject(i)}}).then(function(t){return e.status>=300&&Kg(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&Kg(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map(function(i){return i.operationName}):n.operationName)+"'."),t})}},rN=function(n){if(!n&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Wi(1)}},aN=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var n=new AbortController,e=n.signal;return{controller:n,signal:e}},sN=function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=Pt({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(Q){r=Pt({},r,Q.options,{headers:Pt({},r.headers,Q.headers)}),Q.credentials&&(r.credentials=Q.credentials),a=Pt({},a,Q.http)});var o=n.operationName,u=n.extensions,k=n.variables,A=n.query,$={operationName:o,variables:k};return a.includeExtensions&&($.extensions=u),a.includeQuery&&($.query=(0,XR.y)(A)),{options:r,body:$}},oh=function(n,e){var t;try{t=JSON.stringify(n)}catch(r){var i=new Wi(2);throw i.parseError=r,i}return t},oN=function(n,e){var t=n.getContext(),i=t.uri;return i||(typeof e=="function"?e(n):e||"/graphql")},Qg=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,i=n.fetch,r=n.includeExtensions,a=n.useGETForQueries,o=Cu(n,["uri","fetch","includeExtensions","useGETForQueries"]);rN(i),i||(i=fetch);var u={http:{includeExtensions:r},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new Na(function(k){var A=oN(k,t),$=k.getContext(),Q={};if($.clientAwareness){var re=$.clientAwareness,oe=re.name,pe=re.version;oe&&(Q["apollographql-client-name"]=oe),pe&&(Q["apollographql-client-version"]=pe)}var me=Pt({},Q,$.headers),Ne={http:$.http,options:$.fetchOptions,credentials:$.credentials,headers:me},Se=sN(k,nN,u,Ne),Re=Se.options,Ae=Se.body,Oe;if(!Re.signal){var Ge=aN(),We=Ge.controller,qe=Ge.signal;Oe=We,Oe&&(Re.signal=qe)}var ot=function(cn){return cn.kind==="OperationDefinition"&&cn.operation==="mutation"};if(a&&!k.query.definitions.some(ot)&&(Re.method="GET"),Re.method==="GET"){var kt=lN(A,Ae),bt=kt.newURI,fn=kt.parseError;if(fn)return _m(fn);A=bt}else try{Re.body=oh(Ae,"Payload")}catch(cn){return _m(cn)}return new Fr(function(cn){return i(A,Re).then(function(On){return k.setContext({response:On}),On}).then(iN(k)).then(function(On){return cn.next(On),cn.complete(),On}).catch(function(On){On.name!=="AbortError"&&(On.result&&On.result.errors&&On.result.data&&cn.next(On.result),cn.error(On))}),function(){Oe&&Oe.abort()}})})};function lN(n,e){var t=[],i=function(Q,re){t.push(Q+"="+encodeURIComponent(re))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var r=void 0;try{r=oh(e.variables,"Variables map")}catch(Q){return{parseError:Q}}i("variables",r)}if(e.extensions){var a=void 0;try{a=oh(e.extensions,"Extensions map")}catch(Q){return{parseError:Q}}i("extensions",a)}var o="",u=n,k=n.indexOf("#");k!==-1&&(o=n.substr(k),u=n.substr(0,k));var A=u.indexOf("?")===-1?"?":"&",$=u+A+t.join("&")+o;return{newURI:$}}var LF=function(n){$r(e,n);function e(t){return n.call(this,Qg(t).request)||this}return e}(Na),uN=Object.defineProperty,dN=(n,e,t)=>e in n?uN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,br=(n,e,t)=>dN(n,typeof e!="symbol"?e+"":e,t);const Yg=s.l10n.t("Try again?"),cN=s.l10n.t("Cancel"),Jg=s.l10n.t("Sign In"),fN=s.l10n.t("Don't Show Again"),Xg=s.l10n.t("prompt for sign in"),Zg="login",hN=["read:user","user:email","repo"],za=["read:user","user:email","repo","workflow"],Bs=["read:user","user:email","repo","workflow","project","read:org"],e0="githubPullRequest.lastUsedScopes",t0="githubPullRequest.lastUsedScopesEnterprise",n0=class sa extends f{constructor(e,t){super(),this._telemetry=e,this.context=t,br(this,"_githubAPI"),br(this,"_sessionId"),br(this,"_githubEnterpriseAPI"),br(this,"_enterpriseSessionId"),br(this,"_isInitialized",!1),br(this,"_onDidInitialize",new s.EventEmitter),br(this,"onDidInitialize",this._onDidInitialize.event),br(this,"_scopes",za),br(this,"_scopesEnterprise",za),br(this,"_isSamling",!1),br(this,"_onDidChangeSessions",new s.EventEmitter),br(this,"onDidChangeSessions",this._onDidChangeSessions.event),br(this,"_onDidGetSession",new s.EventEmitter),br(this,"onDidGetSession",this._onDidGetSession.event),br(this,"_onDidUpgradeSession",new s.EventEmitter),br(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(i=>this.handlOnDidChangeSessions(i)))}async handlOnDidChangeSessions(e){var t;const i=e.provider.id===Fn.github&&this._githubAPI?Fn.github:e.provider.id===Fn.githubEnterprise&&this._githubEnterpriseAPI?Fn.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!i)return;if(i){if(((t=(await this.getSession(i,{silent:!0},i===Fn.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;i===Fn.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(Fn.github)||r.push(this.initialize(Fn.github)),!this.isAuthenticated(Fn.githubEnterprise)&&$a()&&r.push(this.initialize(Fn.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(i=>e.includes(i))}setScopesFromState(){this._scopes=this.context.globalState.get(e0,za),this._scopesEnterprise=this.context.globalState.get(t0,za)}get scopes(){return this._scopes}async saveScopesInState(){await this.context.globalState.update(e0,this._scopes),await this.context.globalState.update(t0,this._scopesEnterprise)}async initialize(e,t={},i=Rr(e)?this._scopesEnterprise:this._scopes,r){if(y.debug(`Initializing GitHub${Bd(e)} authentication provider.`,"Authentication"),Rr(e)&&!$a())return y.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,o=!1,u=za;const k=this._scopes,A=this._scopesEnterprise,$={canceled:!1};try{Rr(e)?this._scopesEnterprise=i:this._scopes=i;const Q=await this.getSession(e,t,i,!!r);u=Q.scopes,a=Q.session,o=Q.isNew}catch(Q){this._scopes=k,this._scopesEnterprise=A;const re=Q.message==="User did not consent to login.";if(re&&($.canceled=!0),!(t.forceNewSession&&re))throw Q}if(a){Rr(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let Q;try{Q=await this.createHub(a.accessToken,e)}catch(re){if(re.message==="Bad credentials"&&!t.forceNewSession)return y.debug(`Creating hub failed ${re.message}`,sa.ID),t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,i,r);console.log(re),y.error(`Creating hub failed ${re.message}`,sa.ID),s.window.showErrorMessage(s.l10n.t("Unable to sign in with the provided credentials"))}return Rr(e)?(y.debug("Setting enterprise hub and scopes",sa.ID),this._githubEnterpriseAPI=Q,this._scopesEnterprise=u):(y.debug("Setting hub and scopes",sa.ID),this._githubAPI=Q,this._scopes=u),await this.saveScopesInState(),(!this._isInitialized||o&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),o&&this._telemetry.sendTelemetryEvent("auth.session"),$}else return y.debug(`No GitHub${Bd(e)} token found.`,sa.ID),$}async doCreate(e,t=!1){let i;const r=async()=>{i=await this.initialize(Fn.githubEnterprise,e,t?Bs:void 0,t)};$a()?await r():Xi(It,Wt,$a,r,this.context.subscriptions);const a={...e};return i&&!i.canceled&&(a.silent=!0),{canceled:(await this.initialize(Fn.github,a,t?Bs:void 0,t)).canceled||!!(i&&i.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(Fn.github)||this.isAuthenticated(Fn.githubEnterprise)}isAuthenticated(e){return Rr(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return Rr(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,Bs):!!this._githubAPI&&this.allScopesIncluded(this._scopes,Bs)}getHub(e){return Rr(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return Rr(e)?!this.allScopesIncluded(this._scopesEnterprise,za):!this.allScopesIncluded(this._scopes,za)}async tryPromptForCopilotAuth(){if(this.isAnyAuthenticated())return!0;if(!await ft.executeCommand(ft.CHAT_SETUP_ACTION_ID,"agent",{additionalScopes:this.scopes}))return!1;const t=await this.create({createIfNone:{detail:s.l10n.t("Sign in to start delegating tasks to the GitHub coding agent.")}});return this._telemetry.sendTelemetryEvent("remoteAgent.command.auth",{succeeded:t.canceled?"false":"true"}),!t.canceled}areScopesExtra(e){return Rr(e)?this.allScopesIncluded(this._scopesEnterprise,Bs):this.allScopesIncluded(this._scopes,Bs)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},Bs,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,i;return Rr(e)?(i=this._githubEnterpriseAPI)!=null?i:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(Uf(Xg,Zg)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",Bd(e)),Jg,fN)===Jg)return await this.login(e);Bf(Xg,Zg,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",Bd(e));let i=!0,r;const a={createIfNone:!0};let o=!1;for(;i;){try{await this.initialize(e,a)}catch(u){y.error(`Login error: ${t}: ${u}`,sa.ID),u instanceof Error&&u.stack&&y.error(u.stack,sa.ID),u.message==="Cancelled"&&(o=!0)}r=this.getHub(e),r||o?i=!1:(i=await s.window.showErrorMessage(t,Yg,cN)===Yg,i&&(a.forceNewSession=!0,a.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e,t){var i;const r=e===Fn.github?this._githubAPI:this._githubEnterpriseAPI;return((i=await(r==null?void 0:r.currentUser))==null?void 0:i.login)===t}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise((i,r)=>{y.debug("Getting current user",sa.ID),e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(a=>{y.debug(`Got current user ${a.data.login}`,sa.ID),i(a)}).catch(a=>{y.error(`Failed to get current user: ${a}, ${a.message}`,sa.ID),r(a)})});e.currentUser=t.then(i=>qo(i.data)),e.isEmu=t.then(i=>{var r;return((r=i.data.plan)==null?void 0:r.name)==="emu_user"})}async getSession(e,t,i,r){const a=t.forceNewSession||r?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const o=await s.authentication.getSession(e,r?i:za,t);return{session:o,isNew:!!o,scopes:r?i:za}}async findExistingScopes(e){const t=[Bs,za,hN];for(const i of t){const r=await s.authentication.getSession(e,i,{silent:!0});if(r)return{session:r,scopes:i}}}async createHub(e,t){let i="https://api.github.com",r;y.appendLine(`Creating hub for ${Rr(t)?"enterprise":".com"}`,sa.ID),Rr(t)&&(r=$o());const a=r==null?void 0:r.authority.endsWith("ghe.com");r&&(y.appendLine(`Enterprise server authority ${r.authority}`,sa.ID),a?i=`${r.scheme}://api.${r.authority}`:i=`${r.scheme}://${r.authority}/api/v3`);let o;s.env.uiKind===s.UIKind.Web&&(o=(re,oe)=>{if(oe.headers!==void 0){const{"user-agent":pe,...me}=oe.headers;pe&&(oe.headers=me)}return Qr()(re,oe)});const u=new vR({request:{agent:Uv,fetch:o},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:i});let k=i;r&&!a&&(k=`${r.scheme}://${r.authority}/api`);const A=new sw({link:pN(k,e||""),cache:new YR,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),$=new M_(this._telemetry,Rr(t)),Q={octokit:new I_(u,$),graphql:new F_(A,$)};return this.setCurrentUser(Q),Q}};br(n0,"ID","Authentication");let mN=n0;const pN=(n,e)=>JR((t,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(Qg({uri:`${n}/graphql`,fetch:Qr()}));function Bd(n){return Rr(n)?" Enterprise":""}var vN=Object.defineProperty,gN=(n,e,t)=>e in n?vN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yN=(n,e,t)=>gN(n,typeof e!="symbol"?e+"":e,t);const i0=class nm extends f{constructor(e,t,i,r){super(),this._repositoriesManager=e,this._telemetry=t,this._extensionUri=i,this._credentialStore=r,this._register(s.window.registerWebviewPanelSerializer(ao.viewType,this)),this._register(s.window.registerWebviewPanelSerializer(ir.viewType,this))}async deserializeWebviewPanel(e,t){if(await this.waitForAuth(),await this.waitForAnyGitHubRepos(this._repositoriesManager),!t||!t.number||this._repositoriesManager.folderManagers.length===0){e.dispose();return}let i,r;for(const o of this._repositoriesManager.folderManagers){const u=o.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo});if(u){i=u,r=o;break}}(!i||!r)&&(r=this._repositoriesManager.folderManagers[0],i=await r.createGitHubRepositoryFromOwnerName(t.owner,t.repo));const a={owner:t.owner,repo:t.repo,number:t.number};if(t.isIssue){const o=await i.getIssue(t.number,!0);if(!o){e.dispose();return}return ao.createOrShow(this._telemetry,this._extensionUri,r,a,o,void 0,!0,e)}else{const o=await i.getPullRequest(t.number,!0);if(!o){e.dispose();return}return ir.createOrShow(this._telemetry,this._extensionUri,r,a,o,void 0,!0,e)}}async waitForAuth(){if(!this._credentialStore.isAnyAuthenticated())return new Promise(e=>this._credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.",nm.ID),new Promise(t=>{const i=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.",nm.ID),i.dispose(),t()})})}};yN(i0,"ID","OverviewRestorer");let bN=i0;var wN=Object.defineProperty,kN=(n,e,t)=>e in n?wN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nr=(n,e,t)=>kN(n,typeof e!="symbol"?e+"":e,t);const r0=class Nb extends f{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,Nr(this,"_folderManagers",[]),Nr(this,"_subs"),Nr(this,"_onDidChangeState",new s.EventEmitter),Nr(this,"onDidChangeState",this._onDidChangeState.event),Nr(this,"_onDidChangeFolderRepositories",new s.EventEmitter),Nr(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),Nr(this,"_onDidLoadAnyRepositories",new s.EventEmitter),Nr(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),Nr(this,"_onDidChangeAnyPullRequests",new s.EventEmitter),Nr(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),Nr(this,"_onDidAddPullRequest",new s.EventEmitter),Nr(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Nr(this,"_onDidAddAnyGitHubRepository",new s.EventEmitter),Nr(this,"onDidChangeAnyGitHubRepository",this._onDidAddAnyGitHubRepository.event),Nr(this,"_state",Hr.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",$v,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;ft.setContext(Mt.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(()=>{this.updateState(),this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository)),e.onDidChangeAnyPullRequests(i=>this._onDidChangeAnyPullRequests.fire(i)),e.onDidAddPullRequest(i=>this._onDidAddPullRequest.fire(i)),e.onDidChangeGithubRepositories(()=>this._onDidAddAnyGitHubRepository.fire(e))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>ne(r.uri.fsPath,e.repository.rootUri.fsPath)||ne(e.repository.rootUri.fsPath,r.uri.fsPath));if(i>-1){const r=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const i=this._folderManagers[t];d(this._subs.get(i)),this._subs.delete(i),this._folderManagers.splice(t),i.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=e.scheme===Ut.Repo?mf(e):void 0,i=e.scheme===Ut.Pr?ki(e):void 0,r=this._folderManagers.slice().sort((a,o)=>o.repository.rootUri.path.length-a.repository.rootUri.path.length);for(const a of r){const o=a.repository.rootUri.path;if(t&&a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo}))return a;if(i&&a.repository.state.remotes.find(u=>u.name===i.remoteName))return a;{const u=e.path.substring(o.length>1?o.length+1:o.length);if(Me(s.Uri.joinPath(a.repository.rootUri,u).path,e.path)===0)return a}}}getManagerForRepository(e,t){const i=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(i))return r}get state(){return this._state}updateState(e){let t=Hr.Initializing;if(e)t=e;else{const r=a=>{switch(a){case Hr.Initializing:return 0;case Hr.NeedsAuthentication:return 1;case Hr.RepositoriesLoaded:return 2}};for(const a of this._folderManagers)r(a.state)>r(t)&&(t=a.state)}const i=t!==this._state;this._state=t,i&&(s.commands.executeCommand("setContext",$v,t),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.updateState(Hr.NeedsAuthentication)}async authenticate(e){var t,i;if(e===!1)return!!this._credentialStore.login(Fn.github);const{dotComRemotes:r,enterpriseRemotes:a,unknownRemotes:o}=await ap(this.folderManagers),u=s.l10n.t("Yes");if(e){let Q=(i=(t=$o())==null?void 0:t.toString())!=null?i:a.length?a[0].normalizedHost:o.length?o[0].normalizedHost:void 0;if(a.length===0&&o.length===0&&y.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`,Nb.ID),Q){const re=s.l10n.t("No, manually set {0}","github-enterprise.uri"),oe=await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",Q),{modal:!0},u,re);if(oe===u)await Hc(Q);else if(oe===re)Q=void 0;else return!1}if(!Q){const re=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0,validateInput:oe=>{if(!/^(?:$|(https?):\/\/(?!github\.com).*)/.test(oe))return s.l10n.t('Please enter a valid GitHub Enterprise server URL. A "github.com" URL is not valid for GitHub Enterprise.')}});if(re)await Hc(re);else return!1}}else if(!$a()&&r.length===0&&a.length>0){const Q=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},u,s.l10n.t("No, use GitHub.com"));if(Q===u)await Hc(a[0].normalizedHost);else if(Q===void 0)return!1}let k;const A=a.length>0||o.length>0;($a()||r.length===0)&&A&&(k=await this._credentialStore.login(Fn.githubEnterprise));let $;return!k&&(!$a()||a.length===0)&&($=await this._credentialStore.login(Fn.github)),!!$||!!k}dispose(){this._subs.forEach(e=>d(e))}};Nr(r0,"ID","RepositoriesManager");let _N=r0;function UF(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var SN=Object.defineProperty,EN=(n,e,t)=>e in n?SN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ps=(n,e,t)=>EN(n,typeof e!="symbol"?e+"":e,t);class lh extends f{constructor(e){super(),ps(this,"_onDidOpenRepository",new s.EventEmitter),ps(this,"onDidOpenRepository",this._onDidOpenRepository.event),ps(this,"_onDidCloseRepository",new s.EventEmitter),ps(this,"onDidCloseRepository",this._onDidCloseRepository.event),ps(this,"_onDidChangeState",new s.EventEmitter),ps(this,"onDidChangeState",this._onDidChangeState.event),ps(this,"_onDidPublish",new s.EventEmitter),ps(this,"onDidPublish",this._onDidPublish.event),ps(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(i){throw ft.setContext("gitNotInstalled",!0),i}this._register(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._register(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._register(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}getRepositoryWorkspace(e){return this._gitAPI.getRepositoryWorkspace(e)}clone(e,t){return this._gitAPI.clone(e,t)}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new lh(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var RN=Object.defineProperty,NN=(n,e,t)=>e in n?RN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ar=(n,e,t)=>NN(n,typeof e!="symbol"?e+"":e,t);class TN extends f{constructor(e){super(),this._liveShareAPI=e,ar(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),ar(this,"onDidOpenRepository",this._onDidOpenRepository.event),ar(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),ar(this,"onDidCloseRepository",this._onDidCloseRepository.event),ar(this,"_openRepositories",[]),ar(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(rs)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new PN(e,this._sharedServiceProxy),r=new CN,a=new Proxy(i,r);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class CN{constructor(){}get(e,t){return t in e?e[t]:function(...i){return e.proxy.request(Qs,[t,e.workspaceFolder.uri.toString(),...i])}}}class AN{constructor(e){ar(this,"HEAD"),ar(this,"remotes"),ar(this,"submodules",[]),ar(this,"rebaseCommit"),ar(this,"mergeChanges",[]),ar(this,"indexChanges",[]),ar(this,"workingTreeChanges",[]),ar(this,"_onDidChange",new s.EventEmitter),ar(this,"onDidChange",this._onDidChange.event),ar(this,"refs",[]),ar(this,"untrackedChanges",[]),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class PN{constructor(e,t){this.workspaceFolder=e,this.proxy=t,ar(this,"rootUri"),ar(this,"state")}async initialize(){const e=await this.proxy.request(Qs,[ws,this.workspaceFolder.uri.toString()]);this.state=new AN(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(as,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var MN=Object.defineProperty,FN=(n,e,t)=>e in n?MN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,IN=(n,e,t)=>FN(n,typeof e!="symbol"?e+"":e,t);class DN extends f{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,IN(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(rs)||void 0,this._sharedService&&this._sharedService.onRequest(Qs,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],i=e[1],r=s.Uri.parse(i),a=this._liveShareAPI.convertSharedUriToLocal(r),o=this._api.getGitProvider(a);if(!o)return;const u=o.repositories.filter(k=>k.rootUri.toString()===a.toString())[0];if(u){const k=e.slice(2);if(t===ws)return this._register(u.state.onDidChange(A=>{this._sharedService.notify(as,{HEAD:u.state.HEAD,remotes:u.state.remotes,refs:u.state.refs})})),{HEAD:u.state.HEAD,remotes:u.state.remotes,refs:u.state.refs,rootUri:r.toString()};if(t==="show"){const A=k[1],$=r.with({path:A}),Q=this._liveShareAPI.convertSharedUriToLocal($);return k[1]=Q.fsPath,u[t](...k)}if(u[t])return u[t](...k)}else return null}}var xN=Object.defineProperty,ON=(n,e,t)=>e in n?xN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qd=(n,e,t)=>ON(n,typeof e!="symbol"?e+"":e,t);async function LN(){const n=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!n)return null;const e=n.isActive?n.exports:await n.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class UN extends f{constructor(e){super(),this._api=e,qd(this,"_liveShareAPI"),qd(this,"_host"),qd(this,"_guest"),qd(this,"_localDisposables",[]),this._register({dispose:()=>d(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await LN()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(d(this._localDisposables),e.role===1){this._host=new DN(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new TN(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function BN(n){return new UN(n)}async function qN(n,e){const t=await lh.createProvider();if(t)return e.registerGitProvider(t),t}var $N=Object.defineProperty,HN=(n,e,t)=>e in n?$N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,a0=(n,e,t)=>HN(n,typeof e!="symbol"?e+"":e,t);class GN{constructor(e){this.pullRequestManager=e,a0(this,"onNotifiedEmitter",new s.EventEmitter),a0(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,t,i){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const o of this.pullRequestManager.folderManagers){const u=o.getAllAssignableUsers();if(u)for(const k of u)a.has(k.login)||a.set(k.login,k)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(i=>i.login===t)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const i=t.hub.currentUser?await t.hub.currentUser:void 0;if(i)return i.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var VN=Object.defineProperty,jN=(n,e,t)=>e in n?VN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,WN=(n,e,t)=>jN(n,typeof e!="symbol"?e+"":e,t);class zN extends f{constructor(){super(),WN(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let i=0;const r=setInterval(async()=>{t.isActive?(clearInterval(r),this.register(await t.exports)):(i++,i>60&&clearInterval(r))},1e3)}}}/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function s0(n){return typeof n=="undefined"||n===null}function KN(n){return typeof n=="object"&&n!==null}function QN(n){return Array.isArray(n)?n:s0(n)?[]:[n]}function YN(n,e){var t,i,r,a;if(e)for(a=Object.keys(e),t=0,i=a.length;t<i;t+=1)r=a[t],n[r]=e[r];return n}function JN(n,e){var t="",i;for(i=0;i<e;i+=1)t+=n;return t}function XN(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var ZN=s0,eT=KN,tT=QN,nT=JN,iT=XN,rT=YN,sr={isNothing:ZN,isObject:eT,toArray:tT,repeat:nT,isNegativeZero:iT,extend:rT};function o0(n,e){var t="",i=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!e&&n.mark.snippet&&(t+=`

`+n.mark.snippet),i+" "+t):i}function du(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=o0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}du.prototype=Object.create(Error.prototype),du.prototype.constructor=du,du.prototype.toString=function(e){return this.name+": "+o0(this,e)};var xr=du;function uh(n,e,t,i,r){var a="",o="",u=Math.floor(r/2)-1;return i-e>u&&(a=" ... ",e=i-u+a.length),t-i>u&&(o=" ...",t=i+u-o.length),{str:a+n.slice(e,t).replace(/\t/g,"\u2192")+o,pos:i-e+a.length}}function dh(n,e){return sr.repeat(" ",e-n.length)+n}function aT(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],r=[],a,o=-1;a=t.exec(n.buffer);)r.push(a.index),i.push(a.index+a[0].length),n.position<=a.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var u="",k,A,$=Math.min(n.line+e.linesAfter,r.length).toString().length,Q=e.maxLength-(e.indent+$+3);for(k=1;k<=e.linesBefore&&!(o-k<0);k++)A=uh(n.buffer,i[o-k],r[o-k],n.position-(i[o]-i[o-k]),Q),u=sr.repeat(" ",e.indent)+dh((n.line-k+1).toString(),$)+" | "+A.str+`
`+u;for(A=uh(n.buffer,i[o],r[o],n.position,Q),u+=sr.repeat(" ",e.indent)+dh((n.line+1).toString(),$)+" | "+A.str+`
`,u+=sr.repeat("-",e.indent+$+3+A.pos)+`^
`,k=1;k<=e.linesAfter&&!(o+k>=r.length);k++)A=uh(n.buffer,i[o+k],r[o+k],n.position-(i[o]-i[o+k]),Q),u+=sr.repeat(" ",e.indent)+dh((n.line+k+1).toString(),$)+" | "+A.str+`
`;return u.replace(/\n$/,"")}var sT=aT,oT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],lT=["scalar","sequence","mapping"];function uT(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}function dT(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(oT.indexOf(t)===-1)throw new xr('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=uT(e.styleAliases||null),lT.indexOf(this.kind)===-1)throw new xr('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var wr=dT;function l0(n,e){var t=[];return n[e].forEach(function(i){var r=t.length;t.forEach(function(a,o){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(r=o)}),t[r]=i}),t}function cT(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(r){r.multi?(n.multi[r.kind].push(r),n.multi.fallback.push(r)):n[r.kind][r.tag]=n.fallback[r.tag]=r}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}function ch(n){return this.extend(n)}ch.prototype.extend=function(e){var t=[],i=[];if(e instanceof wr)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new xr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(a){if(!(a instanceof wr))throw new xr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new xr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new xr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof wr))throw new xr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(ch.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=l0(r,"implicit"),r.compiledExplicit=l0(r,"explicit"),r.compiledTypeMap=cT(r.compiledImplicit,r.compiledExplicit),r};var u0=ch,d0=new wr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),c0=new wr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),f0=new wr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),h0=new u0({explicit:[d0,c0,f0]});function fT(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function hT(){return null}function mT(n){return n===null}var m0=new wr("tag:yaml.org,2002:null",{kind:"scalar",resolve:fT,construct:hT,predicate:mT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function pT(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function vT(n){return n==="true"||n==="True"||n==="TRUE"}function gT(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var p0=new wr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:pT,construct:vT,predicate:gT,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function yT(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function bT(n){return 48<=n&&n<=55}function wT(n){return 48<=n&&n<=57}function kT(n){if(n===null)return!1;var e=n.length,t=0,i=!1,r;if(!e)return!1;if(r=n[t],(r==="-"||r==="+")&&(r=n[++t]),r==="0"){if(t+1===e)return!0;if(r=n[++t],r==="b"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!yT(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!bT(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;t<e;t++)if(r=n[t],r!=="_"){if(!wT(n.charCodeAt(t)))return!1;i=!0}return!(!i||r==="_")}function _T(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function ST(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!sr.isNegativeZero(n)}var v0=new wr("tag:yaml.org,2002:int",{kind:"scalar",resolve:kT,construct:_T,predicate:ST,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ET=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function RT(n){return!(n===null||!ET.test(n)||n[n.length-1]==="_")}function NT(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var TT=/^[-+]?[0-9]+e/;function CT(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(sr.isNegativeZero(n))return"-0.0";return t=n.toString(10),TT.test(t)?t.replace("e",".e"):t}function AT(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||sr.isNegativeZero(n))}var g0=new wr("tag:yaml.org,2002:float",{kind:"scalar",resolve:RT,construct:NT,predicate:AT,represent:CT,defaultStyle:"lowercase"}),y0=h0.extend({implicit:[m0,p0,v0,g0]}),b0=y0,w0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),k0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function PT(n){return n===null?!1:w0.exec(n)!==null||k0.exec(n)!==null}function MT(n){var e,t,i,r,a,o,u,k=0,A=null,$,Q,re;if(e=w0.exec(n),e===null&&(e=k0.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(t,i,r));if(a=+e[4],o=+e[5],u=+e[6],e[7]){for(k=e[7].slice(0,3);k.length<3;)k+="0";k=+k}return e[9]&&($=+e[10],Q=+(e[11]||0),A=($*60+Q)*6e4,e[9]==="-"&&(A=-A)),re=new Date(Date.UTC(t,i,r,a,o,u,k)),A&&re.setTime(re.getTime()-A),re}function FT(n){return n.toISOString()}var _0=new wr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:PT,construct:MT,instanceOf:Date,represent:FT});function IT(n){return n==="<<"||n===null}var S0=new wr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:IT}),fh=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function DT(n){if(n===null)return!1;var e,t,i=0,r=n.length,a=fh;for(t=0;t<r;t++)if(e=a.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function xT(n){var e,t,i=n.replace(/[\r\n=]/g,""),r=i.length,a=fh,o=0,u=[];for(e=0;e<r;e++)e%4===0&&e&&(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)),o=o<<6|a.indexOf(i.charAt(e));return t=r%4*6,t===0?(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)):t===18?(u.push(o>>10&255),u.push(o>>2&255)):t===12&&u.push(o>>4&255),new Uint8Array(u)}function OT(n){var e="",t=0,i,r,a=n.length,o=fh;for(i=0;i<a;i++)i%3===0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+n[i];return r=a%3,r===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):r===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):r===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function LT(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var E0=new wr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:DT,construct:xT,predicate:LT,represent:OT}),UT=Object.prototype.hasOwnProperty,BT=Object.prototype.toString;function qT(n){if(n===null)return!0;var e=[],t,i,r,a,o,u=n;for(t=0,i=u.length;t<i;t+=1){if(r=u[t],o=!1,BT.call(r)!=="[object Object]")return!1;for(a in r)if(UT.call(r,a))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function $T(n){return n!==null?n:[]}var R0=new wr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:qT,construct:$T}),HT=Object.prototype.toString;function GT(n){if(n===null)return!0;var e,t,i,r,a,o=n;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],HT.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;a[e]=[r[0],i[r[0]]]}return!0}function VT(n){if(n===null)return[];var e,t,i,r,a,o=n;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],r=Object.keys(i),a[e]=[r[0],i[r[0]]];return a}var N0=new wr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:GT,construct:VT}),jT=Object.prototype.hasOwnProperty;function WT(n){if(n===null)return!0;var e,t=n;for(e in t)if(jT.call(t,e)&&t[e]!==null)return!1;return!0}function zT(n){return n!==null?n:{}}var T0=new wr("tag:yaml.org,2002:set",{kind:"mapping",resolve:WT,construct:zT}),hh=b0.extend({implicit:[_0,S0],explicit:[E0,R0,N0,T0]}),qs=Object.prototype.hasOwnProperty,$d=1,C0=2,A0=3,Hd=4,mh=1,KT=2,P0=3,QT=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,YT=/[\x85\u2028\u2029]/,JT=/[,\[\]\{\}]/,M0=/^(?:!|!!|![a-z\-]+!)$/i,F0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function I0(n){return Object.prototype.toString.call(n)}function Ka(n){return n===10||n===13}function bo(n){return n===9||n===32}function Vr(n){return n===9||n===32||n===10||n===13}function ul(n){return n===44||n===91||n===93||n===123||n===125}function XT(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}function ZT(n){return n===120?2:n===117?4:n===85?8:0}function eC(n){return 48<=n&&n<=57?n-48:-1}function D0(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"\x85":n===95?"\xA0":n===76?"\u2028":n===80?"\u2029":""}function tC(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function x0(n,e,t){e==="__proto__"?Object.defineProperty(n,e,{configurable:!0,enumerable:!0,writable:!0,value:t}):n[e]=t}for(var O0=new Array(256),L0=new Array(256),dl=0;dl<256;dl++)O0[dl]=D0(dl)?1:0,L0[dl]=D0(dl);function nC(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||hh,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function U0(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=sT(t),new xr(e,t)}function bn(n,e){throw U0(n,e)}function Gd(n,e){n.onWarning&&n.onWarning.call(null,U0(n,e))}var B0={YAML:function(e,t,i){var r,a,o;e.version!==null&&bn(e,"duplication of %YAML directive"),i.length!==1&&bn(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&bn(e,"ill-formed argument of the YAML directive"),a=parseInt(r[1],10),o=parseInt(r[2],10),a!==1&&bn(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Gd(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var r,a;i.length!==2&&bn(e,"TAG directive accepts exactly two arguments"),r=i[0],a=i[1],M0.test(r)||bn(e,"ill-formed tag handle (first argument) of the TAG directive"),qs.call(e.tagMap,r)&&bn(e,'there is a previously declared suffix for "'+r+'" tag handle'),F0.test(a)||bn(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{bn(e,"tag prefix is malformed: "+a)}e.tagMap[r]=a}};function $s(n,e,t,i){var r,a,o,u;if(e<t){if(u=n.input.slice(e,t),i)for(r=0,a=u.length;r<a;r+=1)o=u.charCodeAt(r),o===9||32<=o&&o<=1114111||bn(n,"expected valid JSON character");else QT.test(u)&&bn(n,"the stream contains non-printable characters");n.result+=u}}function q0(n,e,t,i){var r,a,o,u;for(sr.isObject(t)||bn(n,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),o=0,u=r.length;o<u;o+=1)a=r[o],qs.call(e,a)||(x0(e,a,t[a]),i[a]=!0)}function cl(n,e,t,i,r,a,o,u,k){var A,$;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),A=0,$=r.length;A<$;A+=1)Array.isArray(r[A])&&bn(n,"nested arrays are not supported inside keys"),typeof r=="object"&&I0(r[A])==="[object Object]"&&(r[A]="[object Object]");if(typeof r=="object"&&I0(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(A=0,$=a.length;A<$;A+=1)q0(n,e,a[A],t);else q0(n,e,a,t);else!n.json&&!qs.call(t,r)&&qs.call(e,r)&&(n.line=o||n.line,n.lineStart=u||n.lineStart,n.position=k||n.position,bn(n,"duplicated mapping key")),x0(e,r,a),delete t[r];return e}function ph(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):bn(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function Yi(n,e,t){for(var i=0,r=n.input.charCodeAt(n.position);r!==0;){for(;bo(r);)r===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),r=n.input.charCodeAt(++n.position);if(e&&r===35)do r=n.input.charCodeAt(++n.position);while(r!==10&&r!==13&&r!==0);if(Ka(r))for(ph(n),r=n.input.charCodeAt(n.position),i++,n.lineIndent=0;r===32;)n.lineIndent++,r=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&Gd(n,"deficient indentation"),i}function Vd(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||Vr(t)))}function vh(n,e){e===1?n.result+=" ":e>1&&(n.result+=sr.repeat(`
`,e-1))}function iC(n,e,t){var i,r,a,o,u,k,A,$,Q=n.kind,re=n.result,oe;if(oe=n.input.charCodeAt(n.position),Vr(oe)||ul(oe)||oe===35||oe===38||oe===42||oe===33||oe===124||oe===62||oe===39||oe===34||oe===37||oe===64||oe===96||(oe===63||oe===45)&&(r=n.input.charCodeAt(n.position+1),Vr(r)||t&&ul(r)))return!1;for(n.kind="scalar",n.result="",a=o=n.position,u=!1;oe!==0;){if(oe===58){if(r=n.input.charCodeAt(n.position+1),Vr(r)||t&&ul(r))break}else if(oe===35){if(i=n.input.charCodeAt(n.position-1),Vr(i))break}else{if(n.position===n.lineStart&&Vd(n)||t&&ul(oe))break;if(Ka(oe))if(k=n.line,A=n.lineStart,$=n.lineIndent,Yi(n,!1,-1),n.lineIndent>=e){u=!0,oe=n.input.charCodeAt(n.position);continue}else{n.position=o,n.line=k,n.lineStart=A,n.lineIndent=$;break}}u&&($s(n,a,o,!1),vh(n,n.line-k),a=o=n.position,u=!1),bo(oe)||(o=n.position+1),oe=n.input.charCodeAt(++n.position)}return $s(n,a,o,!1),n.result?!0:(n.kind=Q,n.result=re,!1)}function rC(n,e){var t,i,r;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=r=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if($s(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,r=n.position;else return!0;else Ka(t)?($s(n,i,r,!0),vh(n,Yi(n,!1,e)),i=r=n.position):n.position===n.lineStart&&Vd(n)?bn(n,"unexpected end of the document within a single quoted scalar"):(n.position++,r=n.position);bn(n,"unexpected end of the stream within a single quoted scalar")}function aC(n,e){var t,i,r,a,o,u;if(u=n.input.charCodeAt(n.position),u!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(u=n.input.charCodeAt(n.position))!==0;){if(u===34)return $s(n,t,n.position,!0),n.position++,!0;if(u===92){if($s(n,t,n.position,!0),u=n.input.charCodeAt(++n.position),Ka(u))Yi(n,!1,e);else if(u<256&&O0[u])n.result+=L0[u],n.position++;else if((o=ZT(u))>0){for(r=o,a=0;r>0;r--)u=n.input.charCodeAt(++n.position),(o=XT(u))>=0?a=(a<<4)+o:bn(n,"expected hexadecimal character");n.result+=tC(a),n.position++}else bn(n,"unknown escape sequence");t=i=n.position}else Ka(u)?($s(n,t,i,!0),vh(n,Yi(n,!1,e)),t=i=n.position):n.position===n.lineStart&&Vd(n)?bn(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}bn(n,"unexpected end of the stream within a double quoted scalar")}function sC(n,e){var t=!0,i,r,a,o=n.tag,u,k=n.anchor,A,$,Q,re,oe,pe=Object.create(null),me,Ne,Se,Re;if(Re=n.input.charCodeAt(n.position),Re===91)$=93,oe=!1,u=[];else if(Re===123)$=125,oe=!0,u={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),Re=n.input.charCodeAt(++n.position);Re!==0;){if(Yi(n,!0,e),Re=n.input.charCodeAt(n.position),Re===$)return n.position++,n.tag=o,n.anchor=k,n.kind=oe?"mapping":"sequence",n.result=u,!0;t?Re===44&&bn(n,"expected the node content, but found ','"):bn(n,"missed comma between flow collection entries"),Ne=me=Se=null,Q=re=!1,Re===63&&(A=n.input.charCodeAt(n.position+1),Vr(A)&&(Q=re=!0,n.position++,Yi(n,!0,e))),i=n.line,r=n.lineStart,a=n.position,fl(n,e,$d,!1,!0),Ne=n.tag,me=n.result,Yi(n,!0,e),Re=n.input.charCodeAt(n.position),(re||n.line===i)&&Re===58&&(Q=!0,Re=n.input.charCodeAt(++n.position),Yi(n,!0,e),fl(n,e,$d,!1,!0),Se=n.result),oe?cl(n,u,pe,Ne,me,Se,i,r,a):Q?u.push(cl(n,null,pe,Ne,me,Se,i,r,a)):u.push(me),Yi(n,!0,e),Re=n.input.charCodeAt(n.position),Re===44?(t=!0,Re=n.input.charCodeAt(++n.position)):t=!1}bn(n,"unexpected end of the stream within a flow collection")}function oC(n,e){var t,i,r=mh,a=!1,o=!1,u=e,k=0,A=!1,$,Q;if(Q=n.input.charCodeAt(n.position),Q===124)i=!1;else if(Q===62)i=!0;else return!1;for(n.kind="scalar",n.result="";Q!==0;)if(Q=n.input.charCodeAt(++n.position),Q===43||Q===45)mh===r?r=Q===43?P0:KT:bn(n,"repeat of a chomping mode identifier");else if(($=eC(Q))>=0)$===0?bn(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?bn(n,"repeat of an indentation width identifier"):(u=e+$-1,o=!0);else break;if(bo(Q)){do Q=n.input.charCodeAt(++n.position);while(bo(Q));if(Q===35)do Q=n.input.charCodeAt(++n.position);while(!Ka(Q)&&Q!==0)}for(;Q!==0;){for(ph(n),n.lineIndent=0,Q=n.input.charCodeAt(n.position);(!o||n.lineIndent<u)&&Q===32;)n.lineIndent++,Q=n.input.charCodeAt(++n.position);if(!o&&n.lineIndent>u&&(u=n.lineIndent),Ka(Q)){k++;continue}if(n.lineIndent<u){r===P0?n.result+=sr.repeat(`
`,a?1+k:k):r===mh&&a&&(n.result+=`
`);break}for(i?bo(Q)?(A=!0,n.result+=sr.repeat(`
`,a?1+k:k)):A?(A=!1,n.result+=sr.repeat(`
`,k+1)):k===0?a&&(n.result+=" "):n.result+=sr.repeat(`
`,k):n.result+=sr.repeat(`
`,a?1+k:k),a=!0,o=!0,k=0,t=n.position;!Ka(Q)&&Q!==0;)Q=n.input.charCodeAt(++n.position);$s(n,t,n.position,!1)}return!0}function $0(n,e){var t,i=n.tag,r=n.anchor,a=[],o,u=!1,k;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),k=n.input.charCodeAt(n.position);k!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,bn(n,"tab characters must not be used in indentation")),!(k!==45||(o=n.input.charCodeAt(n.position+1),!Vr(o))));){if(u=!0,n.position++,Yi(n,!0,-1)&&n.lineIndent<=e){a.push(null),k=n.input.charCodeAt(n.position);continue}if(t=n.line,fl(n,e,A0,!1,!0),a.push(n.result),Yi(n,!0,-1),k=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&k!==0)bn(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return u?(n.tag=i,n.anchor=r,n.kind="sequence",n.result=a,!0):!1}function lC(n,e,t){var i,r,a,o,u,k,A=n.tag,$=n.anchor,Q={},re=Object.create(null),oe=null,pe=null,me=null,Ne=!1,Se=!1,Re;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=Q),Re=n.input.charCodeAt(n.position);Re!==0;){if(!Ne&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,bn(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),a=n.line,(Re===63||Re===58)&&Vr(i))Re===63?(Ne&&(cl(n,Q,re,oe,pe,null,o,u,k),oe=pe=me=null),Se=!0,Ne=!0,r=!0):Ne?(Ne=!1,r=!0):bn(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,Re=i;else{if(o=n.line,u=n.lineStart,k=n.position,!fl(n,t,C0,!1,!0))break;if(n.line===a){for(Re=n.input.charCodeAt(n.position);bo(Re);)Re=n.input.charCodeAt(++n.position);if(Re===58)Re=n.input.charCodeAt(++n.position),Vr(Re)||bn(n,"a whitespace character is expected after the key-value separator within a block mapping"),Ne&&(cl(n,Q,re,oe,pe,null,o,u,k),oe=pe=me=null),Se=!0,Ne=!1,r=!1,oe=n.tag,pe=n.result;else if(Se)bn(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=A,n.anchor=$,!0}else if(Se)bn(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=A,n.anchor=$,!0}if((n.line===a||n.lineIndent>e)&&(Ne&&(o=n.line,u=n.lineStart,k=n.position),fl(n,e,Hd,!0,r)&&(Ne?pe=n.result:me=n.result),Ne||(cl(n,Q,re,oe,pe,me,o,u,k),oe=pe=me=null),Yi(n,!0,-1),Re=n.input.charCodeAt(n.position)),(n.line===a||n.lineIndent>e)&&Re!==0)bn(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return Ne&&cl(n,Q,re,oe,pe,null,o,u,k),Se&&(n.tag=A,n.anchor=$,n.kind="mapping",n.result=Q),Se}function uC(n){var e,t=!1,i=!1,r,a,o;if(o=n.input.charCodeAt(n.position),o!==33)return!1;if(n.tag!==null&&bn(n,"duplication of a tag property"),o=n.input.charCodeAt(++n.position),o===60?(t=!0,o=n.input.charCodeAt(++n.position)):o===33?(i=!0,r="!!",o=n.input.charCodeAt(++n.position)):r="!",e=n.position,t){do o=n.input.charCodeAt(++n.position);while(o!==0&&o!==62);n.position<n.length?(a=n.input.slice(e,n.position),o=n.input.charCodeAt(++n.position)):bn(n,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Vr(o);)o===33&&(i?bn(n,"tag suffix cannot contain exclamation marks"):(r=n.input.slice(e-1,n.position+1),M0.test(r)||bn(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),o=n.input.charCodeAt(++n.position);a=n.input.slice(e,n.position),JT.test(a)&&bn(n,"tag suffix cannot contain flow indicator characters")}a&&!F0.test(a)&&bn(n,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{bn(n,"tag name is malformed: "+a)}return t?n.tag=a:qs.call(n.tagMap,r)?n.tag=n.tagMap[r]+a:r==="!"?n.tag="!"+a:r==="!!"?n.tag="tag:yaml.org,2002:"+a:bn(n,'undeclared tag handle "'+r+'"'),!0}function dC(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&bn(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!Vr(t)&&!ul(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&bn(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}function cC(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!Vr(i)&&!ul(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&bn(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),qs.call(n.anchorMap,t)||bn(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],Yi(n,!0,-1),!0}function fl(n,e,t,i,r){var a,o,u,k=1,A=!1,$=!1,Q,re,oe,pe,me,Ne;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,a=o=u=Hd===t||A0===t,i&&Yi(n,!0,-1)&&(A=!0,n.lineIndent>e?k=1:n.lineIndent===e?k=0:n.lineIndent<e&&(k=-1)),k===1)for(;uC(n)||dC(n);)Yi(n,!0,-1)?(A=!0,u=a,n.lineIndent>e?k=1:n.lineIndent===e?k=0:n.lineIndent<e&&(k=-1)):u=!1;if(u&&(u=A||r),(k===1||Hd===t)&&($d===t||C0===t?me=e:me=e+1,Ne=n.position-n.lineStart,k===1?u&&($0(n,Ne)||lC(n,Ne,me))||sC(n,me)?$=!0:(o&&oC(n,me)||rC(n,me)||aC(n,me)?$=!0:cC(n)?($=!0,(n.tag!==null||n.anchor!==null)&&bn(n,"alias node should not have any properties")):iC(n,me,$d===t)&&($=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):k===0&&($=u&&$0(n,Ne))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&bn(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),Q=0,re=n.implicitTypes.length;Q<re;Q+=1)if(pe=n.implicitTypes[Q],pe.resolve(n.result)){n.result=pe.construct(n.result),n.tag=pe.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(qs.call(n.typeMap[n.kind||"fallback"],n.tag))pe=n.typeMap[n.kind||"fallback"][n.tag];else for(pe=null,oe=n.typeMap.multi[n.kind||"fallback"],Q=0,re=oe.length;Q<re;Q+=1)if(n.tag.slice(0,oe[Q].tag.length)===oe[Q].tag){pe=oe[Q];break}pe||bn(n,"unknown tag !<"+n.tag+">"),n.result!==null&&pe.kind!==n.kind&&bn(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+pe.kind+'", not "'+n.kind+'"'),pe.resolve(n.result,n.tag)?(n.result=pe.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):bn(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||$}function fC(n){var e=n.position,t,i,r,a=!1,o;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(o=n.input.charCodeAt(n.position))!==0&&(Yi(n,!0,-1),o=n.input.charCodeAt(n.position),!(n.lineIndent>0||o!==37));){for(a=!0,o=n.input.charCodeAt(++n.position),t=n.position;o!==0&&!Vr(o);)o=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),r=[],i.length<1&&bn(n,"directive name must not be less than one character in length");o!==0;){for(;bo(o);)o=n.input.charCodeAt(++n.position);if(o===35){do o=n.input.charCodeAt(++n.position);while(o!==0&&!Ka(o));break}if(Ka(o))break;for(t=n.position;o!==0&&!Vr(o);)o=n.input.charCodeAt(++n.position);r.push(n.input.slice(t,n.position))}o!==0&&ph(n),qs.call(B0,i)?B0[i](n,i,r):Gd(n,'unknown document directive "'+i+'"')}if(Yi(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,Yi(n,!0,-1)):a&&bn(n,"directives end mark is expected"),fl(n,n.lineIndent-1,Hd,!1,!0),Yi(n,!0,-1),n.checkLineBreaks&&YT.test(n.input.slice(e,n.position))&&Gd(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Vd(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,Yi(n,!0,-1));return}if(n.position<n.length-1)bn(n,"end of the stream or a document separator is expected");else return}function H0(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new nC(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,bn(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)fC(t);return t.documents}function hC(n,e,t){e!==null&&typeof e=="object"&&typeof t=="undefined"&&(t=e,e=null);var i=H0(n,t);if(typeof e!="function")return i;for(var r=0,a=i.length;r<a;r+=1)e(i[r])}function mC(n,e){var t=H0(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new xr("expected a single document in the stream, but found more")}}var pC=hC,vC=mC,G0={loadAll:pC,load:vC},V0=Object.prototype.toString,j0=Object.prototype.hasOwnProperty,gh=65279,gC=9,cu=10,yC=13,bC=32,wC=33,kC=34,yh=35,_C=37,SC=38,EC=39,RC=42,W0=44,NC=45,jd=58,TC=61,CC=62,AC=63,PC=64,z0=91,K0=93,MC=96,Q0=123,FC=124,Y0=125,Tr={};Tr[0]="\\0",Tr[7]="\\a",Tr[8]="\\b",Tr[9]="\\t",Tr[10]="\\n",Tr[11]="\\v",Tr[12]="\\f",Tr[13]="\\r",Tr[27]="\\e",Tr[34]='\\"',Tr[92]="\\\\",Tr[133]="\\N",Tr[160]="\\_",Tr[8232]="\\L",Tr[8233]="\\P";var IC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function xC(n,e){var t,i,r,a,o,u,k;if(e===null)return{};for(t={},i=Object.keys(e),r=0,a=i.length;r<a;r+=1)o=i[r],u=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),k=n.compiledTypeMap.fallback[o],k&&j0.call(k.styleAliases,u)&&(u=k.styleAliases[u]),t[o]=u;return t}function OC(n){var e,t,i;if(e=n.toString(16).toUpperCase(),n<=255)t="x",i=2;else if(n<=65535)t="u",i=4;else if(n<=4294967295)t="U",i=8;else throw new xr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+sr.repeat("0",i-e.length)+e}var LC=1,fu=2;function UC(n){this.schema=n.schema||hh,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=sr.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=xC(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?fu:LC,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function J0(n,e){for(var t=sr.repeat(" ",e),i=0,r=-1,a="",o,u=n.length;i<u;)r=n.indexOf(`
`,i),r===-1?(o=n.slice(i),i=u):(o=n.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(a+=t),a+=o;return a}function bh(n,e){return`
`+sr.repeat(" ",n.indent*e)}function BC(n,e){var t,i,r;for(t=0,i=n.implicitTypes.length;t<i;t+=1)if(r=n.implicitTypes[t],r.resolve(e))return!0;return!1}function Wd(n){return n===bC||n===gC}function hu(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==gh||65536<=n&&n<=1114111}function X0(n){return hu(n)&&n!==gh&&n!==yC&&n!==cu}function Z0(n,e,t){var i=X0(n),r=i&&!Wd(n);return(t?i:i&&n!==W0&&n!==z0&&n!==K0&&n!==Q0&&n!==Y0)&&n!==yh&&!(e===jd&&!r)||X0(e)&&!Wd(e)&&n===yh||e===jd&&r}function qC(n){return hu(n)&&n!==gh&&!Wd(n)&&n!==NC&&n!==AC&&n!==jd&&n!==W0&&n!==z0&&n!==K0&&n!==Q0&&n!==Y0&&n!==yh&&n!==SC&&n!==RC&&n!==wC&&n!==FC&&n!==TC&&n!==CC&&n!==EC&&n!==kC&&n!==_C&&n!==PC&&n!==MC}function $C(n){return!Wd(n)&&n!==jd}function mu(n,e){var t=n.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<n.length&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function ey(n){var e=/^\n* /;return e.test(n)}var ty=1,wh=2,ny=3,iy=4,hl=5;function HC(n,e,t,i,r,a,o,u){var k,A=0,$=null,Q=!1,re=!1,oe=i!==-1,pe=-1,me=qC(mu(n,0))&&$C(mu(n,n.length-1));if(e||o)for(k=0;k<n.length;A>=65536?k+=2:k++){if(A=mu(n,k),!hu(A))return hl;me=me&&Z0(A,$,u),$=A}else{for(k=0;k<n.length;A>=65536?k+=2:k++){if(A=mu(n,k),A===cu)Q=!0,oe&&(re=re||k-pe-1>i&&n[pe+1]!==" ",pe=k);else if(!hu(A))return hl;me=me&&Z0(A,$,u),$=A}re=re||oe&&k-pe-1>i&&n[pe+1]!==" "}return!Q&&!re?me&&!o&&!r(n)?ty:a===fu?hl:wh:t>9&&ey(n)?hl:o?a===fu?hl:wh:re?iy:ny}function GC(n,e,t,i,r){n.dump=function(){if(e.length===0)return n.quotingType===fu?'""':"''";if(!n.noCompatMode&&(IC.indexOf(e)!==-1||DC.test(e)))return n.quotingType===fu?'"'+e+'"':"'"+e+"'";var a=n.indent*Math.max(1,t),o=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-a),u=i||n.flowLevel>-1&&t>=n.flowLevel;function k(A){return BC(n,A)}switch(HC(e,u,n.indent,o,k,n.quotingType,n.forceQuotes&&!i,r)){case ty:return e;case wh:return"'"+e.replace(/'/g,"''")+"'";case ny:return"|"+ry(e,n.indent)+ay(J0(e,a));case iy:return">"+ry(e,n.indent)+ay(J0(VC(e,o),a));case hl:return'"'+jC(e)+'"';default:throw new xr("impossible error: invalid scalar style")}}()}function ry(n,e){var t=ey(n)?String(e):"",i=n[n.length-1]===`
`,r=i&&(n[n.length-2]===`
`||n===`
`),a=r?"+":i?"":"-";return t+a+`
`}function ay(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function VC(n,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var A=n.indexOf(`
`);return A=A!==-1?A:n.length,t.lastIndex=A,sy(n.slice(0,A),e)}(),r=n[0]===`
`||n[0]===" ",a,o;o=t.exec(n);){var u=o[1],k=o[2];a=k[0]===" ",i+=u+(!r&&!a&&k!==""?`
`:"")+sy(k,e),r=a}return i}function sy(n,e){if(n===""||n[0]===" ")return n;for(var t=/ [^ ]/g,i,r=0,a,o=0,u=0,k="";i=t.exec(n);)u=i.index,u-r>e&&(a=o>r?o:u,k+=`
`+n.slice(r,a),r=a+1),o=u;return k+=`
`,n.length-r>e&&o>r?k+=n.slice(r,o)+`
`+n.slice(o+1):k+=n.slice(r),k.slice(1)}function jC(n){for(var e="",t=0,i,r=0;r<n.length;t>=65536?r+=2:r++)t=mu(n,r),i=Tr[t],!i&&hu(t)?(e+=n[r],t>=65536&&(e+=n[r+1])):e+=i||OC(t);return e}function WC(n,e,t){var i="",r=n.tag,a,o,u;for(a=0,o=t.length;a<o;a+=1)u=t[a],n.replacer&&(u=n.replacer.call(t,String(a),u)),(vs(n,e,u,!1,!1)||typeof u=="undefined"&&vs(n,e,null,!1,!1))&&(i!==""&&(i+=","+(n.condenseFlow?"":" ")),i+=n.dump);n.tag=r,n.dump="["+i+"]"}function oy(n,e,t,i){var r="",a=n.tag,o,u,k;for(o=0,u=t.length;o<u;o+=1)k=t[o],n.replacer&&(k=n.replacer.call(t,String(o),k)),(vs(n,e+1,k,!0,!0,!1,!0)||typeof k=="undefined"&&vs(n,e+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=bh(n,e)),n.dump&&cu===n.dump.charCodeAt(0)?r+="-":r+="- ",r+=n.dump);n.tag=a,n.dump=r||"[]"}function zC(n,e,t){var i="",r=n.tag,a=Object.keys(t),o,u,k,A,$;for(o=0,u=a.length;o<u;o+=1)$="",i!==""&&($+=", "),n.condenseFlow&&($+='"'),k=a[o],A=t[k],n.replacer&&(A=n.replacer.call(t,k,A)),vs(n,e,k,!1,!1)&&(n.dump.length>1024&&($+="? "),$+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),vs(n,e,A,!1,!1)&&($+=n.dump,i+=$));n.tag=r,n.dump="{"+i+"}"}function KC(n,e,t,i){var r="",a=n.tag,o=Object.keys(t),u,k,A,$,Q,re;if(n.sortKeys===!0)o.sort();else if(typeof n.sortKeys=="function")o.sort(n.sortKeys);else if(n.sortKeys)throw new xr("sortKeys must be a boolean or a function");for(u=0,k=o.length;u<k;u+=1)re="",(!i||r!=="")&&(re+=bh(n,e)),A=o[u],$=t[A],n.replacer&&($=n.replacer.call(t,A,$)),vs(n,e+1,A,!0,!0,!0)&&(Q=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,Q&&(n.dump&&cu===n.dump.charCodeAt(0)?re+="?":re+="? "),re+=n.dump,Q&&(re+=bh(n,e)),vs(n,e+1,$,!0,Q)&&(n.dump&&cu===n.dump.charCodeAt(0)?re+=":":re+=": ",re+=n.dump,r+=re));n.tag=a,n.dump=r||"{}"}function ly(n,e,t){var i,r,a,o,u,k;for(r=t?n.explicitTypes:n.implicitTypes,a=0,o=r.length;a<o;a+=1)if(u=r[a],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof e=="object"&&e instanceof u.instanceOf)&&(!u.predicate||u.predicate(e))){if(t?u.multi&&u.representName?n.tag=u.representName(e):n.tag=u.tag:n.tag="?",u.represent){if(k=n.styleMap[u.tag]||u.defaultStyle,V0.call(u.represent)==="[object Function]")i=u.represent(e,k);else if(j0.call(u.represent,k))i=u.represent[k](e,k);else throw new xr("!<"+u.tag+'> tag resolver accepts not "'+k+'" style');n.dump=i}return!0}return!1}function vs(n,e,t,i,r,a,o){n.tag=null,n.dump=t,ly(n,t,!1)||ly(n,t,!0);var u=V0.call(n.dump),k=i,A;i&&(i=n.flowLevel<0||n.flowLevel>e);var $=u==="[object Object]"||u==="[object Array]",Q,re;if($&&(Q=n.duplicates.indexOf(t),re=Q!==-1),(n.tag!==null&&n.tag!=="?"||re||n.indent!==2&&e>0)&&(r=!1),re&&n.usedDuplicates[Q])n.dump="*ref_"+Q;else{if($&&re&&!n.usedDuplicates[Q]&&(n.usedDuplicates[Q]=!0),u==="[object Object]")i&&Object.keys(n.dump).length!==0?(KC(n,e,n.dump,r),re&&(n.dump="&ref_"+Q+n.dump)):(zC(n,e,n.dump),re&&(n.dump="&ref_"+Q+" "+n.dump));else if(u==="[object Array]")i&&n.dump.length!==0?(n.noArrayIndent&&!o&&e>0?oy(n,e-1,n.dump,r):oy(n,e,n.dump,r),re&&(n.dump="&ref_"+Q+n.dump)):(WC(n,e,n.dump),re&&(n.dump="&ref_"+Q+" "+n.dump));else if(u==="[object String]")n.tag!=="?"&&GC(n,n.dump,e,a,k);else{if(u==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new xr("unacceptable kind of an object to dump "+u)}n.tag!==null&&n.tag!=="?"&&(A=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?A="!"+A:A.slice(0,18)==="tag:yaml.org,2002:"?A="!!"+A.slice(18):A="!<"+A+">",n.dump=A+" "+n.dump)}return!0}function QC(n,e){var t=[],i=[],r,a;for(kh(n,t,i),r=0,a=i.length;r<a;r+=1)e.duplicates.push(t[i[r]]);e.usedDuplicates=new Array(a)}function kh(n,e,t){var i,r,a;if(n!==null&&typeof n=="object")if(r=e.indexOf(n),r!==-1)t.indexOf(r)===-1&&t.push(r);else if(e.push(n),Array.isArray(n))for(r=0,a=n.length;r<a;r+=1)kh(n[r],e,t);else for(i=Object.keys(n),r=0,a=i.length;r<a;r+=1)kh(n[i[r]],e,t)}function YC(n,e){e=e||{};var t=new UC(e);t.noRefs||QC(n,t);var i=n;return t.replacer&&(i=t.replacer.call({"":i},"",i)),vs(t,0,i,!0,!0)?t.dump+`
`:""}var JC=YC,XC={dump:JC};function _h(n,e){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var ZC=wr,eA=u0,tA=h0,nA=y0,iA=b0,rA=hh,uy=G0.load,aA=G0.loadAll,sA=XC.dump,oA=xr,lA={binary:E0,float:g0,map:f0,null:m0,pairs:N0,set:T0,timestamp:_0,bool:p0,int:v0,merge:S0,omap:R0,seq:c0,str:d0},uA=_h("safeLoad","load"),dA=_h("safeLoadAll","loadAll"),cA=_h("safeDump","dump"),BF={Type:ZC,Schema:eA,FAILSAFE_SCHEMA:tA,JSON_SCHEMA:nA,CORE_SCHEMA:iA,DEFAULT_SCHEMA:rA,load:uy,loadAll:aA,dump:sA,YAMLException:oA,types:lA,safeLoad:uA,safeLoadAll:dA,safeDump:cA},fA=Object.defineProperty,hA=(n,e,t)=>e in n?fA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ml=(n,e,t)=>hA(n,typeof e!="symbol"?e+"":e,t);class dy extends f{constructor(e,t,i,r,a){super(),this.issueModel=e,this.manager=t,this.stateManager=i,this.shouldPromptForBranch=a,ml(this,"_branchName"),ml(this,"user"),ml(this,"repo"),ml(this,"_repoDefaults"),ml(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),ml(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const r=this.stateManager.gitAPI.repositories[i];for(let a=0;a<r.state.remotes.length;a++){const o=r.state.remotes[a];if(o.name===(e==null?void 0:e.remoteName)&&((t=o.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(Tn).get(Mn)&&!((t=this.issueModel.assignees)!=null&&t.find(r=>r.login===i))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===un.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=(await this.issueModel.githubRepository.getAuthenticatedUser()).login),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(Tn).get(or))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,i=e.match(t);if(i&&i.length>0&&i[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(i=>{i===t&&s.commands.executeCommand("workbench.action.openSettings",`${Tn}.${or}`)})}async offerNewBranch(e,t,i){var r,a,o,u;const k=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(a=e.upstream)==null?void 0:a.name);if(k&&k.model.state!==hi.Open){const A=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(o=e.name)!=null?o:"unknown branch"),$=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(u=e.name)!=null?u:"unknown branch"),Q=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(k.model.state===hi.Merged?A:$,{modal:!0},Q)===Q){const oe=(i==null?void 0:i.length)===4?Number(i[3])+1:1;return`${t}_${oe}`}}return t}async createIssueBranch(e){var t;const i=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(Tn).get(Wr);if(i==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const a=no(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),o=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+Bt(a)+")(_)?(\\d*)"));if(i==="on"){const k=await this.getBranch(this._branchName);k?e||(this._branchName=await this.offerNewBranch(k,a,o)):o||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const u=this.validateBranchName(this._branchName);return u?(this.showBranchNameError(u),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(Tn).get(Ii);if(typeof e=="string")return no(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var mA=Object.defineProperty,pA=(n,e,t)=>e in n?mA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cy=(n,e,t)=>pA(n,typeof e!="symbol"?e+"":e,t);const Sh=/\@([^\s]+)/,vA=150,wo="Permalink";async function Eh(n,e,t,i){var r;const a=(r=n.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(t);if(a)return a;{let o,u,k;const A=await e.getGitHubRemotes();for(const $ of A){if(i)o=i.owner?i.owner:$.owner,u=i.name?i.name:$.repositoryName,k=i.issueNumber;else{const Q=Is(t.match(qa));Q&&(!Q.name||!Q.owner)&&(o=$.owner,u=$.repositoryName)}if(o&&u&&k!==void 0){let Q=await e.resolveIssue(o,u,k,!!i.commentNumber);if(Q||(Q=await e.resolvePullRequest(o,u,k)),Q){let re;return n.resolvedIssues.has(e.repository.rootUri.path)?re=n.resolvedIssues.get(e.repository.rootUri.path):n.resolvedIssues.set(e.repository.rootUri.path,re=new(xc())(50)),re.set(t,Q),Q}}}}}class fy extends s.CompletionItem{constructor(){super(...arguments),cy(this,"login"),cy(this,"uri")}}const hy="HEAD",gA=1,yA=2,bA=3,my=4,zd=new Map([["upstream",gA],["ups",yA],["origin",bA]]);async function wA(n,e,t){var i,r,a,o;const u=(i=e.state.HEAD)!=null&&i.upstream&&!zd.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let k;const A=e.state.remotes.map(pe=>({name:pe.name,remote:pe})).filter(pe=>(pe.name===u&&(k=pe.remote),zd.has(pe.name))).sort((pe,me)=>{var Ne,Se;const Re=(Ne=zd.get(pe.name))!=null?Ne:my,Ae=(Se=zd.get(me.name))!=null?Se:my;return Re-Ae});u&&A.push({name:u,remote:k});const $=[hy];(r=e.state.HEAD)!=null&&r.name&&e.state.HEAD.name!==hy&&$.unshift((a=e.state.HEAD)==null?void 0:a.name);let Q;try{Q=await((o=n.getManagerForFile(e.rootUri))==null?void 0:o.getPullRequestDefaults())}catch(pe){if(!(pe instanceof qv))throw pe}Q&&$.push(Q.base);let re,oe;for(let pe=0;pe<$.length&&!re;pe++)for(let me=0;me<A.length&&!re;me++)try{const Ne=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${A[me].name}/${$[pe]}`,count:1})).filter(Se=>Se.remote&&Se.name);Ne&&Ne.length>0&&(re=Ne[0],oe=A[me].remote)}catch{}return oe}function kA(n){if(n instanceof s.Uri)return{fileUri:n,lineNumber:void 0};const e=n;return{fileUri:e==null?void 0:e.uri,lineNumber:e==null?void 0:e.lineNumber}}function py(n,e){var t,i;y.debug("getting file and position",wo);let r,a;const{fileUri:o,lineNumber:u}=kA(n);if(o)r=o,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===r.fsPath&&!s.window.activeNotebookEditor&&(u!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(u-1,0)))?a=new s.Range(new s.Position(u-1,0),new s.Position(u-1,s.window.activeTextEditor.document.lineAt(u-1).text.length)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)r=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((i=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:i.input)instanceof s.TabInputCustom)r=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return y.debug(`got file and position: ${r.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,wo),{uri:r,range:a}}function Kd(n){var e;const t=(e=n.state.HEAD)==null?void 0:e.upstream;for(const i of n.state.remotes)if(!t||t.remote===i.name)return i}async function vy(n,e,t){const i=new Promise(a=>{a(Kd(e))});let r=t?await Promise.race([wA(n,e,t),new Promise(a=>{setTimeout(()=>{a(i)},1500)})]):await i;if(!((!r||!r.fetchUrl)&&(r=await i,!r||!r.fetchUrl)))return r}function gy(n,e,t){const i=n.getManagerForFile(e.rootUri),r=i==null?void 0:i.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new Dr(t.fetchUrl).nameWithOwner}async function Rh(n,e,t,i,r,a){var o,u,k;const{uri:A,range:$}=py(a,r);if(!A)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0,range:void 0};const Q=qc(e,A);if(!Q)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:A,range:$};let re;if(A.scheme===Ut.Review&&(re=ta(A.query).commit),!re)try{const Re=await Q.log({maxEntries:1,path:A.fsPath});if(Re.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:A,range:$};(o=Q.state.HEAD)!=null&&o.commit&&Re[0].hash!==((u=Q.state.HEAD)==null?void 0:u.commit)?re=Q.state.HEAD.commit:re=Re[0].hash}catch{re=(k=Q.state.HEAD)==null?void 0:k.commit}y.debug(`commit hash: ${re}`,wo);const oe=await vy(n,Q,re);if(!oe||!oe.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:A,range:$};const pe=oe;y.debug(`upstream: ${pe.fetchUrl}`,wo);const me=Qd(A.path.substring(Q.rootUri.path.length)),Se={permalink:`${Nh(oe).replace(/\/$/,"")}/${gy(n,Q,pe)}/blob/${re}${i?`${me}${t?Th($):""}`:""}`,error:void 0,originalFile:A,range:$};return y.debug(`permalink generated: ${Se.permalink}`,wo),Se}async function _A(n,e,t,i,r,a){return s.window.withProgress({location:s.ProgressLocation.Window},async o=>{o.report({message:s.l10n.t("Creating permalink...")});let u=0,k=a?a[u++]:void 0;const A=[];do A.push(Rh(n,e,t,i,r,k)),k=a?a[u++]:void 0;while(k);return Promise.all(A)})}function Nh(n,e="github.com"){const t=$o();let i=n.fetchUrl;if(t&&i){const r=new Dr(i);(r.host.startsWith(t.authority)||!r.host.includes("github.com"))&&(e=t.authority)}return`https://${e}`}function Qd(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}function Th(n){if(!n||n instanceof s.NotebookRange)return"";let e=`#L${n.start.line+1}`;return n.start.line!==n.end.line&&(e+=`-L${n.end.line+1}`),e}async function SA(n,e,t){var i;const{uri:r,range:a}=py(e);if(!r)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0,range:void 0};const o=n.getManagerForFile(r);if(!o)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0,range:void 0};let u=(i=o.repository.state.HEAD)==null?void 0:i.name;u||(u=(await(await o.getOrigin()).getMetadata()).default_branch);const k=Kd(o.repository);if(!(k!=null&&k.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0,range:void 0};const A=r.path.substring(o.repository.rootUri.path.length),$=Nh(k).replace(/\/$/,""),Q=Qd(`${u}${A}`);return{permalink:`${$}/${new Dr(k.fetchUrl).nameWithOwner}/blob/${Q}${t?Th(a):""}`,error:void 0,originalFile:r,range:a}}async function EA(n,e,t){let i=0,r=e?e[i++]:void 0;const a=[];do a.push(SA(n,r,t)),r=e?e[i++]:void 0;while(r);return Promise.all(a)}async function yy(n,e,t){var i;const r=await((i=e.currentIssue(n.repository.rootUri))==null?void 0:i.getCommitMessage());if(r)return n.repository.commit(r,{all:t})}const by=s.l10n.t("Commit Staged"),wy=s.l10n.t("Commit All");async function RA(n,e,t){var i,r;if(n.repository.state.workingTreeChanges.length>0||n.repository.state.indexChanges.length>0){const a=[];switch(n.repository.state.indexChanges&&a.push(by),n.repository.state.workingTreeChanges&&a.push(wy),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case by:{await yy(n,t,!1);break}case wy:{await yy(n,t,!0);break}default:return!1}}if((i=n.repository.state.HEAD)!=null&&i.upstream)return await n.repository.push(),await e.createPullRequest(void 0),!0;{let a;return n.repository.state.remotes.length===1?a=n.repository.state.remotes[0].name:n.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(n.repository.state.remotes.map(o=>o.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await n.repository.push(a,(r=n.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function Ch(n,e){return(await s.languages.getTokenInformationAtPosition(n,e)).type===s.StandardTokenType.Comment}async function ky(n,e){return n.lineAt(e.line).range.end.character>1e4?!1:Ch(n,e)}function _y(n){const e=new URLSearchParams(n.query).get("rootUri");return e?s.Uri.parse(e):void 0}function NA(n){return n.replace(/([_~*])/g,"\\$1")}class Sy extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class TA extends s.CompletionItem{constructor(){super(s.l10n.t("Configure issue queries..."),s.CompletionItemKind.Text),this.detail=s.l10n.t("No issues found. Set up queries to see relevant issues."),this.insertText="",this.command={command:"workbench.action.openSettings",title:s.l10n.t("Open Settings"),arguments:[`@ext:${Ui} githubIssues.queries`]},this.sortText="~"}}class CA{constructor(e,t,i){this.stateManager=e,this.repositoriesManager=t,this.context=i}async provideCompletionItems(e,t,i,r){var a,o,u,k,A,$,Q;let re=e.getWordRangeAtPosition(t),oe=re?e.getText(re):void 0;if(!re||(oe==null?void 0:oe.charAt(0))!=="#"){const ot=(a=re==null?void 0:re.start)!=null?a:t,kt=new s.Range(ot.translate(void 0,ot.character?-1:0),t),bt=e.getText(kt);bt.charAt(0)==="#"&&(re=kt,oe=bt)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&!(oe!=null&&oe.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Tn).get(Za,[]).find(ot=>ot===e.languageId))return[];const pe=e.languageId==="plaintext"||e.languageId==="markdown"||await Ch(e,t);if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!pe)return[];let me=new s.Range(t,t);t.character-1>=0&&re&&((oe==null?void 0:oe.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(me=re);let Ne;if(oe==="#"&&re&&re.start.character>=3){const ot=new s.Range(re.start.with(void 0,0),re.start),bt=e.getText(ot).match(/([^\s]+)\/([^\s]+)/);bt&&(Ne={owner:bt[1],repo:bt[2]})}const Se=[],Re=new Set;let Ae,Oe;if(e.languageId==="scminput")Oe=_y(e.uri);else if(e.uri.scheme==="comment"&&((o=s.workspace.workspaceFolders)!=null&&o.length))for(const ot of s.window.visibleTextEditors){const kt=s.workspace.workspaceFolders[0].uri.with({path:ot.document.uri.path}),bt=s.workspace.getWorkspaceFolder(kt);if(bt){Oe=bt.uri;break}}else Oe=e.uri.scheme===Ut.NewIssue&&(k=(u=md(e.uri))==null?void 0:u.originUri)!=null?k:e.uri;if(!Oe)return[];let Ge;try{Ge=this.repositoriesManager.getManagerForFile(Oe),Ae=await(Ge==null?void 0:Ge.getPullRequestDefaults())}catch{}const We=this.stateManager.getIssueCollection((A=Ge==null?void 0:Ge.repository.rootUri)!=null?A:Oe);let qe=0;for(const ot of We){const kt=await ot[1];if((($=kt.issues)!=null?$:[]).length!==0)for(const bt of(Q=kt.issues)!=null?Q:[]){if(Ne&&(bt.remote.owner!==Ne.owner||bt.remote.repositoryName!==Ne.repo))continue;const fn=Ho(bt);if(!Re.has(fn)){Re.add(fn);const cn=await this.completionItemFromIssue(Ae,bt,me,e);cn.sortText=qe.toString().padStart(8,"0"),qe++,Se.push(cn)}}}return Se.length===0?[new TA]:Se}async completionItemFromIssue(e,t,i,r,a){var o;const u=new Sy(t);if(r.languageId==="markdown")u.insertText=`[${Ho(t,e)}](${t.html_url})`;else{const k=s.workspace.getConfiguration(Tn).get(Pr);r.uri.path.match(/git\/scm\d\/input/)&&typeof k=="string"?u.insertText=no(k,t,e):u.insertText=`${Ho(t,e)}`}return u.documentation=t.body,u.range=i,u.detail=a?a.title:(o=t.milestone)==null?void 0:o.title,u.filterText=`${u.detail} # ${t.number} ${t.title} ${u.documentation}`,u}async resolveCompletionItem(e,t){return e instanceof Sy&&(e.documentation=await Ls(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var AA=Object.defineProperty,PA=(n,e,t)=>e in n?AA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pu=(n,e,t)=>PA(n,typeof e!="symbol"?e+"":e,t);const pl=s.l10n.t("Assignees:"),vl=s.l10n.t("Labels:"),vu=s.l10n.t("Milestone:"),gl=s.l10n.t("Projects:"),Ah="newIssue.cache";class MA{constructor(e){this.cache=e,pu(this,"content"),pu(this,"createTime",0),pu(this,"modifiedTime",0),pu(this,"_onDidChangeFile",new s.EventEmitter),pu(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const i=this.onDidChangeFile(r=>{r.length===0&&r[0].type===s.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var t,i;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(t=this.content)==null?void 0:t.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,i={create:!1,overwrite:!1}){const r=this.content;this.content=t,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,i){}}class FA{constructor(e){this.manager=e}async provideCompletionItems(e,t,i,r){var a,o;const u=e.lineAt(t.line).text;if(!u.startsWith(vl)&&!u.startsWith(vu)&&!u.startsWith(gl))return[];const k=(o=(a=md(e.uri))==null?void 0:a.repoUriParams)==null?void 0:o.repoRootUri;if(!k)return[];const A=this.manager.getManagerForFile(k);if(!A)return[];const $=await A.getPullRequestDefaults();return u.startsWith(vl)?this.provideLabelCompletionItems(A,$):u.startsWith(vu)?this.provideMilestoneCompletionItems(A):u.startsWith(gl)?this.provideProjectCompletionItems(A):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(r=>{const a=new s.CompletionItem(r.name,s.CompletionItemKind.Color);return a.documentation=`#${r.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,i;return((i=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?i:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}async provideProjectCompletionItems(e){var t;const i=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(i))!=null?t:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}}class IA{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(Ah,e)}clear(){this.context.workspaceState.update(Ah,void 0)}get(){const e=this.context.workspaceState.get(Ah);if(e)return new TextDecoder().decode(e)}}async function DA(n){var e,t;let i;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==Ut.NewIssue)return;const r=md(s.window.activeTextEditor.document.uri),a=r==null?void 0:r.originUri;if(!a)return;let o;if((e=r.repoUriParams)!=null&&e.repoRootUri?o=n.getManagerForFile(r.repoUriParams.repoRootUri):o=n.getManagerForFile(a),!o)return;const u=await o.getPullRequestDefaultRepo();i=s.window.activeTextEditor.document.getText();const k=i.indexOf(`\r
\r
`),A=i.indexOf(`

`);let $;if(k<0&&A<0)return;k<0?$=A:A<0?$=k:$=Math.min(k,A);const Q=i.substring(0,$);if(!Q)return;let re;if(i=i.substring($+2).trim(),i.startsWith("<!--")){const Se=i.indexOf("-->");if(Se<0)return;i=i.substring(Se+3).trim()}if(i.startsWith(pl)){const Se=i.split(/\r\n|\n/,1);Se.length===1&&(re=Se[0].substring(pl.length).split(",").map(Re=>(Re=Re.trim(),Re.startsWith("@")&&(Re=Re.substring(1)),Re)),i=i.substring(Se[0].length).trim())}let oe;if(i.startsWith(vl)){const Se=i.split(/\r\n|\n/,1);Se.length===1&&(oe=Se[0].substring(vl.length).split(",").map(Re=>Re.trim()).filter(Re=>Re),i=i.substring(Se[0].length).trim())}let pe;if(i.startsWith(vu)){const Se=i.split(/\r\n|\n/,1);if(Se.length===1){const Re=Se[0].substring(vu.length).trim();if(Re){const Ae=await u.getMilestones();pe=(t=Ae==null?void 0:Ae.find(Oe=>Oe.title===Re))==null?void 0:t.number}i=i.substring(Se[0].length).trim()}}let me;if(i.startsWith(gl)){const Se=i.split(/\r\n|\n/,1);if(Se.length===1){if(await u.canGetProjectsNow()){const Re=await o.getAllProjects(u);me=Se[0].substring(gl.length).split(",").map(Ae=>(Ae=Ae.trim(),Re.find(Oe=>Oe.title===Ae))).filter(Ae=>!!Ae)}i=i.substring(Se[0].length).trim()}}const Ne=i!=null?i:"";return{labels:oe,milestone:pe,projects:me,assignees:re,title:Q,body:Ne,originUri:a}}class xA{constructor(e,t,i,r){this.manager=e,this.stateManager=t,this.context=i,this.telemetry=r}async provideHover(e,t,i){var r;if(!await ky(e,t))return;let a=e.getWordRangeAtPosition(t,qa);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const u=e.getText(a).match(qa),k=Is(u),A=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!A)return;if(k&&u&&(k.owner||k.issueNumber<=this.stateManager.maxIssueNumber(A.repository.rootUri)))return this.createHover(A,u[0],k,a)}else return}async createHover(e,t,i,r){const a=await Eh(this.stateManager,e,t,i);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await Ls(a,this.context,this.manager,i.commentNumber),r)}}var OA=Object.defineProperty,LA=(n,e,t)=>e in n?OA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ey=(n,e,t)=>LA(n,typeof e!="symbol"?e+"":e,t);class gu{constructor(e,t,i){this.repoRootUri=e,this.queryLabel=t,this.isFirst=i}}class Yd{constructor(e,t,i,r,a,o,u){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=i,this.groupLevel=r,this.group=a,this.groupByOrder=o,this.issuesInGroup=u}}class UA{constructor(e,t,i){this.stateManager=e,this.manager=t,this.context=i,Ey(this,"_onDidChangeTreeData",new s.EventEmitter),Ey(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Tn}.${ka}`)&&this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(K.basename(e.repository.rootUri.fsPath),Mh(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,Mh(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,Mh(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}async getIssueTreeItem(e){var t,i;const r=new s.TreeItem(e.title,s.TreeItemCollapsibleState.None),a=s.workspace.getConfiguration(Tn,null).get(ka,"author");let o;if(a==="assignee"&&e.assignees&&e.assignees.length>0?o=e.assignees[0]:a==="author"&&(o=e.author),o?Qi.isGitHubDotComAvatar(o.avatarUrl)?r.iconPath=(t=(await Qi.avatarCirclesAsImageDataUris(this.context,[o],16,16))[0])!=null?t:e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("github.issues.closed")):r.iconPath=new s.ThemeIcon("github"):r.iconPath=new s.ThemeIcon("github"),r.command={command:"issue.openDescription",title:s.l10n.t("View Issue Description"),arguments:[e]},((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number){const u=e.title.replace(/\$\([a-zA-Z0-9~-]+\)/g,"\\$&"),k={label:new s.MarkdownString(`$(check) ${u}`,!0)};r.label=k,r.contextValue="currentissue"}else this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue";return y1(e)&&(r.contextValue="link"+r.contextValue),r}async getTreeItem(e){return e instanceof vo?this.getFolderRepoItem(e):e instanceof gu?this.getQueryItem(e):e instanceof Yd?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==Hr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof nr&&(e.tooltip=await Ls(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===Hr.NeedsAuthentication||!this.manager.folderManagers.length?[]:(ft.setContext(Mt.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),i=Array.from(t.keys());return i.length===1?this.getQueryNodeChildren(new gu(e.repository.rootUri,i[0],!0)):i.map((r,a)=>new gu(e.repository.rootUri,r,a===0))}async getQueryNodeChildren(e){var t;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(t=r.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,i,r,a,o){if(r.length<=a)return o;const u=r[a];if(u!=="milestone"&&u!=="repository"||r.findIndex($=>$===u)!==a)return this.getIssueGroupsForGroupIndex(e,t,i,r,a+1,o);const k=q(o,$=>{var Q,re;return u==="repository"?`${$.remote.owner}/${$.remote.repositoryName}`:(re=(Q=$.milestone)==null?void 0:Q.title)!=null?re:"No Milestone"}),A=[];for(const $ in k)A.push(new Yd(e,t,i,a,$,r,k[$]));return A}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof vo?this.getRepoChildren(e):e instanceof gu?this.getQueryNodeChildren(e):e instanceof Yd?this.getIssueGroupChildren(e):[]}}const Ph="expandedIssuesState";function Ry(n){let e;return n instanceof vo?e=n.repository.rootUri.toString():n instanceof gu?e=`${n.repoRootUri.toString()}/${n.queryLabel}`:n instanceof Yd&&(e=`${n.repoRootUri.toString()}/${n.queryLabel}/${n.groupLevel}/${n.group}`),e}function Ny(n,e,t){const i=Ry(e);if(i){const r=new Set(n.workspaceState.get(Ph,[]));t?r.add(i):r.delete(i),n.workspaceState.update(Ph,Array.from(r.keys()))}}function Mh(n,e,t=s.TreeItemCollapsibleState.Expanded){const i=Ry(e);if(i){const r=n.workspaceState.get(Ph);return r?new Set(r).has(i)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var BA=Object.defineProperty,qA=(n,e,t)=>e in n?BA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$A=(n,e,t)=>qA(n,typeof e!="symbol"?e+"":e,t);class HA{constructor(e,t){this.copilotRemoteAgentManager=t,$A(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(Tn).get(Lr,[]);this.expression=e.length>0?new RegExp(e.map(t=>Bt(t)).join("|")):void 0}findTodoInLine(e){var t;const i=e.substring(0,vA);if(i.match(qa))return;const a=i.match(this.expression),o=(t=a==null?void 0:a.index)!=null?t:-1;if(o>=0&&a){const u=i.substring(o).search(/\s/),k=o+(u>0?u:i.match(this.expression)[0].length);return{match:a,search:o,insertIndex:k}}}async provideCodeActions(e,t,i,r){if(this.expression===void 0||i.only&&i.only!==s.CodeActionKind.QuickFix)return[];const a=[];let o=t.start.line;do{const u=e.lineAt(o).text,k=this.findTodoInLine(u);if(k){const{match:A,search:$,insertIndex:Q}=k,re=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);if(re.ranges=[new s.Range(o,$,o,$+A[0].length)],re.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:o,line:u,insertIndex:Q,range:t}]},a.push(re),this.copilotRemoteAgentManager){const oe=new s.CodeAction(s.l10n.t("Delegate to agent"),s.CodeActionKind.QuickFix);oe.ranges=[new s.Range(o,$,o,$+A[0].length)],oe.command={title:s.l10n.t("Delegate to agent"),command:"issue.startCodingAgentFromTodo",arguments:[{document:e,lineNumber:o,line:u,insertIndex:Q,range:t}]},a.push(oe)}break}o++}while(t.end.line>=o);return a}}var GA=Object.defineProperty,VA=(n,e,t)=>e in n?GA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ty=(n,e,t)=>VA(n,typeof e!="symbol"?e+"":e,t);class jA extends f{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new zA(e,t)),this._register(new Cy(e,t)),this._register(new KA(e,t)),this._register(new QA(e,t)))}}const WA=[Ut.File,Ut.Review,Ut.Pr,Ut.VscodeVfs];class Fh extends f{constructor(e,t,i,r,a,o="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=i,this.label=r,this.priority=a,this.origin=o,Ty(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=WA.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(d(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const i=await this.getBlob(t,e.resourceUri),r=t.repository,a=await this.getUpstream(r,i);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const o=Nh(a,this.origin).replace(/\/$/,""),u=Qd(e.resourceUri.path.substring(r.rootUri.path.length)),k=YA(e);return s.Uri.parse([o,"/",gy(this.repositoryManager,r,{...a,fetchUrl:a.fetchUrl}),"/blob/",i,u,k].join(""))}}class zA extends Fh{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return Py(e)}async getUpstream(e){return Kd(e)}}class Cy extends Fh{constructor(e,t,i="githubComPermalink",r=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,i,r,a)}shouldRegister(){return!0}async getBlob(e,t){var i,r,a;let o,u;if(t.scheme===Ut.Review&&(u=ta(t.query).commit),!u){const k=e.repository;try{const A=await k.log({maxEntries:1,path:t.fsPath});if(A.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(i=k.state.HEAD)!=null&&i.commit&&A[0].hash!==((r=k.state.HEAD)==null?void 0:r.commit)&&(o=await k.getCommit(k.state.HEAD.commit)),o||(o=A[0]),u=o.hash}catch{u=(a=k.state.HEAD)==null?void 0:a.commit}}if(u)return u;throw new Error}async getUpstream(e,t){return vy(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const Ay=class Tb extends Cy{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;y.trace("providing permalink markdown share",Tb.ID);const i=await super.provideShare(e),r=await this.getMarkdownLinkText(e);if(i)return`[${(t=r==null?void 0:r.trim())!=null?t:""}](${i.toString()})`}async getMarkdownLinkText(e){return K.basename(e.resourceUri.path)}};Ty(Ay,"ID","GitHubPermalinkAsMarkdownShareProvider");let KA=Ay;class QA extends Fh{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return Py(e)}async getUpstream(e){return Kd(e)}}function YA(n){return n.resourceUri.scheme==="vscode-notebook-cell"?"":Th(n.selection)}async function Py(n){var e;let t=(e=n.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await n.getOrigin()).getMetadata()).default_branch),Qd(t)}var JA=Object.defineProperty,XA=(n,e,t)=>e in n?JA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yu=(n,e,t)=>XA(n,typeof e!="symbol"?e+"":e,t);const My=class _o{constructor(e,t,i){this.stateManager=e,this.manager=t,yu(this,"_gitBlameCache",{}),yu(this,"cachedPrUsers",[]),yu(this,"cachedPrTimelineEvents",[]),yu(this,"cachedForPrNumber")}async provideCompletionItems(e,t,i,r){var a,o,u,k,A;let $=e.getWordRangeAtPosition(t),Q=$?e.getText($):void 0;if(!$||(Q==null?void 0:Q.charAt(0))!=="@"){const Ae=(a=$==null?void 0:$.start)!=null?a:t,Oe=new s.Range(Ae.translate(void 0,Ae.character?-1:0),t),Ge=e.getText(Oe);Ge.charAt(0)==="@"&&($=Oe,Q=Ge)}if(e.languageId!=="scminput"&&e.uri.scheme!==Ut.NewIssue&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(Q==null?void 0:Q.charAt(0))!=="@")return[];if(e.uri.scheme===Ut.NewIssue&&r.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,pl.length)))!==pl)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Tn).get(ji,[]).find(Ae=>Ae===e.languageId))return[];const re=e.languageId==="plaintext"||e.languageId==="markdown"||await Ch(e,t);if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!re)return[];let oe=new s.Range(t,t);t.character-1>=0&&$&&(Q==null?void 0:Q.charAt(0))==="@"&&(oe=$);let pe=e.uri;if(e.uri.scheme===Ut.NewIssue){const Ae=md(e.uri);pe=(o=Ae==null?void 0:Ae.originUri)!=null?o:e.uri}else if(e.languageId==="scminput")pe=_y(e.uri);else if(e.uri.scheme===Ut.Comment){const Ae=(u=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:u.input;Ae instanceof s.TabInputText?pe=Ae.uri:Ae instanceof s.TabInputTextDiff?pe=Ae.modified:Ae.textDiffs?pe=Ae.textDiffs[0].modified:pe=s.workspace.workspaceFolders?s.workspace.workspaceFolders[0].uri:void 0}if(!pe)return[];const me=(A=(k=this.manager.getManagerForFile(pe))==null?void 0:k.repository.rootUri)!=null?A:pe;let Ne=[];const Se=await this.stateManager.getUserMap(me);Se.forEach(Ae=>{var Oe;const Ge=(Oe=Ae.specialDisplayName)!=null?Oe:Ae.login,We=new fy({label:Ge,description:Ae.name},s.CompletionItemKind.User);We.insertText=`@${Ge}`,We.login=Ae.login,We.uri=me,We.range=oe,We.detail=Ae.name,We.filterText=`@ ${Ae.login} ${Ae.name}`,e.uri.scheme===Ut.NewIssue&&(We.commitCharacters=[" ",","]),Ne.push(We)});const Re=await this.getCommentSpecificSuggestions(Se,e,t);return Re&&(Ne=Ne.concat(Re)),Ne}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!ne(t.repository.rootUri.fsPath,e.fsPath))return!1;const i=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===i)}async resolveCompletionItem(e,t){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const r=await i.getPullRequestDefaults(),a=await i.resolveUser(r.owner,r.repo,e.login);return a&&(e.documentation=kv(r,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,i){try{const r=JSON.parse(t.uri.query);if(t.uri.scheme!==Ut.Comment||Me(r.extensionId,Ui)!==0)return;const a=t.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const o=s.window.visibleTextEditors;if(!o.length)return;let u,k,A,$;for(const Oe of o)if(u=this.manager.getManagerForFile(Oe.document.uri),u){if(u.activePullRequest){A=u.activePullRequest.number,$=u.activePullRequest.remote.remoteName;break}else if(Oe.document.uri.scheme===Ut.Pr){const Ge=ki(Oe.document.uri);A=Ge.prNumber,$=Ge.remoteName;break}}if(!u)return;const Q=u;if(A&&A===this.cachedForPrNumber)return this.cachedPrUsers;let re=[];const oe={};let pe={};const me=new Promise(async Oe=>{if(A&&$){if(y.debug("get Timeline Events and parse users",_o.ID),this.cachedForPrNumber===A)return this.cachedPrTimelineEvents;const Ge=Q.gitHubRepositories.find(We=>We.remote.remoteName===$);if(Ge){const We=await Ge.getPullRequest(A);this.cachedForPrNumber=A,this.cachedPrTimelineEvents=await We.getTimelineEvents()}re=tk(this.cachedPrTimelineEvents),Oe()}Oe()}),Ne=new Promise(async Oe=>{if(o.length)try{y.debug("git blame and parse users",_o.ID);const Ge=K.resolve(o[0].document.uri.fsPath);let We;this._gitBlameCache[Ge]?We=this._gitBlameCache[Ge]:(We=await Q.repository.blame(Ge),this._gitBlameCache[Ge]=We);const qe=We.split(`
`);for(const ot of qe){const kt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(ot);if(kt&&kt.length===2){const bt=kt[1].trim();oe[bt]=!0}}}catch(Ge){y.debug(Ge,_o.ID)}Oe()}),Se=new Promise(async Oe=>{y.debug("get mentionable users",_o.ID),pe=await Q.getMentionableUsers(),Oe()});await Promise.all([me,Ne,Se]),this.cachedPrUsers=[];const Re={};y.debug("prepare user suggestions",_o.ID),re.forEach(Oe=>{Re[Oe.login]||(Re[Oe.login]=Oe)});const Ae={};for(const Oe in pe)for(const Ge of pe[Oe])if(!Re[Ge.login]&&!Ae[Ge.login]&&!e.get(Ge.login)){Ae[Ge.login]=!0;let We=2;(oe[Ge.login]||Ge.name&&oe[Ge.name])&&(We=1),Re[Ge.login]&&(We=0);const qe=new fy({label:Ge.login,description:Ge.name},s.CompletionItemKind.User);qe.insertText=`@${Ge.login}`,qe.login=Ge.login,qe.uri=Q.repository.rootUri,qe.detail=Ge.name,qe.filterText=`@ ${Ge.login} ${Ge.name}`,qe.sortText=`${We}_${Ge.login}`,(k==null?void 0:k.document.uri.scheme)===Ut.NewIssue&&(qe.commitCharacters=[" ",","]),this.cachedPrUsers.push(qe)}return y.debug("done",_o.ID),this.cachedPrUsers}catch{return[]}}};yu(My,"ID","UserCompletionProvider");let ZA=My;class eP{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,i){if(!await ky(e,t))return;let r=e.getWordRangeAtPosition(t,Sh);if(r&&r.start.character>0){r=new s.Range(new s.Position(r.start.line,r.start.character),r.end);const o=e.getText(r).match(Sh);if(o){const u=o[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&Mm.indexOf(u)>=0||e.languageId==="php"&&Fm.indexOf(u)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&ww.indexOf(u)>=0?void 0:this.createHover(e.uri,u,r)}}else return}async createHover(e,t,i){try{const r=this.manager.getManagerForFile(e);if(!r)return;const a=await r.getPullRequestDefaults(),o=await r.resolveUser(a.owner,a.repo,t);return o&&o.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(kv(a,o),i)):void 0}catch{return}}}var tP=Object.defineProperty,nP=(n,e,t)=>e in n?tP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jd=(n,e,t)=>nP(n,typeof e!="symbol"?e+"":e,t);const Fy="issues.creatingFromFile",Iy=class im extends f{constructor(e,t,i,r,a,o,u){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=i,this.context=r,this.telemetry=a,this._stateManager=o,this.copilotRemoteAgentManager=u,Jd(this,"_newIssueCache"),Jd(this,"createIssueInfo"),Jd(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._newIssueCache=new IA(r)}async initialize(){this._register(s.workspace.registerFileSystemProvider(Ut.NewIssue,new MA(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:Ut.NewIssue},new FA(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new UA(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(t=>Ny(this.context,t.element,!1))),this._register(e.onDidExpandElement(t=>Ny(this.context,t.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(t,i)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.assignToCodingAgent",t=>(this.telemetry.sendTelemetryEvent("issue.assignToCodingAgent"),this.assignToCodingAgent(t)),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,i&&i.length>0?i:[t])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(i&&i.length>0?i:[t])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,i&&i.length>0?i:[t],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(i&&i.length>0?i:[t],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,i&&i.length>0?i:[t],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,i&&i.length>0?i:[t],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,i&&i.length>0?i:[t],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,i&&i.length>0?i:[t])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(t,i)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,i&&i.length>0?i:[t],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new jA(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",t=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(t)))),this._register(s.commands.registerCommand("issue.openIssueOnGitHub",async()=>{var t;const i=s.window.activeTextEditor;if(!i){s.window.showWarningMessage(s.l10n.t("No active editor. Open a file and place the cursor on an issue reference."));return}const r=i.document,a=i.selection.active,o=r.getWordRangeAtPosition(a,qa);if(!o){s.window.showWarningMessage(s.l10n.t("No issue reference found at cursor position."));return}const u=r.getText(o),k=u.match(qa),A=Is(k);if(!A){s.window.showWarningMessage(s.l10n.t("Invalid issue reference."));return}const $=(t=this.manager.getManagerForFile(r.uri))!=null?t:this.manager.folderManagers[0];if(!$){s.window.showWarningMessage(s.l10n.t("No repository found for current file."));return}const Q=await Eh(this._stateManager,$,u,A);if(!Q){s.window.showWarningMessage(s.l10n.t("Unable to resolve issue."));return}s.commands.executeCommand("vscode.open",s.Uri.parse(Q.html_url)),this.telemetry.sendTelemetryEvent("issue.openOnGitHub")})),this._register(s.commands.registerCommand("issue.startWorking",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.continueWorking",t=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",t=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(t)),this)),this._register(s.commands.registerCommand("issue.stopWorking",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(t)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(t)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",t=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),Ur(Tn,t.queryLabel)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",Fy,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",Fy,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async t=>b1(t,this.manager))),this._register(s.commands.registerCommand("issue.chatSummarizeIssue",t=>{if(t instanceof nr||t instanceof mr)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),t instanceof nr)ft.executeCommand(ft.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",t.remote.owner,t.remote.repositoryName,t.number)});else{const i=t.pullRequestModel,r=i.githubRepository.remote;ft.executeCommand(ft.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Summarize pull request {0}/{1}#{2}",r.owner,r.repositoryName,i.number)})}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",t=>{t instanceof nr&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),ft.executeCommand(ft.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",t.remote.owner,t.remote.repositoryName,t.number)}))})),this._register(s.commands.registerCommand("issues.configureIssuesViewlet",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} issues`))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new xA(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new eP(this.manager,this.telemetry)));const t=new HA(this.context,this.copilotRemoteAgentManager);this._register(s.languages.registerCodeActionsProvider("*",t,{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}registerCompletionProviders(){const e=[{provider:CA,trigger:"#",disposable:void 0,configuration:`${wn}.${oa}`},{provider:ZA,trigger:"@",disposable:void 0,configuration:`${Li}.${oa}`}];for(const t of e)s.workspace.getConfiguration(Tn).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const i of e)if(t.affectsConfiguration(`${Tn}.${i.configuration}`)){const r=s.workspace.getConfiguration(Tn).get(i.configuration,!0);!r&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):r&&!i.disposable&&this._register(i.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,t,i;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=r?this.manager.getManagerForFile(r):void 0;const o=s.workspace.getConfiguration(Tn).get(wa);if((!a||o)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),r=a==null?void 0:a.repository.rootUri),!a||!r)return;const u=await this.chooseTemplate(a);this._newIssueCache.clear();const k=(i=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:i.remote;let A=k?a.repository.state.remotes.find(Q=>Q.name===k):void 0;if(!A){const re=a.repository.state.remotes.filter(pe=>pe.fetchUrl||pe.pushUrl).map(pe=>({label:`${pe.name}: ${pe.fetchUrl||pe.pushUrl}`,remote:pe})),oe=await s.window.showQuickPick(re,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!oe)return;A=oe.remote}let $={remote:A};u&&($={...$,title:u.title,body:u.body,labels:u.labels,assignees:u.assignees}),await this.makeNewIssueFile(r,$)}async createIssueFromFile(){var e,t,i,r;const a=await DA(this.manager);if(!a||!s.window.activeTextEditor)return;const o=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,a.originUri);this.createIssueInfo=void 0,o&&s.window.tabGroups.activeTabGroup.activeTab&&(await s.window.activeTextEditor.document.save(),await s.window.tabGroups.close(s.window.tabGroups.activeTabGroup.activeTab),this._newIssueCache.clear())}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof nr)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,i){var r;let a=e,o=t.githubRepository,u=t.remote;if(!a){if(a=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this issue in.")),!a)return;o=await a.getOrigin(),u=o.remote}const k=await a.findUpstreamForItem({githubRepository:o,remote:u});if(k.needsFork&&await a.tryOfferToFork(o)===void 0)return;const A=s.workspace.getConfiguration(Tn).get(la);let $=!1;if(A==="defaultBranch")$=!0;else if(A==="prompt"){const Q=(r=a.repository.state.HEAD)==null?void 0:r.name,oe=(await a.getPullRequestDefaults()).base;if(!Q)$=!0;else if(Q===oe)$=!1;else{const pe=await s.window.showQuickPick([Q,oe],{placeHolder:s.l10n.t("Which branch should be used as the base for the new issue branch?")});if(pe===void 0)return;$=pe===oe}}await this._stateManager.setCurrentIssue(a,new dy(t,a,this._stateManager,k.remote,i),$)}async startWorking(e){if(e instanceof nr)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(qa),i=Is(t),r=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(o=>o.remote.owner===(i==null?void 0:i.owner)&&o.remote.repositoryName===i.name));if(i&&r){const a=await Eh(this._stateManager,r,e.toString(),i);if(a)return this.doStartWorking(r,a)}}}async startWorkingBranchPrompt(e){e instanceof nr&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!i)||e instanceof nr&&((t=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),i=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),o=e.branchName&&r?[t,i,a]:[t,i,a];switch(await s.window.showQuickPick(o,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case i:{const k=na.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(k)return RA(e.manager,k,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(r=>({label:s.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),i=await s.window.showQuickPick(t);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof nr)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof nr)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var i;if(t||e!=null&&e.document.isUntitled)return t;let r="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((i=a==null?void 0:a.repository)==null?void 0:i.state.workingTreeChanges.find(u=>u.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),a){const u=a.gitRelativeRootPath(e.document.uri.path);r+=s.l10n.t(`In file {0}
`,u)}}return r+=(await Rh(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let i,r,a,o,u,k;if(!e&&s.window.activeTextEditor)i=s.window.activeTextEditor.document,k=i.getText(s.window.activeTextEditor.selection);else if(e)i=e.document,a=e.insertIndex,o=e.lineNumber,r=e.line.substring(a,e.line.length).trim(),k=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const A=k.match(Sh);A&&A.length===2&&(await this._stateManager.getUserMap(i.uri)).has(A[1])&&(u=[A[1]]);const $=this.manager.getManagerForFile(i.uri);if($)try{const pe=$.gitHubRepositories[0];if(pe){const me=await $.getCurrentUser(pe);me!=null&&me.login&&((await $.getAssignableUsers())[pe.remote.remoteName]||[]).some(Ae=>Ae.login===me.login)&&(u?u.includes(me.login)||u.push(me.login):u=[me.login])}}catch(pe){y.debug(`Failed to auto-assign current user: ${pe}`,im.ID)}let Q;const re=await this.createTodoIssueBody(e,t),oe=s.window.createInputBox();oe.value=r!=null?r:"",oe.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),oe.title=s.l10n.t("Create Issue"),oe.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],oe.onDidAccept(async()=>{Q=oe.value,Q&&(oe.busy=!0,await this.doCreateIssue(i,e,Q,re,u,void 0,void 0,void 0,o,a),oe.busy=!1),oe.hide()}),oe.onDidTriggerButton(async()=>{Q=oe.value,oe.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:o,insertIndex:a},await this.makeNewIssueFile(i.uri,{title:Q,body:re,assignees:u}),oe.busy=!1,oe.hide()}),oe.show()}async makeNewIssueFile(e,t){var i,r,a;const o=this.manager.getManagerForFile(e);if(!o)return;const u=(i=o.findRepo(qe=>{var ot;return qe.remote.remoteName===((ot=t==null?void 0:t.remote)==null?void 0:ot.name)}))==null?void 0:i.remote.gitProtocol,k=u!=null&&u.url.toString().endsWith(".git")?u==null?void 0:u.url.toString().slice(0,-4):u==null?void 0:u.url.toString(),A=u?{owner:u==null?void 0:u.owner,repo:u==null?void 0:u.repositoryName,repoRootUri:o.repository.rootUri}:void 0,$=Q_({originUri:e,repoUriParams:A});if(s.window.visibleTextEditors.filter(qe=>qe.document.uri.scheme===Ut.NewIssue).length>0)return;await s.workspace.fs.delete($);const Q=`${pl} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(qe=>"@"+qe).join(", ")+" ":""}`,re=`${vl} ${t!=null&&t.labels&&t.labels.length>0?t.labels.join(", ")+" ":""}`,oe=`${vu} `,pe=`${gl} `,me=this._newIssueCache.get(),Ne=me&&me!==""?me:`${(r=t==null?void 0:t.title)!=null?r:s.l10n.t("Issue Title")}

${u?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",u.nameWithOwner,k)} -->
`:""}
${Q}
${re}
${oe}
${pe}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile($,this.stringToUint8Array(Ne));const Se=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Re=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ae=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Oe=s.window.onDidChangeActiveTextEditor(qe=>{if((qe==null?void 0:qe.document.uri.scheme)===Ut.NewIssue){const ot=u?4:2,kt=ot+0,bt=ot+1,fn=ot+3,cn=qe.document.lineAt(kt);cn.text.startsWith(pl)&&qe.setDecorations(Se,[new s.Range(new s.Position(kt,0),new s.Position(kt,cn.text.length))]);const On=qe.document.lineAt(bt);On.text.startsWith(vl)&&qe.setDecorations(Re,[new s.Range(new s.Position(bt,0),new s.Position(bt,On.text.length))]);const ve=qe.document.lineAt(fn);ve.text.startsWith(gl)&&qe.setDecorations(Ae,[new s.Range(new s.Position(fn,0),new s.Position(fn,ve.text.length))])}}),Ge=await s.window.showTextDocument($),We=s.workspace.onDidCloseTextDocument(qe=>{qe===Ge.document&&(Oe.dispose(),We.dispose())})}async verifyLabels(e,t){var i;if(!t.labels)return!0;const r=(await e.getLabels(void 0,t)).map(u=>u.name),a=[],o=[];if((i=t.labels)==null||i.forEach(u=>{let k=typeof u=="string"?u:u.name;k&&(r.includes(k)?o.push(k):a.push(k))}),a.length>0){const u=s.l10n.t("Yes"),k=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},u,k)){case u:return!0;case k:return t.labels=o,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const r of this.manager.folderManagers)try{const a=await r.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:r})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const i=await s.window.showQuickPick(t,{placeHolder:e});return i==null?void 0:i.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0,labels:void 0,assignees:void 0,name:void 0,about:void 0};const r=(await Promise.all(t.map(async o=>{try{const u=await s.workspace.fs.readFile(o),k=new TextDecoder("utf-8").decode(u);return this.getDataFromTemplate(k)}catch(u){y.warn(`Reading issue template failed: ${u}`);return}}))).filter(o=>!!o&&!!(o!=null&&o.name)).map(o=>({label:o.name,description:o.about,template:o}));r.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0,labels:void 0,assignees:void 0,name:void 0,about:void 0}});const a=await s.window.showQuickPick(r,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,i,r,a,o,u,k,A,$;try{const Ae=uy(e);if(Ae&&typeof Ae=="object"&&Ae.name&&Ae.body)return this.parseYamlTemplate(Ae)}catch{}const Q=(i=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:i.replace(/^["']|["']$/g,""),re=(a=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:a.replace(/^["']|["']$/g,""),oe=(u=(o=e.match(/about:\s*(.*)/))==null?void 0:o[1])==null?void 0:u.replace(/^["']|["']$/g,""),pe=(k=e.match(/labels:\s*(.*)/))==null?void 0:k[1],me=pe?pe.split(",").map(Ae=>Ae.trim()).filter(Ae=>Ae):void 0,Ne=(A=e.match(/assignees:\s*(.*)/))==null?void 0:A[1],Se=Ne?Ne.split(",").map(Ae=>Ae.trim()).filter(Ae=>Ae):void 0,Re=($=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:$[2];return{title:Q,name:re,about:oe,labels:me,assignees:Se,body:Re}}parseYamlTemplate(e){var t,i,r,a,o;const u=e.name,k=e.description||e.about,A=e.title,$=e.labels&&Array.isArray(e.labels)?e.labels:void 0,Q=e.assignees&&Array.isArray(e.assignees)?e.assignees:void 0;let re="";if(e.body&&Array.isArray(e.body))for(const oe of e.body)oe.type==="markdown"&&((t=oe.attributes)!=null&&t.value)?re+=oe.attributes.value+`

`:oe.type==="textarea"&&((i=oe.attributes)!=null&&i.label)?(re+=`## ${oe.attributes.label}

`,oe.attributes.description&&(re+=`${oe.attributes.description}

`),oe.attributes.placeholder?re+=`${oe.attributes.placeholder}

`:oe.attributes.value&&(re+=`${oe.attributes.value}

`)):oe.type==="input"&&((r=oe.attributes)!=null&&r.label)?(re+=`## ${oe.attributes.label}

`,oe.attributes.description&&(re+=`${oe.attributes.description}

`),oe.attributes.placeholder&&(re+=`${oe.attributes.placeholder}

`)):oe.type==="dropdown"&&((a=oe.attributes)!=null&&a.label)?(re+=`## ${oe.attributes.label}

`,oe.attributes.description&&(re+=`${oe.attributes.description}

`),oe.attributes.options&&Array.isArray(oe.attributes.options)&&(re+=oe.attributes.options.map(pe=>typeof pe=="string"?`- ${pe}`:`- ${pe.label||""}`).join(`
`)+`

`)):oe.type==="checkboxes"&&((o=oe.attributes)!=null&&o.label)&&(re+=`## ${oe.attributes.label}

`,oe.attributes.description&&(re+=`${oe.attributes.description}

`),oe.attributes.options&&Array.isArray(oe.attributes.options)&&(re+=oe.attributes.options.map(pe=>`- [ ] ${typeof pe=="string"?pe:pe.label||""}`).join(`
`)+`

`));return{title:A,name:u,about:k,labels:$,assignees:Q,body:re.trim()||void 0}}async doCreateIssue(e,t,i,r,a,o,u,k,A,$,Q){let re,oe;if(Q&&Q.scheme===Ut.Repo){const Ne=mf(Q);if(Ne&&(re={owner:Ne.owner,repo:Ne.repo,base:""},oe=this.manager.getManagerForFile(Ne.repoRootUri)),!oe)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),y.error(`Could not find the folder manager for the issue originUri: ${Q.toString()}`,im.ID),!1}oe||(e?oe=this.manager.getManagerForFile(e.uri):Q&&(oe=this.manager.getManagerForFile(Q))),oe||(oe=await this.chooseRepo(s.l10n.t("Choose where to create the issue.")));const pe=a==null?void 0:a.filter(Ne=>!pi[Ne]),me=!!(a!=null&&a.find(Ne=>pi[Ne]));return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async Ne=>{var Se;if(!oe)return!1;const Re=oe;Ne.report({message:s.l10n.t("Verifying that issue data is valid...")});try{re||(re=await Re.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const Ae=r||t!=null&&t.document.isUntitled?r:(await Rh(this.manager,this.gitAPI,!0,!0,t)).permalink,Oe={owner:re.owner,repo:re.repo,title:i,body:Ae,assignees:pe,labels:o,milestone:u};if(!await this.verifyLabels(Re,Oe))return!1;Ne.report({message:s.l10n.t("Creating issue in {0}...",`${Oe.owner}/${Oe.repo}`)});const Ge=await Re.createIssue(Oe);if(Ge){if(me){const We=(await oe.getAssignableUsers())[Ge.remote.remoteName].find(qe=>pi[qe.login]);We&&await Ge.replaceAssignees([...(Se=Ge.assignees)!=null?Se:[],We])}if(k&&await Ge.updateProjects(k),e!==void 0&&$!==void 0&&A!==void 0){const We=new s.WorkspaceEdit,qe=s.workspace.getConfiguration(Tn).get(jr,"number")==="number"?`#${Ge.number}`:Ge.html_url;We.insert(e.uri,new s.Position(A,$),` ${qe}`),await s.workspace.applyEdit(We)}else{const We=s.l10n.t("Copy Issue Link"),qe=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the editor to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),We,qe).then(async ot=>{switch(ot){case We:await s.env.clipboard.writeText(Ge.html_url);break;case qe:const kt={owner:Ge.remote.owner,repo:Ge.remote.repositoryName,number:Ge.number};await ao.createOrShow(this.telemetry,this.context.extensionUri,Re,kt,Ge);break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,i,r){const a=await _A(e,this.gitAPI,t,i,void 0,r),o=a.find(u=>u.error);return o&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",o.error)),a}async getHeadLinkWithError(e,t){const i=await EA(this.manager,e,t);if(i.length>0){const r=i.find(a=>a.error);r&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error))}return i}async getContextualizedLink(e,t){let i;try{i=await s.env.asExternalUri(e)}catch{return t}const r=i.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(i.authority)?i.authority:void 0;if(!r)return t;const a=s.Uri.parse(t),o=/^(github)\./.test(i.authority)?a.path:`/github${a.path}`;return a.with({authority:r,path:o}).toString()}async permalinkInfoToClipboardText(e,t=!1){const i=e.filter(r=>!!r.permalink);if(i.length!==0){const a=(await Promise.all(i.map(async o=>t&&o.originalFile?await this.getContextualizedLink(o.originalFile,o.permalink):o.permalink))).join(`
`);return y.debug(`Will write ${a} to the clipboard`,wo),a}}async copyPermalink(e,t,i=!0,r=!0,a=!1){const o=await this.getPermalinkWithError(e,i,r,t),u=await this.permalinkInfoToClipboardText(o,a);if(u)return s.env.clipboard.writeText(u)}async copyHeadLink(e,t=!0){const i=await this.getHeadLinkWithError(e,t),r=await this.permalinkInfoToClipboardText(i);if(r)return s.env.clipboard.writeText(r)}getMarkdownLinkText(e){if(!s.window.activeTextEditor)return;if(e&&!(e instanceof s.NotebookRange)){const r=s.window.activeTextEditor.document.getText(e);if(r)return r}let t=s.window.activeTextEditor.selection;t.start.line!==t.end.line&&(t=new s.Range(t.start,new s.Position(t.start.line+1,0)));const i=s.window.activeTextEditor.document.getText(t);if(i)return i;if(t=s.window.activeTextEditor.document.getWordRangeAtPosition(t.start),t)return s.window.activeTextEditor.document.getText(t)}async copyMarkdownPermalink(e,t,i=!0){const a=(await this.getPermalinkWithError(e,i,!0,t)).filter(u=>!!u.permalink);if(a.length===1){const u=this.getMarkdownLinkText(a[0].range);if(u)return s.env.clipboard.writeText(`[${u.trim()}](${a[0].permalink})`)}const o=a.map(u=>{var k,A;return`[${(0,K.basename)((A=(k=u.originalFile)==null?void 0:k.fsPath)!=null?A:"")}](${u.permalink})`}).join(`
`);return y.debug(`writing ${o} to the clipboard`,wo),s.env.clipboard.writeText(o)}async openPermalink(e){const i=(await this.getPermalinkWithError(e,!0,!0)).filter(r=>!!r.permalink);if(i.length>0)return s.env.openExternal(s.Uri.parse(i[0].permalink))}async assignToCodingAgent(e){var t,i;if(e&&e instanceof nr)try{const r=this.manager.getManagerForIssueModel(e);if(!r){s.window.showErrorMessage(s.l10n.t("Failed to find repository for issue #{0}",e.number));return}const o=(t=(await r.getAssignableUsers())[e.remote.remoteName])==null?void 0:t.find(u=>pi[u.login]);if(!o){s.window.showErrorMessage(s.l10n.t("Copilot coding agent is not available for assignment in this repository"));return}await e.replaceAssignees([...(i=e.assignees)!=null?i:[],o]),s.window.showInformationMessage(s.l10n.t("Issue #{0} has been assigned to Copilot coding agent",e.number))}catch(r){s.window.showErrorMessage(s.l10n.t("Failed to assign issue to coding agent: {0}",r.message))}}};Jd(Iy,"ID","IssueFeatureRegistrar");let iP=Iy;var rP=Object.defineProperty,aP=(n,e,t)=>e in n?rP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ra=(n,e,t)=>aP(n,typeof e!="symbol"?e+"":e,t);const sP="currentIssue",Ih="issues",Xd=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class qF extends nr{constructor(){super(...arguments),ra(this,"uri")}}class oP{constructor(e,t,i){this.gitAPI=e,this.manager=t,this.context=i,ra(this,"resolvedIssues",new Map),ra(this,"_singleRepoStates",new Map),ra(this,"_onRefreshCacheNeeded",new s.EventEmitter),ra(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),ra(this,"_onDidChangeIssueData",new s.EventEmitter),ra(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),ra(this,"_queries",[]),ra(this,"_onDidChangeCurrentIssue",new s.EventEmitter),ra(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),ra(this,"initializePromise"),ra(this,"statusBarItem"),ra(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,t){let i=this._singleRepoStates.get(e.path);if(i)return i;if(t||(t=this.manager.getManagerForFile(e)),!!t)return i={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,i),i}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===Hr.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===Hr.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(i,r){var a;const o=i.getOrCreateSingleRepoState(r.rootUri);if(!o)return;const u=o.lastHead,k=o.lastBranch,A=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==u&&await i.setIssueData(o.folderManager);const $=(a=r.state.HEAD)==null?void 0:a.name;(u!==A||k!==$)&&(!o.currentIssue||$!==o.currentIssue.branchName)&&($?o.folderManager&&await i.setCurrentIssueFromBranch(o,$,!0):await i.setCurrentIssue(o,void 0,!!$)),o.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,o.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function t(i,r){i.context.subscriptions.push(r.state.onDidChange(async()=>{e(i,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(i=>{e(this,i),t(this,i)})),this.gitAPI.repositories.forEach(i=>{t(this,i)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(Tn,null).get(pn,Xd),this._queries.length===0&&(this._queries=Xd),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${Tn}.${pn}`)?(this._queries=s.workspace.getConfiguration(Tn,null).get(pn,Xd),this._onRefreshCacheNeeded.fire()):i.affectsConfiguration(`${Tn}.${ba}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),s.workspace.getConfiguration(vt).get(es,!1)||await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const i of this.manager.folderManagers){this.context.subscriptions.push(i.onDidChangeRepositories(async o=>{if(o.added){const u=this.getOrCreateSingleRepoState(i.repository.rootUri);u&&(u.issueCollection.size===0||(await Promise.all(u.issueCollection.values())).some(k=>k.issues===void 0))&&this.refresh(i)}}));const r=this.getOrCreateSingleRepoState(i.repository.rootUri,i);if(!r)continue;r.lastHead=i.repository.state.HEAD?i.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(i.repository.rootUri.path,r);const a=(e=i.repository.state.HEAD)==null?void 0:e.name;!r.currentIssue&&a&&await this.setCurrentIssueFromBranch(r,a,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(Ih),t=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const r in t.issues)t.issues[r].stateModifiedTime<i&&(t.branches&&t.branches[r]&&delete t.branches[r],delete t.issues[r])}async getUsers(e){var t;await this.initializePromise;const i=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),r=new Map;for(const a in i)i[a].forEach(o=>{r.set(o.login,o)});return r}async getUserMap(e){const t=this.getOrCreateSingleRepoState(e);return!this.initializePromise||!t?Promise.resolve(new Map):((!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap)}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,i;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);if(!r)return;r.issueCollection.clear();const a=io(e.repository).filter(u=>u.isEnterprise),o=await this.getCurrentUser(a.length?Fn.githubEnterprise:Fn.github);for(let u of this._queries){let k;u.query===Da&&(u=Xd[0]),k=this.setIssues(e,no(u.query,void 0,void 0,o).trim()).then(A=>{var $;return{groupBy:($=u.groupBy)!=null?$:[],issues:A}}),k&&r.issueCollection.set(u.label,k)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,r.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,t){return new Promise(async i=>{const r=await e.getIssues(t,{fetchNextPage:!1,fetchOnePagePerRepo:!0});this._onDidChangeIssueData.fire(),i(r==null?void 0:r.items.map(a=>{const o=a;return o.uri=e.repository.rootUri,o}))})}async setCurrentIssueFromBranch(e,t,i=!1){if(s.workspace.getConfiguration(Tn).get(Wr)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const o=this.getSavedState();for(const u in o.branches)if(u===t){const k=await e.folderManager.resolveIssue(o.branches[u].owner,o.branches[u].repositoryName,o.branches[u].number);k&&await this.setCurrentIssue(e,new dy(k,e.folderManager,this),!1,i);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,i;return(i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,t,i,r=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof vo){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;const o=s.workspace.getConfiguration(Tn).get(Wr)==="off"?!1:i;e.currentIssue&&await e.currentIssue.stopWorking(o),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(sP,t==null?void 0:t.issue.number),(!t||await t.startWorking(r))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const i=this.statusBarItem;i.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>Ho(r.issue,r.repoDefaults)).join(", ")),i.tooltip=e.map(r=>r.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(Ih);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const i=this.getSavedState();return i.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Ih,JSON.stringify(i))}}var bu=rn(60937);class lP extends bu.PromptElement{render(e,t){const i=["Instructions:","- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.","- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.","- Don't ask the user for confirmation to use tools, just use them.","- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:","  - The fact that there are no comments.","  - Any info that seems like template info."].join(`
`),r={ctor:bu.AssistantMessage,props:{},children:[i]},a={ctor:bu.UserMessage,props:{},children:[this.props.userMessage]};return{ctor:bu.Chunk,props:{},children:[r,a]}}}const Dy="TOOL_MARKDOWN_RESULT",Dh="TOOL_COMMAND_RESULT";class xy{constructor(e){this.chatParticipantState=e}}async function ko(n){let e="";for await(const t of n)e+=t;return e}class wu extends xy{constructor(e,t,i){super(i),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new Wu;let t,i,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,i=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],t&&i)await r.createGitHubRepositoryFromOwnerName(t,i);else{const a=await r.getPullRequestDefaults();a?(t=a.owner,i=a.repo):(t=r.gitHubRepositories[0].remote.owner,i=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!t||!i)throw new Error(`No repository found for ${t}/${i}. Make sure to have the repository open.`);return{owner:t,name:i,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(Fn.githubEnterprise)&&$a()?e=Fn.githubEnterprise:this.credentialStore.isAuthenticated(Fn.github)&&(e=Fn.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var uP=Object.defineProperty,dP=(n,e,t)=>e in n?uP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cP=(n,e,t)=>dP(n,typeof e!="symbol"?e+"":e,t);class fP{constructor(){cP(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const i of t.content)if(i instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const i of t.content)if(i instanceof s.LanguageModelTextPart)return i}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class hP extends f{constructor(e,t){super(),this.state=t;const i=this._register(s.chat.createChatParticipant("githubpr",(r,a,o,u)=>this.handleParticipantRequest(r,a,o,u)));i.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,i,r){this.state.reset();const o=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],u=[];for(const oe of s.lm.tools)(e.tools.has(oe)&&e.tools.get(oe)||oe.name.startsWith("github-pull-request"))&&u.push(oe);const{messages:k}=await(0,bu.renderPrompt)(lP,{userMessage:e.prompt},{modelMaxPromptTokens:o.maxInputTokens},o);this.state.addMessages(k);const A=[...e.toolReferences],$={justification:"Answering user questions pertaining to GitHub."},Q=[],re=async()=>{const oe=A.shift();oe?($.toolMode=s.LanguageModelChatToolMode.Required,$.tools=u.filter(Ne=>Ne.name===oe.name)):($.toolMode=void 0,$.tools=u);const pe=[],me=await o.sendRequest(this.state.messages,$,r);for await(const Ne of me.stream)if(Ne instanceof s.LanguageModelTextPart)i.markdown(Ne.value);else if(Ne instanceof s.LanguageModelToolCallPart){const Se=s.lm.tools.find(Oe=>Oe.name===Ne.name);if(!Se)throw new Error("Got invalid tool choice: "+Ne.name);let Re;try{Re=Ne.input}catch(Oe){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(Ne.input)}". (${Oe.message})`)}const Ae={input:Re,toolInvocationToken:e.toolInvocationToken};pe.push({call:Ne,result:s.lm.invokeTool(Se.name,Ae,r),tool:Se})}if(pe.length){const Ne=s.LanguageModelChatMessage.Assistant("");Ne.content=pe.map(Re=>new s.LanguageModelToolCallPart(Re.call.callId,Re.tool.name,Re.call.input)),this.state.addMessage(Ne);let Se=!1;for(const Re of pe){let Ae=await Re.result;const Oe=[];let Ge;for(let qe=0;qe<Ae.content.length;qe++){const ot=Ae.content[qe];if(!(ot instanceof s.LanguageModelTextPart)){Ge=new s.LanguageModelToolResultPart(Re.call.callId,Ae.content);continue}if(ot.value===Dy){const kt=new s.MarkdownString(Ae.content[++qe].value);kt.supportHtml=!0,i.markdown(kt),Se=!0}else ot.value===Dh?Q.push(JSON.parse(Ae.content[++qe].value)):Ge?Oe.push(ot):Ge=new s.LanguageModelToolResultPart(Re.call.callId,[ot])}const We=s.LanguageModelChatMessage.User("");if(We.content=[Ge],this.state.addMessage(We),Oe.length){const qe=s.LanguageModelChatMessage.User("");qe.content=Oe,this.state.addMessage(qe)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${pe.map(Re=>Re.tool.name).join(", ")}. ${Se?"The user can see the result of the tool call.":""}`)),re()}};await re(),this.addButtons(i,Q)}addButtons(e,t){for(const i of t)e.button(i)}}var mP=Object.defineProperty,pP=(n,e,t)=>e in n?mP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vP=(n,e,t)=>pP(n,typeof e!="symbol"?e+"":e,t);class Oy{constructor(e){this.folderManagers=e}_getPullRequestLabel(e){return`${e.title} (#${e.number})`}async prepareInvocation(){const e=this._findActivePullRequest();if(!e)return{pastTenseMessage:s.l10n.t("No active pull request"),invocationMessage:s.l10n.t("Reading active pull request"),confirmationMessages:{title:this._confirmationTitle(),message:s.l10n.t("Allow reading the details of the active pull request?")}};const t=this._getPullRequestLabel(e);return{pastTenseMessage:s.l10n.t('Read pull request "{0}"',t),invocationMessage:s.l10n.t('Reading pull request "{0}"',t),confirmationMessages:{title:this._confirmationTitle(),message:s.l10n.t('Allow reading the details of "{0}"?',t)}}}async invoke(e,t){var i,r,a,o,u,k,A;let $=this._findActivePullRequest();if(!$)return new s.LanguageModelToolResult([new s.LanguageModelTextPart("There is no active pull request")]);const Q=await $.getStatusChecks(),re=$.timelineEvents&&$.timelineEvents.length>0?$.timelineEvents:await $.getTimelineEvents(),oe={title:$.title,body:$.body,author:$.author,assignees:$.assignees,comments:$.comments.map(me=>{var Ne;return{author:(Ne=me.user)==null?void 0:Ne.login,body:me.body,commentState:me.isResolved?"resolved":"unresolved",file:me.path}}),timelineComments:re.filter(me=>me.event===nn.Reviewed||me.event===nn.Commented).map(me=>{var Ne;return{author:(Ne=me.user)==null?void 0:Ne.login,body:me.body,commentType:me.event===nn.Reviewed?me.state:"COMMENTED"}}),state:$.state,statusChecks:(i=Q[0])==null?void 0:i.statuses.map(me=>({context:me.context,description:me.description,state:me.state,name:me.workflowName,targetUrl:me.targetUrl})),reviewRequirements:{approvalsNeeded:(a=(r=Q[1])==null?void 0:r.count)!=null?a:0,currentApprovals:(u=(o=Q[1])==null?void 0:o.approvals.length)!=null?u:0,areChangesRequested:((A=(k=Q[1])==null?void 0:k.requestedChanges.length)!=null?A:0)>0},isDraft:$.isDraft?"is a draft and cannot be merged until marked as ready for review":"false",changes:(await $.getFileChangesInfo()).map(me=>{var Ne;return me instanceof Fs?((Ne=me.diffHunks)==null?void 0:Ne.map(Se=>Se.diffLines.map(Re=>Re.raw).join(`
`)).join(`
`))||"":`File: ${me.fileName} was ${me.status===Qt.ADD?"added":me.status===Qt.DELETE?"deleted":"modified"}.`})},pe=new s.ExtendedLanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(oe))]);return pe.toolResultDetails=[s.Uri.parse($.html_url)],pe}}class xh extends Oy{_findActivePullRequest(){const e=this.folderManagers.folderManagers.find(t=>t.activePullRequest);return e==null?void 0:e.activePullRequest}_confirmationTitle(){return s.l10n.t("Active Pull Request")}}vP(xh,"toolId","github-pull-request_activePullRequest");var gP=Object.defineProperty,yP=(n,e,t)=>e in n?gP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ly=(n,e,t)=>yP(n,typeof e!="symbol"?e+"":e,t);const bP=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,Oh=class rm extends xy{constructor(e,t){super(t),this.context=e}assistantPrompt(e){const t=Object.keys(e[0]);return`${bP}
${t.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const i=e.split(`
`),r=Object.keys(t[0]),a=[];for(let o of i)if(o=o.trim(),o!=="")if(r.includes(o))a.push(o);else{const u=o.split(" ");if(u.length>1){const k=u[u.length-1];r.includes(k)&&a.push(k)}}return a}async getImportantColumns(e,t,i){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],o={justification:"Answering user questions pertaining to GitHub."},u=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];u.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const k=await a.sendRequest(u,o,i),A=this.postProcess(await ko(k.text),t),$=A.indexOf("url");return A.length===0?["number","title","state"]:($>=0&&A.splice($,1),A)}renderUser(e){return`[@${ks(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(i=>{var r,a;switch(i){case"number":return`[${e[i]}](${e.url})`;case"labels":return(r=e[i])==null?void 0:r.map(k=>k!=null&&k.name&&k.color?op({name:k.name,color:k.color}):"").join(", ");case"assignees":return(a=e[i])==null?void 0:a.map(k=>this.renderUser(k)).join(", ");case"author":const o=e[i];return o?this.renderUser(o):"";case"createdAt":case"updatedAt":const u=e[i];return u?new Date(u).toLocaleDateString():"";case"milestone":return e[i];default:return e[i]}}).join(" | ")} |`}foundIssuesCount(e){var t,i;return e.totalIssues!==void 0?e.totalIssues:(i=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?i:0}async prepareInvocation(e){const i=this.foundIssuesCount(e.input),r=Math.min(10,i);return r===0?{invocationMessage:s.l10n.t("No issues found")}:r<i?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,r)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(e,t){await Ms(this.context);const i=this.chatParticipantState.firstUserMessage,r=e.input.arrayOfIssues;if(!r||r.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);y.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${r[0].number}`,rm.ID);const a=await this.getImportantColumns(i,r,t),o=`| ${a.join(" | ")} |`;y.debug(`Columns ${o} issues`,rm.ID);const u=`| ${a.map(()=>"---").join(" | ")} |
`,k=new s.MarkdownString(o);return k.supportHtml=!0,k.appendMarkdown(`
`),k.appendMarkdown(u),k.appendMarkdown(r.slice(0,10).map(A=>this.issueToRow(A,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(Dy),new s.LanguageModelTextPart(k.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Ly(Oh,"toolId","github-pull-request_renderIssues"),Ly(Oh,"ID","DisplayIssuesTool");let Uy=Oh;var wP=Object.defineProperty,kP=(n,e,t)=>e in n?wP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_P=(n,e,t)=>kP(n,typeof e!="symbol"?e+"":e,t);class Lh extends wu{async invoke(e,t){var i,r,a,o,u,k,A;const $=e.input.issueNumber;if(!$)throw new Error("No issue/pull-request number provided.");const{owner:Q,name:re,folderManager:oe}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),pe=await oe.resolveIssueOrPullRequest(Q,re,$);if(!pe)throw new Error(`No issue or pull request found for ${Q}/${re}/${$}. Make sure the issue or pull request exists.`);const me={owner:Q,repo:re,title:pe.title,body:pe.body,comments:(o=(a=pe.item.comments)==null?void 0:a.map(Ne=>({body:Ne.body,author:Ne.author.login})))!=null?o:[],author:(u=pe.author)==null?void 0:u.login,assignees:(k=pe.assignees)==null?void 0:k.map(Ne=>Ne.login),reviewers:pe instanceof mi?(A=pe.reviewers)==null?void 0:A.map(Ne=>Bi(Ne)?Ne.name:Ne.login).filter(Ne=>!!Ne):void 0};if(pe instanceof mi&&pe.isResolved()){const Ne=await pe.getFileChangesInfo(),Se=[];for(const Re of Ne)Re instanceof Fs&&Se.push({fileName:Re.fileName,patch:Re.patch});me.fileChanges=Se}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(me)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,i;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:r,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(i=e.input.repo)==null?void 0:i.name}),o=r&&a?`https://github.com/${r}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:o?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,o)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}_P(Lh,"toolId","github-pull-request_issue_fetch");var SP=Object.defineProperty,EP=(n,e,t)=>e in n?SP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,RP=(n,e,t)=>EP(n,typeof e!="symbol"?e+"":e,t);class Uh extends wu{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var i,r;const a=this.getGitHub();if(!a)return;const o=e.input.thread_id;if(o===void 0)return;const k=(await a.octokit.api.activity.getThread({thread_id:o})).data,A=k.subject.url.split("/").pop();if(A===void 0)return;const $=k.updated_at,Q=(i=k.last_read_at)!=null?i:void 0,re=k.unread,oe=k.repository.owner.login,pe=k.repository.name,{folderManager:me}=await this.getRepoInfo({owner:oe,name:pe}),Ne=await me.resolveIssueOrPullRequest(oe,pe,Number(A));if(!Ne)throw new Error(`No notification found with thread ID #${o}.`);const Se=Ne instanceof mi?"pr":"issue",Re=np(oe,pe,String(Ne.number)),Ae=(r=Ne.item.comments)!=null?r:[];let Oe;Q!==void 0&&Ae?Oe=Ae.filter(We=>We.createdAt>Q).map(We=>({body:We.body,author:We.author.login})):Oe=Ae.map(We=>({body:We.body,author:We.author.login}));const Ge={lastReadAt:Q,lastUpdatedAt:$,unread:re,comments:Oe,threadId:o,notificationKey:Re,title:Ne.title,body:Ne.body,owner:oe,repo:pe,itemNumber:A,itemType:Se};if(Ne instanceof mi){const We=await Ne.getFileChangesInfo(),qe=[];for(const ot of We)ot instanceof Fs&&qe.push({fileName:ot.fileName,patch:ot.patch});Ge.fileChanges=qe}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ge)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}RP(Uh,"toolId","github-pull-request_notification_fetch");var NP=Object.defineProperty,TP=(n,e,t)=>e in n?NP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,CP=(n,e,t)=>TP(n,typeof e!="symbol"?e+"":e,t);class Bh extends Oy{_findActivePullRequest(){var e;const t=(e=ir.currentPanel)==null?void 0:e.getCurrentItem();if(t)return t;const i=s.window.tabGroups.activeTabGroup.activeTab;if((i==null?void 0:i.input)instanceof s.TabInputTextDiff){const r=i.input,a=[r.original,r.modified];for(const o of a)if(o.scheme===Ut.Pr){const u=ki(o);if(u)return this._findPullRequestByNumber(u.prNumber,u.remoteName)}else if(o.scheme===Ut.Review){const u=ta(o.query);if(u){const k=s.Uri.file(u.rootPath),A=this.folderManagers.getManagerForFile(k);return A==null?void 0:A.activePullRequest}}}else if((i==null?void 0:i.input)instanceof s.TabInputText){const r=i.input;if(r.uri.scheme===Ut.Pr){const a=ki(r.uri);if(a)return this._findPullRequestByNumber(a.prNumber,a.remoteName)}else if(r.uri.scheme===Ut.Review){const a=ta(r.uri.query);if(a){const o=s.Uri.file(a.rootPath),u=this.folderManagers.getManagerForFile(o);return u==null?void 0:u.activePullRequest}}}}_findPullRequestByNumber(e,t){for(const i of this.folderManagers.folderManagers)for(const r of i.gitHubRepositories)if(r.remote.remoteName===t){for(const a of r.pullRequestModels)if(a.number===e)return a}}_confirmationTitle(){return s.l10n.t("Open Pull Request")}}CP(Bh,"toolId","github-pull-request_openPullRequest");var AP=Object.defineProperty,PP=(n,e,t)=>e in n?AP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zd=(n,e,t)=>PP(n,typeof e!="symbol"?e+"":e,t),MP=(n=>(n.is="is",n.type="type",n.state="state",n.in="in",n.linked="linked",n.status="status",n.draft="draft",n.review="review",n.no="no",n))(MP||{});const By={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},qh=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,$h=class Cb extends wu{async fullQueryAssistantPrompt(e){var t,i,r,a;const o=(a=(r=(t=e.activePullRequest)==null?void 0:t.remote)!=null?r:(i=e.activeIssue)==null?void 0:i.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${o.owner}/${o.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(By)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")&&!i.name.includes("issue")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,i=>i.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const i=o=>o==="AND"||o==="OR",r=e.split(qh).map(o=>o.trim());let a=[];for(let o of r){if(i(o)){if(a.length===0)continue;a.length>0&&i(a[a.length-1])?a[a.length-1]=o:a.push(o);continue}const u=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,k=o.match(u);let A=o;k&&(A=k[1]),t.find($=>$.name===A)&&a.push(A)}return a.length>0&&i(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,i){return i=i.trim(),i.includes("issue")||i.match(qh)||i.toLowerCase()==="none"||e.includes(i)||t.includes(i)||t.some(r=>i.includes(r)||r.includes(i))||Object.keys(By).find(r=>i.includes(r)||r.includes(i))?"":i}validateQuery(e,t,i){let r="";const a=e.split(qh);for(const u of a){if(u.startsWith("label:"))continue;const k=u.split(":");if(k.length===2){const $=k[0].startsWith("-")?k[0].substring(1):k[0],Q=k[1];if(!$.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart($,Q)||$==="no"&&Q==="label"&&t.length>0)continue}r=`${r} ${u}`}const o=this.validateFreeForm(r,t,i);return r=`${r} ${t.map(u=>`label:${u}`).join(" ")} ${o}`,r.trim()}postProcess(e,t,i){const r=this.findQuery(e);if(!r)return;const a=this.validateQuery(r,i,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,i=/org:([^ ]+)/,r=e.match(t),a=e.match(i);let o=e.trim(),u,k;if(r){const A=r[1];if(A.includes("/")){const $=A.split("/");u=$[0],k=$[1]}a&&A.includes("/")?o=e.replace(i,""):a&&(o=e.replace(t,`repo:${a[1]}/${A}`),u=a[1],k=A)}return{query:o,repo:u&&k?{owner:u,name:k}:void 0}}findQuery(e){if(e.includes("```")){const i=e.indexOf("```"),r=e.indexOf("```",i+3);return e.substring(i+3,r)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const i of t)if(i.includes(":"))return i}async generateLabelQuery(e,t,i,r,a,o){const u=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];u.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const k=await r.sendRequest(u,i,o);return ko(k.text)}async generateFreeFormQuery(e,t,i,r,a,o){const u=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];u.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,r)));const k=await i.sendRequest(u,t,o);return ko(k.text)}async generateQuery(e,t,i,r,a){const o=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];o.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(r)));const u=await i.sendRequest(o,t,a);return ko(u.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var i,r,a;const{owner:o,name:u,folderManager:k}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),A=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,$=await k.getLabels(void 0,{owner:o,repo:u}),re=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],oe={justification:"Answering user questions pertaining to GitHub."},[pe,me]=await Promise.all([this.generateQuery(k,oe,re,A,t),this.generateLabelQuery(k,$,oe,re,A,t)]),Ne=this.validateLabelsList(me,$),Se=await this.generateFreeFormQuery(k,oe,re,A,Ne,t),Re=this.postProcess(pe,Se,Ne);if(!Re)throw new Error("Unable to form a query.");y.debug(`Query \`${Re.query}\``,Cb.ID);const Ae={query:Re.query,repo:{owner:o,name:u}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ae)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};Zd($h,"toolId","github-pull-request_formSearchQuery"),Zd($h,"ID","ConvertToSearchSyntaxTool");let qy=$h;const Hh=class am extends wu{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,i=new s.MarkdownString;return i.appendText(s.l10n.t('Searching for issues with "{0}".',t)),i.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",NA(this.toGitHubUrl(t)))),{invocationMessage:i}}async invoke(e,t){var i,r,a,o;const{folderManager:u}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),k=e.input.query;y.debug(`Searching with query \`${k}\``,am.ID);const A=await u.getIssues(k);if(!A)throw new Error(`No issues found for ${k}. Make sure the query is valid.`);const Q={arrayOfIssues:A.items.slice(0,30).map(re=>{var oe,pe;const me=re.item;return{title:me.title,url:me.url,number:me.number,labels:me.labels.map(Ne=>({name:Ne.name,color:Ne.color})),state:me.state,assignees:(oe=me.assignees)==null?void 0:oe.map(Ne=>({login:Ne.login,url:Ne.url})),createdAt:me.createdAt,updatedAt:me.updatedAt,author:{login:me.user.login,url:me.user.url},milestone:(pe=me.milestone)==null?void 0:pe.title,commentCount:me.commentCount,reactionCount:me.reactionCount}}),totalIssues:(a=A.totalCount)!=null?a:A.items.length};return y.debug(`Found ${Q.totalIssues} issues, first issue ${(o=Q.arrayOfIssues[0])==null?void 0:o.number}.`,am.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Q)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${k} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};Zd(Hh,"toolId","github-pull-request_doSearch"),Zd(Hh,"ID","SearchTool");let $y=Hh;var FP=Object.defineProperty,IP=(n,e,t)=>e in n?FP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,DP=(n,e,t)=>IP(n,typeof e!="symbol"?e+"":e,t);class Gh extends wu{constructor(e,t,i){super(e,t,i)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var i,r;const a=e.input.repo,o=a==null?void 0:a.owner,u=a==null?void 0:a.name,k=e.input.issueNumber;if(!a||!o||!u||!k)return;const{folderManager:A}=await this.getRepoInfo(a);if(!A)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const $=await A.resolveIssue(o,u,k,!0);if(!$)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const Q={title:$.title,body:$.body,comments:(r=(i=$.item.comments)==null?void 0:i.map(Oe=>({body:Oe.body})))!=null?r:[]},re=[];re.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),re.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),re.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),re.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),re.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),re.push(s.LanguageModelChatMessage.User(`Issue Title: ${Q.title}`)),re.push(s.LanguageModelChatMessage.User(`Issue Body: ${Q.body}`)),Q.comments.forEach((Oe,Ge)=>{re.push(s.LanguageModelChatMessage.User(`Comment ${Ge}: ${Oe.body}`))});const oe=s.lm.tools.find(Oe=>Oe.tags.includes("vscode_codesearch"));if(!oe)throw new Error("Could not find the code search tool");const me=(await s.lm.invokeTool(oe.name,{toolInvocationToken:void 0,input:{query:Q.title}},t)).content[0];if(me instanceof s.LanguageModelTextPart){re.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const Oe=s.LanguageModelChatMessage.User("");Oe.content=[me],re.push(Oe)}const Re=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(re,{},t);let Ae="";for await(const Oe of Re.text)Ae+=Oe;return new s.LanguageModelToolResult([new s.LanguageModelTextPart(Ae)])}}DP(Gh,"toolId","github-pull-request_suggest-fix");var xP=Object.defineProperty,OP=(n,e,t)=>e in n?xP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,LP=(n,e,t)=>OP(n,typeof e!="symbol"?e+"":e,t);class Vh{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const i=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',i)}}async invoke(e,t){let i=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){i+=`
The following are the files changed:
`;for(const $ of r.values())i+=`
File : ${$.fileName}
Patch: ${$.patch}
`}const a=e.input.comments;if(a)for(const[$,Q]of a.entries())i+=`
Comment ${$} :
Author: ${Q.author}
Body: ${Q.body}
`;const u=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],k=e.input.repo,A=e.input.owner;if(u&&k&&A){const $=[s.LanguageModelChatMessage.User(this.summarizeInstructions(k,A))];$.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),$.push(s.LanguageModelChatMessage.User(i));const Q=await u.sendRequest($,{}),re=await ko(Q.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(re)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(i)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and pull requests (PRs).
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

If the content contains images in Markdown format (e.g., ![alt text](image-url)), always preserve them in the output exactly as they appear. Images are important visual content and should not be removed or summarized.

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}LP(Vh,"toolId","github-pull-request_issue_summarize");var UP=Object.defineProperty,BP=(n,e,t)=>e in n?UP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qP=(n,e,t)=>BP(n,typeof e!="symbol"?e+"":e,t);class jh{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const i=t.itemType==="issue"?"issues":"pull",r=`https://github.com/${t.owner}/${t.repo}/${i}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,r))}}async invoke(e,t){let i="";e.input.lastReadAt||(i+="This thread is viewed for the first time. Here is the main item information of the thread:"),i+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){i+=`
The following are the files changed:
`;for(const pe of a.values())i+=`
File : ${pe.fileName}
Patch: ${pe.patch}
`}const o=e.input.comments;if(o&&o.length>0){i+=`
The following are the unread comments of the thread:
`;for(const[pe,me]of o.entries())i+=`
Comment ${pe} :
Author: ${me.author}
Body: ${me.body}
`}const k=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],A=[],$=e.input.threadId,Q=e.input.notificationKey;if($&&Q){const pe={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:$,notificationKey:Q}]},me={title:"Mark As Done",command:"notification.markAsDone",arguments:[{threadId:$,notificationKey:Q}]};A.push(new s.LanguageModelTextPart(Dh)),A.push(new s.LanguageModelTextPart(JSON.stringify(pe))),A.push(new s.LanguageModelTextPart(Dh)),A.push(new s.LanguageModelTextPart(JSON.stringify(me)))}const re=e.input.owner,oe=e.input.repo;if(k&&re&&oe){const pe=[s.LanguageModelChatMessage.User(this.summarizeInstructions(re,oe))];pe.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),pe.push(s.LanguageModelChatMessage.User(i));const me=await k.sendRequest(pe,{}),Ne=await ko(me.text);A.push(new s.LanguageModelTextPart(Ne))}else A.push(new s.LanguageModelTextPart(i));return A.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(A)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

If the content contains images in Markdown format (e.g., ![alt text](image-url)), always preserve them in the output exactly as they appear. Images are important visual content and should not be removed or summarized.

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}qP(jh,"toolId","github-pull-request_notification_summarize");function $P(n,e,t,i){HP(n,e,t,i),GP(n),VP(n,e,t,i),jP(n,e,t,i),n.subscriptions.push(s.lm.registerTool(xh.toolId,new xh(t))),n.subscriptions.push(s.lm.registerTool(Bh.toolId,new Bh(t)))}function HP(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Lh.toolId,new Lh(e,t,i))),n.subscriptions.push(s.lm.registerTool(Uh.toolId,new Uh(e,t,i)))}function GP(n){n.subscriptions.push(s.lm.registerTool(Vh.toolId,new Vh)),n.subscriptions.push(s.lm.registerTool(jh.toolId,new jh))}function VP(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Gh.toolId,new Gh(e,t,i)))}function jP(n,e,t,i){n.subscriptions.push(s.lm.registerTool(qy.toolId,new qy(e,t,i))),n.subscriptions.push(s.lm.registerTool($y.toolId,new $y(e,t,i))),n.subscriptions.push(s.lm.registerTool(Uy.toolId,new Uy(n,i)))}const Hy="prompts",Gy="createPROnPublish";async function WP(n){await zP(),await KP(n),await QP(n)}async function zP(){Uf(Hy,Gy)===!1&&(await s.workspace.getConfiguration(vt).update(ze,"never",s.ConfigurationTarget.Global),Bf(Hy,Gy,!0))}const ec="hasMigratedQueries";async function KP(n){const e=n.globalState.get(ec,!1),t=n.workspaceState.get(ec,!1);if(e&&t)return;const i=s.workspace.getConfiguration(vt),r=i.inspect(pn),a=o=>o.map(u=>xf(u)||Of(u)?u:{label:u.label,query:u.query.includes("repo:")?u.query:`repo:\${owner}/\${repository} ${u.query}`});!e&&(r!=null&&r.globalValue)&&await i.update(pn,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(ec,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(pn,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(ec,!0)}const tc="hasMigratedDefaultQueries4";async function QP(n){const e=n.globalState.get(tc,!1),t=n.workspaceState.get(tc,!1);if(e&&t)return;const i=s.workspace.getConfiguration(vt),r=i.inspect(pn),a=o=>{const u=o.some(A=>xf(A)),k=o.some(A=>Of(A));return u||o.unshift({label:Va.Queries.LOCAL,query:Va.Values.DEFAULT}),k||o.push({label:Va.Queries.ALL,query:Va.Values.DEFAULT}),o};!e&&(r!=null&&r.globalValue)&&await i.update(pn,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(tc,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(pn,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(tc,!0)}var YP=Object.defineProperty,JP=(n,e,t)=>e in n?YP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Or=(n,e,t)=>JP(n,typeof e!="symbol"?e+"":e,t),nc=(n=>(n.Timestamp="Timestamp",n.Priority="Priority",n))(nc||{});const Wh=class dc extends f{constructor(e,t,i,r){super(),this._notificationProvider=e,this._credentialStore=t,this._repositoriesManager=i,this._context=r,Or(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Or(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Or(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Or(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Or(this,"_pageCount",1),Or(this,"_hasNextPage",!1),Or(this,"_dateTime",new Date),Or(this,"_fetchNotifications",!1),Or(this,"_notifications",new Map),Or(this,"_pollingDuration",60),Or(this,"_pollingHandler"),Or(this,"_pollingLastModified"),Or(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications),this._startPolling(),this._register(s.workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(`${vt}.${Sn}`)&&this.isPRNotificationsOn()&&!this._pollingHandler&&this._startPolling()})),this._register(ir.onVisible(a=>{this.markPrNotificationsAsRead(a)}))}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return Jl(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}async resolveTreeItem(e,t){return Jl(t)&&(e.tooltip=await this._notificationMarkdownHover(t)),e}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,i=new s.TreeItem(t,s.TreeItemCollapsibleState.None),r=e.notification,a=e.model;return r.subject.type===qr.Issue&&a instanceof nr&&(i.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("github.issues.closed"))),r.subject.type===qr.PullRequest&&a instanceof mi&&(i.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):a.isMerged?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged")):new s.ThemeIcon("git-pull-request-closed",new s.ThemeColor("pullRequests.closed"))),i.description=`${r.owner}/${r.name}`,i.contextValue=r.subject.type,i.resourceUri=hf({key:e.notification.key}),e.model instanceof mi?i.command={command:"pr.openDescription",title:s.l10n.t("Open Pull Request Description"),arguments:[e.model]}:i.command={command:"issue.openDescription",title:s.l10n.t("Open Issue Description"),arguments:[e.model]},i}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async _notificationMarkdownHover(e){const t=new s.MarkdownString(void 0,!0);t.supportHtml=!0;const i=e.notification,r=e.model;if(i.subject.type===qr.Issue)return await Ls(r,this._context,this._repositoriesManager);if(i.subject.type===qr.PullRequest)return await Ls(r,this._context,this._repositoriesManager);const a=`${i.owner}/${i.name}`;return t.appendMarkdown(`[${a}](https://github.com/${a})  
`),t.appendMarkdown(`**${i.subject.title}**  
`),t.appendMarkdown(`Type: ${i.subject.type}  
`),t.appendMarkdown(`Updated: ${i.updatedAt.toLocaleString()}  
`),t.appendMarkdown(`Reason: ${i.reason}  
`),t}get prNotifications(){return Array.from(this._notifications.values()).filter(e=>e.notification.subject.type===qr.PullRequest).map(e=>e.model)}async getNotifications(){let e=this._pollingDuration,t=this._pollingLastModified;if(this._fetchNotifications){const r=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!r)return;e=r.pollInterval,t=r.lastModified;const a=new Map;await Promise.all(r.notifications.map(async o=>{const u=await this._notificationProvider.getNotificationModel(o);u&&a.set(o.key,{notification:o,model:u,kind:"notification"})}));for(const[o,u]of a.entries())this._notifications.set(o,u);this._hasNextPage=r.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const r=Array.from(this._notifications.values()).filter(o=>o.priority===void 0),a=await this._notificationProvider.getNotificationsPriority(r);for(const{key:o,priority:u,priorityReasoning:k}of a){const A=this._notifications.get(o);A&&(A.priority=u,A.priorityReason=k,this._notifications.set(o,A))}}const i=Array.from(this._notifications.values());return this._updateContext(),this._onDidChangeNotifications.fire(i),{notifications:this._sortNotifications(i),hasNextPage:this._hasNextPage,pollInterval:e,lastModified:t}}_updateContext(){const e=this._notifications.size;ft.setContext(Mt.NOTIFICATION_COUNT,e===0?-1:e)}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}async markAsDone(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsDone(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}_isBot(e){return!!(e.accountType===Yr.Bot||e.login.endsWith("[bot]")||dc.AUTOMATED_USERS.includes(e.login))}_getMeaningfulEventTime(e,t,i){const r=a=>{if(i)return a===t;if(!i)return a!==t};if(e.event===nn.Committed){if(!this._isBot(e.author)&&r(e.author.login))return new Date(e.committedDate)}else if(e.event===nn.Commented){if(e.user&&!this._isBot(e.user)&&r(e.user.login))return new Date(e.createdAt)}else if(e.event===nn.Reviewed&&(i||e.comments.length>0||e.body.length>0)&&e.user&&!this._isBot(e.user)&&r(e.user.login))return new Date(e.submittedAt)}async markPullRequests(e=!1){const t=Array.from(this._notifications.values()).filter(a=>a.notification.subject.type===qr.PullRequest),i=await Promise.all(t.map(a=>a.model.getActivityTimelineEvents())),r=[];for(const[a,o]of t.entries()){const u=await this._credentialStore.getCurrentUser(o.model.remote.authProviderId),k=i[a];let A,$;for(let Q=k.length-1;Q>=0;Q--){const re=k[Q];if(A||(A=this._getMeaningfulEventTime(re,u.login,!0)),$||($=this._getMeaningfulEventTime(re,u.login,!1)),A&&$)break}(!$||A&&A.getTime()>$.getTime())&&(e?r.push(this._notificationProvider.markAsDone({threadId:o.notification.id,notificationKey:o.notification.key})):r.push(this._notificationProvider.markAsRead({threadId:o.notification.id,notificationKey:o.notification.key})),this._notifications.delete(o.notification.key))}await Promise.all(r),this.refresh()}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,i)=>i.notification.updatedAt.getTime()-t.notification.updatedAt.getTime()):this._sortingMethod==="Priority"?e.sort((t,i)=>Number(i.priority)-Number(t.priority)):e}isPRNotificationsOn(){return s.workspace.getConfiguration(vt).get(Sn)==="pullRequests"}async _pollForNewNotifications(){this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._fetchNotifications=!0;const e=await this.getNotifications();e&&(e.pollInterval!==this._pollingDuration&&(this._pollingDuration=e.pollInterval,this._pollingHandler&&this.isPRNotificationsOn()&&(y.appendLine("Notifications: Clearing interval",dc.ID),clearInterval(this._pollingHandler),y.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`,dc.ID),this._startPolling())),e.lastModified!==this._pollingLastModified&&(this._pollingLastModified=e.lastModified,this._onDidChangeTreeData.fire()))}_startPolling(){this.isPRNotificationsOn()&&(this._pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e._pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)}))}_findNotificationKeyForIssueModel(e){for(const[t,i]of this._notifications.entries())if(e instanceof nr||e instanceof mi){if(i.model.equals(e))return t}else if(i.notification.owner===e.owner&&i.notification.name===e.repo&&i.model.number===e.number)return t}markPrNotificationsAsRead(e){const t=this._findNotificationKeyForIssueModel(e);t&&this.markAsRead({threadId:this._notifications.get(t).notification.id,notificationKey:t})}hasNotification(e){return this._findNotificationKeyForIssueModel(e)!==void 0}};Or(Wh,"ID","NotificationsManager"),Or(Wh,"AUTOMATED_USERS",["vs-code-engineering"]);let XP=Wh;var ZP=Object.defineProperty,eM=(n,e,t)=>e in n?ZP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vy=(n,e,t)=>eM(n,typeof e!="symbol"?e+"":e,t);class tM extends f{constructor(e){super(),this._notificationsManager=e,Vy(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),Vy(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const i=t.map(r=>hf({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(i)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${vt}.${bs}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(i=>hf({key:i.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(vt).get(bs,!1)}provideFileDecoration(e,t){var i,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==nc.Priority)return;const a=K_(e);if(!a)return;const o=this._notificationsManager.getNotification(a.key),u=(o==null?void 0:o.priority)==="100"?"99":(i=o==null?void 0:o.priority)!=null?i:"0";return{badge:u,tooltip:s.l10n.t("Priority score is {0}. {1}",u,(r=o==null?void 0:o.priorityReason)!=null?r:"")}}}function nM(){return s.workspace.getConfiguration(vt).get(zs,!1)?ft.QUICK_CHAT_OPEN:ft.OPEN_CHAT}class iM extends f{constructor(e,t,i,r){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=i;const a=new tM(r);this._register(s.window.registerFileDecorationProvider(a)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:r})),r.refresh(),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),r.sortNotifications(nc.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),r.sortNotifications(nc.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),r.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),r.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",o=>{Jl(o)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(nM(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",o.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",o=>{const{threadId:u,notificationKey:k}=this._extractMarkAsCommandOptions(o);this._telemetry.sendTelemetryEvent("notification.markAsRead"),r.markAsRead({threadId:u,notificationKey:k})})),this._register(s.commands.registerCommand("notification.markAsDone",o=>{const{threadId:u,notificationKey:k}=this._extractMarkAsCommandOptions(o);this._telemetry.sendTelemetryEvent("notification.markAsDone"),r.markAsDone({threadId:u,notificationKey:k})})),this._register(s.commands.registerCommand("notifications.markPullRequestsAsRead",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsRead"),r.markPullRequests()))),this._register(s.commands.registerCommand("notifications.markPullRequestsAsDone",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsDone"),r.markPullRequests(!0)))),this._register(s.commands.registerCommand("notifications.configureNotificationsViewlet",()=>(this._telemetry.sendTelemetryEvent("notifications.configureNotificationsViewlet"),s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} notifications`)))),this._register(G(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{r.refresh()}))}_extractMarkAsCommandOptions(e){let t,i;const r=e;if(Jl(e))t=e.notification.id,i=e.notification.key;else if(r.threadId!==void 0&&r.notificationKey!==void 0)t=r.threadId,i=r.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(e)}`);return{threadId:t,notificationKey:i}}}var rM=Object.defineProperty,aM=(n,e,t)=>e in n?rM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jy=(n,e,t)=>aM(n,typeof e!="symbol"?e+"":e,t);const Wy=class Ab extends f{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,jy(this,"_authProvider");const i=()=>{e.isAuthenticated(Fn.githubEnterprise)&&$a()?this._authProvider=Fn.githubEnterprise:e.isAuthenticated(Fn.github)&&(this._authProvider=Fn.github)};i(),this._register(e.onDidChangeSessions(r=>{i()}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async markAsDone(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsDone,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var i,r;const a=this._getGitHub();if(a===void 0||this._repositoriesManager.folderManagers.length===0)return;const o=s.workspace.getConfiguration(vt).get(ua,50),{data:u,headers:k}=await a.octokit.call(a.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:o}),A=u.map(Q=>ik(Q)).filter(Q=>!!Q),$=Number(k["x-poll-interval"]);return y.debug(`Notifications: Fetched ${A.length} notifications. Poll interval: ${$}`,Ab.ID),{notifications:A,hasNextPage:((i=k.link)==null?void 0:i.includes('rel="next"'))===!0,pollInterval:$,lastModified:(r=k["last-modified"])!=null?r:""}}async getNotificationModel(e){var t,i;const r=e.subject.url;if(typeof r!="string")return;const a=r.split("/").pop();if(a===void 0)return;const o=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];let u;const k=e.subject.type===qr.Issue;if(u=k?await o.resolveIssue(e.owner,e.name,parseInt(a),!0,!0):await o.resolvePullRequest(e.owner,e.name,parseInt(a),!0),u){const A=u.lastCheckedForUpdatesAt;e.updatedAt.getTime()>((i=A==null?void 0:A.getTime())!=null?i:0)&&(u=k?await o.resolveIssue(e.owner,e.name,parseInt(a),!0,!1):await o.resolvePullRequest(e.owner,e.name,parseInt(a),!1))}return u}async getNotificationsPriority(e){if(s.workspace.getConfiguration(ln).get(yn,!1))return[];const t=5,i=[];for(let o=0;o<e.length;o+=t)i.push(e.slice(o,o+t));const r=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(i.map(o=>this._prioritizeNotificationBatch(o,r[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const i=(await this._credentialStore.getCurrentUser(Fn.github)).login,r=[s.LanguageModelChatMessage.User(oM(i))];for(const[u,k]of e.entries()){const A=k.model;if(!A)continue;let $=this._getBasePrompt(A,u);$+=await this._getLabelsPrompt(A),$+=await this._getCommentsPrompt(A),r.push(s.LanguageModelChatMessage.User($))}r.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(r,{}),o=await ko(a.text);return this._updateNotificationsWithPriorityFromLLM(e,o)}catch(i){return console.log(i),[]}}_getBasePrompt(e,t){var i;const r=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(i=e.item.reactionCount)!=null?i:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let i="";return t.length>0&&(i=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),i}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let i=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const a=Math.max(0,t.length-5);for(let o=a;o<t.length;o++){const u=t.at(o);i+=`

Comment ${r} for notification:
\u2022 Body:
${u.body}
\u2022 Reaction Count: ${u.reactionCount}`,r+=1}return i}_updateNotificationsWithPriorityFromLLM(e,t){const i=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let o=0;o<e.length;o++){const u=i.exec(t);if(u){const k=r.exec(t);a.push({key:e[o].notification.key,priority:u[1],priorityReasoning:k?k[1].trim():void 0})}}return a}};jy(Wy,"ID","NotificationsProvider");let sM=Wy;function oM(n){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${n}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${n}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}var lM=Object.defineProperty,uM=(n,e,t)=>e in n?lM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zh=(n,e,t)=>uM(n,typeof e!="symbol"?e+"":e,t);class dM extends f{constructor(){super(),zh(this,"_themeData"),zh(this,"_onDidChangeTheme",this._register(new s.EventEmitter)),zh(this,"onDidChangeTheme",this._onDidChangeTheme.event),this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${it}.${Lt}`)&&await this.updateTheme()})),this.updateTheme()}async updateTheme(){this._themeData=await jS(),this._onDidChangeTheme.fire(this._themeData)}get themeData(){return this._themeData}}var cM=Object.defineProperty,fM=(n,e,t)=>e in n?cM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hM=(n,e,t)=>fM(n,typeof e!="symbol"?e+"":e,t);const ic="pendingCheckoutPullRequest";function zy(n,e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Checking out pull request #{0} from {1}/{2}",t,n,e),cancellable:!0},async(r,a)=>a.isCancellationRequested?Promise.resolve(void 0):i(r,a))}async function Ky(n,e,t,i,r){try{let a;if(await zy(t,i,r,async(u,k)=>{u.report({message:s.l10n.t("Resolving pull request")}),a=await e.resolvePullRequest(t,i,r)}),!a){s.window.showErrorMessage(s.l10n.t("Pull request #{0} not found in {1}/{2}.",r,t,i)),y.warn(`Pull request #${r} not found for checkout.`,rc.ID);return}if(!await pM(t,i,r))return;await n.switchToPr(e,a,void 0,!1)}catch(a){y.error(`Error during pull request checkout: ${a instanceof Error?a.message:String(a)}`,rc.ID)}}async function mM(n,e,t){const i=e.globalState.get(ic);if(!i)return;const r=5*60*1e3;if(!i.timestamp||Date.now()-i.timestamp>r){await e.globalState.update(ic,void 0),y.debug("Stale pending checkout entry cleared (older than 5 minutes).",rc.ID);return}const a=async()=>{const o=t.getManagerForRepository(i.owner,i.repo);return o?(await Ky(n,o,i.owner,i.repo,i.pullRequestNumber),await e.globalState.update(ic,void 0),!0):!1};if(!await a()){const o=t.onDidLoadAnyRepositories(async()=>{await a()&&o.dispose()})}}async function pM(n,e,t){const i=s.l10n.t("Checkout pull request #{0} from {1}/{2}?",t,n,e),r=s.l10n.t("Checkout");return await s.window.showInformationMessage(i,{modal:!0},r)===r}const Qy=class Vs{constructor(e,t,i,r,a){this._reposManagers=e,this._reviewsManagers=t,this._telemetry=i,this._context=r,this._git=a}async handleUri(e){switch(e.path){case Yl.OpenIssueWebview:return this._openIssueWebview(e);case Yl.OpenPullRequestWebview:return this._openPullRequestWebview(e);case Yl.CheckoutPullRequest:return this._checkoutPullRequest(e);case Yl.OpenPullRequestChanges:return this._openPullRequestChanges(e)}}async _openIssueWebview(e){var t;const i=Z_(e);if(!i)return;const r=(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],a={owner:i.owner,repo:i.repo,number:i.issueNumber};return ao.createOrShow(this._telemetry,this._context.extensionUri,r,a)}async _resolveIdentityFromUri(e){var t;const i=av(e);if(!i){s.window.showErrorMessage(s.l10n.t("Invalid pull request URI.")),y.error("Failed to parse pull request URI.",Vs.ID);return}return{folderManager:(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],identity:{owner:i.owner,repo:i.repo,number:i.pullRequestNumber}}}async _resolvePullRequestFromIdentity(e,t){const i=await t.resolvePullRequest(e.owner,e.repo,e.number);if(!i){s.window.showErrorMessage(s.l10n.t("Pull request {0}/{1}#{2} not found.",e.owner,e.repo,e.number)),y.error(`Pull request not found: ${e.owner}/${e.repo}#${e.number}`,Vs.ID);return}return i}async _openPullRequestWebview(e){const t=await this._resolveIdentityFromUri(e);if(t)return ir.createOrShow(this._telemetry,this._context.extensionUri,t.folderManager,t.identity)}async _openPullRequestChanges(e){const t=await this._resolveIdentityFromUri(e);if(!t)return;const i=await this._resolvePullRequestFromIdentity(t.identity,t.folderManager);if(i)return mi.openChanges(t.folderManager,i)}async _savePendingCheckoutAndOpenFolder(e,t){const i={...e,timestamp:Date.now()};await this._context.globalState.update(ic,i);const r=s.workspace.workspaceFolders===void 0||s.workspace.workspaceFolders.length===0;await ft.openFolder(t,{forceNewWindow:!r,forceReuseWindow:r})}async _checkoutPullRequest(e){const t=av(e);if(!t)return;const i=this._reposManagers.getManagerForRepository(t.owner,t.repo);if(i)return Ky(this._reviewsManagers,i,t.owner,t.repo,t.pullRequestNumber);await zy(t.owner,t.repo,t.pullRequestNumber,async(r,a)=>{if(!a.isCancellationRequested)try{r.report({message:s.l10n.t("Locating workspace")});const o=s.Uri.parse(`https://github.com/${t.owner}/${t.repo}`),u=await this._git.getRepositoryWorkspace(o);if(a.isCancellationRequested)return;u&&u.length?(y.appendLine(`Found workspaces for ${o.toString()}: ${u.map(k=>k.toString()).join(", ")}`,Vs.ID),r.report({message:s.l10n.t("Opening workspace")}),await this._savePendingCheckoutAndOpenFolder(t,u[0])):this._showCloneOffer(o,t)}catch(o){y.error(`Failed attempting workspace open for checkout PR: ${o instanceof Error?o.message:String(o)}`,Vs.ID)}})}async _showCloneOffer(e,t){const i=s.l10n.t("Clone Repository"),r=await s.window.showErrorMessage(s.l10n.t("Could not find a folder for repository {0}/{1}. Please clone or open the repository manually.",t.owner,t.repo),i);if(y.warn(`No repository workspace found for ${e.toString()}`,Vs.ID),r===i)try{const a=await this._git.clone(e,{postCloneAction:"none"});a?await this._savePendingCheckoutAndOpenFolder(t,a):y.warn(`Clone API returned null for ${e.toString()}`,Vs.ID)}catch(a){y.error(`Failed to clone repository via API: ${a instanceof Error?a.message:String(a)}`,Vs.ID)}}};hM(Qy,"ID","UriHandler");let rc=Qy;var vM=Object.defineProperty,gM=(n,e,t)=>e in n?vM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yl=(n,e,t)=>gM(n,typeof e!="symbol"?e+"":e,t);class Kh extends f{constructor(){super(),yl(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),yl(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,i){const r=i.path,a=s.Uri.joinPath(e.repository.rootUri,r),o=t.fileChanges.get(r);if(o){const u=cf(a,t.number,r,o.status,o.previousFileName);this._onDidChangeFileDecorations.fire(u),this._onDidChangeFileDecorations.fire(u.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(u.with({scheme:Ut.Pr,authority:""}))}}}class yM extends f{constructor(e){super(),this._repositoriesManager=e,yl(this,"_gitHubReposListeners",[]),yl(this,"_pullRequestListeners",[]),yl(this,"_pullRequestPropertyChangeListeners",[]),yl(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(i=>i.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const r=t.pullRequestModels.map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){d(this._gitHubReposListeners),d(this._pullRequestListeners),d(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),d(this._gitHubReposListeners),d(this._pullRequestListeners),d(this._pullRequestPropertyChangeListeners),d(this._providers)}}class bM extends Kh{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(i=>{[...i.added,...i.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,t,r)})})}provideFileDecoration(e,t){if(e.scheme!==Ut.Pr&&e.scheme!==Ut.File&&e.scheme!==Ut.Review&&e.scheme!==Ut.FileChange)return;const i=ev(e),r=this._repositoriesManager.getManagerForFile(e);if(i&&r&&r.gitHubRepositories.find(o=>{const u=o.getExistingPullRequestModel(i.prNumber);if(u!=null&&u.reviewThreadsCache.find(k=>k.path===i.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}class wM extends Kh{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChange(i=>{if(i.timeline){const r=nv(t.remote.owner,t.remote.repositoryName,t.number);this._onDidChangeFileDecorations.fire(r)}})}provideFileDecoration(e,t){if(e.scheme!==Ut.CommitsNode)return;const i=z_(e);if(!i)return;const r=this._repositoriesManager.getManagerForRepository(i.owner,i.repo);if(r){const a=r.findExistingGitHubRepository({owner:i.owner,repositoryName:i.repo});if(a){const o=a.getExistingPullRequestModel(i.prNumber);if(o){const u=o.item.commits.length;return{badge:u.toString(),tooltip:s.l10n.t("{0} commits",u)}}}}}}var kM=Object.defineProperty,_M=(n,e,t)=>e in n?kM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gs=(n,e,t)=>_M(n,typeof e!="symbol"?e+"":e,t);function Yy(n){switch(n){case gt.DELETED:return Qt.DELETE;case gt.ADDED_BY_US:case gt.INDEX_ADDED:return Qt.ADD;case gt.INDEX_RENAMED:return Qt.RENAME;case gt.MODIFIED:return Qt.MODIFY;default:return Qt.UNKNOWN}}class SM extends fr{constructor(e,t,i,r){super(e),this.model=t,this.commit=i,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?te(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:i}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),r=i.files;return r?r.map(a=>new Sd(this,a.filename,a.previous_filename,ql(a.status),this.parentRef,this.commit.sha,!1)):[]}}class EM extends fr{constructor(e,t,i,r){super(e),this.commit=t,this.folderRepoManager=i,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?te(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const i=K.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=K.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Sd(this,i,r,Yy(t.status),this.parentRef,this.commit.hash,!0)})}}const Jy=class Pb extends f{constructor(e){super(),this.model=e,gs(this,"_view"),gs(this,"_children"),gs(this,"_onDidChangeTreeData",new s.EventEmitter),gs(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),i=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:i})}catch(e){const t=e;return e.name&&t.name==="HttpError"&&t.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return y.error(`Comparing changes failed: ${t}`,Pb.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Ut.GithubPr||t.input.modified.scheme===Ut.GitPr)&&s.window.tabGroups.close(t)}))}};gs(Jy,"ID","CompareChangesTreeProvider");let Qh=Jy;class RM extends Qh{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:i}=await this.getRawGitHubData();if(t&&i)return this.view.message=this.addReviewMessage(),t.map(r=>new Sd(this,r.filename,r.previous_filename,ql(r.status),i,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const i=K.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=K.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Sd(this,i,r,Yy(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const i=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));i.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(i)}return this.getGitFileChildren(t)}}}class NM extends Qh{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((i,r)=>new SM(this,this.model,i,r===0?this.model.baseBranch:t[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((i,r)=>new EM(this,i,this.folderRepoManager,r===0?this.model.baseBranch:t[r-1].hash)))}}class Xy extends f{constructor(e,t){super(),this.model=t,gs(this,"_filesView"),gs(this,"_filesDataProvider"),gs(this,"_commitsView"),gs(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new RM(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new NM(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider(Ut.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider(Ut.GitPr,this.model.gitContentProvider)),this._register(l(()=>Qh.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Ut.GithubPr||t.input.modified.scheme===Ut.GitPr)&&s.window.tabGroups.close(t)}))}}var TM=Object.defineProperty,CM=(n,e,t)=>e in n?TM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kr=(n,e,t)=>CM(n,typeof e!="symbol"?e+"":e,t);const Zy=class sm extends f{constructor(e,t,i,r,a,o){super(),this.folderRepositoryManager=e,this.repositoryName=o,kr(this,"_baseOwner"),kr(this,"_baseBranch"),kr(this,"_compareOwner"),kr(this,"_compareBranch"),kr(this,"_constructed"),kr(this,"_onDidChange",new s.EventEmitter),kr(this,"onDidChange",this._onDidChange.event),kr(this,"_compareGitHubRepository"),kr(this,"_gitLog"),kr(this,"_gitFiles"),kr(this,"_compareHasUpstream",!1),kr(this,"_gitHubMergeBase"),kr(this,"_gitHubLog"),kr(this,"_gitHubFiles"),kr(this,"_gitHubcontentProvider"),kr(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=i,this._compareBranch=a,this._gitcontentProvider=new Q1(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(u=>u.remote.owner===r&&u.remote.repositoryName===o),this._gitHubcontentProvider=new Pv(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(u=>this.setCompareBranch(a).then(u)),this.compareOwner=r,this._register(e.repository.state.onDidChange(()=>{var u;((u=e.repository.state.HEAD)==null?void 0:u.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const i=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(r=>{var a;return(a=r.fetchUrl)==null?void 0:a.toLowerCase().includes(i)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let i=!1;e&&(i=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(i=!0,e&&(this._compareBranch=e)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){var t;const i=await this.folderRepositoryManager.repository.getBranch(e);if(this._compareHasUpstream=!!i.upstream,this._compareHasUpstream){const r=await((t=this.gitHubRepository)==null?void 0:t.hasBranch(e));this._compareHasUpstream=r===i.commit}return this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return y.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,sm.ID),i;y.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,sm.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:i}=await this._compareGitHubRepository.ensure(),{data:r}=await t.call(t.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=r.commits,this._gitHubFiles=(e=r.files)!=null?e:[],this._gitHubMergeBase=r.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};kr(Zy,"ID","CreatePullRequestDataModel");let AM=Zy;var PM=Object.defineProperty,MM=(n,e,t)=>e in n?PM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cr=(n,e,t)=>MM(n,typeof e!="symbol"?e+"":e,t);const FM=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),eb=class cc extends wp{constructor(e,t,i,r,a,o){super(i),this.telemetry=e,this.model=t,this._folderRepositoryManager=r,this._pullRequestDefaults=a,this._defaultCompareBranch=o,Cr(this,"viewType","github:createPullRequestWebview"),Cr(this,"_onDone",new s.EventEmitter),Cr(this,"onDone",this._onDone.event),Cr(this,"_firstLoad",!0),Cr(this,"initializeWhenVisibleDisposable"),Cr(this,"_alreadyInitializing"),Cr(this,"milestone"),Cr(this,"reviewers",[]),Cr(this,"assignees",[]),Cr(this,"projects",[]),Cr(this,"labels",[])}resolveWebviewView(e,t,i){return super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(vt).inspect(Yn);if(!t)return[];const i=new Array;return t.workspaceValue&&i.push(...t.workspaceValue),t.globalValue&&i.push(...t.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(o=>i.includes(o.name))}async getMergeConfiguration(e,t,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(i)}saveRecentlyUsedBranch(e,t,i){const r=`${e}/${t}`,a=this._folderRepositoryManager.context.workspaceState.get(Xc,{branches:{}});let o=a.branches[r]||[];o=o.filter(u=>u!==i),o.unshift(i),o=o.slice(0,10),a.branches[r]=o,this._folderRepositoryManager.context.workspaceState.update(Xc,a)}async initializeParams(e=!1){var t,i;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,i,r,a;const o=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[u,k,A]=await Promise.all([this.detectBaseMetadata(o),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(o),Ms(this._folderRepositoryManager.context)]),$={owner:(e=u==null?void 0:u.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=u==null?void 0:u.repositoryName)!=null?t:this._pullRequestDefaults.repo},Q={owner:A.remote.owner,repositoryName:A.remote.repositoryName},re=(i=u==null?void 0:u.branch)!=null?i:this._pullRequestDefaults.base,[oe,pe,me,Ne,Se]=await Promise.all([this.getTitleAndDescription(o,re),this.getMergeConfiguration($.owner,$.repositoryName),A.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(re,$.owner,$.repositoryName),this.getPullRequestDefaultLabels($)]),Re=s.workspace.getConfiguration(vt).get(Fi,"lastUsed"),Ae=this._folderRepositoryManager.context.workspaceState.get(Jc,void 0),Oe=dd(pe.mergeMethodsAvailability);let Ge=Oe,We=!1,qe=!1;Ge=Re==="lastUsed"&&(Ae!=null&&Ae.mergeMethod)?Ae==null?void 0:Ae.mergeMethod:Oe,Re==="lastUsed"?(Ge=(r=Ae==null?void 0:Ae.mergeMethod)!=null?r:Oe,We=!!(Ae!=null&&Ae.isDraft),qe=pe.viewerCanAutoMerge&&!!(Ae!=null&&Ae.autoMerge)):Re==="createDraft"?We=!0:Re==="createAutoMerge"&&(qe=pe.viewerCanAutoMerge),ft.setContext(Mt.CREATE_PR_PERMISSIONS,me);const ot=s.workspace.getConfiguration(vt).get(Ht),kt=!!this.getTitleAndDescriptionProvider("Copilot")&&ot==="Copilot",bt=ot==="template",fn=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;fn&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:fn});const cn=this._folderRepositoryManager.getAutoReviewer();return this.labels=Se.map(ve=>({...ve,displayName:Lo(ve.name)})),{canModifyBranches:!0,defaultBaseRemote:$,defaultBaseBranch:re,defaultCompareRemote:Q,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:oe.title,defaultDescription:oe.description,defaultMergeMethod:Ge,baseHasMergeQueue:!!Ne,remoteCount:k.length,allowAutoMerge:pe.viewerCanAutoMerge,mergeMethodsAvailability:pe.mergeMethodsAvailability,autoMergeDefault:qe,createError:"",labels:this.labels,isDraftDefault:We,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:fn,creating:!1,initializeWithGeneratedTitleAndDescription:kt,preReviewState:ud.None,preReviewer:cn==null?void 0:cn.title,reviewing:!1,usingTemplate:bt}}async doInitializeParams(){const e=await this.getCreateParams();return y.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,cc.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const i=s.workspace.getConfiguration(vt).get(Vt);if(!i)return;const r=no(i,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(r)try{const a=await e.githubRepository.resolveUser(r);a&&await e.replaceAssignees([a])}catch{y.error(`Unable to assign pull request to user ${r}.`,cc.ID)}}async enableAutoMerge(e,t,i){if(t&&i)return e.enableAutoMerge(i)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(i=>i.name))}async setAssignees(e,t){t.length?await e.replaceAssignees(t):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const i=[],r=[];for(const a of t)Bi(a)?r.push(a):i.push(a);await e.requestReview(i,r,!0)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>Me(e.owner,this.model.baseOwner)===0&&Me(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>Me(e.remote.owner,this.model.baseOwner)===0&&Me(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===e.remoteName);return Dp(this._folderRepositoryManager,t,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find($=>$.remote.remoteName===t.remoteName),[r,a,o]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);e=await Fp(this._folderRepositoryManager,t.remoteName,!!(r!=null&&r.organization),o,a,this.reviewers.map($=>({reviewer:$,state:"REQUESTED"})),[]),e.busy=!1;const u=Pe(e.onDidAccept).then(()=>e.selectedItems.filter($=>$.user)),k=Pe(e.onDidHide),A=await Promise.race([u,k]);e.busy=!0,A&&(this.reviewers=A.map($=>$.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){y.error(`Failed to add reviewers: ${be(i)}`,cc.ID),s.window.showErrorMessage(be(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(r=>r.remote.owner===e.owner&&r.remote.repositoryName===e.repositoryName),i=await s.window.showQuickPick(Mp(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Add assignees")});if(i){const r=new Set,a=i.map(o=>o.user).filter(o=>o&&!r.has(o.login)?(r.add(o.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{Ip(this._folderRepositoryManager,e,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(xp(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(e=i.newLabels,i.labelPicks)),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const i=t.map(r=>e.find(a=>a.name===r.name));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const i=this.labels.length;this.labels=this.labels.filter(r=>r.name!==t.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,i,r){const a={isDraft:e,autoMerge:t,autoMergeMethod:r?"merge":i,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async openDescriptionSettings(){return s.commands.executeCommand("workbench.action.openSettings","githubPullRequests.pullRequestDescription")}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);case"pr.openDescriptionSettings":return this.openDescriptionSettings();default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=Zc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};Cr(eb,"ID","CreatePullRequestViewProvider");let tb=eb;function nb(n){return{owner:n.owner,repositoryName:n.repositoryName}}class _r extends tb{constructor(e,t,i,r,a){super(e,t,i,r,a,t.compareBranch),Cr(this,"viewType","github:createPullRequestWebview"),Cr(this,"lastGeneratedTitleAndDescription"),Cr(this,"generatingCancellationToken"),Cr(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async o=>{var u,k;let A,$;if(o.baseOwner){const pe=(u=this._folderRepositoryManager.findRepo(me=>Me(me.remote.owner,o.baseOwner)===0&&Me(me.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:u.remote;A=pe?nb(pe):void 0,$=this.model.baseBranch}o.baseBranch&&($=o.baseBranch);let Q,re;if(o.compareOwner){const pe=(k=this._folderRepositoryManager.findRepo(me=>Me(me.remote.owner,o.compareOwner)===0&&Me(me.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:k.remote;Q=pe?nb(pe):void 0,re=this.model.compareBranch}o.compareBranch&&(re=o.compareBranch);const oe={baseRemote:A,baseBranch:$,compareRemote:Q,compareBranch:re,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:oe})}))}async existingPRMessage(){var e;const[t,i]=await Promise.all([hr.getMatchingPullRequestMetadataForBranch(this._folderRepositoryManager.repository,this.model.compareBranch),this.model.getCompareHasUpstream()]);if(!t||!i)return;const[r,a]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(t.owner,t.repositoryName,t.prNumber),this._folderRepositoryManager.repository.getBranch(this.model.compareBranch)]);return((e=r==null?void 0:r.head)==null?void 0:e.sha)===a.commit?s.l10n.t("A pull request already exists for this branch."):void 0}async setDefaultCompareBranch(e){this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(async t=>{const i={defaultTitle:t.title,defaultDescription:t.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:i})})}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var i;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(Jo(e.upstream.remote));if(a){const o=`${a.remote.owner}:${(i=e.name)!=null?i:""}`,u=`${this._pullRequestDefaults.owner}:${t}`,k=await r.compareCommits(u,o);return k==null?void 0:k.commits}}}async getTitleAndDescription(e,t){let i="",r="";const a=s.workspace.getConfiguration(vt).get(Ht);if(a==="none")return{title:i,description:r};const o=e.name,u=$=>`${$.charAt(0).toUpperCase()}${$.slice(1)}`;if(a==="branchName")return o&&(i=u(o)),{title:i,description:r};const k=await this._folderRepositoryManager.getOrigin(e);let A=this._pullRequestDefaults.base===e.name;y.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,_r.ID);try{const[$,Q,re]=await Promise.all([this.getTotalGitHubCommits(e,t),o?kS(X(this._folderRepositoryManager.getTipCommitMessage(o),5e3)):void 0,a==="template"?this.getPullRequestTemplate():void 0]),oe=$==null?void 0:$.filter(pe=>pe.parents.length<2);if(y.debug(`Total commits: ${oe==null?void 0:oe.length}`,_r.ID),oe===void 0?A=!1:oe&&oe.length>1&&(A=await k.getDefaultBranch()!==e.name),o&&!Q&&(y.appendLine("Timeout getting last commit message",_r.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),A&&o?i=u(o):o&&Q&&(i=Q.title),re&&(Q!=null&&Q.body)?r=`${Q.body}

${re}`:re?r=re:Q!=null&&Q.body&&this._pullRequestDefaults.base!==e.name&&(r=Q.body),!r){const pe=i.match(Ow),me=Is(pe);if(me!=null&&me.issueNumber&&!me.name&&!me.owner){r=`#${me.issueNumber}`;const Se=i.substr(0,i.indexOf(pe[0])).match(FM);Se&&(r=`${Se[0]} ${r}`)}}}catch($){y.debug(`Error while getting total commits: ${$}`,_r.ID)}return{title:i,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async changeTemplate(e){const t=await this._folderRepositoryManager.getAllPullRequestTemplates(this.model.baseOwner);if(!t||t.length===0){const r=s.l10n.t("Learn More"),a=s.l10n.t("Create Template"),o=await s.window.showQuickPick([{label:a,description:s.l10n.t("Create a new pull request template")},{label:r,description:s.l10n.t("Open GitHub documentation")}],{placeHolder:s.l10n.t("No pull request templates found"),ignoreFocusOut:!0});return(o==null?void 0:o.label)===r?s.env.openExternal(s.Uri.parse("https://docs.github.com/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository")):(o==null?void 0:o.label)===a&&await this.createPullRequestTemplate(),this._replyMessage(e,void 0)}const i=await s.window.showQuickPick(t.map((r,a)=>{const u=r.split(`
`)[0].trim()||s.l10n.t("Template {0}",a+1);return{label:u.substring(0,50)+(u.length>50?"...":""),description:s.l10n.t("{0} characters",r.length),template:r}}),{placeHolder:s.l10n.t("Select a pull request template"),ignoreFocusOut:!0});if(i){const r={description:i.template};return this._replyMessage(e,r)}return this._replyMessage(e,void 0)}async createPullRequestTemplate(){const e=[{label:".github/pull_request_template.md",description:s.l10n.t("Default location for a single template")},{label:"docs/pull_request_template.md",description:s.l10n.t("Alternative location in docs folder")},{label:".github/PULL_REQUEST_TEMPLATE/template.md",description:s.l10n.t("For multiple templates")}],t=await s.window.showQuickPick(e,{placeHolder:s.l10n.t("Choose where to create the pull request template"),ignoreFocusOut:!0});if(!t)return;const i=this._folderRepositoryManager.repository.rootUri,r=s.Uri.joinPath(i,t.label),a=`## Sample Pull Request Template Description

This is a sample pull request template. You can customize it to fit your project's needs.

Don't forget to commit your template file to the repository so that it can be used for future pull requests!
`;try{const o=t.label.split("/");let u=i;for(let $=0;$<o.length-1;$++){u=s.Uri.joinPath(u,o[$]);try{await s.workspace.fs.createDirectory(u)}catch(Q){if(Q instanceof s.FileSystemError&&Q.code!=="FileExists")throw Q}}const k=new TextEncoder;await s.workspace.fs.writeFile(r,k.encode(a));const A=await s.workspace.openTextDocument(r);await s.window.showTextDocument(A),s.window.showInformationMessage(s.l10n.t("Pull request template created at {0}",t.label))}catch(o){s.window.showErrorMessage(s.l10n.t("Failed to create pull request template: {0}",o instanceof Error?o.message:String(o)))}}async detectBaseMetadata(e){var t;const i=this.model.compareOwner,r=this.model.repositoryName,a=s.workspace.getConfiguration(vt).get(Ni);if(!e.name||a==="repositoryDefault")return;const o=this._folderRepositoryManager.findRepo(u=>Me(u.remote.owner,i)===0&&Me(u.remote.repositoryName,r)===0);if(!(a==="auto"&&((t=await(o==null?void 0:o.getMetadata()))!=null&&t.fork)))try{const u=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(u!=null&&u.name){const k=this._folderRepositoryManager.findRepo(A=>A.remote.remoteName===u.remote);if(k)return{branch:u.name,owner:k.remote.owner,repositoryName:k.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(i=>i.remote)).map(i=>({iconPath:new s.ThemeIcon("repo"),label:`${i.owner}/${i.repositoryName}`,remote:{owner:i.owner,repositoryName:i.repositoryName}}))}async processRemoteAndBranchResult(e,t,i){const[r,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);ft.setContext(Mt.CREATE_PR_PERMISSIONS,a);let o;if(i){const u=this.model.baseOwner!==t.remote.owner,k=u||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch,this.saveRecentlyUsedBranch(t.remote.owner,t.remote.repositoryName,t.branch);const A=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[$,Q,re]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(A,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let oe=!1;if($.viewerCanAutoMerge){const pe=s.workspace.getConfiguration(vt).get(Fi,"lastUsed"),me=this._folderRepositoryManager.context.workspaceState.get(Jc,void 0);oe=pe==="lastUsed"&&(me==null?void 0:me.autoMerge)||pe==="createAutoMerge"}o={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:r,defaultMergeMethod:dd($.mergeMethodsAvailability),allowAutoMerge:$.viewerCanAutoMerge,baseHasMergeQueue:!!re,mergeMethodsAvailability:$.mergeMethodsAvailability,autoMergeDefault:oe,defaultTitle:Q.title,defaultDescription:Q.description},u&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),k&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),o={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return o}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const i=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(Ae=>{var Oe;return((Oe=e.args.currentRemote)==null?void 0:Oe.owner)===Ae.remote.owner&&e.args.currentRemote.repositoryName===Ae.remote.repositoryName});const a=s.l10n.t("Change Repository..."),o=s.l10n.t("Choose a remote"),u=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),k=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");let A=0;const $=async(Ae,Oe)=>{const Ge=++A;i.busy=!0;const We=await Op(Ae,this._folderRepositoryManager,a,t,Oe);Ge===A&&(i.items=We,i.busy=!1)},Q=zc($,300);let re;const oe=()=>{r&&!re&&(re=i.onDidChangeValue(async Ae=>Q(r,Ae)))};oe(),i.placeholder=r?u:o,i.show(),i.busy=!0,r?await $(r,void 0):i.items=await this.remotePicks(t);const pe=e.args.currentBranch?i.items.find(Ae=>Ae.branch===e.args.currentBranch):void 0;i.activeItems=pe?[pe]:[],i.busy=!1;const me=new Promise(Ae=>{i.onDidAccept(async()=>{if(i.selectedItems.length===0)return;const Oe=i.selectedItems[0];if(Oe.label===a)i.busy=!0,i.items=await this.remotePicks(t),i.busy=!1,i.placeholder=r?k:o;else if(Oe.branch===void 0&&Oe.remote){const Ge=Oe;i.busy=!0,r=this._folderRepositoryManager.findRepo(We=>We.remote.owner===Ge.remote.owner&&We.remote.repositoryName===Ge.remote.repositoryName),await $(r,void 0),oe(),i.placeholder=u,i.busy=!1}else if(Oe.branch&&Oe.remote){const Ge=Oe;Ae({remote:Ge.remote,branch:Ge.branch})}})}),Ne=new Promise(Ae=>i.onDidHide(()=>Ae())),Se=await Promise.race([me,Ne]);if(!Se||!r){i.hide(),i.dispose(),re==null||re.dispose();return}i.busy=!0;const Re=await this.processRemoteAndBranchResult(r,Se,t);return i.hide(),i.dispose(),re==null||re.dispose(),this._replyMessage(e,Re)}async findIssueContext(e){var t,i;const r=[];for(const a of e){const o=Is(a.match(qa));if(o){const u=(t=o.owner)!=null?t:this.model.baseOwner,k=(i=o.name)!=null?i:this.model.repositoryName;r.push(new Promise(A=>{this._folderRepositoryManager.resolveIssue(u,k,o.issueNumber).then($=>{A($?{content:`${$.title}
${$.body}`,reference:Gc(o)}:void 0)}).catch(()=>A(void 0))}))}}if(r.length)return(await Promise.all(r)).filter(a=>!!a)}async getCommitsAndPatches(){var e;let t,i;await this.model.getCompareHasUpstream()?[t,i]=await Promise.all([this.model.gitHubCommits().then(a=>a.map(o=>o.commit.message)),this.model.gitHubFiles().then(a=>a==null?void 0:a.map(o=>{if(!o.patch)return;const u=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.filename).toString(),k=o.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.previous_filename).toString():void 0;return{patch:o.patch,fileUri:u,previousFileUri:k}}))]):[t,i]=await Promise.all([this.model.gitCommits().then(a=>a.filter(o=>o.parents.length===1).map(o=>o.message)),Promise.all((await this.model.gitFiles()).map(async a=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,a.uri.fsPath),fileUri:a.uri.toString()})))]);const r=(e=i==null?void 0:i.filter(a=>!!a))!=null?e:[];return{commitMessages:t,patches:r}}async getTitleAndDescriptionFromProvider(e,t){return _r.withProgress(async()=>{try{const i=this.getPullRequestTemplate(),{commitMessages:r,patches:a}=await this.getCommitsAndPatches(),o=await this.findIssueContext(r),u=await i,k=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),A=await(k==null?void 0:k.provider.provideTitleAndDescription({commitMessages:r,patches:a,issues:o,template:u},e));return k&&(this.lastGeneratedTitleAndDescription={...A,providerTitle:k.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:k==null?void 0:k.title})),A}catch(i){y.error(`Error while generating title and description: ${i}`,_r.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const i={title:void 0,description:void 0};return t!==!0&&(i.title=t==null?void 0:t.title,i.description=t==null?void 0:t.description),this._replyMessage(e,{title:i==null?void 0:i.title,description:i==null?void 0:i.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:i,patches:r},e);return a&&a.succeeded&&a.files.length>0?ud.ReviewedWithComments:ud.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return _r.withProgress(async()=>{await ft.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(i=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>i())})]);return this.reviewingCancellationToken=void 0,await ft.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,i){let r;const a=this._folderRepositoryManager.repository.state.remotes.find(o=>{if(!o.pushUrl)return!1;const u=new xs(o.name,o.pushUrl,new Dr(o.pushUrl),Ti.GitHubDotCom);return u.owner.toLowerCase()===e.toLowerCase()&&u.repositoryName.toLowerCase()===t.toLowerCase()?(r=u,!0):!1});if(a&&r){y.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${i}`,_r.ID);const o=await this._folderRepositoryManager.publishBranch(r,i);return o?{compareUpstream:o,repo:this._folderRepositoryManager.findRepo(Jo(o.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var i,r;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((i=this.lastGeneratedTitleAndDescription.title)==null?void 0:i.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),o=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:o.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),i=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(i===e){const r=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(i!==t)return!1}return!0}async create(e){if(y.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,_r.ID),!await this.checkForChanges()){y.debug("Not continuing past checking for file changes.",_r.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Jc,t),_r.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async i=>{ft.setContext(Mt.CREATING,!0);let r=0;i.report({message:s.l10n.t("Checking for upstream branch"),increment:r});let a;try{const o=e.args.compareOwner,u=e.args.compareRepo,k=e.args.compareBranch,A=`${o}/${u}`;let $=await this._folderRepositoryManager.repository.getBranch(k);if($.upstream&&(await this._folderRepositoryManager.repository.fetch($.upstream.remote,$.upstream.name),$=await this._folderRepositoryManager.repository.getBranch(k)),$.upstream&&$.ahead&&$.ahead>0){const pe=s.l10n.t("Push Commits"),me=s.l10n.t("Continue Without Pushing"),Ne=$.ahead,Se=await s.window.showInformationMessage(s.l10n.t({message:`You have {0} unpushed commit(s) on '{1}'.

Do you want to push them before creating the pull request?`,comment:["{0} is the number of commits, {1} is the branch name"],args:[Ne,k]}),{modal:!0},pe,me);if(Se===pe)i.report({message:s.l10n.t("Pushing commits"),increment:10}),r+=10,await this._folderRepositoryManager.repository.push($.upstream.remote,k);else if(Se!==me){i.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}}let Q=$.upstream?this._folderRepositoryManager.findRepo(pe=>pe.remote.owner===o&&pe.remote.repositoryName===u):void 0,re=Q==null?void 0:Q.remote;if(!re||re.owner!==o||re.repositoryName!==u){const pe=s.l10n.t("Always Publish Branch"),me=s.l10n.t("Publish Branch"),Se=s.workspace.getConfiguration(vt).get(qt)==="always"?me:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,o,u,k),{modal:!0},me,pe);if(Se===pe&&await s.workspace.getConfiguration(vt).update(qt,"always",s.ConfigurationTarget.Global),Se===pe||Se===me){i.report({message:s.l10n.t("Pushing branch"),increment:10}),r+=10;const Re=await this.pushUpstream(o,u,k);Re?(re=Re.compareUpstream,Q=Re.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",A))}}if(!re){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",o,u)),i.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}if(!Q)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,re.remoteName));i.report({message:s.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const oe=`${Q.remote.owner}:${k}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:oe}),a?(this.saveRecentlyUsedBranch(e.args.owner,e.args.repo,e.args.base),await this.postCreate(e,a)):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(o){if(a)o.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",o.message));else{let u=o.message;u.startsWith("GraphQL error: ")&&(u=u.substring(15)),this._throwError(e,u)}}finally{ft.setContext(Mt.CREATING,!1);let o;a?(this._onDone.fire(a),o=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),o=s.l10n.t("Unable to create pull request")),i.report({message:o,increment:100-r})}}))}async changeBranch(e,t){let i;if(t)this.model.baseBranch=e;else{try{i=await this._folderRepositoryManager.repository.getBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}i&&await this.model.setCompareBranch(e)}return i=i!=null?i:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(i,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.changeTemplate":return this.changeTemplate(e);case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class ac extends tb{constructor(e,t,i,r,a,o){var u,k;super(e,t,i,r,a,(k=(u=r.repository.state.HEAD)==null?void 0:u.name)!=null?k:o.base.name),this.pullRequest=o}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return au(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;ac.withProgress(async()=>{ft.setContext(Mt.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await au(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(i){if(t)i.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",i.message));else{let r=i.message;r.startsWith("GraphQL error: ")&&(r=r.substring(15)),this._throwError(e,r)}}finally{ft.setContext(Mt.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var IM=Object.defineProperty,DM=(n,e,t)=>e in n?IM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ku=(n,e,t)=>DM(n,typeof e!="symbol"?e+"":e,t);class xM extends f{constructor(){super(),ku(this,"_currentDisposables",[]),ku(this,"_createPRViewProvider"),ku(this,"_treeView"),ku(this,"_postCreateCallback"),ku(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await ft.setContext(this._activeContext,e)}registerListeners(e,t){g(this._createPRViewProvider.onDone(async i=>{await _r.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,i)}),this.dispose()}),this._currentDisposables),g(s.commands.registerCommand("pr.addAssigneesToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()}),this._currentDisposables),g(s.commands.registerCommand("pr.addReviewersToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()}),this._currentDisposables),g(s.commands.registerCommand("pr.addLabelsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()}),this._currentDisposables),g(s.commands.registerCommand("pr.addMilestoneToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()}),this._currentDisposables),g(s.commands.registerCommand("pr.addProjectsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!1,void 0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!0,!1,void 0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"merge")}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"squash")}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),g(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof _r&&this._createPRViewProvider.review()}),this._currentDisposables),t&&g(e.state.onDidChange(i=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof _r&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(i=>i.remote.owner===t.owner&&i.remote.repositoryName===t.repo))return t;{const i=await e.getOrigin(),r=await e.getMetadata(i.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,t,i,r,a){var o;const u=!this._createPRViewProvider||!(this._createPRViewProvider instanceof ac);if(u&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),u){(o=this._createPRViewProvider)==null||o.dispose();const k={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=g(new ac(e,k,t,i,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this._currentDisposables),this.registerListeners(i.repository,!1),g(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,i,r,a){var o,u,k,A;const $=!this._createPRViewProvider||!(this._createPRViewProvider instanceof _r);$&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const Q=((u=r?await i.repository.getBranch(r):void 0)!=null?u:(o=i.repository.state.HEAD)!=null&&o.name)?i.repository.state.HEAD:void 0;let re;if($){(k=this._createPRViewProvider)==null||k.dispose();const oe=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(Q)),pe=await i.getOrigin(Q),me=g(new AM(i,oe.owner,oe.base,pe.remote.owner,(A=Q==null?void 0:Q.name)!=null?A:oe.base,pe.remote.repositoryName),this._currentDisposables);re=this._createPRViewProvider=new _r(e,me,t,i,oe),this._treeView=g(new Xy(i,me),this._currentDisposables),this.registerListeners(i.repository,!r),g(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else re=this._createPRViewProvider;re.show(Q)}reset(){this.setActiveContext(!1),d(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}var OM=Object.defineProperty,LM=(n,e,t)=>e in n?OM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,UM=(n,e,t)=>LM(n,typeof e!="symbol"?e+"":e,t);class BM{constructor(e){this._context=e,UM(this,"_emojiCompletions",[]),this.buildEmojiCompletions()}async buildEmojiCompletions(){const e=await Ms(this._context);for(const[t,i]of Object.entries(e)){const r=new s.CompletionItem({label:i,description:`:${t}:`},s.CompletionItemKind.Text);r.filterText=`:${t}:`,r.sortText=t,this._emojiCompletions.push(r)}}provideCompletionItems(e,t,i,r){if(e.uri.scheme!==Ut.Comment)return[];const a=e.getWordRangeAtPosition(t,/:([-+_a-z0-9]+:?)?/i);if(!a)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&a.end.character-a.start.character===1&&a.start.character>0){const o=e.getText(new s.Range(a.start.translate(0,-1),a.start));if(!/\s/.test(o))return[]}for(const o of this._emojiCompletions)o.range=a;return new s.CompletionList(this._emojiCompletions,!1)}}class qM extends Kh{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(i=>{i.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,t,{path:r.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const i=ev(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status),color:this.color(i.status),tooltip:this.tooltip(i)};const r=ki(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case Qt.MODIFY:return"gitDecoration.modifiedResourceForeground";case Qt.ADD:return"gitDecoration.addedResourceForeground";case Qt.DELETE:return"gitDecoration.deletedResourceForeground";case Qt.RENAME:return"gitDecoration.renamedResourceForeground";case Qt.UNKNOWN:return;case Qt.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case Qt.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case Qt.ADD:return"remoteHub.decorations.addedForegroundColor";case Qt.DELETE:return"remoteHub.decorations.deletedForegroundColor";case Qt.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case Qt.UNKNOWN:return;case Qt.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case Qt.MODIFY:return"M";case Qt.ADD:return"A";case Qt.DELETE:return"D";case Qt.RENAME:return"R";case Qt.UNKNOWN:return"U";case Qt.UNMERGED:return"C"}return""}tooltip(e){if(e.status===Qt.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${K.basename(e.fileName)}`}}class $M extends Nf{constructor(e,t,i){super(t,i),this.repos=e}async readFile(e){await this.waitForAuth(),await this.waitForAnyGitHubRepos(this.repos);const t=V_(e);if(!t)throw new Error(`Invalid GitHub commit URI: ${e.toString()}`);const i=this.repos.getManagerForRepository(t.owner,t.repo);if(!i)throw new Error(`Repository not found for owner: ${t.owner}, repo: ${t.repo}`);const r=await i.createGitHubRepositoryFromOwnerName(t.owner,t.repo);if(!r)throw new Error(`GitHub repository not found for owner: ${t.owner}, repo: ${t.repo}`);return r.getFile(e.path,t.commit)}}var sc;(n=>{function e(t,i){var r,a;const o=i.some(A=>t.items.some($=>$[0]===A)),u=[],k=[];if(t.items.forEach(A=>{const $=A[0],Q=A[1];$ instanceof ho&&(Q==s.TreeItemCheckboxState.Checked?u.push($):k.push($)),$.updateFromCheckboxChanged(Q)}),o)for(const A of i)A instanceof ho&&!u.includes(A)&&!k.includes(A)&&(((r=A.checkboxState)==null?void 0:r.state)===s.TreeItemCheckboxState.Unchecked?u.push(A):((a=A.checkboxState)==null?void 0:a.state)===s.TreeItemCheckboxState.Checked&&k.push(A));if(u.length>0){const A=u[0].pullRequest,$=u.map(Q=>Q.fileName);A.markFiles($,!0,"viewed")}if(k.length>0){const A=k[0].pullRequest,$=k.map(Q=>Q.fileName);A.markFiles($,!0,"unviewed")}}n.processCheckboxUpdates=e})(sc||(sc={}));var HM=Object.defineProperty,GM=(n,e,t)=>e in n?HM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_u=(n,e,t)=>GM(n,typeof e!="symbol"?e+"":e,t);class ib extends f{constructor(e,t){super(),this._git=e,this._reposManager=t,_u(this,"_onDidChangeTreeData",new s.EventEmitter),_u(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),_u(this,"_pullRequestManagerMap",new Map),_u(this,"_view"),_u(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${vt}.${ht}`)){this._onDidChangeTreeData.fire();const r=s.workspace.getConfiguration(vt).get(ht);await s.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else i.affectsConfiguration(`${Mr}.${_i}`)?this._onDidChangeTreeData.fire():i.affectsConfiguration(`${vt}.${an}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(i=>sc.processCheckboxUpdates(i,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,i,r,a){if(y.appendLine(`Adding PR #${t.number} to tree`,M),this._pullRequestManagerMap.has(e)){const u=this._pullRequestManagerMap.get(e);if(u&&u.pullRequestModel===t){y.appendLine(`PR #${t.number} already exists in tree`,M);return}else u==null||u.dispose()}const o=new ja(this,t,e,i,a);this._pullRequestManagerMap.set(e,o),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(o)}async setReviewModeContexts(){await ft.setContext(Mt.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(i=>{const r=this._reposManager.getManagerForFile(i.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(i.rootUri):r&&t.push(i.rootUri)}),await ft.setContext(Mt.REPOS_NOT_IN_REVIEW_MODE,e),await ft.setContext(Mt.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&y.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,M),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(i){y.error(i,M)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(i,r)=>{const a=i.fsPath.toLowerCase(),o=r.fsPath.toLowerCase();return ne(a,o)||ne(o,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((i,r)=>{if(i[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(u=>t(u.uri,i[0].repository.rootUri)),o=e.findIndex(u=>t(u.uri,r[0].repository.rootUri));return a===-1?1:o===-1?-1:a-o}).map(([i,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const i of t)this._children.push(i)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof mo&&await t.resolve(),t}}var VM=Object.defineProperty,jM=(n,e,t)=>e in n?VM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rb=(n,e,t)=>jM(n,typeof e!="symbol"?e+"":e,t);class WM extends f{constructor(e,t){super(),this._prsTreeModel=e,this._notificationProvider=t,rb(this,"_onDidChangeFileDecorations",new s.EventEmitter),rb(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(r=>{this._onDidChangeFileDecorations.fire(r.map(a=>Ql(a)))})),this._register(this._prsTreeModel.onDidChangeCopilotNotifications(r=>{const a=new Set,o=[];for(const u of r){const k=sv({remote:{owner:u.remote.owner,repositoryName:u.remote.repositoryName},isCopilot:!0});a.has(k.toString())||(a.add(k.toString()),o.push(k)),o.push(Ql(u,!0))}this._onDidChangeFileDecorations.fire(o)}));const i=(r,a)=>{var o;a instanceof mi&&(r.push(Ql(a)),(o=a.timelineEvents)!=null&&o.some(u=>u.event===nn.CopilotStarted)&&r.push(Ql(a,!0)))};this._register(this._notificationProvider.onDidChangeNotifications(r=>{let a=[];for(const o of r)i(a,o.model);this._onDidChangeFileDecorations.fire(a)})),this._register(s.workspace.onDidChangeConfiguration(r=>{if(r.affectsConfiguration(`${vt}.${Sn}`)){const a=[];for(const o of this._notificationProvider.getAllNotifications())i(a,o.model);this._onDidChangeFileDecorations.fire(a)}}))}provideFileDecoration(e,t){if(e.scheme===Ut.PRQuery)return this._queryDecoration(e);if(e.scheme!==Ut.PRNode)return;const i=G_(e);if(!i)return;const r=this._getCopilotDecoration(i);if(r)return r;const a=this._getNotificationDecoration(i);if(a)return a;const o=this._prsTreeModel.cachedPRStatus(i.prIdentifier);return o?Ev(o.status):void 0}_getCopilotDecoration(e){if(!e.showCopilot)return;const t=tv(e.prIdentifier);if(!t)return;const i=new Dr(t.remote);if(this._prsTreeModel.hasCopilotNotification(i.owner,i.repositoryName,t.prNumber))return{badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}_queryDecoration(e){const t=e1(e);if(!(!(t!=null&&t.isCopilot)||!t.remote||this._prsTreeModel.getCopilotNotificationsCount(t.remote.owner,t.remote.repositoryName)===0))return{tooltip:s.l10n.t("Coding agent has made changes"),badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}_getNotificationDecoration(e){if(!this.notificationSettingValue())return;const t=tv(e.prIdentifier);if(!t)return;const i=new Dr(t.remote);if(this._notificationProvider.hasNotification({owner:i.owner,repo:i.repositoryName,number:t.prNumber}))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}notificationSettingValue(){return s.workspace.getConfiguration(vt).get(Sn,"off")==="pullRequests"}}var zM=Object.defineProperty,KM=(n,e,t)=>e in n?zM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yh=(n,e,t)=>KM(n,typeof e!="symbol"?e+"":e,t);class ga extends fr{constructor(e,t,i,r,a,o,u){super(e),this.folderManager=i,this.telemetry=r,this.notificationProvider=a,this.context=o,this._prsTreeModel=u,Yh(this,"_children"),Yh(this,"collapsibleState"),Yh(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=K.basename(t.fsPath),this.id=i.repository.rootUri.toString()}async expandPullRequest(e){if(this._children){for(const t of this._children)if(t.type===Un.All)return t.expandPullRequest(e)}return!1}static async getQueries(e){var t;return(t=s.workspace.getConfiguration(vt,e.repository.rootUri).get(pn))!=null?t:[]}getTreeItem(){return this}async getChildren(e=!0){return super.getChildren(e),!e&&this._children?this._children:(this._children=await ga.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this._children)}static async getCategoryTreeNodes(e,t,i,r,a,o){const u=await ga.getQueries(e),k=new Map;for(const A of u)xf(A)?k.set(A.label,new ia(i,e,t,Un.LocalPullRequest,r,o)):Of(A)?k.set(A.label,new ia(i,e,t,Un.All,r,o)):k.set(A.label,new ia(i,e,t,Un.Query,r,o,A.label,A.query));return Array.from(k.values())}}var QM=Object.defineProperty,YM=(n,e,t)=>e in n?QM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hs=(n,e,t)=>YM(n,typeof e!="symbol"?e+"":e,t);class ab extends f{constructor(e,t,i,r){super(),this.prsTreeModel=e,this._telemetry=t,this._context=i,this._reposManager=r,Hs(this,"_onDidChangeTreeData",new s.EventEmitter),Hs(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Hs(this,"_onDidChange",new s.EventEmitter),Hs(this,"_children"),Hs(this,"_view"),Hs(this,"_initialized",!1),Hs(this,"_notificationsProvider"),Hs(this,"_notificationClearTimeout"),this._register(this.prsTreeModel.onDidChangeData(a=>{a instanceof vo?this.refreshRepo(a):Array.isArray(a)?this.refreshPullRequests(a):this.refreshAllQueryResults(!0)})),this._register(s.commands.registerCommand("pr.refreshList",a=>{this.prsTreeModel.forceClearCache(),this.refreshAllQueryResults(!0)})),this._register(s.commands.registerCommand("pr.loadMore",a=>{a.fetchNextPage=!0,this.refresh(a)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._register(this._view.onDidChangeVisibility(a=>{if(a.visible){const o=ir.getCurrentPullRequest();o&&this.syncWithActivePullRequest(o)}})),this._register({dispose:()=>{this._notificationClearTimeout&&(clearTimeout(this._notificationClearTimeout),this._notificationClearTimeout=void 0)}}),this._register(this.prsTreeModel.onDidChangeCopilotStates(()=>{this.refreshAllQueryResults()})),this._register(this.prsTreeModel.onDidChangeCopilotNotifications(()=>{this.updateBadge()})),this.updateBadge(),this._register(ir.onVisible(a=>{this._view.visible&&this.syncWithActivePullRequest(a)})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries...","Configure All Pull Request Settings..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} pull request queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} remotes`);case"Configure All Pull Request Settings...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ui} pull request`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(`${vt}.${ht}`)&&this.refreshAll()})),this._register(this._view.onDidChangeCheckboxState(a=>sc.processCheckboxUpdates(a,[]))),this._register(this._view.onDidExpandElement(a=>{this.prsTreeModel.updateExpandedQueries(a.element,!0)})),this._register(this._view.onDidCollapseElement(a=>{this.prsTreeModel.updateExpandedQueries(a.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}filterNotificationsToKnown(e){return e.filter(t=>this.prsTreeModel.hasPullRequest(t)?!this.prsTreeModel.hasCopilotNotification(t.remote.owner,t.remote.repositoryName,t.number):!1)}updateBadge(){var e;const i=((e=this._notificationsProvider)==null?void 0:e.isPRNotificationsOn())?this.filterNotificationsToKnown(this._notificationsProvider.prNotifications).length:0,r=this.prsTreeModel.copilotNotificationsCount,a=i+r;if(a===0){this._view.badge=void 0;return}i>0&&r>0?r===1?i===1?this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view, plus 1 other pull request notification"),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view, plus {0} other pull request notifications",i),value:a}:i===1?this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view, plus 1 other pull request notification",r),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view, plus {1} other pull request notifications",r,i),value:a}:r>0?r===1?this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view"),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view",r),value:a}:i>0&&(i===1?this._view.badge={tooltip:s.l10n.t("1 pull request notification"),value:a}:this._view.badge={tooltip:s.l10n.t("{0} pull request notifications",i),value:a})}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof ga){if(await t.expandPullRequest(e))return}else if(t.type===Un.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}async syncWithActivePullRequest(e){if(!this._view.selection.find(i=>i instanceof mr&&i.pullRequestModel.number===e.number&&i.pullRequestModel.remote.owner===e.remote.owner&&i.pullRequestModel.remote.repositoryName===e.remote.repositoryName))try{const i=await this.findPRNode(e);i&&await this.reveal(i,{select:!0,focus:!1,expand:!1})}catch(i){y.warn(`Failed to sync tree view with active PR: ${i}`)}}async findPRNode(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof ga){const i=await this.findPRNodeInWorkspaceFolder(t,e);if(i)return i}else if(t instanceof ia){const i=await this.findPRNodeInCategory(t,e);if(i)return i}}async findPRNodeInWorkspaceFolder(e,t){const i=await e.getChildren(!1);for(const r of i)if(r instanceof ia){const a=await this.findPRNodeInCategory(r,t);if(a)return a}}async findPRNodeInCategory(e,t){if(e.collapsibleState!==s.TreeItemCollapsibleState.Expanded)return;const i=await e.getChildren(!1);for(const r of i)if(r instanceof mr&&r.pullRequestModel.number===t.number&&r.pullRequestModel.remote.owner===t.remote.owner&&r.pullRequestModel.remote.repositoryName===t.remote.repositoryName)return r}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refreshAll()})),this._register(this._reposManager.onDidLoadAnyRepositories(()=>{this.refreshAll()}));for(const i of e)this._register(i.onDidChangeLocalFileChanges(r=>{this.refreshAllQueryResults()}));this._notificationsProvider=t,this._register(this._notificationsProvider.onDidChangeNotifications(()=>{this.updateBadge()})),this._register(new WM(this.prsTreeModel,this._notificationsProvider)),this.initializeCategories(),this.refreshAll()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${vt}.${pn}`)&&this.refreshAll()}))}refreshAll(e){this.tryReset(!!e),this._onDidChangeTreeData.fire()}tryReset(e){e&&this.prsTreeModel.clearCache(!0)}refreshAllQueryResults(e){if(this.tryReset(!!e),!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}if(this._children[0]instanceof ga){this._children.forEach(t=>this.refreshQueryResultsForFolder(t));return}this.refreshQueryResultsForFolder()}refreshQueryResultsForFolder(e,t){var i;if(!e&&this._children[0]instanceof ga)throw new Error("Must specify a folder node to refresh when there are multiple folder nodes");if(!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}const r=(i=e==null?void 0:e.children)!=null?i:this._children;this.tryReset(!!t),this._onDidChangeTreeData.fire([...r])}refresh(e,t){return this.tryReset(!!t),this._onDidChangeTreeData.fire(e)}refreshRepo(e){if(this._children.length===0||this._children[0]instanceof ia&&this._children[0].folderRepoManager===e)return this.refreshQueryResultsForFolder(void 0,!0);if(this._children[0]instanceof ga){const i=this._children.find(r=>r.folderManager===e);if(i){this.refreshQueryResultsForFolder(i);return}}}refreshPullRequests(e){var t,i,r;if(!((t=this._children)!=null&&t.length)||!(e!=null&&e.length))return;const a=[],o=new Set,u=new Set;for(const Q of e)u.add(Q.model.number),Q.event.state&&o.add(Q.model.number);const k=Q=>{var re;const oe=(re=Q.children)!=null?re:[];for(const pe of oe)if(pe instanceof mr&&o.has(pe.pullRequestModel.number))return!0;return!1},A=new Set;for(const Q of this._children)if(Q instanceof ga){const re=(i=Q.children)!=null?i:[];for(const oe of re)oe instanceof ia&&!A.has(oe)&&k(oe)&&A.add(oe)}else Q instanceof ia&&!A.has(Q)&&k(Q)&&A.add(Q);const $=Q=>{var re;const oe=(re=Q.children)!=null?re:[];for(const pe of oe)pe instanceof mr&&u.has(pe.pullRequestModel.number)&&a.push(pe)};for(const Q of this._children)if(Q instanceof ga){const re=(r=Q.children)!=null?r:[];for(const oe of re)oe instanceof ia&&!A.has(oe)&&$(oe)}else Q instanceof ia&&!A.has(Q)&&$(Q);(a.length||A.size>0)&&this._onDidChangeTreeData.fire([...Array.from(A),...a])}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){var i;return t instanceof _d?(await t.resolve(),e=t.getTreeItem()):t instanceof mr&&(e.tooltip=await Ls(t.pullRequestModel,this._context,this._reposManager,void 0,(i=this.prsTreeModel.cachedPRStatus(ff(t.pullRequestModel)))==null?void 0:i.status)),e}async needsRemotes(){var e,t,i;if(((e=this._reposManager)==null?void 0:e.state)===Hr.NeedsAuthentication)return[];const r=s.workspace.getConfiguration(vt).get(fi);let a;r?a=[new Us(this,nl.NoMatchingRemotes),new Us(this,nl.ConfigureRemotes)]:a=[new Us(this,nl.NoRemotes)];const{enterpriseRemotes:o}=this._reposManager?await ap((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return o.length>0&&!((i=this._reposManager)!=null&&i.credentialStore.isAuthenticated(Fn.githubEnterprise))&&a.push(new Us(this,nl.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===Hr.Initializing)return ft.setContext(Mt.LOADING_PRS_TREE,!0),[];const i=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,o)=>i[o].length>0).length===0)return this.needsRemotes();const r=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(o=>o.dispose());let a;return r.length===1?a=await ga.getCategoryTreeNodes(r[0],this._telemetry,this,this._notificationsProvider,this._context,this.prsTreeModel):a=r.map(o=>new ga(this,o.repository.rootUri,o,this._telemetry,this._notificationsProvider,this._context,this.prsTreeModel)),this._children=a,a}return r.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new Us(this,nl.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var JM=Object.defineProperty,XM=(n,e,t)=>e in n?JM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Oi=(n,e,t)=>XM(n,typeof e!="symbol"?e+"":e,t);const sb="expandedQueries",ob=class Mb extends f{constructor(e,t,i){super(),this._telemetry=e,this._reposManager=t,this._context=i,Oi(this,"_activePRDisposables",new Map),Oi(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),Oi(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),Oi(this,"_onDidChangeData",this._register(new s.EventEmitter)),Oi(this,"onDidChangeData",this._onDidChangeData.event),Oi(this,"_expandedQueries"),Oi(this,"_hasLoaded",!1),Oi(this,"_onLoaded",this._register(new s.EventEmitter)),Oi(this,"onLoaded",this._onLoaded.event),Oi(this,"_queriedPullRequests",new Map),Oi(this,"_cachedPRs",new Map),Oi(this,"_allCachedPRs",new Set),Oi(this,"_repoEvents",new Map),Oi(this,"_getPullRequestsForQueryLock",Promise.resolve()),Oi(this,"_sentNoRepoTelemetry",!1),Oi(this,"copilotStateModel"),Oi(this,"_onDidChangeCopilotStates",this._register(new s.EventEmitter)),Oi(this,"onDidChangeCopilotStates",this._onDidChangeCopilotStates.event),Oi(this,"_onDidChangeCopilotNotifications",this._register(new s.EventEmitter)),Oi(this,"onDidChangeCopilotNotifications",this._onDidChangeCopilotNotifications.event),Oi(this,"_getStateChangesPromise"),this.copilotStateModel=new Np,this._register(this.copilotStateModel.onDidChangeCopilotStates(()=>this._onDidChangeCopilotStates.fire())),this._register(this.copilotStateModel.onDidChangeCopilotNotifications(o=>this._onDidChangeCopilotNotifications.fire(o)));const r=o=>{this._repoEvents.has(o)?d(this._repoEvents.get(o)):this._repoEvents.set(o,[]),this._repoEvents.get(o).push(o.onDidChangeActivePullRequest(u=>{const k=[];u.old&&k.push({model:u.old,event:{}}),u.new&&k.push({model:u.new,event:{}}),this._onDidChangeData.fire(k),this._activePRDisposables.has(o)&&(d(this._activePRDisposables.get(o)),this._activePRDisposables.delete(o)),o.activePullRequest&&this._activePRDisposables.set(o,[o.activePullRequest.onDidChange(A=>{A.comments&&o.activePullRequest&&this._onDidChangeData.fire([{model:o.activePullRequest,event:A}])})])}))};this._register({dispose:()=>this._repoEvents.forEach(o=>d(o))});for(const o of this._reposManager.folderManagers)r(o);this._register(this._reposManager.onDidChangeAnyPullRequests(o=>{const u=[],k=[];for(const A of o)A.event.state&&u.push(A),k.push(A);this.forceClearQueriesContainingPullRequests(u),this._onDidChangeData.fire(k)})),this._register(this._reposManager.onDidAddPullRequest(()=>{this._hasLoaded&&this._onDidChangeData.fire()})),this._register(this._reposManager.onDidChangeFolderRepositories(o=>{o.added&&(r(o.added),this._onDidChangeData.fire(o.added))})),this._register(this._reposManager.onDidChangeAnyGitHubRepository(o=>{this._onDidChangeData.fire(o)}));const a=this._context.workspaceState.get(sb,void 0);a&&(this._expandedQueries=new Set(a))}updateExpandedQueries(e,t){this._expandedQueries||(this._expandedQueries=new Set),e instanceof ia&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(sb,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}forceClearCache(){this._cachedPRs.clear(),this._allCachedPRs.clear(),this._onDidChangeData.fire()}hasPullRequest(e){return this._allCachedPRs.has(e)}clearCache(e=!1){if(this._cachedPRs.size!==0){for(const t of this._cachedPRs.values())for(const[,i]of t.entries())i&&(i.clearRequested=!0);e||this._onDidChangeData.fire()}}_clearOneCache(e,t){const i=this.getFolderCache(e);if(i.has(t)){const r=i.get(t);r&&(r.clearRequested=!0)}}async _getChecks(e){let t=[];for(let r=0;r<e.length;r+=100){const a=r+100<e.length?r+100:e.length;t.push(...await Promise.all(e.slice(r,a).map(o=>o.getStatusChecks())))}const i=[];for(let r=0;r<e.length;r++){const a=e[r],[o,u]=t[r];let k=Ir.None;if(u&&(u.state===li.Failure?k|=Ir.ReviewRequired:u.state==li.Pending&&(k|=Ir.ChangesRequested)),!o||o.state===li.Unknown)continue;if(o.state!==li.Success){for(const Q of o.statuses)Q.state===li.Failure?k|=Ir.CIFailed:Q.state===li.Pending&&(k|=Ir.CIPending);k===Ir.None&&(k|=Ir.CIPending)}const A=ff(a),$=this._queriedPullRequests.get(A);if($===void 0||$.status!==k){const Q={pullRequest:a,status:k};i.push(A),this._queriedPullRequests.set(A,Q)}}this._onDidChangePrStatus.fire(i)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const i=this.getFolderCache(e);if(!t&&i.has(Un.LocalPullRequest))return i.get(Un.LocalPullRequest).items;const r=xn(),a=(await e.getLocalPullRequests()).filter(u=>u.isOpen||u.isClosed&&r.closed||u.isMerged&&r.merged),o={clearRequested:!1,maxKnownPR:void 0,items:{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}};return i.set(Un.LocalPullRequest,o),a.forEach(u=>this._allCachedPRs.add(u)),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async _testIfRefreshNeeded(e,t,i){if(!e.clearRequested)return!1;const r=await Vc(i,t);if(!r)return this._sentNoRepoTelemetry||(this._telemetry.sendTelemetryEvent("pr.expand.noRepo"),this._sentNoRepoTelemetry=!0),!0;const a=await this._getMaxKnownPR(r);return a!==e.maxKnownPR?(e.maxKnownPR=a,!0):!1}async _getMaxKnownPR(e){const t=this._reposManager.getManagerForRepository(e.owner,e.repositoryName);if(!t)return;const i=t.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName});if(i)return i.getMaxPullRequest()}async getPullRequestsForQuery(e,t,i,r=!1){var a;let o;const u=new Promise(A=>{o=A}),k=this._getPullRequestsForQueryLock;this._getPullRequestsForQueryLock=k.then(()=>u),await k;try{let A;const $=this.getFolderCache(e),Q=$.get(i);if(!t&&$.has(i)){const oe=await this._testIfRefreshNeeded($.get(i),i,e);if(A=Q.maxKnownPR,!oe)return Q.clearRequested=!1,Q.items}if(!A){const oe=await Vc(e,i);oe&&(A=await this._getMaxKnownPR(oe))}const re=await e.getPullRequests(Un.Query,{fetchNextPage:t,fetchOnePagePerRepo:r},i);return t&&(re.items=(a=Q==null?void 0:Q.items.items.concat(re.items))!=null?a:re.items),$.set(i,{clearRequested:!1,items:re,maxKnownPR:A}),re.items.forEach(oe=>this._allCachedPRs.add(oe)),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(re.items),this.hasLoaded=!0,re}finally{o()}}async getAllPullRequests(e,t,i){var r;const a=this.getFolderCache(e),o=a.get(Un.All);if(!i&&o&&!o.clearRequested&&!t)return o.items;const u=await e.getPullRequests(Un.All,{fetchNextPage:t});return t&&(u.items=(r=o==null?void 0:o.items.items.concat(u.items))!=null?r:u.items),a.set(Un.All,{clearRequested:!1,items:u,maxKnownPR:void 0}),u.items.forEach(k=>this._allCachedPRs.add(k)),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(u.items),this.hasLoaded=!0,u}forceClearQueriesContainingPullRequests(e){const t=e.filter(i=>i.event.state);if(!(!t||t.length===0))for(const[,i]of this._cachedPRs.entries())for(const[r,a]of i.entries()){if(!a||!a.items.items||a.items.items.length===0)continue;if(t.some(u=>a.items.items.some(k=>k===u.model))){const u=i.get(r);u&&u.items.items.forEach(k=>this._allCachedPRs.delete(k)),i.delete(r)}}}getCopilotNotificationsCount(e,t){return this.copilotStateModel.getNotificationsCount(e,t)}get copilotNotificationsCount(){return this.copilotStateModel.notifications.size}clearAllCopilotNotifications(e,t){this.copilotStateModel.clearAllNotifications(e,t)}clearCopilotNotification(e,t,i){this.copilotStateModel.clearNotification(e,t,i)}hasCopilotNotification(e,t,i){if(i!==void 0){const r=this.copilotStateModel.makeKey(e,t,i);return this.copilotStateModel.notifications.has(r)}else{const r=this.copilotStateModel.makeKey(e,t);return Array.from(this.copilotStateModel.notifications.keys()).some(a=>a.startsWith(r))}}getCopilotStateForPR(e,t,i){return this.copilotStateModel.get(e,t,i)}getCopilotCounts(e,t){return this.copilotStateModel.getCounts(e,t)}clearCopilotCaches(){const e=Rp();if(!e)return!1;for(const t of this._reposManager.folderManagers)this._clearOneCache(t,e)}async refreshCopilotStateChanges(e=!1){return s.workspace.getConfiguration(vt).get(es,!1)?!1:this._getStateChangesPromise?this._getStateChangesPromise:(e&&this.clearCopilotCaches(),this._getStateChangesPromise=(async()=>{var i;try{const r=new Set(this.copilotStateModel.keys());let a=0;const o=Rp();if(!o)return!1;const u=[];for(const k of this._reposManager.folderManagers){a++;const A=[];let $=!0;do{const Q=await this.getPullRequestsForQuery(k,!this.copilotStateModel.isInitialized,o,!0);A.push(...Q.items),$=Q.hasMorePages}while($);for(const Q of A){r.delete(this.copilotStateModel.makeKey(Q.remote.owner,Q.remote.repositoryName,Q.number));const re=await Q.getCopilotTimelineEvents(!1,!this.copilotStateModel.isInitialized);let oe=Vu(re[re.length-1]);if(oe===Zr.None){if(!pi[Q.author.login])continue;oe=Zr.Started}const pe=(i=this.copilotStateModel.get(Q.remote.owner,Q.remote.repositoryName,Q.number))!=null?i:Zr.None;oe!==pe&&u.push({item:Q,status:oe})}}for(const k of r)this.copilotStateModel.deleteKey(k);return this.copilotStateModel.set(u),this.copilotStateModel.isInitialized||a===this._reposManager.folderManagers.length&&this._reposManager.folderManagers.length>0&&(y.debug(`Copilot PR state initialized with ${this.copilotStateModel.keys().length} PRs`,Mb.ID),this.copilotStateModel.setInitialized()),!0}finally{this._getStateChangesPromise=void 0}})(),this._getStateChangesPromise)}async getCopilotPullRequests(e=!1){return e&&this.clearCopilotCaches(),await this.refreshCopilotStateChanges(e),this.copilotStateModel.all}dispose(){super.dispose(),d(Array.from(this._activePRDisposables.values()).flat())}};Oi(ob,"ID","PrsTreeModel");let ZM=ob;var e2=Object.defineProperty,t2=(n,e,t)=>e in n?e2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lb=(n,e,t)=>t2(n,typeof e!="symbol"?e+"":e,t);const ub=class Ru extends Nf{constructor(e,t,i){super(e,t),this.getReviewManagers=i,lb(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const i of this.getReviewManagers()){const r=t(i);for(const a of r)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),qc(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:i,commit:r,rootPath:a}=ta(e.query);if(!i||!r)return new TextEncoder().encode("");const o=await this.getRepositoryForFile(s.Uri.file(a));if(!o)return s.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const u=K.join(o.rootUri.fsPath,i).replace(/\\/g,"/");let k;try{if(y.appendLine(`Getting change model (${o.rootUri}) content for commit ${r} and path ${u}`,Ru.ID),k=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),k||(y.appendLine(`Getting repository (${o.rootUri}) content for commit ${r} and path ${u}`,Ru.ID),k=await o.show(r,u)),!k)throw new Error}catch{if(y.appendLine("Using fallback content provider.",Ru.ID),k=await this._fallback(e),!k)try{await o.getCommit(r)}catch($){y.error($,Ru.ID),this.getOutdatedChangeModelForFile(e)?s.window.showInformationMessage(s.l10n.t("We couldn't find commit {0}. Sometimes commits can disappear after a force-push.",r)):s.window.showErrorMessage(s.l10n.t("We couldn't find commit {0} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push.",r))}}return new TextEncoder().encode(k||"")}registerTextDocumentContentFallback(e){this._fallback=e}};lb(ub,"ID","GitContentFileSystemProvider");let n2=ub;var i2=Object.defineProperty,r2=(n,e,t)=>e in n?i2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,a2=(n,e,t)=>r2(n,typeof e!="symbol"?e+"":e,t);class db extends f{constructor(e,t,i,r,a,o,u,k,A,$,Q){super(),this._context=e,this._reposManager=t,this._reviewManagers=i,this._prsTreeModel=r,this._prsTreeDataProvider=a,this._prFileChangesProvider=o,this._telemetry=u,this._credentialStore=k,this._gitApi=A,this._copilotManager=$,this._notificationsManager=Q;const re=new n2(A,k,()=>this._reviewManagers);re.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider(Ut.Review,re,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new ib(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new ab(this._prsTreeModel,this._telemetry,this._context,this._reposManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._notificationsManager)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(ne(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(i>-1){const r=this._reviewManagers.slice(i,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,i),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const i=this._reviewManagers[t];this._reviewManagers.splice(t),i.dispose()}}async switchToPr(e,t,i,r){const a=i||e.repository;if(await s2(a))return this._telemetry.sendTelemetryEvent("pr.checkout",{fromDescription:r.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",t.number)},async()=>{var u;await((u=na.getReviewManagerForRepository(this._reviewManagers,t.githubRepository,i))==null?void 0:u.switch(t))})}}a2(db,"ID","Reviews");const cb=s.l10n.t("Stash changes"),fb=s.l10n.t("Discard changes"),hb=s.l10n.t("Try to checkout anyway and don't show again"),mb=s.l10n.t("uncommitted changes warning"),pb="showWarning";async function s2(n){if(Uf(mb,pb)===!1)return!0;const e=n.state.workingTreeChanges.filter(a=>a.status!==gt.UNTRACKED),t=e.length>0,i=n.state.indexChanges.length>0;if(!t&&!i)return!0;const r=await s.window.showInformationMessage(s.l10n.t("You have uncommitted changes that might be overwritten by checking out this pull request."),{modal:!0,detail:s.l10n.t("Choose how to handle your uncommitted changes before checking out the pull request.")},cb,fb,hb);if(!r)return!1;if(r===hb)return Bf(mb,pb,!1),!0;try{if(r===cb){const a=[...e.map(o=>o.uri.fsPath),...n.state.indexChanges.map(o=>o.uri.fsPath)];a.length>0&&(await n.add(a),await s.commands.executeCommand("git.stash",n))}else if(r===fb){const a=e.map(o=>o.uri.fsPath);a.length>0&&await n.clean(a)}return!0}catch(a){return s.window.showErrorMessage(s.l10n.t("Failed to handle uncommitted changes: {0}",be(a))),!1}}var o2=Object.defineProperty,l2=(n,e,t)=>e in n?o2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Su=(n,e,t)=>l2(n,typeof e!="symbol"?e+"":e,t);class Jh extends wp{constructor(e,t,i,r){super(e),this._folderRepositoryManager=t,this._reviewManager=i,this._item=r,Su(this,"viewType","github:activePullRequest"),Su(this,"_existingReviewers",[]),Su(this,"_updatingPromise"),Su(this,"_prDisposables"),Su(this,"_updatePendingVisibility"),this._register(s.commands.registerCommand("pr.readyForReview",async()=>this.readyForReviewCommand())),this._register(s.commands.registerCommand("pr.readyForReviewAndMerge",async a=>this.readyForReviewAndMergeCommand(a))),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>Wa(this._item,this._folderRepositoryManager.telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>Wa(this._item,this._folderRepositoryManager.telemetry)))}resolveWebviewView(e,t,i){super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){return gi.updateBranch(this.getReviewContext(),e,()=>this.refresh())}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return Wa(this._item,this._folderRepositoryManager.telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){return gi.checkoutDefaultBranch(this.getReviewContext(),e)}reRequestReview(e){return gi.reRequestReview(this.getReviewContext(),e)}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){return gi.getCurrentUserReviewState(e,t)}getReviewContext(){return{item:this._item,folderRepositoryManager:this._folderRepositoryManager,existingReviewers:this._existingReviewers,postMessage:e=>this._postMessage(e),replyMessage:(e,t)=>this._replyMessage(e,t),throwError:(e,t)=>this._throwError(e,t),getTimeline:()=>this._item.getTimelineEvents()}}registerPrSpecificListeners(e){this._prDisposables!==void 0&&d(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidChange(t=>{(t.state||t.comments||t.reviewers)&&!this._updatingPromise&&this.updatePullRequest(e)})),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;const i=e.equals(this._item);if(this._updatingPromise&&i){y.error("Already updating pull request view",Jh.name);return}else this._updatingPromise&&!i?(this._item=e,await this._updatingPromise):this._item=e;try{this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var cn;this.updatePullRequest(e),(cn=this._updatePendingVisibility)==null||cn.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e;const r=Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode(),e.getCoAuthors(),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),Ms(this._folderRepositoryManager.context)]),a=r.finally(()=>{this._updatingPromise===a&&(this._updatingPromise=void 0)});this._updatingPromise=a;const[o,u,k,A,$,Q,re,oe,pe,me,Ne]=await r;if(!o)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._item.equals(e)||(this._item=o,!this._view))return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const Se=e.equals(this._folderRepositoryManager.activePullRequest),Re=u.hasWritePermission,Ae=u.mergeMethodsAvailability,Oe=Re||oe,Ge=dd(Ae);this._existingReviewers=$c(A!=null?A:[],k!=null?k:[],o.author);const qe=!!(o.base&&o.head&&!o.base.repositoryCloneUrl.equals(o.head.repositoryCloneUrl)&&nd()),ot=this.getCurrentUserReviewState(this._existingReviewers,re),bt=s.workspace.getConfiguration(vt).get(In,Xn).startsWith(Dn)?o.base.ref:Q,fn={number:o.number,title:o.title,url:o.html_url,createdAt:o.createdAt,body:o.body,bodyHTML:o.bodyHTML,labels:o.item.labels.map(cn=>({...cn,displayName:Lo(cn.name)})),author:{login:o.author.login,name:o.author.name,avatarUrl:o.userAvatar,url:o.author.url,email:o.author.email,id:o.author.id,accountType:o.author.accountType},state:o.state,isCurrentlyCheckedOut:Se,isRemoteBaseDeleted:o.isRemoteBaseDeleted,base:`${o.base.owner}/${o.base.name}:${o.base.ref}`,isRemoteHeadDeleted:o.isRemoteHeadDeleted,isLocalHeadDeleted:!$,head:o.head?`${o.head.owner}/${o.head.name}:${o.head.ref}`:"",canEdit:Oe,hasWritePermission:Re,mergeable:o.item.mergeable,isDraft:o.isDraft,status:null,reviewRequirement:null,canUpdateBranch:o.item.viewerCanUpdate,events:k,mergeMethodsAvailability:Ae,defaultMergeMethod:Ge,mergeQueueMethod:Ne,repositoryDefaultBranch:Q,doneCheckoutBranch:bt,isIssue:!1,isAuthor:re.login===o.author.login,reviewers:this._existingReviewers,continueOnGitHub:qe,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:o.githubRepository.remote.isEnterprise,hasReviewDraft:pe,currentUserReviewState:ot,isCopilotOnMyBehalf:await lf(o,re,me)};this._postMessage({command:"pr.initialize",pullrequest:fn})}catch(r){s.window.showErrorMessage(`Error updating active pull request view: ${be(r)}`)}}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}async doReviewCommand(e,t,i){return gi.doReviewCommand(this.getReviewContext(),e,t,!1,i)}async doReviewMessage(e,t){return gi.doReviewMessage(this.getReviewContext(),e,!1,t)}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}async approvePullRequestMessage(e){await this.doReviewMessage(e,t=>this.approvePullRequest(t))}async approvePullRequestCommand(e){await this.doReviewCommand(e,so.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}async requestChangesCommand(e){await this.doReviewCommand(e,so.RequestChanges,t=>this.requestChanges(t))}async requestChangesMessage(e){await this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(ca.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,so.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await gi.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}async setReadyForReview(e){return gi.setReadyForReview(this.getReviewContext(),e)}async readyForReviewCommand(){return gi.readyForReviewCommand(this.getReviewContext())}async readyForReviewAndMergeCommand(e){return gi.readyForReviewAndMergeCommand(this.getReviewContext(),e)}async mergePullRequest(e){var t;const{title:i,description:r,method:a}=e.args,o=await this._folderRepositoryManager.getPreferredEmail(this._item),u=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},u)!==u){this._replyMessage(e,{state:hi.Open});return}try{const A=await this._item.merge(this._folderRepositoryManager.repository,i,r,a,o);A.merged?s.workspace.getConfiguration(vt).get(qn,!1)&&await gi.autoDeleteBranchesAfterMerge(this._folderRepositoryManager,this._item):s.window.showErrorMessage(s.l10n.t("Merging pull request failed: {0}",(t=A==null?void 0:A.message)!=null?t:"")),this._replyMessage(e,{state:A.merged?hi.Merged:hi.Open})}catch(A){s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",be(A))),this._throwError(e,"")}}_getHtmlForWebview(){const e=Zc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var u2=Object.defineProperty,d2=(n,e,t)=>e in n?u2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xh=(n,e,t)=>d2(n,typeof e!="symbol"?e+"":e,t);class c2 extends f{constructor(e){super(),this._context=e,Xh(this,"_webviewViewProvider"),Xh(this,"_pullRequestModel",new Map),Xh(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){d(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,i){this._webviewViewProvider=g(new Jh(this._context.extensionUri,t,i,e),this._currentDisposables),g(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),g(s.commands.registerCommand("pr.refreshActivePullRequest",r=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,i,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:i}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:i}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,i)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const f2="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Hi;const Qa="Activation";async function h2(n,e,t,i,r,a,o,u,k,A,$,Q){n.subscriptions.push(y),y.appendLine("Git repository found, initializing review manager and pr tree view.",Qa),n.subscriptions.push(t.onDidChangeSessions(async bt=>{bt.provider.id==="github"&&(await u.clearCredentialCache(),Oe&&Oe.reviewManagers.forEach(fn=>fn.updateState(!0)))})),n.subscriptions.push(e.onDidPublish(async bt=>{if(!bt.branch)return;const fn=s.workspace.getConfiguration(vt).get(ze);if(fn==="never")return;const cn=Oe.reviewManagers.find(st=>st.repository.rootUri.toString()===bt.repository.rootUri.toString());if(cn!=null&&cn.isCreatingPullRequest)return;const On=u.folderManagers.find(st=>st.repository.rootUri.toString()===bt.repository.rootUri.toString());if(!On||On.gitHubRepositories.length===0||(await On.getPullRequestDefaults()).base===bt.branch)return;if(fn==="always"){cn==null||cn.createPullRequest(bt.branch);return}const Ue=s.l10n.t("Create Pull Request..."),He=s.l10n.t("Don't Show Again"),et=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",bt.branch),Ue,He);et===Ue?cn==null||cn.createPullRequest(bt.branch):et===He&&await s.workspace.getConfiguration(vt).update(ze,"never",s.ConfigurationTarget.Global)}));const re=s.workspace.workspaceFolders;re&&(i=i.sort((bt,fn)=>{let cn=re.length,On=re.length;for(let ve=0;ve<re.length&&(re[ve].uri.toString()===bt.rootUri.toString()?cn=ve:re[ve].uri.toString()===fn.rootUri.toString()&&(On=ve),!(cn!==re.length&&On!==re.length));ve++);return cn-On})),a.then(bt=>{bt&&bt.registerContactServiceProvider("github-pr",new GN(u))});const oe=new ib(e,u);n.subscriptions.push(oe);const pe=new c2(n);n.subscriptions.push(pe);let me=0;const Ne=u.folderManagers.map(bt=>new na(me++,n,bt.repository,bt,Hi,oe,r,o,pe,k,e)),Se=new yM(u);n.subscriptions.push(Se),Se.registerProviders([new qM,new bM(u),new wM(u)]);const Re=new sM(t,u);n.subscriptions.push(Re);const Ae=new XP(Re,t,u,n);n.subscriptions.push(Ae);const Oe=new db(n,u,Ne,Q,r,oe,Hi,t,e,A,Ae);n.subscriptions.push(Oe),n.subscriptions.push(s.languages.registerCompletionItemProvider({scheme:Ut.Comment},new BM(n),":")),e.onDidChangeState(()=>{y.appendLine(`Git initialization state changed: state=${e.state}`,Qa),Oe.reviewManagers.forEach(bt=>bt.updateState(!0))}),e.onDidOpenRepository(bt=>{function fn(){if(u.folderManagers.find(et=>et.repository.rootUri.toString()===bt.rootUri.toString())){y.appendLine(`Repo ${bt.rootUri} has already been setup.`,Qa);return}if(s.workspace.getConfiguration(vt).get(Nt,!1)&&hE(bt,e)){y.appendLine(`Repo ${bt.rootUri} is a submodule and will be ignored due to ${Nt} setting.`,Qa);return}const Ue=new vo(u.folderManagers.length,n,bt,Hi,e,t,k,$);u.insertFolderManager(Ue);const He=new na(me++,n,Ue.repository,Ue,Hi,oe,r,o,pe,k,e);Oe.addReviewManager(He)}if(y.debug(`Checking if repo ${bt.rootUri.fsPath} is in a workspace folder.`,Qa),y.debug(`Workspace folders: ${re==null?void 0:re.map(On=>On.uri.fsPath).join(", ")}`,Qa),re&&!re.some(On=>ne(On.uri.fsPath,bt.rootUri.fsPath,!0)||ne(bt.rootUri.fsPath,On.uri.fsPath,!0))){y.appendLine(`Repo ${bt.rootUri} is not in a workspace folder, ignoring.`,Qa);return}fn();const cn=bt.state.onDidChange(()=>{y.appendLine(`Repo state for ${bt.rootUri} changed.`,Qa),fn(),cn.dispose()})}),e.onDidCloseRepository(bt=>{u.removeRepo(bt),Oe.removeReviewManager(bt)}),r.initialize(Oe.reviewManagers.map(bt=>bt.reviewModel),Ae),fE(n,u,Oe,Hi,A,Ae,Q,r);const Ge=s.workspace.getConfiguration(vt).get(ht);await s.commands.executeCommand("setContext","fileListLayout:flat",Ge==="flat");const We=new oP(e,u,n),qe=new iP(e,u,Oe,n,Hi,We,A);n.subscriptions.push(qe),await qe.initialize();const ot=new P1(Q,u,e,n);s.chat.registerChatContextProvider({scheme:"webview-panel",pattern:"**/webview-PullRequestOverview**"},"githubpr",ot),s.chat.registerChatContextProvider({scheme:"webview-panel",pattern:"**/webview-IssueOverview**"},"githubissue",new T1(We,u,n)),ot.initialize();const kt=new iM(t,u,Hi,Ae);n.subscriptions.push(kt),n.subscriptions.push(new zN),n.subscriptions.push(new bN(u,Hi,n.extensionUri,t)),await s.commands.executeCommand("setContext","github:initialized",!0),g2(n,u,e),await mM(Oe,n,u),m2(n,t,u),n.subscriptions.push(s.window.registerUriHandler(new rc(u,Oe,Hi,n,e))),Xy.closeTabs(),Hi.sendTelemetryEvent("startup")}function m2(n,e,t){const i=()=>{const a=new fP;n.subscriptions.push(new hP(n,a)),$P(n,e,t,a)},r=()=>s.workspace.getConfiguration(vt).get(Ws,!1);r()?i():Xi(vt,Ws,r,i,n.subscriptions)}async function p2(n){var e;if(y.appendLine(`Extension version: ${(e=s.extensions.getExtension(Ui))==null?void 0:e.packageJSON.version}`,"Activation"),Ui==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new DS;s.commands.registerCommand("github.api.preloadPullRequest",async r=>{await s.commands.executeCommand("setContext",da,!0),await ft.focusView("github:activePullRequest:welcome"),t.shouldShow=r}),await v2(n),y.debug("Creating API implementation.","Activation"),Hi=new yE(new p(f2)),n.subscriptions.push(Hi);const i=await b2(n,t);return await ft.setContext(Mt.ACTIVATED,!0),i}async function v2(n){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(Mr,null).get(_i,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(Mr,null).get(zr,!0)]];for(const[t,i]of e)ft.setContext(t,i()),n.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Mr}.${t}`)&&ft.setContext(t,i())}))}async function vb(n,e,t){const i=await qN(e,t);return i?(n.subscriptions.push(i),!0):!1}function g2(n,e,t){const i="GitPostCommitCommands";class r{getCommands(k){y.appendLine(`Looking for remote. Comparing ${k.state.remotes.length} local repo remotes with ${e.folderManagers.reduce((Q,re)=>Q+re.gitHubRepositories.length,0)} GitHub repositories.`,i);const A=io(k),$=e.folderManagers.find(Q=>Q.findRepo(re=>!!A.find(oe=>oe.equals(re.remote))));return y.appendLine(`Found ${$?"a repo":"no repos"} when getting post commit commands.`,i),$?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function a(){return e.folderManagers.some(u=>u.gitHubRepositories.length>0)}function o(){return y.appendLine("Trying to register post commit commands.","GitPostCommitCommands"),a()?(y.appendLine("GitHub remote(s) found, registering post commit commands.",i),n.subscriptions.push(t.registerPostCommitCommandsProvider(new r)),!0):!1}if(!o()){const u=e.onDidLoadAnyRepositories(()=>{o()&&u.dispose()})}}async function y2(n,e,t){if(y.appendLine("Registering built in git provider.","Activation"),!await vb(n,t,e)){const i=s.extensions.onDidChange(async()=>{await vb(n,t,e)&&i.dispose()});n.subscriptions.push(i)}}async function b2(n,e){y.debug("Initializing state.","Activation"),pE(n),await WP(n),os.init(n),y.debug("Creating credential store.","Activation");const t=new mN(Hi,n);n.subscriptions.push(t);const i=await kE(n,Hi);await i.initializePromise,await i.isCachedFlightEnabled("githubaa"),await t.create();const r=new _N(t,Hi);n.subscriptions.push(r);const a=new ZM(Hi,r,n);n.subscriptions.push(a);const o=new ti(r);n.subscriptions.push(o),y2(n,o,t),y.debug("Registering live share git provider.","Activation");const u=BN(o);n.subscriptions.push(u);const k=u.initialize();n.subscriptions.push(o),y.debug("Creating tree view.","Activation");const A=new e_(t,r,Hi,n,a);n.subscriptions.push(A);const $=new ab(a,Hi,n,r);n.subscriptions.push($),n.subscriptions.push(t.onDidGetSession(()=>$.refreshAll(!0))),y.appendLine("Looking for git repository",Qa);const Q=o.repositories;y.appendLine(`Found ${Q.length} repositories during activation`,Qa);const re=new xM;n.subscriptions.push(re);const oe=new dM;n.subscriptions.push(oe);let pe=0;const me=Q.map(Ae=>new vo(pe++,n,Ae,Hi,o,t,re,oe));n.subscriptions.push(...me);for(const Ae of me)r.insertFolderManager(Ae);const Ne=Pf({reposManager:r,gitAPI:o,credentialStore:t}),Se=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));Se.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},n.subscriptions.push(s.workspace.registerFileSystemProvider(Ut.Pr,Ne,{isReadonly:Se}));const Re=new $M(r,o,t);return n.subscriptions.push(s.workspace.registerFileSystemProvider(Ut.GitHubCommit,Re,{isReadonly:new s.MarkdownString(s.l10n.t("GitHub commits cannot be edited"))})),await h2(n,o,t,Q,$,k,e,r,re,A,oe,a),o}async function w2(){Hi&&Hi.dispose()}})(),module.exports=fc})();
