"use strict";var ci=Object.defineProperty;var jy=Object.getOwnPropertyDescriptor;var Fy=Object.getOwnPropertyNames;var $y=Object.prototype.hasOwnProperty;var s=(t,e)=>ci(t,"name",{value:e,configurable:!0});var jf=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ff=(t,e)=>{for(var n in e)ci(t,n,{get:e[n],enumerable:!0})},Wy=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fy(e))!$y.call(t,i)&&i!==n&&ci(t,i,{get:()=>e[i],enumerable:!(r=jy(e,i))||r.enumerable});return t};var ui=t=>Wy(ci({},"__esModule",{value:!0}),t);var li=v(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.thenable=ce.typedArray=ce.stringArray=ce.array=ce.func=ce.error=ce.number=ce.string=ce.boolean=void 0;function By(t){return t===!0||t===!1}s(By,"boolean");ce.boolean=By;function $f(t){return typeof t=="string"||t instanceof String}s($f,"string");ce.string=$f;function Hy(t){return typeof t=="number"||t instanceof Number}s(Hy,"number");ce.number=Hy;function Uy(t){return t instanceof Error}s(Uy,"error");ce.error=Uy;function Wf(t){return typeof t=="function"}s(Wf,"func");ce.func=Wf;function Bf(t){return Array.isArray(t)}s(Bf,"array");ce.array=Bf;function Ky(t){return Bf(t)&&t.every(e=>$f(e))}s(Ky,"stringArray");ce.stringArray=Ky;function Vy(t,e){return Array.isArray(t)&&t.every(e)}s(Vy,"typedArray");ce.typedArray=Vy;function zy(t){return t&&Wf(t.then)}s(zy,"thenable");ce.thenable=zy});var un=v(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.stringArray=_e.array=_e.func=_e.error=_e.number=_e.string=_e.boolean=void 0;function Yy(t){return t===!0||t===!1}s(Yy,"boolean");_e.boolean=Yy;function Hf(t){return typeof t=="string"||t instanceof String}s(Hf,"string");_e.string=Hf;function Jy(t){return typeof t=="number"||t instanceof Number}s(Jy,"number");_e.number=Jy;function Gy(t){return t instanceof Error}s(Gy,"error");_e.error=Gy;function Qy(t){return typeof t=="function"}s(Qy,"func");_e.func=Qy;function Uf(t){return Array.isArray(t)}s(Uf,"array");_e.array=Uf;function Xy(t){return Uf(t)&&t.every(e=>Hf(e))}s(Xy,"stringArray");_e.stringArray=Xy});var la=v(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.Message=L.NotificationType9=L.NotificationType8=L.NotificationType7=L.NotificationType6=L.NotificationType5=L.NotificationType4=L.NotificationType3=L.NotificationType2=L.NotificationType1=L.NotificationType0=L.NotificationType=L.RequestType9=L.RequestType8=L.RequestType7=L.RequestType6=L.RequestType5=L.RequestType4=L.RequestType3=L.RequestType2=L.RequestType1=L.RequestType=L.RequestType0=L.AbstractMessageSignature=L.ParameterStructures=L.ResponseError=L.ErrorCodes=void 0;var It=un(),Kf;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Kf=L.ErrorCodes||(L.ErrorCodes={}));var Wo=class t extends Error{static{s(this,"ResponseError")}constructor(e,n,r){super(n),this.code=It.number(e)?e:Kf.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};L.ResponseError=Wo;var Pe=class t{static{s(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};L.ParameterStructures=Pe;Pe.auto=new Pe("auto");Pe.byPosition=new Pe("byPosition");Pe.byName=new Pe("byName");var Z=class{static{s(this,"AbstractMessageSignature")}constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Pe.auto}};L.AbstractMessageSignature=Z;var Bo=class extends Z{static{s(this,"RequestType0")}constructor(e){super(e,0)}};L.RequestType0=Bo;var Ho=class extends Z{static{s(this,"RequestType")}constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.RequestType=Ho;var Uo=class extends Z{static{s(this,"RequestType1")}constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.RequestType1=Uo;var Ko=class extends Z{static{s(this,"RequestType2")}constructor(e){super(e,2)}};L.RequestType2=Ko;var Vo=class extends Z{static{s(this,"RequestType3")}constructor(e){super(e,3)}};L.RequestType3=Vo;var zo=class extends Z{static{s(this,"RequestType4")}constructor(e){super(e,4)}};L.RequestType4=zo;var Yo=class extends Z{static{s(this,"RequestType5")}constructor(e){super(e,5)}};L.RequestType5=Yo;var Jo=class extends Z{static{s(this,"RequestType6")}constructor(e){super(e,6)}};L.RequestType6=Jo;var Go=class extends Z{static{s(this,"RequestType7")}constructor(e){super(e,7)}};L.RequestType7=Go;var Qo=class extends Z{static{s(this,"RequestType8")}constructor(e){super(e,8)}};L.RequestType8=Qo;var Xo=class extends Z{static{s(this,"RequestType9")}constructor(e){super(e,9)}};L.RequestType9=Xo;var Zo=class extends Z{static{s(this,"NotificationType")}constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.NotificationType=Zo;var ea=class extends Z{static{s(this,"NotificationType0")}constructor(e){super(e,0)}};L.NotificationType0=ea;var ta=class extends Z{static{s(this,"NotificationType1")}constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.NotificationType1=ta;var na=class extends Z{static{s(this,"NotificationType2")}constructor(e){super(e,2)}};L.NotificationType2=na;var ra=class extends Z{static{s(this,"NotificationType3")}constructor(e){super(e,3)}};L.NotificationType3=ra;var ia=class extends Z{static{s(this,"NotificationType4")}constructor(e){super(e,4)}};L.NotificationType4=ia;var sa=class extends Z{static{s(this,"NotificationType5")}constructor(e){super(e,5)}};L.NotificationType5=sa;var oa=class extends Z{static{s(this,"NotificationType6")}constructor(e){super(e,6)}};L.NotificationType6=oa;var aa=class extends Z{static{s(this,"NotificationType7")}constructor(e){super(e,7)}};L.NotificationType7=aa;var ca=class extends Z{static{s(this,"NotificationType8")}constructor(e){super(e,8)}};L.NotificationType8=ca;var ua=class extends Z{static{s(this,"NotificationType9")}constructor(e){super(e,9)}};L.NotificationType9=ua;var Zy;(function(t){function e(i){let o=i;return o&&It.string(o.method)&&(It.string(o.id)||It.number(o.id))}s(e,"isRequest"),t.isRequest=e;function n(i){let o=i;return o&&It.string(o.method)&&i.id===void 0}s(n,"isNotification"),t.isNotification=n;function r(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(It.string(o.id)||It.number(o.id)||o.id===null)}s(r,"isResponse"),t.isResponse=r})(Zy=L.Message||(L.Message={}))});var da=v(ct=>{"use strict";var Vf;Object.defineProperty(ct,"__esModule",{value:!0});ct.LRUCache=ct.LinkedMap=ct.Touch=void 0;var De;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(De=ct.Touch||(ct.Touch={}));var fi=class{static{s(this,"LinkedMap")}constructor(){this[Vf]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=De.None){let r=this._map.get(e);if(r)return n!==De.None&&this.touch(r,n),r.value}set(e,n,r=De.None){let i=this._map.get(e);if(i)i.value=n,r!==De.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case De.None:this.addItemLast(i);break;case De.First:this.addItemFirst(i);break;case De.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return r}[(Vf=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==De.First&&n!==De.Last)){if(n===De.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===De.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};ct.LinkedMap=fi;var fa=class extends fi{static{s(this,"LRUCache")}constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=De.AsNew){return super.get(e,n)}peek(e){return super.get(e,De.None)}set(e,n){return super.set(e,n,De.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ct.LRUCache=fa});var zf=v(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Disposable=void 0;var ev;(function(t){function e(n){return{dispose:n}}s(e,"create"),t.create=e})(ev=Yn.Disposable||(Yn.Disposable={}))});var yt=v(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var ha;function pa(){if(ha===void 0)throw new Error("No runtime abstraction layer installed");return ha}s(pa,"RAL");(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");ha=n}s(e,"install"),t.install=e})(pa||(pa={}));ma.default=pa});var ln=v(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.Emitter=jt.Event=void 0;var tv=yt(),nv;(function(t){let e={dispose(){}};t.None=function(){return e}})(nv=jt.Event||(jt.Event={}));var ga=class{static{s(this,"CallbackList")}add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:s(()=>this.remove(e,n),"dispose")})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=r.length;o<a;o++)try{n.push(r[o].apply(i[o],e))}catch(c){(0,tv.default)().console.error(c)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},di=class t{static{s(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new ga),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};jt.Emitter=di;di._noop=function(){}});var pi=v(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.CancellationTokenSource=Ft.CancellationToken=void 0;var rv=yt(),iv=un(),ya=ln(),va;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ya.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ya.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||iv.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}s(e,"is"),t.is=e})(va=Ft.CancellationToken||(Ft.CancellationToken={}));var sv=Object.freeze(function(t,e){let n=(0,rv.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),hi=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?sv:(this._emitter||(this._emitter=new ya.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ba=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new hi),this._token}cancel(){this._token?this._token.cancel():this._token=va.Cancelled}dispose(){this._token?this._token instanceof hi&&this._token.dispose():this._token=va.None}};Ft.CancellationTokenSource=ba});var Yf=v(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.SharedArrayReceiverStrategy=fn.SharedArraySenderStrategy=void 0;var ov=pi(),Jn;(function(t){t.Continue=0,t.Cancelled=1})(Jn||(Jn={}));var wa=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Jn.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Jn.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};fn.SharedArraySenderStrategy=wa;var _a=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Jn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Sa=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new _a(e)}cancel(){}dispose(){}},Ca=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new ov.CancellationTokenSource:new Sa(n)}};fn.SharedArrayReceiverStrategy=Ca});var Ta=v(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.Semaphore=void 0;var av=yt(),Da=class{static{s(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,av.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};mi.Semaphore=Da});var Jf=v(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.ReadableStreamMessageReader=ut.AbstractMessageReader=ut.MessageReader=void 0;var qa=yt(),dn=un(),ka=ln(),cv=Ta(),uv;(function(t){function e(n){let r=n;return r&&dn.func(r.listen)&&dn.func(r.dispose)&&dn.func(r.onError)&&dn.func(r.onClose)&&dn.func(r.onPartialMessage)}s(e,"is"),t.is=e})(uv=ut.MessageReader||(ut.MessageReader={}));var gi=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new ka.Emitter,this.closeEmitter=new ka.Emitter,this.partialMessageEmitter=new ka.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${dn.string(e.message)?e.message:"unknown"}`)}};ut.AbstractMessageReader=gi;var Pa;(function(t){function e(n){let r,i,o,a=new Map,c,u=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,a.set(o.name,o)),n.contentDecoders!==void 0)for(let l of n.contentDecoders)a.set(l.name,l);if(n.contentTypeDecoder!==void 0&&(c=n.contentTypeDecoder,u.set(c.name,c)),n.contentTypeDecoders!==void 0)for(let l of n.contentTypeDecoders)u.set(l.name,l)}return c===void 0&&(c=(0,qa.default)().applicationJson.decoder,u.set(c.name,c)),{charset:r,contentDecoder:o,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:u}}s(e,"fromOptions"),t.fromOptions=e})(Pa||(Pa={}));var Ra=class extends gi{static{s(this,"ReadableStreamMessageReader")}constructor(e,n){super(),this.readable=e,this.options=Pa.fromOptions(n),this.buffer=(0,qa.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new cv.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,qa.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ut.ReadableStreamMessageReader=Ra});var Zf=v(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.WriteableStreamMessageWriter=lt.AbstractMessageWriter=lt.MessageWriter=void 0;var Gf=yt(),Gn=un(),lv=Ta(),Qf=ln(),fv="Content-Length: ",Xf=`\r
`,dv;(function(t){function e(n){let r=n;return r&&Gn.func(r.dispose)&&Gn.func(r.onClose)&&Gn.func(r.onError)&&Gn.func(r.write)}s(e,"is"),t.is=e})(dv=lt.MessageWriter||(lt.MessageWriter={}));var yi=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Qf.Emitter,this.closeEmitter=new Qf.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Gn.string(e.message)?e.message:"unknown"}`)}};lt.AbstractMessageWriter=yi;var Na;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Gf.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Gf.default)().applicationJson.encoder}}s(e,"fromOptions"),t.fromOptions=e})(Na||(Na={}));var xa=class extends yi{static{s(this,"WriteableStreamMessageWriter")}constructor(e,n){super(),this.writable=e,this.options=Na.fromOptions(n),this.errorCount=0,this.writeSemaphore=new lv.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(fv,r.byteLength.toString(),Xf),i.push(Xf),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};lt.WriteableStreamMessageWriter=xa});var ed=v(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.AbstractMessageBuffer=void 0;var hv=13,pv=10,mv=`\r
`,Oa=class{static{s(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){let l=this._chunks[r];for(i=0;i<l.length;){switch(l[i]){case hv:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case pv:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=l.byteLength,r++}if(n!==4)return;let a=this._read(o+i),c=new Map,u=this.toString(a,"ascii").split(mv);if(u.length<2)return c;for(let l=0;l<u.length-2;l++){let p=u[l],h=p.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let y=p.substr(0,h),_=p.substr(h+1).trim();c.set(e?y.toLowerCase():y,_)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],a=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let a=o.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return n}};vi.AbstractMessageBuffer=Oa});var ad=v(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.createMessageConnection=A.ConnectionOptions=A.MessageStrategy=A.CancellationStrategy=A.CancellationSenderStrategy=A.CancellationReceiverStrategy=A.RequestCancellationReceiverStrategy=A.IdCancellationReceiverStrategy=A.ConnectionStrategy=A.ConnectionError=A.ConnectionErrors=A.LogTraceNotification=A.SetTraceNotification=A.TraceFormat=A.TraceValues=A.Trace=A.NullLogger=A.ProgressType=A.ProgressToken=void 0;var td=yt(),te=un(),I=la(),nd=da(),Qn=ln(),Ea=pi(),Zn;(function(t){t.type=new I.NotificationType("$/cancelRequest")})(Zn||(Zn={}));var rd;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}s(e,"is"),t.is=e})(rd=A.ProgressToken||(A.ProgressToken={}));var Xn;(function(t){t.type=new I.NotificationType("$/progress")})(Xn||(Xn={}));var Ma=class{static{s(this,"ProgressType")}constructor(){}};A.ProgressType=Ma;var Aa;(function(t){function e(n){return te.func(n)}s(e,"is"),t.is=e})(Aa||(Aa={}));A.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var Y;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Y=A.Trace||(A.Trace={}));var gv;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(gv=A.TraceValues||(A.TraceValues={}));(function(t){function e(r){if(!te.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}s(e,"fromString"),t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}s(n,"toString"),t.toString=n})(Y=A.Trace||(A.Trace={}));var Be;(function(t){t.Text="text",t.JSON="json"})(Be=A.TraceFormat||(A.TraceFormat={}));(function(t){function e(n){return te.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}s(e,"fromString"),t.fromString=e})(Be=A.TraceFormat||(A.TraceFormat={}));var id;(function(t){t.type=new I.NotificationType("$/setTrace")})(id=A.SetTraceNotification||(A.SetTraceNotification={}));var La;(function(t){t.type=new I.NotificationType("$/logTrace")})(La=A.LogTraceNotification||(A.LogTraceNotification={}));var bi;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(bi=A.ConnectionErrors||(A.ConnectionErrors={}));var hn=class t extends Error{static{s(this,"ConnectionError")}constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};A.ConnectionError=hn;var sd;(function(t){function e(n){let r=n;return r&&te.func(r.cancelUndispatched)}s(e,"is"),t.is=e})(sd=A.ConnectionStrategy||(A.ConnectionStrategy={}));var Fa;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&te.func(r.createCancellationTokenSource)&&(r.dispose===void 0||te.func(r.dispose))}s(e,"is"),t.is=e})(Fa=A.IdCancellationReceiverStrategy||(A.IdCancellationReceiverStrategy={}));var od;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&te.func(r.createCancellationTokenSource)&&(r.dispose===void 0||te.func(r.dispose))}s(e,"is"),t.is=e})(od=A.RequestCancellationReceiverStrategy||(A.RequestCancellationReceiverStrategy={}));var Ia;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Ea.CancellationTokenSource}});function e(n){return Fa.is(n)||od.is(n)}s(e,"is"),t.is=e})(Ia=A.CancellationReceiverStrategy||(A.CancellationReceiverStrategy={}));var ja;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Zn.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&te.func(r.sendCancellation)&&te.func(r.cleanup)}s(e,"is"),t.is=e})(ja=A.CancellationSenderStrategy||(A.CancellationSenderStrategy={}));var $a;(function(t){t.Message=Object.freeze({receiver:Ia.Message,sender:ja.Message});function e(n){let r=n;return r&&Ia.is(r.receiver)&&ja.is(r.sender)}s(e,"is"),t.is=e})($a=A.CancellationStrategy||(A.CancellationStrategy={}));var Wa;(function(t){function e(n){let r=n;return r&&te.func(r.handleMessage)}s(e,"is"),t.is=e})(Wa=A.MessageStrategy||(A.MessageStrategy={}));var yv;(function(t){function e(n){let r=n;return r&&($a.is(r.cancellationStrategy)||sd.is(r.connectionStrategy)||Wa.is(r.messageStrategy))}s(e,"is"),t.is=e})(yv=A.ConnectionOptions||(A.ConnectionOptions={}));var He;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(He||(He={}));function vv(t,e,n,r){let i=n!==void 0?n:A.NullLogger,o=0,a=0,c=0,u="2.0",l,p=new Map,h,y=new Map,_=new Map,k,b=new nd.LinkedMap,D=new Map,P=new Set,g=new Map,m=Y.Off,C=Be.Text,N,O=He.New,H=new Qn.Emitter,E=new Qn.Emitter,ie=new Qn.Emitter,We=new Qn.Emitter,at=new Qn.Emitter,J=r&&r.cancellationStrategy?r.cancellationStrategy:$a.Message;function Kn(d){if(d===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+d.toString()}s(Kn,"createRequestQueueKey");function by(d){return d===null?"res-unknown-"+(++c).toString():"res-"+d.toString()}s(by,"createResponseQueueKey");function wy(){return"not-"+(++a).toString()}s(wy,"createNotificationQueueKey");function _y(d,T){I.Message.isRequest(T)?d.set(Kn(T.id),T):I.Message.isResponse(T)?d.set(by(T.id),T):d.set(wy(),T)}s(_y,"addMessageToQueue");function Sy(d){}s(Sy,"cancelUndispatched");function Nf(){return O===He.Listening}s(Nf,"isListening");function xf(){return O===He.Closed}s(xf,"isClosed");function on(){return O===He.Disposed}s(on,"isDisposed");function Of(){(O===He.New||O===He.Listening)&&(O=He.Closed,E.fire(void 0))}s(Of,"closeHandler");function Cy(d){H.fire([d,void 0,void 0])}s(Cy,"readErrorHandler");function Dy(d){H.fire(d)}s(Dy,"writeErrorHandler"),t.onClose(Of),t.onError(Cy),e.onClose(Of),e.onError(Dy);function Ef(){k||b.size===0||(k=(0,td.default)().timer.setImmediate(()=>{k=void 0,Ty()}))}s(Ef,"triggerMessageQueue");function Mf(d){I.Message.isRequest(d)?qy(d):I.Message.isNotification(d)?Ry(d):I.Message.isResponse(d)?Py(d):Ny(d)}s(Mf,"handleMessage");function Ty(){if(b.size===0)return;let d=b.shift();try{let T=r?.messageStrategy;Wa.is(T)?T.handleMessage(d,Mf):Mf(d)}finally{Ef()}}s(Ty,"processMessageQueue");let ky=s(d=>{try{if(I.Message.isNotification(d)&&d.method===Zn.type.method){let T=d.params.id,R=Kn(T),M=b.get(R);if(I.Message.isRequest(M)){let G=r?.connectionStrategy,se=G&&G.cancelUndispatched?G.cancelUndispatched(M,Sy):void 0;if(se&&(se.error!==void 0||se.result!==void 0)){b.delete(R),g.delete(T),se.id=M.id,ai(se,d.method,Date.now()),e.write(se).catch(()=>i.error("Sending response for canceled message failed."));return}}let X=g.get(T);if(X!==void 0){X.cancel(),Fo(d);return}else P.add(T)}_y(b,d)}finally{Ef()}},"callback");function qy(d){if(on())return;function T(B,ee,z){let he={jsonrpc:u,id:d.id};B instanceof I.ResponseError?he.error=B.toJson():he.result=B===void 0?null:B,ai(he,ee,z),e.write(he).catch(()=>i.error("Sending response failed."))}s(T,"reply");function R(B,ee,z){let he={jsonrpc:u,id:d.id,error:B.toJson()};ai(he,ee,z),e.write(he).catch(()=>i.error("Sending response failed."))}s(R,"replyError");function M(B,ee,z){B===void 0&&(B=null);let he={jsonrpc:u,id:d.id,result:B};ai(he,ee,z),e.write(he).catch(()=>i.error("Sending response failed."))}s(M,"replySuccess"),Ey(d);let X=p.get(d.method),G,se;X&&(G=X.type,se=X.handler);let ae=Date.now();if(se||l){let B=d.id??String(Date.now()),ee=Fa.is(J.receiver)?J.receiver.createCancellationTokenSource(B):J.receiver.createCancellationTokenSource(d);d.id!==null&&P.has(d.id)&&ee.cancel(),d.id!==null&&g.set(B,ee);try{let z;if(se)if(d.params===void 0){if(G!==void 0&&G.numberOfParams!==0){R(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines ${G.numberOfParams} params but received none.`),d.method,ae);return}z=se(ee.token)}else if(Array.isArray(d.params)){if(G!==void 0&&G.parameterStructures===I.ParameterStructures.byName){R(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by name but received parameters by position`),d.method,ae);return}z=se(...d.params,ee.token)}else{if(G!==void 0&&G.parameterStructures===I.ParameterStructures.byPosition){R(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by position but received parameters by name`),d.method,ae);return}z=se(d.params,ee.token)}else l&&(z=l(d.method,d.params,ee.token));let he=z;z?he.then?he.then(Ce=>{g.delete(B),T(Ce,d.method,ae)},Ce=>{g.delete(B),Ce instanceof I.ResponseError?R(Ce,d.method,ae):Ce&&te.string(Ce.message)?R(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${Ce.message}`),d.method,ae):R(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,ae)}):(g.delete(B),T(z,d.method,ae)):(g.delete(B),M(z,d.method,ae))}catch(z){g.delete(B),z instanceof I.ResponseError?T(z,d.method,ae):z&&te.string(z.message)?R(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${z.message}`),d.method,ae):R(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,ae)}}else R(new I.ResponseError(I.ErrorCodes.MethodNotFound,`Unhandled method ${d.method}`),d.method,ae)}s(qy,"handleRequest");function Py(d){if(!on())if(d.id===null)d.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(d.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let T=d.id,R=D.get(T);if(My(d,R),R!==void 0){D.delete(T);try{if(d.error){let M=d.error;R.reject(new I.ResponseError(M.code,M.message,M.data))}else if(d.result!==void 0)R.resolve(d.result);else throw new Error("Should never happen.")}catch(M){M.message?i.error(`Response handler '${R.method}' failed with message: ${M.message}`):i.error(`Response handler '${R.method}' failed unexpectedly.`)}}}}s(Py,"handleResponse");function Ry(d){if(on())return;let T,R;if(d.method===Zn.type.method){let M=d.params.id;P.delete(M),Fo(d);return}else{let M=y.get(d.method);M&&(R=M.handler,T=M.type)}if(R||h)try{if(Fo(d),R)if(d.params===void 0)T!==void 0&&T.numberOfParams!==0&&T.parameterStructures!==I.ParameterStructures.byName&&i.error(`Notification ${d.method} defines ${T.numberOfParams} params but received none.`),R();else if(Array.isArray(d.params)){let M=d.params;d.method===Xn.type.method&&M.length===2&&rd.is(M[0])?R({token:M[0],value:M[1]}):(T!==void 0&&(T.parameterStructures===I.ParameterStructures.byName&&i.error(`Notification ${d.method} defines parameters by name but received parameters by position`),T.numberOfParams!==d.params.length&&i.error(`Notification ${d.method} defines ${T.numberOfParams} params but received ${M.length} arguments`)),R(...M))}else T!==void 0&&T.parameterStructures===I.ParameterStructures.byPosition&&i.error(`Notification ${d.method} defines parameters by position but received parameters by name`),R(d.params);else h&&h(d.method,d.params)}catch(M){M.message?i.error(`Notification handler '${d.method}' failed with message: ${M.message}`):i.error(`Notification handler '${d.method}' failed unexpectedly.`)}else ie.fire(d)}s(Ry,"handleNotification");function Ny(d){if(!d){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(d,null,4)}`);let T=d;if(te.string(T.id)||te.number(T.id)){let R=T.id,M=D.get(R);M&&M.reject(new Error("The received response has neither a result nor an error property."))}}s(Ny,"handleInvalidMessage");function gt(d){if(d!=null)switch(m){case Y.Verbose:return JSON.stringify(d,null,4);case Y.Compact:return JSON.stringify(d);default:return}}s(gt,"stringifyTrace");function xy(d){if(!(m===Y.Off||!N))if(C===Be.Text){let T;(m===Y.Verbose||m===Y.Compact)&&d.params&&(T=`Params: ${gt(d.params)}

`),N.log(`Sending request '${d.method} - (${d.id})'.`,T)}else an("send-request",d)}s(xy,"traceSendingRequest");function Oy(d){if(!(m===Y.Off||!N))if(C===Be.Text){let T;(m===Y.Verbose||m===Y.Compact)&&(d.params?T=`Params: ${gt(d.params)}

`:T=`No parameters provided.

`),N.log(`Sending notification '${d.method}'.`,T)}else an("send-notification",d)}s(Oy,"traceSendingNotification");function ai(d,T,R){if(!(m===Y.Off||!N))if(C===Be.Text){let M;(m===Y.Verbose||m===Y.Compact)&&(d.error&&d.error.data?M=`Error data: ${gt(d.error.data)}

`:d.result?M=`Result: ${gt(d.result)}

`:d.error===void 0&&(M=`No result returned.

`)),N.log(`Sending response '${T} - (${d.id})'. Processing request took ${Date.now()-R}ms`,M)}else an("send-response",d)}s(ai,"traceSendingResponse");function Ey(d){if(!(m===Y.Off||!N))if(C===Be.Text){let T;(m===Y.Verbose||m===Y.Compact)&&d.params&&(T=`Params: ${gt(d.params)}

`),N.log(`Received request '${d.method} - (${d.id})'.`,T)}else an("receive-request",d)}s(Ey,"traceReceivedRequest");function Fo(d){if(!(m===Y.Off||!N||d.method===La.type.method))if(C===Be.Text){let T;(m===Y.Verbose||m===Y.Compact)&&(d.params?T=`Params: ${gt(d.params)}

`:T=`No parameters provided.

`),N.log(`Received notification '${d.method}'.`,T)}else an("receive-notification",d)}s(Fo,"traceReceivedNotification");function My(d,T){if(!(m===Y.Off||!N))if(C===Be.Text){let R;if((m===Y.Verbose||m===Y.Compact)&&(d.error&&d.error.data?R=`Error data: ${gt(d.error.data)}

`:d.result?R=`Result: ${gt(d.result)}

`:d.error===void 0&&(R=`No result returned.

`)),T){let M=d.error?` Request failed: ${d.error.message} (${d.error.code}).`:"";N.log(`Received response '${T.method} - (${d.id})' in ${Date.now()-T.timerStart}ms.${M}`,R)}else N.log(`Received response ${d.id} without active response promise.`,R)}else an("receive-response",d)}s(My,"traceReceivedResponse");function an(d,T){if(!N||m===Y.Off)return;let R={isLSPMessage:!0,type:d,message:T,timestamp:Date.now()};N.log(R)}s(an,"logLSPMessage");function Vn(){if(xf())throw new hn(bi.Closed,"Connection is closed.");if(on())throw new hn(bi.Disposed,"Connection is disposed.")}s(Vn,"throwIfClosedOrDisposed");function Ay(){if(Nf())throw new hn(bi.AlreadyListening,"Connection is already listening")}s(Ay,"throwIfListening");function Ly(){if(!Nf())throw new Error("Call listen() first.")}s(Ly,"throwIfNotListening");function zn(d){return d===void 0?null:d}s(zn,"undefinedToNull");function Af(d){if(d!==null)return d}s(Af,"nullToUndefined");function Lf(d){return d!=null&&!Array.isArray(d)&&typeof d=="object"}s(Lf,"isNamedParam");function $o(d,T){switch(d){case I.ParameterStructures.auto:return Lf(T)?Af(T):[zn(T)];case I.ParameterStructures.byName:if(!Lf(T))throw new Error("Received parameters by name but param is not an object literal.");return Af(T);case I.ParameterStructures.byPosition:return[zn(T)];default:throw new Error(`Unknown parameter structure ${d.toString()}`)}}s($o,"computeSingleParam");function If(d,T){let R,M=d.numberOfParams;switch(M){case 0:R=void 0;break;case 1:R=$o(d.parameterStructures,T[0]);break;default:R=[];for(let X=0;X<T.length&&X<M;X++)R.push(zn(T[X]));if(T.length<M)for(let X=T.length;X<M;X++)R.push(null);break}return R}s(If,"computeMessageParams");let cn={sendNotification:s((d,...T)=>{Vn();let R,M;if(te.string(d)){R=d;let G=T[0],se=0,ae=I.ParameterStructures.auto;I.ParameterStructures.is(G)&&(se=1,ae=G);let B=T.length,ee=B-se;switch(ee){case 0:M=void 0;break;case 1:M=$o(ae,T[se]);break;default:if(ae===I.ParameterStructures.byName)throw new Error(`Received ${ee} parameters for 'by Name' notification parameter structure.`);M=T.slice(se,B).map(z=>zn(z));break}}else{let G=T;R=d.method,M=If(d,G)}let X={jsonrpc:u,method:R,params:M};return Oy(X),e.write(X).catch(G=>{throw i.error("Sending notification failed."),G})},"sendNotification"),onNotification:s((d,T)=>{Vn();let R;return te.func(d)?h=d:T&&(te.string(d)?(R=d,y.set(d,{type:void 0,handler:T})):(R=d.method,y.set(d.method,{type:d,handler:T}))),{dispose:s(()=>{R!==void 0?y.delete(R):h=void 0},"dispose")}},"onNotification"),onProgress:s((d,T,R)=>{if(_.has(T))throw new Error(`Progress handler for token ${T} already registered`);return _.set(T,R),{dispose:s(()=>{_.delete(T)},"dispose")}},"onProgress"),sendProgress:s((d,T,R)=>cn.sendNotification(Xn.type,{token:T,value:R}),"sendProgress"),onUnhandledProgress:We.event,sendRequest:s((d,...T)=>{Vn(),Ly();let R,M,X;if(te.string(d)){R=d;let B=T[0],ee=T[T.length-1],z=0,he=I.ParameterStructures.auto;I.ParameterStructures.is(B)&&(z=1,he=B);let Ce=T.length;Ea.CancellationToken.is(ee)&&(Ce=Ce-1,X=ee);let Ze=Ce-z;switch(Ze){case 0:M=void 0;break;case 1:M=$o(he,T[z]);break;default:if(he===I.ParameterStructures.byName)throw new Error(`Received ${Ze} parameters for 'by Name' request parameter structure.`);M=T.slice(z,Ce).map(Iy=>zn(Iy));break}}else{let B=T;R=d.method,M=If(d,B);let ee=d.numberOfParams;X=Ea.CancellationToken.is(B[ee])?B[ee]:void 0}let G=o++,se;X&&(se=X.onCancellationRequested(()=>{let B=J.sender.sendCancellation(cn,G);return B===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${G}`),Promise.resolve()):B.catch(()=>{i.log(`Sending cancellation messages for id ${G} failed`)})}));let ae={jsonrpc:u,id:G,method:R,params:M};return xy(ae),typeof J.sender.enableCancellation=="function"&&J.sender.enableCancellation(ae),new Promise(async(B,ee)=>{let z=s(Ze=>{B(Ze),J.sender.cleanup(G),se?.dispose()},"resolveWithCleanup"),he=s(Ze=>{ee(Ze),J.sender.cleanup(G),se?.dispose()},"rejectWithCleanup"),Ce={method:R,timerStart:Date.now(),resolve:z,reject:he};try{await e.write(ae),D.set(G,Ce)}catch(Ze){throw i.error("Sending request failed."),Ce.reject(new I.ResponseError(I.ErrorCodes.MessageWriteError,Ze.message?Ze.message:"Unknown reason")),Ze}})},"sendRequest"),onRequest:s((d,T)=>{Vn();let R=null;return Aa.is(d)?(R=void 0,l=d):te.string(d)?(R=null,T!==void 0&&(R=d,p.set(d,{handler:T,type:void 0}))):T!==void 0&&(R=d.method,p.set(d.method,{type:d,handler:T})),{dispose:s(()=>{R!==null&&(R!==void 0?p.delete(R):l=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>D.size>0,"hasPendingResponse"),trace:s(async(d,T,R)=>{let M=!1,X=Be.Text;R!==void 0&&(te.boolean(R)?M=R:(M=R.sendNotification||!1,X=R.traceFormat||Be.Text)),m=d,C=X,m===Y.Off?N=void 0:N=T,M&&!xf()&&!on()&&await cn.sendNotification(id.type,{value:Y.toString(d)})},"trace"),onError:H.event,onClose:E.event,onUnhandledNotification:ie.event,onDispose:at.event,end:s(()=>{e.end()},"end"),dispose:s(()=>{if(on())return;O=He.Disposed,at.fire(void 0);let d=new I.ResponseError(I.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let T of D.values())T.reject(d);D=new Map,g=new Map,P=new Set,b=new nd.LinkedMap,te.func(e.dispose)&&e.dispose(),te.func(t.dispose)&&t.dispose()},"dispose"),listen:s(()=>{Vn(),Ay(),O=He.Listening,t.listen(ky)},"listen"),inspect:s(()=>{(0,td.default)().console.log("inspect")},"inspect")};return cn.onNotification(La.type,d=>{if(m===Y.Off||!N)return;let T=m===Y.Verbose||m===Y.Compact;N.log(d.message,T?d.verbose:void 0)}),cn.onNotification(Xn.type,d=>{let T=_.get(d.token);T?T(d.value):We.fire(d)}),cn}s(vv,"createMessageConnection");A.createMessageConnection=vv});var wi=v(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.ProgressType=S.ProgressToken=S.createMessageConnection=S.NullLogger=S.ConnectionOptions=S.ConnectionStrategy=S.AbstractMessageBuffer=S.WriteableStreamMessageWriter=S.AbstractMessageWriter=S.MessageWriter=S.ReadableStreamMessageReader=S.AbstractMessageReader=S.MessageReader=S.SharedArrayReceiverStrategy=S.SharedArraySenderStrategy=S.CancellationToken=S.CancellationTokenSource=S.Emitter=S.Event=S.Disposable=S.LRUCache=S.Touch=S.LinkedMap=S.ParameterStructures=S.NotificationType9=S.NotificationType8=S.NotificationType7=S.NotificationType6=S.NotificationType5=S.NotificationType4=S.NotificationType3=S.NotificationType2=S.NotificationType1=S.NotificationType0=S.NotificationType=S.ErrorCodes=S.ResponseError=S.RequestType9=S.RequestType8=S.RequestType7=S.RequestType6=S.RequestType5=S.RequestType4=S.RequestType3=S.RequestType2=S.RequestType1=S.RequestType0=S.RequestType=S.Message=S.RAL=void 0;S.MessageStrategy=S.CancellationStrategy=S.CancellationSenderStrategy=S.CancellationReceiverStrategy=S.ConnectionError=S.ConnectionErrors=S.LogTraceNotification=S.SetTraceNotification=S.TraceFormat=S.TraceValues=S.Trace=void 0;var Q=la();Object.defineProperty(S,"Message",{enumerable:!0,get:s(function(){return Q.Message},"get")});Object.defineProperty(S,"RequestType",{enumerable:!0,get:s(function(){return Q.RequestType},"get")});Object.defineProperty(S,"RequestType0",{enumerable:!0,get:s(function(){return Q.RequestType0},"get")});Object.defineProperty(S,"RequestType1",{enumerable:!0,get:s(function(){return Q.RequestType1},"get")});Object.defineProperty(S,"RequestType2",{enumerable:!0,get:s(function(){return Q.RequestType2},"get")});Object.defineProperty(S,"RequestType3",{enumerable:!0,get:s(function(){return Q.RequestType3},"get")});Object.defineProperty(S,"RequestType4",{enumerable:!0,get:s(function(){return Q.RequestType4},"get")});Object.defineProperty(S,"RequestType5",{enumerable:!0,get:s(function(){return Q.RequestType5},"get")});Object.defineProperty(S,"RequestType6",{enumerable:!0,get:s(function(){return Q.RequestType6},"get")});Object.defineProperty(S,"RequestType7",{enumerable:!0,get:s(function(){return Q.RequestType7},"get")});Object.defineProperty(S,"RequestType8",{enumerable:!0,get:s(function(){return Q.RequestType8},"get")});Object.defineProperty(S,"RequestType9",{enumerable:!0,get:s(function(){return Q.RequestType9},"get")});Object.defineProperty(S,"ResponseError",{enumerable:!0,get:s(function(){return Q.ResponseError},"get")});Object.defineProperty(S,"ErrorCodes",{enumerable:!0,get:s(function(){return Q.ErrorCodes},"get")});Object.defineProperty(S,"NotificationType",{enumerable:!0,get:s(function(){return Q.NotificationType},"get")});Object.defineProperty(S,"NotificationType0",{enumerable:!0,get:s(function(){return Q.NotificationType0},"get")});Object.defineProperty(S,"NotificationType1",{enumerable:!0,get:s(function(){return Q.NotificationType1},"get")});Object.defineProperty(S,"NotificationType2",{enumerable:!0,get:s(function(){return Q.NotificationType2},"get")});Object.defineProperty(S,"NotificationType3",{enumerable:!0,get:s(function(){return Q.NotificationType3},"get")});Object.defineProperty(S,"NotificationType4",{enumerable:!0,get:s(function(){return Q.NotificationType4},"get")});Object.defineProperty(S,"NotificationType5",{enumerable:!0,get:s(function(){return Q.NotificationType5},"get")});Object.defineProperty(S,"NotificationType6",{enumerable:!0,get:s(function(){return Q.NotificationType6},"get")});Object.defineProperty(S,"NotificationType7",{enumerable:!0,get:s(function(){return Q.NotificationType7},"get")});Object.defineProperty(S,"NotificationType8",{enumerable:!0,get:s(function(){return Q.NotificationType8},"get")});Object.defineProperty(S,"NotificationType9",{enumerable:!0,get:s(function(){return Q.NotificationType9},"get")});Object.defineProperty(S,"ParameterStructures",{enumerable:!0,get:s(function(){return Q.ParameterStructures},"get")});var Ba=da();Object.defineProperty(S,"LinkedMap",{enumerable:!0,get:s(function(){return Ba.LinkedMap},"get")});Object.defineProperty(S,"LRUCache",{enumerable:!0,get:s(function(){return Ba.LRUCache},"get")});Object.defineProperty(S,"Touch",{enumerable:!0,get:s(function(){return Ba.Touch},"get")});var bv=zf();Object.defineProperty(S,"Disposable",{enumerable:!0,get:s(function(){return bv.Disposable},"get")});var cd=ln();Object.defineProperty(S,"Event",{enumerable:!0,get:s(function(){return cd.Event},"get")});Object.defineProperty(S,"Emitter",{enumerable:!0,get:s(function(){return cd.Emitter},"get")});var ud=pi();Object.defineProperty(S,"CancellationTokenSource",{enumerable:!0,get:s(function(){return ud.CancellationTokenSource},"get")});Object.defineProperty(S,"CancellationToken",{enumerable:!0,get:s(function(){return ud.CancellationToken},"get")});var ld=Yf();Object.defineProperty(S,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return ld.SharedArraySenderStrategy},"get")});Object.defineProperty(S,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return ld.SharedArrayReceiverStrategy},"get")});var Ha=Jf();Object.defineProperty(S,"MessageReader",{enumerable:!0,get:s(function(){return Ha.MessageReader},"get")});Object.defineProperty(S,"AbstractMessageReader",{enumerable:!0,get:s(function(){return Ha.AbstractMessageReader},"get")});Object.defineProperty(S,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return Ha.ReadableStreamMessageReader},"get")});var Ua=Zf();Object.defineProperty(S,"MessageWriter",{enumerable:!0,get:s(function(){return Ua.MessageWriter},"get")});Object.defineProperty(S,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return Ua.AbstractMessageWriter},"get")});Object.defineProperty(S,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return Ua.WriteableStreamMessageWriter},"get")});var wv=ed();Object.defineProperty(S,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return wv.AbstractMessageBuffer},"get")});var me=ad();Object.defineProperty(S,"ConnectionStrategy",{enumerable:!0,get:s(function(){return me.ConnectionStrategy},"get")});Object.defineProperty(S,"ConnectionOptions",{enumerable:!0,get:s(function(){return me.ConnectionOptions},"get")});Object.defineProperty(S,"NullLogger",{enumerable:!0,get:s(function(){return me.NullLogger},"get")});Object.defineProperty(S,"createMessageConnection",{enumerable:!0,get:s(function(){return me.createMessageConnection},"get")});Object.defineProperty(S,"ProgressToken",{enumerable:!0,get:s(function(){return me.ProgressToken},"get")});Object.defineProperty(S,"ProgressType",{enumerable:!0,get:s(function(){return me.ProgressType},"get")});Object.defineProperty(S,"Trace",{enumerable:!0,get:s(function(){return me.Trace},"get")});Object.defineProperty(S,"TraceValues",{enumerable:!0,get:s(function(){return me.TraceValues},"get")});Object.defineProperty(S,"TraceFormat",{enumerable:!0,get:s(function(){return me.TraceFormat},"get")});Object.defineProperty(S,"SetTraceNotification",{enumerable:!0,get:s(function(){return me.SetTraceNotification},"get")});Object.defineProperty(S,"LogTraceNotification",{enumerable:!0,get:s(function(){return me.LogTraceNotification},"get")});Object.defineProperty(S,"ConnectionErrors",{enumerable:!0,get:s(function(){return me.ConnectionErrors},"get")});Object.defineProperty(S,"ConnectionError",{enumerable:!0,get:s(function(){return me.ConnectionError},"get")});Object.defineProperty(S,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return me.CancellationReceiverStrategy},"get")});Object.defineProperty(S,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return me.CancellationSenderStrategy},"get")});Object.defineProperty(S,"CancellationStrategy",{enumerable:!0,get:s(function(){return me.CancellationStrategy},"get")});Object.defineProperty(S,"MessageStrategy",{enumerable:!0,get:s(function(){return me.MessageStrategy},"get")});var _v=yt();S.RAL=_v.default});var hd=v(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});var fd=require("util"),ft=wi(),_i=class t extends ft.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new fd.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};_i.emptyBuffer=Buffer.allocUnsafe(0);var Ka=class{static{s(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ft.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ft.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ft.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ft.Disposable.create(()=>this.stream.off("data",e))}},Va=class{static{s(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ft.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ft.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ft.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let o=s(a=>{a==null?r():i(a)},"callback");typeof e=="string"?this.stream.write(e,n,o):this.stream.write(e,o)})}end(){this.stream.end()}},dd=Object.freeze({messageBuffer:Object.freeze({create:s(t=>new _i(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new fd.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:s(t=>new Ka(t),"asReadableStream"),asWritableStream:s(t=>new Va(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:s(()=>clearTimeout(r),"dispose")}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:s(()=>clearImmediate(n),"dispose")}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:s(()=>clearInterval(r),"dispose")}}})});function za(){return dd}s(za,"RIL");(function(t){function e(){ft.RAL.install(dd)}s(e,"install"),t.install=e})(za||(za={}));Ya.default=za});var Bt=v(F=>{"use strict";var Sv=F&&F.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[n]},"get")}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Cv=F&&F.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Sv(e,t,n)};Object.defineProperty(F,"__esModule",{value:!0});F.createMessageConnection=F.createServerSocketTransport=F.createClientSocketTransport=F.createServerPipeTransport=F.createClientPipeTransport=F.generateRandomPipeName=F.StreamMessageWriter=F.StreamMessageReader=F.SocketMessageWriter=F.SocketMessageReader=F.PortMessageWriter=F.PortMessageReader=F.IPCMessageWriter=F.IPCMessageReader=void 0;var pn=hd();pn.default.install();var pd=require("path"),Dv=require("os"),Tv=require("crypto"),Di=require("net"),xe=wi();Cv(wi(),F);var Ja=class extends xe.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),xe.Disposable.create(()=>this.process.off("message",e))}};F.IPCMessageReader=Ja;var Ga=class extends xe.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};F.IPCMessageWriter=Ga;var Qa=class extends xe.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(e){super(),this.onData=new xe.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};F.PortMessageReader=Qa;var Xa=class extends xe.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};F.PortMessageWriter=Xa;var $t=class extends xe.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(e,n="utf-8"){super((0,pn.default)().stream.asReadableStream(e),n)}};F.SocketMessageReader=$t;var Wt=class extends xe.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(e,n){super((0,pn.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};F.SocketMessageWriter=Wt;var Si=class extends xe.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(e,n){super((0,pn.default)().stream.asReadableStream(e),n)}};F.StreamMessageReader=Si;var Ci=class extends xe.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(e,n){super((0,pn.default)().stream.asWritableStream(e),n)}};F.StreamMessageWriter=Ci;var md=process.env.XDG_RUNTIME_DIR,kv=new Map([["linux",107],["darwin",103]]);function qv(){let t=(0,Tv.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;md?e=pd.join(md,`vscode-ipc-${t}.sock`):e=pd.join(Dv.tmpdir(),`vscode-${t}.sock`);let n=kv.get(process.platform);return n!==void 0&&e.length>n&&(0,pn.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}s(qv,"generateRandomPipeName");F.generateRandomPipeName=qv;function Pv(t,e="utf-8"){let n,r=new Promise((i,o)=>{n=i});return new Promise((i,o)=>{let a=(0,Di.createServer)(c=>{a.close(),n([new $t(c,e),new Wt(c,e)])});a.on("error",o),a.listen(t,()=>{a.removeListener("error",o),i({onConnected:s(()=>r,"onConnected")})})})}s(Pv,"createClientPipeTransport");F.createClientPipeTransport=Pv;function Rv(t,e="utf-8"){let n=(0,Di.createConnection)(t);return[new $t(n,e),new Wt(n,e)]}s(Rv,"createServerPipeTransport");F.createServerPipeTransport=Rv;function Nv(t,e="utf-8"){let n,r=new Promise((i,o)=>{n=i});return new Promise((i,o)=>{let a=(0,Di.createServer)(c=>{a.close(),n([new $t(c,e),new Wt(c,e)])});a.on("error",o),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:s(()=>r,"onConnected")})})})}s(Nv,"createClientSocketTransport");F.createClientSocketTransport=Nv;function xv(t,e="utf-8"){let n=(0,Di.createConnection)(t,"127.0.0.1");return[new $t(n,e),new Wt(n,e)]}s(xv,"createServerSocketTransport");F.createServerSocketTransport=xv;function Ov(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}s(Ov,"isReadableStream");function Ev(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}s(Ev,"isWritableStream");function Mv(t,e,n,r){n||(n=xe.NullLogger);let i=Ov(t)?new Si(t):t,o=Ev(e)?new Ci(e):e;return xe.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,xe.createMessageConnection)(i,o,n,r)}s(Mv,"createMessageConnection");F.createMessageConnection=Mv});var Za=v((Uq,gd)=>{"use strict";gd.exports=Bt()});var Ei={};Ff(Ei,{AnnotatedTextEdit:()=>dt,ChangeAnnotation:()=>Ht,ChangeAnnotationIdentifier:()=>ge,CodeAction:()=>Ec,CodeActionContext:()=>Oc,CodeActionKind:()=>xc,CodeActionTriggerKind:()=>or,CodeDescription:()=>uc,CodeLens:()=>Mc,Color:()=>qi,ColorInformation:()=>rc,ColorPresentation:()=>ic,Command:()=>Ut,CompletionItem:()=>bc,CompletionItemKind:()=>hc,CompletionItemLabelDetails:()=>vc,CompletionItemTag:()=>mc,CompletionList:()=>wc,CreateFile:()=>mn,DeleteFile:()=>yn,Diagnostic:()=>nr,DiagnosticRelatedInformation:()=>Pi,DiagnosticSeverity:()=>ac,DiagnosticTag:()=>cc,DocumentHighlight:()=>Tc,DocumentHighlightKind:()=>Dc,DocumentLink:()=>Lc,DocumentSymbol:()=>Nc,DocumentUri:()=>ec,EOL:()=>Lv,FoldingRange:()=>oc,FoldingRangeKind:()=>sc,FormattingOptions:()=>Ac,Hover:()=>_c,InlayHint:()=>Kc,InlayHintKind:()=>xi,InlayHintLabelPart:()=>Oi,InlineValueContext:()=>Uc,InlineValueEvaluatableExpression:()=>Hc,InlineValueText:()=>Wc,InlineValueVariableLookup:()=>Bc,InsertReplaceEdit:()=>gc,InsertTextFormat:()=>pc,InsertTextMode:()=>yc,Location:()=>tr,LocationLink:()=>nc,MarkedString:()=>sr,MarkupContent:()=>vn,MarkupKind:()=>Ni,OptionalVersionedTextDocumentIdentifier:()=>ir,ParameterInformation:()=>Sc,Position:()=>Ee,Range:()=>oe,RenameFile:()=>gn,SelectionRange:()=>Ic,SemanticTokenModifiers:()=>Fc,SemanticTokenTypes:()=>jc,SemanticTokens:()=>$c,SignatureInformation:()=>Cc,SymbolInformation:()=>Pc,SymbolKind:()=>kc,SymbolTag:()=>qc,TextDocument:()=>zc,TextDocumentEdit:()=>rr,TextDocumentIdentifier:()=>lc,TextDocumentItem:()=>dc,TextEdit:()=>et,URI:()=>ki,VersionedTextDocumentIdentifier:()=>fc,WorkspaceChange:()=>Av,WorkspaceEdit:()=>Ri,WorkspaceFolder:()=>Vc,WorkspaceSymbol:()=>Rc,integer:()=>tc,uinteger:()=>er});var ec,ki,tc,er,Ee,oe,tr,nc,qi,rc,ic,sc,oc,Pi,ac,cc,uc,nr,Ut,et,Ht,ge,dt,rr,mn,gn,yn,Ri,Ti,yd,Av,lc,fc,ir,dc,Ni,vn,hc,pc,mc,gc,yc,vc,bc,wc,sr,_c,Sc,Cc,Dc,Tc,kc,qc,Pc,Rc,Nc,xc,or,Oc,Ec,Mc,Ac,Lc,Ic,jc,Fc,$c,Wc,Bc,Hc,Uc,xi,Oi,Kc,Vc,Lv,zc,Iv,w,Mi=jf(()=>{"use strict";(function(t){function e(n){return typeof n=="string"}s(e,"is"),t.is=e})(ec||(ec={}));(function(t){function e(n){return typeof n=="string"}s(e,"is"),t.is=e})(ki||(ki={}));(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}s(e,"is"),t.is=e})(tc||(tc={}));(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}s(e,"is"),t.is=e})(er||(er={}));(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=er.MAX_VALUE),i===Number.MAX_VALUE&&(i=er.MAX_VALUE),{line:r,character:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&w.uinteger(i.line)&&w.uinteger(i.character)}s(n,"is"),t.is=n})(Ee||(Ee={}));(function(t){function e(r,i,o,a){if(w.uinteger(r)&&w.uinteger(i)&&w.uinteger(o)&&w.uinteger(a))return{start:Ee.create(r,i),end:Ee.create(o,a)};if(Ee.is(r)&&Ee.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(o,", ").concat(a,"]"))}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&Ee.is(i.start)&&Ee.is(i.end)}s(n,"is"),t.is=n})(oe||(oe={}));(function(t){function e(r,i){return{uri:r,range:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&oe.is(i.range)&&(w.string(i.uri)||w.undefined(i.uri))}s(n,"is"),t.is=n})(tr||(tr={}));(function(t){function e(r,i,o,a){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&oe.is(i.targetRange)&&w.string(i.targetUri)&&oe.is(i.targetSelectionRange)&&(oe.is(i.originSelectionRange)||w.undefined(i.originSelectionRange))}s(n,"is"),t.is=n})(nc||(nc={}));(function(t){function e(r,i,o,a){return{red:r,green:i,blue:o,alpha:a}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&w.numberRange(i.red,0,1)&&w.numberRange(i.green,0,1)&&w.numberRange(i.blue,0,1)&&w.numberRange(i.alpha,0,1)}s(n,"is"),t.is=n})(qi||(qi={}));(function(t){function e(r,i){return{range:r,color:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&oe.is(i.range)&&qi.is(i.color)}s(n,"is"),t.is=n})(rc||(rc={}));(function(t){function e(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&w.string(i.label)&&(w.undefined(i.textEdit)||et.is(i))&&(w.undefined(i.additionalTextEdits)||w.typedArray(i.additionalTextEdits,et.is))}s(n,"is"),t.is=n})(ic||(ic={}));(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(sc||(sc={}));(function(t){function e(r,i,o,a,c,u){var l={startLine:r,endLine:i};return w.defined(o)&&(l.startCharacter=o),w.defined(a)&&(l.endCharacter=a),w.defined(c)&&(l.kind=c),w.defined(u)&&(l.collapsedText=u),l}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&w.uinteger(i.startLine)&&w.uinteger(i.startLine)&&(w.undefined(i.startCharacter)||w.uinteger(i.startCharacter))&&(w.undefined(i.endCharacter)||w.uinteger(i.endCharacter))&&(w.undefined(i.kind)||w.string(i.kind))}s(n,"is"),t.is=n})(oc||(oc={}));(function(t){function e(r,i){return{location:r,message:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&tr.is(i.location)&&w.string(i.message)}s(n,"is"),t.is=n})(Pi||(Pi={}));(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(ac||(ac={}));(function(t){t.Unnecessary=1,t.Deprecated=2})(cc||(cc={}));(function(t){function e(n){var r=n;return w.objectLiteral(r)&&w.string(r.href)}s(e,"is"),t.is=e})(uc||(uc={}));(function(t){function e(r,i,o,a,c,u){var l={range:r,message:i};return w.defined(o)&&(l.severity=o),w.defined(a)&&(l.code=a),w.defined(c)&&(l.source=c),w.defined(u)&&(l.relatedInformation=u),l}s(e,"create"),t.create=e;function n(r){var i,o=r;return w.defined(o)&&oe.is(o.range)&&w.string(o.message)&&(w.number(o.severity)||w.undefined(o.severity))&&(w.integer(o.code)||w.string(o.code)||w.undefined(o.code))&&(w.undefined(o.codeDescription)||w.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(w.string(o.source)||w.undefined(o.source))&&(w.undefined(o.relatedInformation)||w.typedArray(o.relatedInformation,Pi.is))}s(n,"is"),t.is=n})(nr||(nr={}));(function(t){function e(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c={title:r,command:i};return w.defined(o)&&o.length>0&&(c.arguments=o),c}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.string(i.title)&&w.string(i.command)}s(n,"is"),t.is=n})(Ut||(Ut={}));(function(t){function e(o,a){return{range:o,newText:a}}s(e,"replace"),t.replace=e;function n(o,a){return{range:{start:o,end:o},newText:a}}s(n,"insert"),t.insert=n;function r(o){return{range:o,newText:""}}s(r,"del"),t.del=r;function i(o){var a=o;return w.objectLiteral(a)&&w.string(a.newText)&&oe.is(a.range)}s(i,"is"),t.is=i})(et||(et={}));(function(t){function e(r,i,o){var a={label:r};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&w.string(i.label)&&(w.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(w.string(i.description)||i.description===void 0)}s(n,"is"),t.is=n})(Ht||(Ht={}));(function(t){function e(n){var r=n;return w.string(r)}s(e,"is"),t.is=e})(ge||(ge={}));(function(t){function e(o,a,c){return{range:o,newText:a,annotationId:c}}s(e,"replace"),t.replace=e;function n(o,a,c){return{range:{start:o,end:o},newText:a,annotationId:c}}s(n,"insert"),t.insert=n;function r(o,a){return{range:o,newText:"",annotationId:a}}s(r,"del"),t.del=r;function i(o){var a=o;return et.is(a)&&(Ht.is(a.annotationId)||ge.is(a.annotationId))}s(i,"is"),t.is=i})(dt||(dt={}));(function(t){function e(r,i){return{textDocument:r,edits:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&ir.is(i.textDocument)&&Array.isArray(i.edits)}s(n,"is"),t.is=n})(rr||(rr={}));(function(t){function e(r,i,o){var a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return i&&i.kind==="create"&&w.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||w.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||w.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ge.is(i.annotationId))}s(n,"is"),t.is=n})(mn||(mn={}));(function(t){function e(r,i,o,a){var c={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function n(r){var i=r;return i&&i.kind==="rename"&&w.string(i.oldUri)&&w.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||w.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||w.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ge.is(i.annotationId))}s(n,"is"),t.is=n})(gn||(gn={}));(function(t){function e(r,i,o){var a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return i&&i.kind==="delete"&&w.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||w.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||w.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ge.is(i.annotationId))}s(n,"is"),t.is=n})(yn||(yn={}));(function(t){function e(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return w.string(i.kind)?mn.is(i)||gn.is(i)||yn.is(i):rr.is(i)}))}s(e,"is"),t.is=e})(Ri||(Ri={}));Ti=(function(){function t(e,n){this.edits=e,this.changeAnnotations=n}return s(t,"TextEditChangeImpl"),t.prototype.insert=function(e,n,r){var i,o;if(r===void 0?i=et.insert(e,n):ge.is(r)?(o=r,i=dt.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=dt.insert(e,n,o)),this.edits.push(i),o!==void 0)return o},t.prototype.replace=function(e,n,r){var i,o;if(r===void 0?i=et.replace(e,n):ge.is(r)?(o=r,i=dt.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=dt.replace(e,n,o)),this.edits.push(i),o!==void 0)return o},t.prototype.delete=function(e,n){var r,i;if(n===void 0?r=et.del(e):ge.is(n)?(i=n,r=dt.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=dt.del(e,i)),this.edits.push(r),i!==void 0)return i},t.prototype.add=function(e){this.edits.push(e)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t})(),yd=(function(){function t(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}return s(t,"ChangeAnnotations"),t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),t.prototype.manage=function(e,n){var r;if(ge.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t})(),Av=(function(){function t(e){var n=this;this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new yd(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(r){if(rr.is(r)){var i=new Ti(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):e.changes&&Object.keys(e.changes).forEach(function(r){var i=new Ti(e.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return s(t,"WorkspaceChange"),Object.defineProperty(t.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(e){if(ir.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:e.uri,version:e.version},r=this._textEditChanges[n.uri];if(!r){var i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Ti(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[e];if(!r){var i=[];this._workspaceEdit.changes[e]=i,r=new Ti(i),this._textEditChanges[e]=r}return r}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new yd,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ht.is(n)||ge.is(n)?i=n:r=n;var o,a;if(i===void 0?o=mn.create(e,r):(a=ge.is(i)?i:this._changeAnnotations.manage(i),o=mn.create(e,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t.prototype.renameFile=function(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Ht.is(r)||ge.is(r)?o=r:i=r;var a,c;if(o===void 0?a=gn.create(e,n,i):(c=ge.is(o)?o:this._changeAnnotations.manage(o),a=gn.create(e,n,i,c)),this._workspaceEdit.documentChanges.push(a),c!==void 0)return c},t.prototype.deleteFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ht.is(n)||ge.is(n)?i=n:r=n;var o,a;if(i===void 0?o=yn.create(e,r):(a=ge.is(i)?i:this._changeAnnotations.manage(i),o=yn.create(e,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t})();(function(t){function e(r){return{uri:r}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.string(i.uri)}s(n,"is"),t.is=n})(lc||(lc={}));(function(t){function e(r,i){return{uri:r,version:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.string(i.uri)&&w.integer(i.version)}s(n,"is"),t.is=n})(fc||(fc={}));(function(t){function e(r,i){return{uri:r,version:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.string(i.uri)&&(i.version===null||w.integer(i.version))}s(n,"is"),t.is=n})(ir||(ir={}));(function(t){function e(r,i,o,a){return{uri:r,languageId:i,version:o,text:a}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.string(i.uri)&&w.string(i.languageId)&&w.integer(i.version)&&w.string(i.text)}s(n,"is"),t.is=n})(dc||(dc={}));(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){var r=n;return r===t.PlainText||r===t.Markdown}s(e,"is"),t.is=e})(Ni||(Ni={}));(function(t){function e(n){var r=n;return w.objectLiteral(n)&&Ni.is(r.kind)&&w.string(r.value)}s(e,"is"),t.is=e})(vn||(vn={}));(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(hc||(hc={}));(function(t){t.PlainText=1,t.Snippet=2})(pc||(pc={}));(function(t){t.Deprecated=1})(mc||(mc={}));(function(t){function e(r,i,o){return{newText:r,insert:i,replace:o}}s(e,"create"),t.create=e;function n(r){var i=r;return i&&w.string(i.newText)&&oe.is(i.insert)&&oe.is(i.replace)}s(n,"is"),t.is=n})(gc||(gc={}));(function(t){t.asIs=1,t.adjustIndentation=2})(yc||(yc={}));(function(t){function e(n){var r=n;return r&&(w.string(r.detail)||r.detail===void 0)&&(w.string(r.description)||r.description===void 0)}s(e,"is"),t.is=e})(vc||(vc={}));(function(t){function e(n){return{label:n}}s(e,"create"),t.create=e})(bc||(bc={}));(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}s(e,"create"),t.create=e})(wc||(wc={}));(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(e,"fromPlainText"),t.fromPlainText=e;function n(r){var i=r;return w.string(i)||w.objectLiteral(i)&&w.string(i.language)&&w.string(i.value)}s(n,"is"),t.is=n})(sr||(sr={}));(function(t){function e(n){var r=n;return!!r&&w.objectLiteral(r)&&(vn.is(r.contents)||sr.is(r.contents)||w.typedArray(r.contents,sr.is))&&(n.range===void 0||oe.is(n.range))}s(e,"is"),t.is=e})(_c||(_c={}));(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}s(e,"create"),t.create=e})(Sc||(Sc={}));(function(t){function e(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a={label:n};return w.defined(r)&&(a.documentation=r),w.defined(i)?a.parameters=i:a.parameters=[],a}s(e,"create"),t.create=e})(Cc||(Cc={}));(function(t){t.Text=1,t.Read=2,t.Write=3})(Dc||(Dc={}));(function(t){function e(n,r){var i={range:n};return w.number(r)&&(i.kind=r),i}s(e,"create"),t.create=e})(Tc||(Tc={}));(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(kc||(kc={}));(function(t){t.Deprecated=1})(qc||(qc={}));(function(t){function e(n,r,i,o,a){var c={name:n,kind:r,location:{uri:o,range:i}};return a&&(c.containerName=a),c}s(e,"create"),t.create=e})(Pc||(Pc={}));(function(t){function e(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}s(e,"create"),t.create=e})(Rc||(Rc={}));(function(t){function e(r,i,o,a,c,u){var l={name:r,detail:i,kind:o,range:a,selectionRange:c};return u!==void 0&&(l.children=u),l}s(e,"create"),t.create=e;function n(r){var i=r;return i&&w.string(i.name)&&w.number(i.kind)&&oe.is(i.range)&&oe.is(i.selectionRange)&&(i.detail===void 0||w.string(i.detail))&&(i.deprecated===void 0||w.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(n,"is"),t.is=n})(Nc||(Nc={}));(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(xc||(xc={}));(function(t){t.Invoked=1,t.Automatic=2})(or||(or={}));(function(t){function e(r,i,o){var a={diagnostics:r};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.typedArray(i.diagnostics,nr.is)&&(i.only===void 0||w.typedArray(i.only,w.string))&&(i.triggerKind===void 0||i.triggerKind===or.Invoked||i.triggerKind===or.Automatic)}s(n,"is"),t.is=n})(Oc||(Oc={}));(function(t){function e(r,i,o){var a={title:r},c=!0;return typeof i=="string"?(c=!1,a.kind=i):Ut.is(i)?a.command=i:a.edit=i,c&&o!==void 0&&(a.kind=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return i&&w.string(i.title)&&(i.diagnostics===void 0||w.typedArray(i.diagnostics,nr.is))&&(i.kind===void 0||w.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ut.is(i.command))&&(i.isPreferred===void 0||w.boolean(i.isPreferred))&&(i.edit===void 0||Ri.is(i.edit))}s(n,"is"),t.is=n})(Ec||(Ec={}));(function(t){function e(r,i){var o={range:r};return w.defined(i)&&(o.data=i),o}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&oe.is(i.range)&&(w.undefined(i.command)||Ut.is(i.command))}s(n,"is"),t.is=n})(Mc||(Mc={}));(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&w.uinteger(i.tabSize)&&w.boolean(i.insertSpaces)}s(n,"is"),t.is=n})(Ac||(Ac={}));(function(t){function e(r,i,o){return{range:r,target:i,data:o}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&oe.is(i.range)&&(w.undefined(i.target)||w.string(i.target))}s(n,"is"),t.is=n})(Lc||(Lc={}));(function(t){function e(r,i){return{range:r,parent:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&oe.is(i.range)&&(i.parent===void 0||t.is(i.parent))}s(n,"is"),t.is=n})(Ic||(Ic={}));(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(jc||(jc={}));(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Fc||(Fc={}));(function(t){function e(n){var r=n;return w.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}s(e,"is"),t.is=e})($c||($c={}));(function(t){function e(r,i){return{range:r,text:i}}s(e,"create"),t.create=e;function n(r){var i=r;return i!=null&&oe.is(i.range)&&w.string(i.text)}s(n,"is"),t.is=n})(Wc||(Wc={}));(function(t){function e(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}s(e,"create"),t.create=e;function n(r){var i=r;return i!=null&&oe.is(i.range)&&w.boolean(i.caseSensitiveLookup)&&(w.string(i.variableName)||i.variableName===void 0)}s(n,"is"),t.is=n})(Bc||(Bc={}));(function(t){function e(r,i){return{range:r,expression:i}}s(e,"create"),t.create=e;function n(r){var i=r;return i!=null&&oe.is(i.range)&&(w.string(i.expression)||i.expression===void 0)}s(n,"is"),t.is=n})(Hc||(Hc={}));(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}s(e,"create"),t.create=e;function n(r){var i=r;return w.defined(i)&&oe.is(r.stoppedLocation)}s(n,"is"),t.is=n})(Uc||(Uc={}));(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}s(e,"is"),t.is=e})(xi||(xi={}));(function(t){function e(r){return{value:r}}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&(i.tooltip===void 0||w.string(i.tooltip)||vn.is(i.tooltip))&&(i.location===void 0||tr.is(i.location))&&(i.command===void 0||Ut.is(i.command))}s(n,"is"),t.is=n})(Oi||(Oi={}));(function(t){function e(r,i,o){var a={position:r,label:i};return o!==void 0&&(a.kind=o),a}s(e,"create"),t.create=e;function n(r){var i=r;return w.objectLiteral(i)&&Ee.is(i.position)&&(w.string(i.label)||w.typedArray(i.label,Oi.is))&&(i.kind===void 0||xi.is(i.kind))&&i.textEdits===void 0||w.typedArray(i.textEdits,et.is)&&(i.tooltip===void 0||w.string(i.tooltip)||vn.is(i.tooltip))&&(i.paddingLeft===void 0||w.boolean(i.paddingLeft))&&(i.paddingRight===void 0||w.boolean(i.paddingRight))}s(n,"is"),t.is=n})(Kc||(Kc={}));(function(t){function e(n){var r=n;return w.objectLiteral(r)&&ki.is(r.uri)&&w.string(r.name)}s(e,"is"),t.is=e})(Vc||(Vc={}));Lv=[`
`,`\r
`,"\r"];(function(t){function e(o,a,c,u){return new Iv(o,a,c,u)}s(e,"create"),t.create=e;function n(o){var a=o;return!!(w.defined(a)&&w.string(a.uri)&&(w.undefined(a.languageId)||w.string(a.languageId))&&w.uinteger(a.lineCount)&&w.func(a.getText)&&w.func(a.positionAt)&&w.func(a.offsetAt))}s(n,"is"),t.is=n;function r(o,a){for(var c=o.getText(),u=i(a,function(k,b){var D=k.range.start.line-b.range.start.line;return D===0?k.range.start.character-b.range.start.character:D}),l=c.length,p=u.length-1;p>=0;p--){var h=u[p],y=o.offsetAt(h.range.start),_=o.offsetAt(h.range.end);if(_<=l)c=c.substring(0,y)+h.newText+c.substring(_,c.length);else throw new Error("Overlapping edit");l=y}return c}s(r,"applyEdits"),t.applyEdits=r;function i(o,a){if(o.length<=1)return o;var c=o.length/2|0,u=o.slice(0,c),l=o.slice(c);i(u,a),i(l,a);for(var p=0,h=0,y=0;p<u.length&&h<l.length;){var _=a(u[p],l[h]);_<=0?o[y++]=u[p++]:o[y++]=l[h++]}for(;p<u.length;)o[y++]=u[p++];for(;h<l.length;)o[y++]=l[h++];return o}s(i,"mergeSort")})(zc||(zc={}));Iv=(function(){function t(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return s(t,"FullTextDocument"),Object.defineProperty(t.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),t.prototype.getText=function(e){if(e){var n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content},t.prototype.update=function(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var e=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(e.push(i),r=!1);var o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Ee.create(0,e);for(;r<i;){var o=Math.floor((r+i)/2);n[o]>e?i=o:r=o+1}var a=r-1;return Ee.create(a,e-n[a])},t.prototype.offsetAt=function(e){var n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;var r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)},Object.defineProperty(t.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),t})();(function(t){var e=Object.prototype.toString;function n(_){return typeof _<"u"}s(n,"defined"),t.defined=n;function r(_){return typeof _>"u"}s(r,"undefined"),t.undefined=r;function i(_){return _===!0||_===!1}s(i,"boolean"),t.boolean=i;function o(_){return e.call(_)==="[object String]"}s(o,"string"),t.string=o;function a(_){return e.call(_)==="[object Number]"}s(a,"number"),t.number=a;function c(_,k,b){return e.call(_)==="[object Number]"&&k<=_&&_<=b}s(c,"numberRange"),t.numberRange=c;function u(_){return e.call(_)==="[object Number]"&&-2147483648<=_&&_<=2147483647}s(u,"integer"),t.integer=u;function l(_){return e.call(_)==="[object Number]"&&0<=_&&_<=2147483647}s(l,"uinteger"),t.uinteger=l;function p(_){return e.call(_)==="[object Function]"}s(p,"func"),t.func=p;function h(_){return _!==null&&typeof _=="object"}s(h,"objectLiteral"),t.objectLiteral=h;function y(_,k){return Array.isArray(_)&&_.every(k)}s(y,"typedArray"),t.typedArray=y})(w||(w={}))});var ne=v(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.ProtocolNotificationType=Te.ProtocolNotificationType0=Te.ProtocolRequestType=Te.ProtocolRequestType0=Te.RegistrationType=Te.MessageDirection=void 0;var bn=Bt(),jv;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(jv=Te.MessageDirection||(Te.MessageDirection={}));var Yc=class{static{s(this,"RegistrationType")}constructor(e){this.method=e}};Te.RegistrationType=Yc;var Jc=class extends bn.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(e){super(e)}};Te.ProtocolRequestType0=Jc;var Gc=class extends bn.RequestType{static{s(this,"ProtocolRequestType")}constructor(e){super(e,bn.ParameterStructures.byName)}};Te.ProtocolRequestType=Gc;var Qc=class extends bn.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(e){super(e)}};Te.ProtocolNotificationType0=Qc;var Xc=class extends bn.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(e){super(e,bn.ParameterStructures.byName)}};Te.ProtocolNotificationType=Xc});var Ai=v(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.objectLiteral=ue.typedArray=ue.stringArray=ue.array=ue.func=ue.error=ue.number=ue.string=ue.boolean=void 0;function Fv(t){return t===!0||t===!1}s(Fv,"boolean");ue.boolean=Fv;function vd(t){return typeof t=="string"||t instanceof String}s(vd,"string");ue.string=vd;function $v(t){return typeof t=="number"||t instanceof Number}s($v,"number");ue.number=$v;function Wv(t){return t instanceof Error}s(Wv,"error");ue.error=Wv;function Bv(t){return typeof t=="function"}s(Bv,"func");ue.func=Bv;function bd(t){return Array.isArray(t)}s(bd,"array");ue.array=bd;function Hv(t){return bd(t)&&t.every(e=>vd(e))}s(Hv,"stringArray");ue.stringArray=Hv;function Uv(t,e){return Array.isArray(t)&&t.every(e)}s(Uv,"typedArray");ue.typedArray=Uv;function Kv(t){return t!==null&&typeof t=="object"}s(Kv,"objectLiteral");ue.objectLiteral=Kv});var _d=v(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.ImplementationRequest=void 0;var wd=ne(),Vv;(function(t){t.method="textDocument/implementation",t.messageDirection=wd.MessageDirection.clientToServer,t.type=new wd.ProtocolRequestType(t.method)})(Vv=ar.ImplementationRequest||(ar.ImplementationRequest={}))});var Cd=v(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.TypeDefinitionRequest=void 0;var Sd=ne(),zv;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Sd.MessageDirection.clientToServer,t.type=new Sd.ProtocolRequestType(t.method)})(zv=cr.TypeDefinitionRequest||(cr.TypeDefinitionRequest={}))});var Dd=v(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.DidChangeWorkspaceFoldersNotification=vt.WorkspaceFoldersRequest=void 0;var Li=ne(),Yv;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Li.MessageDirection.serverToClient,t.type=new Li.ProtocolRequestType0(t.method)})(Yv=vt.WorkspaceFoldersRequest||(vt.WorkspaceFoldersRequest={}));var Jv;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Li.MessageDirection.clientToServer,t.type=new Li.ProtocolNotificationType(t.method)})(Jv=vt.DidChangeWorkspaceFoldersNotification||(vt.DidChangeWorkspaceFoldersNotification={}))});var kd=v(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ConfigurationRequest=void 0;var Td=ne(),Gv;(function(t){t.method="workspace/configuration",t.messageDirection=Td.MessageDirection.serverToClient,t.type=new Td.ProtocolRequestType(t.method)})(Gv=ur.ConfigurationRequest||(ur.ConfigurationRequest={}))});var qd=v(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.ColorPresentationRequest=bt.DocumentColorRequest=void 0;var Ii=ne(),Qv;(function(t){t.method="textDocument/documentColor",t.messageDirection=Ii.MessageDirection.clientToServer,t.type=new Ii.ProtocolRequestType(t.method)})(Qv=bt.DocumentColorRequest||(bt.DocumentColorRequest={}));var Xv;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Ii.MessageDirection.clientToServer,t.type=new Ii.ProtocolRequestType(t.method)})(Xv=bt.ColorPresentationRequest||(bt.ColorPresentationRequest={}))});var Rd=v(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.FoldingRangeRequest=void 0;var Pd=ne(),Zv;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Pd.MessageDirection.clientToServer,t.type=new Pd.ProtocolRequestType(t.method)})(Zv=lr.FoldingRangeRequest||(lr.FoldingRangeRequest={}))});var xd=v(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.DeclarationRequest=void 0;var Nd=ne(),eb;(function(t){t.method="textDocument/declaration",t.messageDirection=Nd.MessageDirection.clientToServer,t.type=new Nd.ProtocolRequestType(t.method)})(eb=fr.DeclarationRequest||(fr.DeclarationRequest={}))});var Ed=v(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.SelectionRangeRequest=void 0;var Od=ne(),tb;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Od.MessageDirection.clientToServer,t.type=new Od.ProtocolRequestType(t.method)})(tb=dr.SelectionRangeRequest||(dr.SelectionRangeRequest={}))});var Md=v(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.WorkDoneProgressCancelNotification=Ue.WorkDoneProgressCreateRequest=Ue.WorkDoneProgress=void 0;var nb=Bt(),ji=ne(),rb;(function(t){t.type=new nb.ProgressType;function e(n){return n===t.type}s(e,"is"),t.is=e})(rb=Ue.WorkDoneProgress||(Ue.WorkDoneProgress={}));var ib;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=ji.MessageDirection.serverToClient,t.type=new ji.ProtocolRequestType(t.method)})(ib=Ue.WorkDoneProgressCreateRequest||(Ue.WorkDoneProgressCreateRequest={}));var sb;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolNotificationType(t.method)})(sb=Ue.WorkDoneProgressCancelNotification||(Ue.WorkDoneProgressCancelNotification={}))});var Ad=v(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.CallHierarchyOutgoingCallsRequest=Ke.CallHierarchyIncomingCallsRequest=Ke.CallHierarchyPrepareRequest=void 0;var wn=ne(),ob;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=wn.MessageDirection.clientToServer,t.type=new wn.ProtocolRequestType(t.method)})(ob=Ke.CallHierarchyPrepareRequest||(Ke.CallHierarchyPrepareRequest={}));var ab;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=wn.MessageDirection.clientToServer,t.type=new wn.ProtocolRequestType(t.method)})(ab=Ke.CallHierarchyIncomingCallsRequest||(Ke.CallHierarchyIncomingCallsRequest={}));var cb;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=wn.MessageDirection.clientToServer,t.type=new wn.ProtocolRequestType(t.method)})(cb=Ke.CallHierarchyOutgoingCallsRequest||(Ke.CallHierarchyOutgoingCallsRequest={}))});var Ld=v(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.SemanticTokensRefreshRequest=le.SemanticTokensRangeRequest=le.SemanticTokensDeltaRequest=le.SemanticTokensRequest=le.SemanticTokensRegistrationType=le.TokenFormat=void 0;var ht=ne(),ub;(function(t){t.Relative="relative"})(ub=le.TokenFormat||(le.TokenFormat={}));var Fi;(function(t){t.method="textDocument/semanticTokens",t.type=new ht.RegistrationType(t.method)})(Fi=le.SemanticTokensRegistrationType||(le.SemanticTokensRegistrationType={}));var lb;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=ht.MessageDirection.clientToServer,t.type=new ht.ProtocolRequestType(t.method),t.registrationMethod=Fi.method})(lb=le.SemanticTokensRequest||(le.SemanticTokensRequest={}));var fb;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=ht.MessageDirection.clientToServer,t.type=new ht.ProtocolRequestType(t.method),t.registrationMethod=Fi.method})(fb=le.SemanticTokensDeltaRequest||(le.SemanticTokensDeltaRequest={}));var db;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=ht.MessageDirection.clientToServer,t.type=new ht.ProtocolRequestType(t.method),t.registrationMethod=Fi.method})(db=le.SemanticTokensRangeRequest||(le.SemanticTokensRangeRequest={}));var hb;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=ht.MessageDirection.serverToClient,t.type=new ht.ProtocolRequestType0(t.method)})(hb=le.SemanticTokensRefreshRequest||(le.SemanticTokensRefreshRequest={}))});var jd=v(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ShowDocumentRequest=void 0;var Id=ne(),pb;(function(t){t.method="window/showDocument",t.messageDirection=Id.MessageDirection.serverToClient,t.type=new Id.ProtocolRequestType(t.method)})(pb=hr.ShowDocumentRequest||(hr.ShowDocumentRequest={}))});var $d=v(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.LinkedEditingRangeRequest=void 0;var Fd=ne(),mb;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Fd.MessageDirection.clientToServer,t.type=new Fd.ProtocolRequestType(t.method)})(mb=pr.LinkedEditingRangeRequest||(pr.LinkedEditingRangeRequest={}))});var Wd=v(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.WillDeleteFilesRequest=re.DidDeleteFilesNotification=re.DidRenameFilesNotification=re.WillRenameFilesRequest=re.DidCreateFilesNotification=re.WillCreateFilesRequest=re.FileOperationPatternKind=void 0;var Me=ne(),gb;(function(t){t.file="file",t.folder="folder"})(gb=re.FileOperationPatternKind||(re.FileOperationPatternKind={}));var yb;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolRequestType(t.method)})(yb=re.WillCreateFilesRequest||(re.WillCreateFilesRequest={}));var vb;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolNotificationType(t.method)})(vb=re.DidCreateFilesNotification||(re.DidCreateFilesNotification={}));var bb;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolRequestType(t.method)})(bb=re.WillRenameFilesRequest||(re.WillRenameFilesRequest={}));var wb;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolNotificationType(t.method)})(wb=re.DidRenameFilesNotification||(re.DidRenameFilesNotification={}));var _b;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolNotificationType(t.method)})(_b=re.DidDeleteFilesNotification||(re.DidDeleteFilesNotification={}));var Sb;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Me.MessageDirection.clientToServer,t.type=new Me.ProtocolRequestType(t.method)})(Sb=re.WillDeleteFilesRequest||(re.WillDeleteFilesRequest={}))});var Hd=v(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.MonikerRequest=Ve.MonikerKind=Ve.UniquenessLevel=void 0;var Bd=ne(),Cb;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Cb=Ve.UniquenessLevel||(Ve.UniquenessLevel={}));var Db;(function(t){t.$import="import",t.$export="export",t.local="local"})(Db=Ve.MonikerKind||(Ve.MonikerKind={}));var Tb;(function(t){t.method="textDocument/moniker",t.messageDirection=Bd.MessageDirection.clientToServer,t.type=new Bd.ProtocolRequestType(t.method)})(Tb=Ve.MonikerRequest||(Ve.MonikerRequest={}))});var Ud=v(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.TypeHierarchySubtypesRequest=ze.TypeHierarchySupertypesRequest=ze.TypeHierarchyPrepareRequest=void 0;var _n=ne(),kb;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=_n.MessageDirection.clientToServer,t.type=new _n.ProtocolRequestType(t.method)})(kb=ze.TypeHierarchyPrepareRequest||(ze.TypeHierarchyPrepareRequest={}));var qb;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=_n.MessageDirection.clientToServer,t.type=new _n.ProtocolRequestType(t.method)})(qb=ze.TypeHierarchySupertypesRequest||(ze.TypeHierarchySupertypesRequest={}));var Pb;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=_n.MessageDirection.clientToServer,t.type=new _n.ProtocolRequestType(t.method)})(Pb=ze.TypeHierarchySubtypesRequest||(ze.TypeHierarchySubtypesRequest={}))});var Kd=v(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.InlineValueRefreshRequest=wt.InlineValueRequest=void 0;var $i=ne(),Rb;(function(t){t.method="textDocument/inlineValue",t.messageDirection=$i.MessageDirection.clientToServer,t.type=new $i.ProtocolRequestType(t.method)})(Rb=wt.InlineValueRequest||(wt.InlineValueRequest={}));var Nb;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=$i.MessageDirection.serverToClient,t.type=new $i.ProtocolRequestType0(t.method)})(Nb=wt.InlineValueRefreshRequest||(wt.InlineValueRefreshRequest={}))});var Vd=v(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.InlayHintRefreshRequest=Ye.InlayHintResolveRequest=Ye.InlayHintRequest=void 0;var Sn=ne(),xb;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Sn.MessageDirection.clientToServer,t.type=new Sn.ProtocolRequestType(t.method)})(xb=Ye.InlayHintRequest||(Ye.InlayHintRequest={}));var Ob;(function(t){t.method="inlayHint/resolve",t.messageDirection=Sn.MessageDirection.clientToServer,t.type=new Sn.ProtocolRequestType(t.method)})(Ob=Ye.InlayHintResolveRequest||(Ye.InlayHintResolveRequest={}));var Eb;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Sn.MessageDirection.serverToClient,t.type=new Sn.ProtocolRequestType0(t.method)})(Eb=Ye.InlayHintRefreshRequest||(Ye.InlayHintRefreshRequest={}))});var Yd=v(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.DiagnosticRefreshRequest=ye.WorkspaceDiagnosticRequest=ye.DocumentDiagnosticRequest=ye.DocumentDiagnosticReportKind=ye.DiagnosticServerCancellationData=void 0;var zd=Bt(),Mb=Ai(),Cn=ne(),Ab;(function(t){function e(n){let r=n;return r&&Mb.boolean(r.retriggerRequest)}s(e,"is"),t.is=e})(Ab=ye.DiagnosticServerCancellationData||(ye.DiagnosticServerCancellationData={}));var Lb;(function(t){t.Full="full",t.Unchanged="unchanged"})(Lb=ye.DocumentDiagnosticReportKind||(ye.DocumentDiagnosticReportKind={}));var Ib;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolRequestType(t.method),t.partialResult=new zd.ProgressType})(Ib=ye.DocumentDiagnosticRequest||(ye.DocumentDiagnosticRequest={}));var jb;(function(t){t.method="workspace/diagnostic",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolRequestType(t.method),t.partialResult=new zd.ProgressType})(jb=ye.WorkspaceDiagnosticRequest||(ye.WorkspaceDiagnosticRequest={}));var Fb;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Cn.MessageDirection.serverToClient,t.type=new Cn.ProtocolRequestType0(t.method)})(Fb=ye.DiagnosticRefreshRequest||(ye.DiagnosticRefreshRequest={}))});var Qd=v(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.DidCloseNotebookDocumentNotification=U.DidSaveNotebookDocumentNotification=U.DidChangeNotebookDocumentNotification=U.NotebookCellArrayChange=U.DidOpenNotebookDocumentNotification=U.NotebookDocumentSyncRegistrationType=U.NotebookDocument=U.NotebookCell=U.ExecutionSummary=U.NotebookCellKind=void 0;var mr=(Mi(),ui(Ei)),Je=Ai(),tt=ne(),Jd;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}s(e,"is"),t.is=e})(Jd=U.NotebookCellKind||(U.NotebookCellKind={}));var Gd;(function(t){function e(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(e,"create"),t.create=e;function n(i){let o=i;return Je.objectLiteral(o)&&mr.uinteger.is(o.executionOrder)&&(o.success===void 0||Je.boolean(o.success))}s(n,"is"),t.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(r,"equals"),t.equals=r})(Gd=U.ExecutionSummary||(U.ExecutionSummary={}));var Zc;(function(t){function e(o,a){return{kind:o,document:a}}s(e,"create"),t.create=e;function n(o){let a=o;return Je.objectLiteral(a)&&Jd.is(a.kind)&&mr.DocumentUri.is(a.document)&&(a.metadata===void 0||Je.objectLiteral(a.metadata))}s(n,"is"),t.is=n;function r(o,a){let c=new Set;return o.document!==a.document&&c.add("document"),o.kind!==a.kind&&c.add("kind"),o.executionSummary!==a.executionSummary&&c.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&c.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!Gd.equals(o.executionSummary,a.executionSummary)&&c.add("executionSummary"),c}s(r,"diff"),t.diff=r;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let c=Array.isArray(o),u=Array.isArray(a);if(c!==u)return!1;if(c&&u){if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++)if(!i(o[l],a[l]))return!1}if(Je.objectLiteral(o)&&Je.objectLiteral(a)){let l=Object.keys(o),p=Object.keys(a);if(l.length!==p.length||(l.sort(),p.sort(),!i(l,p)))return!1;for(let h=0;h<l.length;h++){let y=l[h];if(!i(o[y],a[y]))return!1}}return!0}s(i,"equalsMetadata")})(Zc=U.NotebookCell||(U.NotebookCell={}));var $b;(function(t){function e(r,i,o,a){return{uri:r,notebookType:i,version:o,cells:a}}s(e,"create"),t.create=e;function n(r){let i=r;return Je.objectLiteral(i)&&Je.string(i.uri)&&mr.integer.is(i.version)&&Je.typedArray(i.cells,Zc.is)}s(n,"is"),t.is=n})($b=U.NotebookDocument||(U.NotebookDocument={}));var gr;(function(t){t.method="notebookDocument/sync",t.messageDirection=tt.MessageDirection.clientToServer,t.type=new tt.RegistrationType(t.method)})(gr=U.NotebookDocumentSyncRegistrationType||(U.NotebookDocumentSyncRegistrationType={}));var Wb;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=tt.MessageDirection.clientToServer,t.type=new tt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Wb=U.DidOpenNotebookDocumentNotification||(U.DidOpenNotebookDocumentNotification={}));var Bb;(function(t){function e(r){let i=r;return Je.objectLiteral(i)&&mr.uinteger.is(i.start)&&mr.uinteger.is(i.deleteCount)&&(i.cells===void 0||Je.typedArray(i.cells,Zc.is))}s(e,"is"),t.is=e;function n(r,i,o){let a={start:r,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(n,"create"),t.create=n})(Bb=U.NotebookCellArrayChange||(U.NotebookCellArrayChange={}));var Hb;(function(t){t.method="notebookDocument/didChange",t.messageDirection=tt.MessageDirection.clientToServer,t.type=new tt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Hb=U.DidChangeNotebookDocumentNotification||(U.DidChangeNotebookDocumentNotification={}));var Ub;(function(t){t.method="notebookDocument/didSave",t.messageDirection=tt.MessageDirection.clientToServer,t.type=new tt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Ub=U.DidSaveNotebookDocumentNotification||(U.DidSaveNotebookDocumentNotification={}));var Kb;(function(t){t.method="notebookDocument/didClose",t.messageDirection=tt.MessageDirection.clientToServer,t.type=new tt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Kb=U.DidCloseNotebookDocumentNotification||(U.DidCloseNotebookDocumentNotification={}))});var oh=v(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.WorkspaceSymbolRequest=f.CodeActionResolveRequest=f.CodeActionRequest=f.DocumentSymbolRequest=f.DocumentHighlightRequest=f.ReferencesRequest=f.DefinitionRequest=f.SignatureHelpRequest=f.SignatureHelpTriggerKind=f.HoverRequest=f.CompletionResolveRequest=f.CompletionRequest=f.CompletionTriggerKind=f.PublishDiagnosticsNotification=f.WatchKind=f.RelativePattern=f.FileChangeType=f.DidChangeWatchedFilesNotification=f.WillSaveTextDocumentWaitUntilRequest=f.WillSaveTextDocumentNotification=f.TextDocumentSaveReason=f.DidSaveTextDocumentNotification=f.DidCloseTextDocumentNotification=f.DidChangeTextDocumentNotification=f.TextDocumentContentChangeEvent=f.DidOpenTextDocumentNotification=f.TextDocumentSyncKind=f.TelemetryEventNotification=f.LogMessageNotification=f.ShowMessageRequest=f.ShowMessageNotification=f.MessageType=f.DidChangeConfigurationNotification=f.ExitNotification=f.ShutdownRequest=f.InitializedNotification=f.InitializeErrorCodes=f.InitializeRequest=f.WorkDoneProgressOptions=f.TextDocumentRegistrationOptions=f.StaticRegistrationOptions=f.PositionEncodingKind=f.FailureHandlingKind=f.ResourceOperationKind=f.UnregistrationRequest=f.RegistrationRequest=f.DocumentSelector=f.NotebookCellTextDocumentFilter=f.NotebookDocumentFilter=f.TextDocumentFilter=void 0;f.TypeHierarchySubtypesRequest=f.TypeHierarchyPrepareRequest=f.MonikerRequest=f.MonikerKind=f.UniquenessLevel=f.WillDeleteFilesRequest=f.DidDeleteFilesNotification=f.WillRenameFilesRequest=f.DidRenameFilesNotification=f.WillCreateFilesRequest=f.DidCreateFilesNotification=f.FileOperationPatternKind=f.LinkedEditingRangeRequest=f.ShowDocumentRequest=f.SemanticTokensRegistrationType=f.SemanticTokensRefreshRequest=f.SemanticTokensRangeRequest=f.SemanticTokensDeltaRequest=f.SemanticTokensRequest=f.TokenFormat=f.CallHierarchyPrepareRequest=f.CallHierarchyOutgoingCallsRequest=f.CallHierarchyIncomingCallsRequest=f.WorkDoneProgressCancelNotification=f.WorkDoneProgressCreateRequest=f.WorkDoneProgress=f.SelectionRangeRequest=f.DeclarationRequest=f.FoldingRangeRequest=f.ColorPresentationRequest=f.DocumentColorRequest=f.ConfigurationRequest=f.DidChangeWorkspaceFoldersNotification=f.WorkspaceFoldersRequest=f.TypeDefinitionRequest=f.ImplementationRequest=f.ApplyWorkspaceEditRequest=f.ExecuteCommandRequest=f.PrepareRenameRequest=f.RenameRequest=f.PrepareSupportDefaultBehavior=f.DocumentOnTypeFormattingRequest=f.DocumentRangeFormattingRequest=f.DocumentFormattingRequest=f.DocumentLinkResolveRequest=f.DocumentLinkRequest=f.CodeLensRefreshRequest=f.CodeLensResolveRequest=f.CodeLensRequest=f.WorkspaceSymbolResolveRequest=void 0;f.DidCloseNotebookDocumentNotification=f.DidSaveNotebookDocumentNotification=f.DidChangeNotebookDocumentNotification=f.NotebookCellArrayChange=f.DidOpenNotebookDocumentNotification=f.NotebookDocumentSyncRegistrationType=f.NotebookDocument=f.NotebookCell=f.ExecutionSummary=f.NotebookCellKind=f.DiagnosticRefreshRequest=f.WorkspaceDiagnosticRequest=f.DocumentDiagnosticRequest=f.DocumentDiagnosticReportKind=f.DiagnosticServerCancellationData=f.InlayHintRefreshRequest=f.InlayHintResolveRequest=f.InlayHintRequest=f.InlineValueRefreshRequest=f.InlineValueRequest=f.TypeHierarchySupertypesRequest=void 0;var q=ne(),Xd=(Mi(),ui(Ei)),ve=Ai(),Vb=_d();Object.defineProperty(f,"ImplementationRequest",{enumerable:!0,get:s(function(){return Vb.ImplementationRequest},"get")});var zb=Cd();Object.defineProperty(f,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return zb.TypeDefinitionRequest},"get")});var Zd=Dd();Object.defineProperty(f,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return Zd.WorkspaceFoldersRequest},"get")});Object.defineProperty(f,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return Zd.DidChangeWorkspaceFoldersNotification},"get")});var Yb=kd();Object.defineProperty(f,"ConfigurationRequest",{enumerable:!0,get:s(function(){return Yb.ConfigurationRequest},"get")});var eh=qd();Object.defineProperty(f,"DocumentColorRequest",{enumerable:!0,get:s(function(){return eh.DocumentColorRequest},"get")});Object.defineProperty(f,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return eh.ColorPresentationRequest},"get")});var Jb=Rd();Object.defineProperty(f,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return Jb.FoldingRangeRequest},"get")});var Gb=xd();Object.defineProperty(f,"DeclarationRequest",{enumerable:!0,get:s(function(){return Gb.DeclarationRequest},"get")});var Qb=Ed();Object.defineProperty(f,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return Qb.SelectionRangeRequest},"get")});var eu=Md();Object.defineProperty(f,"WorkDoneProgress",{enumerable:!0,get:s(function(){return eu.WorkDoneProgress},"get")});Object.defineProperty(f,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return eu.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(f,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return eu.WorkDoneProgressCancelNotification},"get")});var tu=Ad();Object.defineProperty(f,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return tu.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(f,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return tu.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(f,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return tu.CallHierarchyPrepareRequest},"get")});var Dn=Ld();Object.defineProperty(f,"TokenFormat",{enumerable:!0,get:s(function(){return Dn.TokenFormat},"get")});Object.defineProperty(f,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return Dn.SemanticTokensRequest},"get")});Object.defineProperty(f,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return Dn.SemanticTokensDeltaRequest},"get")});Object.defineProperty(f,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return Dn.SemanticTokensRangeRequest},"get")});Object.defineProperty(f,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return Dn.SemanticTokensRefreshRequest},"get")});Object.defineProperty(f,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return Dn.SemanticTokensRegistrationType},"get")});var Xb=jd();Object.defineProperty(f,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return Xb.ShowDocumentRequest},"get")});var Zb=$d();Object.defineProperty(f,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return Zb.LinkedEditingRangeRequest},"get")});var Kt=Wd();Object.defineProperty(f,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return Kt.FileOperationPatternKind},"get")});Object.defineProperty(f,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return Kt.DidCreateFilesNotification},"get")});Object.defineProperty(f,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return Kt.WillCreateFilesRequest},"get")});Object.defineProperty(f,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return Kt.DidRenameFilesNotification},"get")});Object.defineProperty(f,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return Kt.WillRenameFilesRequest},"get")});Object.defineProperty(f,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return Kt.DidDeleteFilesNotification},"get")});Object.defineProperty(f,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return Kt.WillDeleteFilesRequest},"get")});var nu=Hd();Object.defineProperty(f,"UniquenessLevel",{enumerable:!0,get:s(function(){return nu.UniquenessLevel},"get")});Object.defineProperty(f,"MonikerKind",{enumerable:!0,get:s(function(){return nu.MonikerKind},"get")});Object.defineProperty(f,"MonikerRequest",{enumerable:!0,get:s(function(){return nu.MonikerRequest},"get")});var ru=Ud();Object.defineProperty(f,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return ru.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(f,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return ru.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(f,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return ru.TypeHierarchySupertypesRequest},"get")});var th=Kd();Object.defineProperty(f,"InlineValueRequest",{enumerable:!0,get:s(function(){return th.InlineValueRequest},"get")});Object.defineProperty(f,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return th.InlineValueRefreshRequest},"get")});var iu=Vd();Object.defineProperty(f,"InlayHintRequest",{enumerable:!0,get:s(function(){return iu.InlayHintRequest},"get")});Object.defineProperty(f,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return iu.InlayHintResolveRequest},"get")});Object.defineProperty(f,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return iu.InlayHintRefreshRequest},"get")});var yr=Yd();Object.defineProperty(f,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return yr.DiagnosticServerCancellationData},"get")});Object.defineProperty(f,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return yr.DocumentDiagnosticReportKind},"get")});Object.defineProperty(f,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return yr.DocumentDiagnosticRequest},"get")});Object.defineProperty(f,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return yr.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(f,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return yr.DiagnosticRefreshRequest},"get")});var nt=Qd();Object.defineProperty(f,"NotebookCellKind",{enumerable:!0,get:s(function(){return nt.NotebookCellKind},"get")});Object.defineProperty(f,"ExecutionSummary",{enumerable:!0,get:s(function(){return nt.ExecutionSummary},"get")});Object.defineProperty(f,"NotebookCell",{enumerable:!0,get:s(function(){return nt.NotebookCell},"get")});Object.defineProperty(f,"NotebookDocument",{enumerable:!0,get:s(function(){return nt.NotebookDocument},"get")});Object.defineProperty(f,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return nt.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(f,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return nt.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(f,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return nt.NotebookCellArrayChange},"get")});Object.defineProperty(f,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return nt.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(f,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return nt.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(f,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return nt.DidCloseNotebookDocumentNotification},"get")});var nh;(function(t){function e(n){let r=n;return ve.string(r.language)||ve.string(r.scheme)||ve.string(r.pattern)}s(e,"is"),t.is=e})(nh=f.TextDocumentFilter||(f.TextDocumentFilter={}));var rh;(function(t){function e(n){let r=n;return ve.objectLiteral(r)&&(ve.string(r.notebookType)||ve.string(r.scheme)||ve.string(r.pattern))}s(e,"is"),t.is=e})(rh=f.NotebookDocumentFilter||(f.NotebookDocumentFilter={}));var ih;(function(t){function e(n){let r=n;return ve.objectLiteral(r)&&(ve.string(r.notebook)||rh.is(r.notebook))&&(r.language===void 0||ve.string(r.language))}s(e,"is"),t.is=e})(ih=f.NotebookCellTextDocumentFilter||(f.NotebookCellTextDocumentFilter={}));var sh;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ve.string(r)&&!nh.is(r)&&!ih.is(r))return!1;return!0}s(e,"is"),t.is=e})(sh=f.DocumentSelector||(f.DocumentSelector={}));var ew;(function(t){t.method="client/registerCapability",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolRequestType(t.method)})(ew=f.RegistrationRequest||(f.RegistrationRequest={}));var tw;(function(t){t.method="client/unregisterCapability",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolRequestType(t.method)})(tw=f.UnregistrationRequest||(f.UnregistrationRequest={}));var nw;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(nw=f.ResourceOperationKind||(f.ResourceOperationKind={}));var rw;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(rw=f.FailureHandlingKind||(f.FailureHandlingKind={}));var iw;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(iw=f.PositionEncodingKind||(f.PositionEncodingKind={}));var sw;(function(t){function e(n){let r=n;return r&&ve.string(r.id)&&r.id.length>0}s(e,"hasId"),t.hasId=e})(sw=f.StaticRegistrationOptions||(f.StaticRegistrationOptions={}));var ow;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||sh.is(r.documentSelector))}s(e,"is"),t.is=e})(ow=f.TextDocumentRegistrationOptions||(f.TextDocumentRegistrationOptions={}));var aw;(function(t){function e(r){let i=r;return ve.objectLiteral(i)&&(i.workDoneProgress===void 0||ve.boolean(i.workDoneProgress))}s(e,"is"),t.is=e;function n(r){let i=r;return i&&ve.boolean(i.workDoneProgress)}s(n,"hasWorkDoneProgress"),t.hasWorkDoneProgress=n})(aw=f.WorkDoneProgressOptions||(f.WorkDoneProgressOptions={}));var cw;(function(t){t.method="initialize",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(cw=f.InitializeRequest||(f.InitializeRequest={}));var uw;(function(t){t.unknownProtocolVersion=1})(uw=f.InitializeErrorCodes||(f.InitializeErrorCodes={}));var lw;(function(t){t.method="initialized",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(lw=f.InitializedNotification||(f.InitializedNotification={}));var fw;(function(t){t.method="shutdown",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType0(t.method)})(fw=f.ShutdownRequest||(f.ShutdownRequest={}));var dw;(function(t){t.method="exit",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType0(t.method)})(dw=f.ExitNotification||(f.ExitNotification={}));var hw;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(hw=f.DidChangeConfigurationNotification||(f.DidChangeConfigurationNotification={}));var pw;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(pw=f.MessageType||(f.MessageType={}));var mw;(function(t){t.method="window/showMessage",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolNotificationType(t.method)})(mw=f.ShowMessageNotification||(f.ShowMessageNotification={}));var gw;(function(t){t.method="window/showMessageRequest",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolRequestType(t.method)})(gw=f.ShowMessageRequest||(f.ShowMessageRequest={}));var yw;(function(t){t.method="window/logMessage",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolNotificationType(t.method)})(yw=f.LogMessageNotification||(f.LogMessageNotification={}));var vw;(function(t){t.method="telemetry/event",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolNotificationType(t.method)})(vw=f.TelemetryEventNotification||(f.TelemetryEventNotification={}));var bw;(function(t){t.None=0,t.Full=1,t.Incremental=2})(bw=f.TextDocumentSyncKind||(f.TextDocumentSyncKind={}));var ww;(function(t){t.method="textDocument/didOpen",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(ww=f.DidOpenTextDocumentNotification||(f.DidOpenTextDocumentNotification={}));var _w;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(e,"isIncremental"),t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(n,"isFull"),t.isFull=n})(_w=f.TextDocumentContentChangeEvent||(f.TextDocumentContentChangeEvent={}));var Sw;(function(t){t.method="textDocument/didChange",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(Sw=f.DidChangeTextDocumentNotification||(f.DidChangeTextDocumentNotification={}));var Cw;(function(t){t.method="textDocument/didClose",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(Cw=f.DidCloseTextDocumentNotification||(f.DidCloseTextDocumentNotification={}));var Dw;(function(t){t.method="textDocument/didSave",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(Dw=f.DidSaveTextDocumentNotification||(f.DidSaveTextDocumentNotification={}));var Tw;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Tw=f.TextDocumentSaveReason||(f.TextDocumentSaveReason={}));var kw;(function(t){t.method="textDocument/willSave",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(kw=f.WillSaveTextDocumentNotification||(f.WillSaveTextDocumentNotification={}));var qw;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(qw=f.WillSaveTextDocumentWaitUntilRequest||(f.WillSaveTextDocumentWaitUntilRequest={}));var Pw;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolNotificationType(t.method)})(Pw=f.DidChangeWatchedFilesNotification||(f.DidChangeWatchedFilesNotification={}));var Rw;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Rw=f.FileChangeType||(f.FileChangeType={}));var Nw;(function(t){function e(n){let r=n;return ve.objectLiteral(r)&&(Xd.URI.is(r.baseUri)||Xd.WorkspaceFolder.is(r.baseUri))&&ve.string(r.pattern)}s(e,"is"),t.is=e})(Nw=f.RelativePattern||(f.RelativePattern={}));var xw;(function(t){t.Create=1,t.Change=2,t.Delete=4})(xw=f.WatchKind||(f.WatchKind={}));var Ow;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolNotificationType(t.method)})(Ow=f.PublishDiagnosticsNotification||(f.PublishDiagnosticsNotification={}));var Ew;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Ew=f.CompletionTriggerKind||(f.CompletionTriggerKind={}));var Mw;(function(t){t.method="textDocument/completion",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Mw=f.CompletionRequest||(f.CompletionRequest={}));var Aw;(function(t){t.method="completionItem/resolve",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Aw=f.CompletionResolveRequest||(f.CompletionResolveRequest={}));var Lw;(function(t){t.method="textDocument/hover",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Lw=f.HoverRequest||(f.HoverRequest={}));var Iw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Iw=f.SignatureHelpTriggerKind||(f.SignatureHelpTriggerKind={}));var jw;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(jw=f.SignatureHelpRequest||(f.SignatureHelpRequest={}));var Fw;(function(t){t.method="textDocument/definition",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Fw=f.DefinitionRequest||(f.DefinitionRequest={}));var $w;(function(t){t.method="textDocument/references",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})($w=f.ReferencesRequest||(f.ReferencesRequest={}));var Ww;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Ww=f.DocumentHighlightRequest||(f.DocumentHighlightRequest={}));var Bw;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Bw=f.DocumentSymbolRequest||(f.DocumentSymbolRequest={}));var Hw;(function(t){t.method="textDocument/codeAction",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Hw=f.CodeActionRequest||(f.CodeActionRequest={}));var Uw;(function(t){t.method="codeAction/resolve",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Uw=f.CodeActionResolveRequest||(f.CodeActionResolveRequest={}));var Kw;(function(t){t.method="workspace/symbol",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Kw=f.WorkspaceSymbolRequest||(f.WorkspaceSymbolRequest={}));var Vw;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Vw=f.WorkspaceSymbolResolveRequest||(f.WorkspaceSymbolResolveRequest={}));var zw;(function(t){t.method="textDocument/codeLens",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(zw=f.CodeLensRequest||(f.CodeLensRequest={}));var Yw;(function(t){t.method="codeLens/resolve",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Yw=f.CodeLensResolveRequest||(f.CodeLensResolveRequest={}));var Jw;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolRequestType0(t.method)})(Jw=f.CodeLensRefreshRequest||(f.CodeLensRefreshRequest={}));var Gw;(function(t){t.method="textDocument/documentLink",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Gw=f.DocumentLinkRequest||(f.DocumentLinkRequest={}));var Qw;(function(t){t.method="documentLink/resolve",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Qw=f.DocumentLinkResolveRequest||(f.DocumentLinkResolveRequest={}));var Xw;(function(t){t.method="textDocument/formatting",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Xw=f.DocumentFormattingRequest||(f.DocumentFormattingRequest={}));var Zw;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(Zw=f.DocumentRangeFormattingRequest||(f.DocumentRangeFormattingRequest={}));var e_;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(e_=f.DocumentOnTypeFormattingRequest||(f.DocumentOnTypeFormattingRequest={}));var t_;(function(t){t.Identifier=1})(t_=f.PrepareSupportDefaultBehavior||(f.PrepareSupportDefaultBehavior={}));var n_;(function(t){t.method="textDocument/rename",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(n_=f.RenameRequest||(f.RenameRequest={}));var r_;(function(t){t.method="textDocument/prepareRename",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(r_=f.PrepareRenameRequest||(f.PrepareRenameRequest={}));var i_;(function(t){t.method="workspace/executeCommand",t.messageDirection=q.MessageDirection.clientToServer,t.type=new q.ProtocolRequestType(t.method)})(i_=f.ExecuteCommandRequest||(f.ExecuteCommandRequest={}));var s_;(function(t){t.method="workspace/applyEdit",t.messageDirection=q.MessageDirection.serverToClient,t.type=new q.ProtocolRequestType("workspace/applyEdit")})(s_=f.ApplyWorkspaceEditRequest||(f.ApplyWorkspaceEditRequest={}))});var ch=v(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.createProtocolConnection=void 0;var ah=Bt();function o_(t,e,n,r){return ah.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ah.createMessageConnection)(t,e,n,r)}s(o_,"createProtocolConnection");Wi.createProtocolConnection=o_});var uh=v(ke=>{"use strict";var a_=ke&&ke.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[n]},"get")}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Bi=ke&&ke.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&a_(e,t,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.LSPErrorCodes=ke.createProtocolConnection=void 0;Bi(Bt(),ke);Bi((Mi(),ui(Ei)),ke);Bi(ne(),ke);Bi(oh(),ke);var c_=ch();Object.defineProperty(ke,"createProtocolConnection",{enumerable:!0,get:s(function(){return c_.createProtocolConnection},"get")});var u_;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(u_=ke.LSPErrorCodes||(ke.LSPErrorCodes={}))});var fe=v(rt=>{"use strict";var l_=rt&&rt.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[n]},"get")}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),lh=rt&&rt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&l_(e,t,n)};Object.defineProperty(rt,"__esModule",{value:!0});rt.createProtocolConnection=void 0;var f_=Za();lh(Za(),rt);lh(uh(),rt);function d_(t,e,n,r){return(0,f_.createMessageConnection)(t,e,n,r)}s(d_,"createProtocolConnection");rt.createProtocolConnection=d_});var su=v(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.generateUuid=Ae.parse=Ae.isUUID=Ae.v4=Ae.empty=void 0;var vr=class{static{s(this,"ValueUUID")}constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},br=class t extends vr{static{s(this,"V4UUID")}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}};br._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];br._timeHighBits=["8","9","a","b"];Ae.empty=new vr("00000000-0000-0000-0000-000000000000");function fh(){return new br}s(fh,"v4");Ae.v4=fh;var h_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function dh(t){return h_.test(t)}s(dh,"isUUID");Ae.isUUID=dh;function p_(t){if(!dh(t))throw new Error("invalid uuid");return new vr(t)}s(p_,"parse");Ae.parse=p_;function m_(){return fh().asHex()}s(m_,"generateUuid");Ae.generateUuid=m_});var hh=v(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.attachPartialResult=St.ProgressFeature=St.attachWorkDone=void 0;var _t=fe(),g_=su(),Vt=class t{static{s(this,"WorkDoneProgressReporterImpl")}constructor(e,n){this._connection=e,this._token=n,t.Instances.set(this._token,this)}begin(e,n,r,i){let o={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(_t.WorkDoneProgress.type,this._token,o)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(_t.WorkDoneProgress.type,this._token,r)}done(){t.Instances.delete(this._token),this._connection.sendProgress(_t.WorkDoneProgress.type,this._token,{kind:"end"})}};Vt.Instances=new Map;var Hi=class extends Vt{static{s(this,"WorkDoneProgressServerReporterImpl")}constructor(e,n){super(e,n),this._source=new _t.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},wr=class{static{s(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},Ui=class extends wr{static{s(this,"NullProgressServerReporter")}constructor(){super(),this._source=new _t.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function y_(t,e){if(e===void 0||e.workDoneToken===void 0)return new wr;let n=e.workDoneToken;return delete e.workDoneToken,new Vt(t,n)}s(y_,"attachWorkDone");St.attachWorkDone=y_;var v_=s(t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(_t.WorkDoneProgressCancelNotification.type,n=>{let r=Vt.Instances.get(n.token);(r instanceof Hi||r instanceof Ui)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new wr:new Vt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,g_.generateUuid)();return this.connection.sendRequest(_t.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Hi(this.connection,e))}else return Promise.resolve(new Ui)}},"ProgressFeature");St.ProgressFeature=v_;var ou;(function(t){t.type=new _t.ProgressType})(ou||(ou={}));var au=class{static{s(this,"ResultProgressReporterImpl")}constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(ou.type,this._token,e)}};function b_(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new au(t,n)}s(b_,"attachPartialResult");St.attachPartialResult=b_});var ph=v(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.ConfigurationFeature=void 0;var w_=fe(),__=li(),S_=s(t=>class extends t{getConfiguration(e){return e?__.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(w_.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}},"ConfigurationFeature");Ki.ConfigurationFeature=S_});var mh=v(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.WorkspaceFoldersFeature=void 0;var Vi=fe(),C_=s(t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Vi.Emitter,this.connection.onNotification(Vi.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Vi.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Vi.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");zi.WorkspaceFoldersFeature=C_});var gh=v(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.CallHierarchyFeature=void 0;var cu=fe(),D_=s(t=>class extends t{get callHierarchy(){return{onPrepare:s(e=>this.connection.onRequest(cu.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),"onPrepare"),onIncomingCalls:s(e=>{let n=cu.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onIncomingCalls"),onOutgoingCalls:s(e=>{let n=cu.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onOutgoingCalls")}}},"CallHierarchyFeature");Yi.CallHierarchyFeature=D_});var lu=v(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.SemanticTokensBuilder=Ct.SemanticTokensDiff=Ct.SemanticTokensFeature=void 0;var Ji=fe(),T_=s(t=>class extends t{get semanticTokens(){return{refresh:s(()=>this.connection.sendRequest(Ji.SemanticTokensRefreshRequest.type),"refresh"),on:s(e=>{let n=Ji.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"on"),onDelta:s(e=>{let n=Ji.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onDelta"),onRange:s(e=>{let n=Ji.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onRange")}}},"SemanticTokensFeature");Ct.SemanticTokensFeature=T_;var Gi=class{static{s(this,"SemanticTokensDiff")}constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){let e=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);let a=i-r+1,c=this.modifiedSequence.slice(r,o+1);return c.length===1&&c[0]===this.originalSequence[i]?[{start:r,deleteCount:a-1}]:[{start:r,deleteCount:a,data:c}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}};Ct.SemanticTokensDiff=Gi;var uu=class{static{s(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,o){let a=e,c=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(c-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=c,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Gi(this._prevData,this._data).computeDiff()}:this.build()}};Ct.SemanticTokensBuilder=uu});var yh=v(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ShowDocumentFeature=void 0;var k_=fe(),q_=s(t=>class extends t{showDocument(e){return this.connection.sendRequest(k_.ShowDocumentRequest.type,e)}},"ShowDocumentFeature");Qi.ShowDocumentFeature=q_});var vh=v(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.FileOperationsFeature=void 0;var Tn=fe(),P_=s(t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Tn.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Tn.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Tn.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Tn.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Tn.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Tn.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}},"FileOperationsFeature");Xi.FileOperationsFeature=P_});var bh=v(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.LinkedEditingRangeFeature=void 0;var R_=fe(),N_=s(t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(R_.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}},"LinkedEditingRangeFeature");Zi.LinkedEditingRangeFeature=N_});var wh=v(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.TypeHierarchyFeature=void 0;var fu=fe(),x_=s(t=>class extends t{get typeHierarchy(){return{onPrepare:s(e=>this.connection.onRequest(fu.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),"onPrepare"),onSupertypes:s(e=>{let n=fu.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onSupertypes"),onSubtypes:s(e=>{let n=fu.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"onSubtypes")}}},"TypeHierarchyFeature");es.TypeHierarchyFeature=x_});var Sh=v(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.InlineValueFeature=void 0;var _h=fe(),O_=s(t=>class extends t{get inlineValue(){return{refresh:s(()=>this.connection.sendRequest(_h.InlineValueRefreshRequest.type),"refresh"),on:s(e=>this.connection.onRequest(_h.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),"on")}}},"InlineValueFeature");ts.InlineValueFeature=O_});var Ch=v(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.InlayHintFeature=void 0;var du=fe(),E_=s(t=>class extends t{get inlayHint(){return{refresh:s(()=>this.connection.sendRequest(du.InlayHintRefreshRequest.type),"refresh"),on:s(e=>this.connection.onRequest(du.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),"on"),resolve:s(e=>this.connection.onRequest(du.InlayHintResolveRequest.type,(n,r)=>e(n,r)),"resolve")}}},"InlayHintFeature");ns.InlayHintFeature=E_});var Dh=v(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.DiagnosticFeature=void 0;var _r=fe(),M_=s(t=>class extends t{get diagnostics(){return{refresh:s(()=>this.connection.sendRequest(_r.DiagnosticRefreshRequest.type),"refresh"),on:s(e=>this.connection.onRequest(_r.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_r.DocumentDiagnosticRequest.partialResult,n))),"on"),onWorkspace:s(e=>this.connection.onRequest(_r.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_r.WorkspaceDiagnosticRequest.partialResult,n))),"onWorkspace")}}},"DiagnosticFeature");rs.DiagnosticFeature=M_});var pu=v(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.TextDocuments=void 0;var zt=fe(),hu=class{static{s(this,"TextDocuments")}constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new zt.Emitter,this._onDidOpen=new zt.Emitter,this._onDidClose=new zt.Emitter,this._onDidSave=new zt.Emitter,this._onWillSave=new zt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=zt.TextDocumentSyncKind.Incremental;let n=[];return n.push(e.onDidOpenTextDocument(r=>{let i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),n.push(e.onDidChangeTextDocument(r=>{let i=r.textDocument,o=r.contentChanges;if(o.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let c=this._syncedDocuments.get(i.uri);c!==void 0&&(c=this._configuration.update(c,o,a),this._syncedDocuments.set(i.uri,c),this._onDidChangeContent.fire(Object.freeze({document:c})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),zt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};is.TextDocuments=hu});var gu=v(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.NotebookDocuments=kn.NotebookSyncFeature=void 0;var Le=fe(),Th=pu(),A_=s(t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:s(e=>this.connection.onNotification(Le.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:s(e=>this.connection.onNotification(Le.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:s(e=>this.connection.onNotification(Le.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:s(e=>this.connection.onNotification(Le.DidCloseNotebookDocumentNotification.type,n=>{e(n)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");kn.NotebookSyncFeature=A_;var ss=class t{static{s(this,"CellTextDocumentConnection")}onDidOpenTextDocument(e){return this.openHandler=e,Le.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,Le.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,Le.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};ss.NULL_DISPOSE=Object.freeze({dispose:s(()=>{},"dispose")});var mu=class{static{s(this,"NotebookDocuments")}constructor(e){e instanceof Th.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new Th.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Le.Emitter,this._onDidChange=new Le.Emitter,this._onDidSave=new Le.Emitter,this._onDidClose=new Le.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){let n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let n=new ss,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let a=o.metadata,c=!1,u=i.change;u.metadata!==void 0&&(c=!0,o.metadata=u.metadata);let l=[],p=[],h=[],y=[];if(u.cells!==void 0){let P=u.cells;if(P.structure!==void 0){let g=P.structure.array;if(o.cells.splice(g.start,g.deleteCount,...g.cells!==void 0?g.cells:[]),P.structure.didOpen!==void 0)for(let m of P.structure.didOpen)n.openTextDocument({textDocument:m}),l.push(m.uri);if(P.structure.didClose)for(let m of P.structure.didClose)n.closeTextDocument({textDocument:m}),p.push(m.uri)}if(P.data!==void 0){let g=new Map(P.data.map(m=>[m.document,m]));for(let m=0;m<=o.cells.length;m++){let C=g.get(o.cells[m].document);if(C!==void 0){let N=o.cells.splice(m,1,C);if(h.push({old:N[0],new:C}),g.delete(C.document),g.size===0)break}}}if(P.textContent!==void 0)for(let g of P.textContent)n.changeTextDocument({textDocument:g.document,contentChanges:g.changes}),y.push(g.document.uri)}this.updateCellMap(o);let _={notebookDocument:o};c&&(_.metadata={old:a,new:o.metadata});let k=[];for(let P of l)k.push(this.getNotebookCell(P));let b=[];for(let P of p)b.push(this.getNotebookCell(P));let D=[];for(let P of y)D.push(this.getNotebookCell(P));(k.length>0||b.length>0||h.length>0||D.length>0)&&(_.cells={added:k,removed:b,changed:{data:h,textContent:D}}),(_.metadata!==void 0||_.cells!==void 0)&&this._onDidChange.fire(_)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let a of i.cellTextDocuments)n.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of o.cells)this.notebookCellMap.delete(a.document)}})),Le.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(let n of e.cells)this.notebookCellMap.set(n.document,[n,e])}};kn.NotebookDocuments=mu});var kh=v(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.MonikerFeature=void 0;var L_=fe(),I_=s(t=>class extends t{get moniker(){return{on:s(e=>{let n=L_.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},"on")}}},"MonikerFeature");os.MonikerFeature=I_});var Su=v($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.createConnection=$.combineFeatures=$.combineNotebooksFeatures=$.combineLanguagesFeatures=$.combineWorkspaceFeatures=$.combineWindowFeatures=$.combineClientFeatures=$.combineTracerFeatures=$.combineTelemetryFeatures=$.combineConsoleFeatures=$._NotebooksImpl=$._LanguagesImpl=$.BulkUnregistration=$.BulkRegistration=$.ErrorMessageTracker=void 0;var x=fe(),Ie=li(),vu=su(),j=hh(),j_=ph(),F_=mh(),$_=gh(),W_=lu(),B_=yh(),H_=vh(),U_=bh(),K_=wh(),V_=Sh(),z_=Ch(),Y_=Dh(),J_=gu(),G_=kh();function yu(t){if(t!==null)return t}s(yu,"null2Undefined");var bu=class{static{s(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};$.ErrorMessageTracker=bu;var as=class{static{s(this,"RemoteConsoleImpl")}constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(x.MessageType.Error,e)}warn(e){this.send(x.MessageType.Warning,e)}info(e){this.send(x.MessageType.Info,e)}log(e){this.send(x.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(x.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,x.RAL)().console.error("Sending log message failed")})}},wu=class{static{s(this,"_RemoteWindowImpl")}constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:x.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(x.ShowMessageRequest.type,r).then(yu)}showWarningMessage(e,...n){let r={type:x.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(x.ShowMessageRequest.type,r).then(yu)}showInformationMessage(e,...n){let r={type:x.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(x.ShowMessageRequest.type,r).then(yu)}},qh=(0,B_.ShowDocumentFeature)((0,j.ProgressFeature)(wu)),Q_;(function(t){function e(){return new cs}s(e,"create"),t.create=e})(Q_=$.BulkRegistration||($.BulkRegistration={}));var cs=class{static{s(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Ie.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=vu.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},X_;(function(t){function e(){return new Sr(void 0,[])}s(e,"create"),t.create=e})(X_=$.BulkUnregistration||($.BulkUnregistration={}));var Sr=class{static{s(this,"BulkUnregistrationImpl")}constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(x.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Ie.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(x.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},us=class{static{s(this,"RemoteClientImpl")}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof cs?this.registerMany(e):e instanceof Sr?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Ie.string(n)?n:n.method,o=vu.generateUuid(),a={registrations:[{id:o,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(x.RegistrationRequest.type,a).then(c=>(e.add({id:o,method:i}),e),c=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(c)))}registerSingle2(e,n){let r=Ie.string(e)?e:e.method,i=vu.generateUuid(),o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(x.RegistrationRequest.type,o).then(a=>x.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(x.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(x.RegistrationRequest.type,n).then(()=>new Sr(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},_u=class{static{s(this,"_RemoteWorkspaceImpl")}constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}s(n,"isApplyWorkspaceEditParams");let r=n(e)?e:{edit:e};return this.connection.sendRequest(x.ApplyWorkspaceEditRequest.type,r)}},Ph=(0,H_.FileOperationsFeature)((0,F_.WorkspaceFoldersFeature)((0,j_.ConfigurationFeature)(_u))),ls=class{static{s(this,"TracerImpl")}constructor(){this._trace=x.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==x.Trace.Off&&this.connection.sendNotification(x.LogTraceNotification.type,{message:e,verbose:this._trace===x.Trace.Verbose?n:void 0}).catch(()=>{})}},fs=class{static{s(this,"TelemetryImpl")}constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(x.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},ds=class{static{s(this,"_LanguagesImpl")}constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,j.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,j.attachPartialResult)(this.connection,n)}};$._LanguagesImpl=ds;var Rh=(0,G_.MonikerFeature)((0,Y_.DiagnosticFeature)((0,z_.InlayHintFeature)((0,V_.InlineValueFeature)((0,K_.TypeHierarchyFeature)((0,U_.LinkedEditingRangeFeature)((0,W_.SemanticTokensFeature)((0,$_.CallHierarchyFeature)(ds)))))))),hs=class{static{s(this,"_NotebooksImpl")}constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,j.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,j.attachPartialResult)(this.connection,n)}};$._NotebooksImpl=hs;var Nh=(0,J_.NotebookSyncFeature)(hs);function xh(t,e){return function(n){return e(t(n))}}s(xh,"combineConsoleFeatures");$.combineConsoleFeatures=xh;function Oh(t,e){return function(n){return e(t(n))}}s(Oh,"combineTelemetryFeatures");$.combineTelemetryFeatures=Oh;function Eh(t,e){return function(n){return e(t(n))}}s(Eh,"combineTracerFeatures");$.combineTracerFeatures=Eh;function Mh(t,e){return function(n){return e(t(n))}}s(Mh,"combineClientFeatures");$.combineClientFeatures=Mh;function Ah(t,e){return function(n){return e(t(n))}}s(Ah,"combineWindowFeatures");$.combineWindowFeatures=Ah;function Lh(t,e){return function(n){return e(t(n))}}s(Lh,"combineWorkspaceFeatures");$.combineWorkspaceFeatures=Lh;function Ih(t,e){return function(n){return e(t(n))}}s(Ih,"combineLanguagesFeatures");$.combineLanguagesFeatures=Ih;function jh(t,e){return function(n){return e(t(n))}}s(jh,"combineNotebooksFeatures");$.combineNotebooksFeatures=jh;function Z_(t,e){function n(i,o,a){return i&&o?a(i,o):i||o}return s(n,"combine"),{__brand:"features",console:n(t.console,e.console,xh),tracer:n(t.tracer,e.tracer,Eh),telemetry:n(t.telemetry,e.telemetry,Oh),client:n(t.client,e.client,Mh),window:n(t.window,e.window,Ah),workspace:n(t.workspace,e.workspace,Lh),languages:n(t.languages,e.languages,Ih),notebooks:n(t.notebooks,e.notebooks,jh)}}s(Z_,"combineFeatures");$.combineFeatures=Z_;function eS(t,e,n){let r=n&&n.console?new(n.console(as)):new as,i=t(r);r.rawAttach(i);let o=n&&n.tracer?new(n.tracer(ls)):new ls,a=n&&n.telemetry?new(n.telemetry(fs)):new fs,c=n&&n.client?new(n.client(us)):new us,u=n&&n.window?new(n.window(qh)):new qh,l=n&&n.workspace?new(n.workspace(Ph)):new Ph,p=n&&n.languages?new(n.languages(Rh)):new Rh,h=n&&n.notebooks?new(n.notebooks(Nh)):new Nh,y=[r,o,a,c,u,l,p,h];function _(g){return g instanceof Promise?g:Ie.thenable(g)?new Promise((m,C)=>{g.then(N=>m(N),N=>C(N))}):Promise.resolve(g)}s(_,"asPromise");let k,b,D,P={listen:s(()=>i.listen(),"listen"),sendRequest:s((g,...m)=>i.sendRequest(Ie.string(g)?g:g.method,...m),"sendRequest"),onRequest:s((g,m)=>i.onRequest(g,m),"onRequest"),sendNotification:s((g,m)=>{let C=Ie.string(g)?g:g.method;return arguments.length===1?i.sendNotification(C):i.sendNotification(C,m)},"sendNotification"),onNotification:s((g,m)=>i.onNotification(g,m),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:s(g=>(b=g,{dispose:s(()=>{b=void 0},"dispose")}),"onInitialize"),onInitialized:s(g=>i.onNotification(x.InitializedNotification.type,g),"onInitialized"),onShutdown:s(g=>(k=g,{dispose:s(()=>{k=void 0},"dispose")}),"onShutdown"),onExit:s(g=>(D=g,{dispose:s(()=>{D=void 0},"dispose")}),"onExit"),get console(){return r},get telemetry(){return a},get tracer(){return o},get client(){return c},get window(){return u},get workspace(){return l},get languages(){return p},get notebooks(){return h},onDidChangeConfiguration:s(g=>i.onNotification(x.DidChangeConfigurationNotification.type,g),"onDidChangeConfiguration"),onDidChangeWatchedFiles:s(g=>i.onNotification(x.DidChangeWatchedFilesNotification.type,g),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:s(g=>i.onNotification(x.DidOpenTextDocumentNotification.type,g),"onDidOpenTextDocument"),onDidChangeTextDocument:s(g=>i.onNotification(x.DidChangeTextDocumentNotification.type,g),"onDidChangeTextDocument"),onDidCloseTextDocument:s(g=>i.onNotification(x.DidCloseTextDocumentNotification.type,g),"onDidCloseTextDocument"),onWillSaveTextDocument:s(g=>i.onNotification(x.WillSaveTextDocumentNotification.type,g),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:s(g=>i.onRequest(x.WillSaveTextDocumentWaitUntilRequest.type,g),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:s(g=>i.onNotification(x.DidSaveTextDocumentNotification.type,g),"onDidSaveTextDocument"),sendDiagnostics:s(g=>i.sendNotification(x.PublishDiagnosticsNotification.type,g),"sendDiagnostics"),onHover:s(g=>i.onRequest(x.HoverRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onHover"),onCompletion:s(g=>i.onRequest(x.CompletionRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onCompletion"),onCompletionResolve:s(g=>i.onRequest(x.CompletionResolveRequest.type,g),"onCompletionResolve"),onSignatureHelp:s(g=>i.onRequest(x.SignatureHelpRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onSignatureHelp"),onDeclaration:s(g=>i.onRequest(x.DeclarationRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDeclaration"),onDefinition:s(g=>i.onRequest(x.DefinitionRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDefinition"),onTypeDefinition:s(g=>i.onRequest(x.TypeDefinitionRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onTypeDefinition"),onImplementation:s(g=>i.onRequest(x.ImplementationRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onImplementation"),onReferences:s(g=>i.onRequest(x.ReferencesRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onReferences"),onDocumentHighlight:s(g=>i.onRequest(x.DocumentHighlightRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDocumentHighlight"),onDocumentSymbol:s(g=>i.onRequest(x.DocumentSymbolRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDocumentSymbol"),onWorkspaceSymbol:s(g=>i.onRequest(x.WorkspaceSymbolRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:s(g=>i.onRequest(x.WorkspaceSymbolResolveRequest.type,g),"onWorkspaceSymbolResolve"),onCodeAction:s(g=>i.onRequest(x.CodeActionRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onCodeAction"),onCodeActionResolve:s(g=>i.onRequest(x.CodeActionResolveRequest.type,(m,C)=>g(m,C)),"onCodeActionResolve"),onCodeLens:s(g=>i.onRequest(x.CodeLensRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onCodeLens"),onCodeLensResolve:s(g=>i.onRequest(x.CodeLensResolveRequest.type,(m,C)=>g(m,C)),"onCodeLensResolve"),onDocumentFormatting:s(g=>i.onRequest(x.DocumentFormattingRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:s(g=>i.onRequest(x.DocumentRangeFormattingRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:s(g=>i.onRequest(x.DocumentOnTypeFormattingRequest.type,(m,C)=>g(m,C)),"onDocumentOnTypeFormatting"),onRenameRequest:s(g=>i.onRequest(x.RenameRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onRenameRequest"),onPrepareRename:s(g=>i.onRequest(x.PrepareRenameRequest.type,(m,C)=>g(m,C)),"onPrepareRename"),onDocumentLinks:s(g=>i.onRequest(x.DocumentLinkRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDocumentLinks"),onDocumentLinkResolve:s(g=>i.onRequest(x.DocumentLinkResolveRequest.type,(m,C)=>g(m,C)),"onDocumentLinkResolve"),onDocumentColor:s(g=>i.onRequest(x.DocumentColorRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onDocumentColor"),onColorPresentation:s(g=>i.onRequest(x.ColorPresentationRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onColorPresentation"),onFoldingRanges:s(g=>i.onRequest(x.FoldingRangeRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onFoldingRanges"),onSelectionRanges:s(g=>i.onRequest(x.SelectionRangeRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),(0,j.attachPartialResult)(i,m))),"onSelectionRanges"),onExecuteCommand:s(g=>i.onRequest(x.ExecuteCommandRequest.type,(m,C)=>g(m,C,(0,j.attachWorkDone)(i,m),void 0)),"onExecuteCommand"),dispose:s(()=>i.dispose(),"dispose")};for(let g of y)g.attach(P);return i.onRequest(x.InitializeRequest.type,g=>{e.initialize(g),Ie.string(g.trace)&&(o.trace=x.Trace.fromString(g.trace));for(let m of y)m.initialize(g.capabilities);if(b){let m=b(g,new x.CancellationTokenSource().token,(0,j.attachWorkDone)(i,g),void 0);return _(m).then(C=>{if(C instanceof x.ResponseError)return C;let N=C;N||(N={capabilities:{}});let O=N.capabilities;O||(O={},N.capabilities=O),O.textDocumentSync===void 0||O.textDocumentSync===null?O.textDocumentSync=Ie.number(P.__textDocumentSync)?P.__textDocumentSync:x.TextDocumentSyncKind.None:!Ie.number(O.textDocumentSync)&&!Ie.number(O.textDocumentSync.change)&&(O.textDocumentSync.change=Ie.number(P.__textDocumentSync)?P.__textDocumentSync:x.TextDocumentSyncKind.None);for(let H of y)H.fillServerCapabilities(O);return N})}else{let m={capabilities:{textDocumentSync:x.TextDocumentSyncKind.None}};for(let C of y)C.fillServerCapabilities(m.capabilities);return m}}),i.onRequest(x.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,k)return k(new x.CancellationTokenSource().token)}),i.onNotification(x.ExitNotification.type,()=>{try{D&&D()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(x.SetTraceNotification.type,g=>{o.trace=x.Trace.fromString(g.value)}),P}s(eS,"createConnection");$.createConnection=eS});var $h=v(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.resolveModulePath=qe.FileSystem=qe.resolveGlobalYarnPath=qe.resolveGlobalNodePath=qe.resolve=qe.uriToFilePath=void 0;var tS=require("url"),Ge=require("path"),Cu=require("fs"),ku=require("child_process");function nS(t){let e=tS.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let o=n[0],a=n[1];o.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Ge.normalize(n.join("/"))}s(nS,"uriToFilePath");qe.uriToFilePath=nS;function Du(){return process.platform==="win32"}s(Du,"isWindows");function ps(t,e,n,r){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,c)=>{let u=process.env,l=Object.create(null);Object.keys(u).forEach(p=>l[p]=u[p]),e&&Cu.existsSync(e)&&(l[i]?l[i]=e+Ge.delimiter+l[i]:l[i]=e,r&&r(`NODE_PATH value is: ${l[i]}`)),l.ELECTRON_RUN_AS_NODE="1";try{let p=(0,ku.fork)("",[],{cwd:n,env:l,execArgv:["-e",o]});if(p.pid===void 0){c(new Error(`Starting process to resolve node module  ${t} failed`));return}p.on("error",y=>{c(y)}),p.on("message",y=>{y.c==="r"&&(p.send({c:"e"}),y.s?a(y.r):c(new Error(`Failed to resolve module: ${t}`)))});let h={c:"rs",a:t};p.send(h)}catch(p){c(p)}})}s(ps,"resolve");qe.resolve=ps;function Tu(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(o=>n[o]=process.env[o]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Du()&&(e="npm.cmd",r.shell=!0);let i=s(()=>{},"handler");try{process.on("SIGPIPE",i);let o=(0,ku.spawnSync)(e,["config","get","prefix"],r).stdout;if(!o){t&&t("'npm config get prefix' didn't return a value.");return}let a=o.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?Du()?Ge.join(a,"node_modules"):Ge.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}s(Tu,"resolveGlobalNodePath");qe.resolveGlobalNodePath=Tu;function rS(t){let e="yarn",n={encoding:"utf8"};Du()&&(e="yarn.cmd",n.shell=!0);let r=s(()=>{},"handler");try{process.on("SIGPIPE",r);let i=(0,ku.spawnSync)(e,["global","dir","--json"],n),o=i.stdout;if(!o){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=o.trim().split(/\r?\n/);for(let c of a)try{let u=JSON.parse(c);if(u.type==="log")return Ge.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}s(rS,"resolveGlobalYarnPath");qe.resolveGlobalYarnPath=rS;var Fh;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Cu.existsSync(__filename.toUpperCase())||!Cu.existsSync(__filename.toLowerCase())),e}s(n,"isCaseSensitive"),t.isCaseSensitive=n;function r(i,o){return n()?Ge.normalize(o).indexOf(Ge.normalize(i))===0:Ge.normalize(o).toLowerCase().indexOf(Ge.normalize(i).toLowerCase())===0}s(r,"isParent"),t.isParent=r})(Fh=qe.FileSystem||(qe.FileSystem={}));function iS(t,e,n,r){return n?(Ge.isAbsolute(n)||(n=Ge.join(t,n)),ps(e,n,n,r).then(i=>Fh.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ps(e,Tu(r),t,r))):ps(e,Tu(r),t,r)}s(iS,"resolveModulePath");qe.resolveModulePath=iS});var qu=v((CR,Wh)=>{"use strict";Wh.exports=fe()});var Hh=v(be=>{"use strict";var sS=be&&be.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[n]},"get")}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Bh=be&&be.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&sS(e,t,n)};Object.defineProperty(be,"__esModule",{value:!0});be.ProposedFeatures=be.NotebookDocuments=be.TextDocuments=be.SemanticTokensBuilder=void 0;var oS=lu();Object.defineProperty(be,"SemanticTokensBuilder",{enumerable:!0,get:s(function(){return oS.SemanticTokensBuilder},"get")});Bh(fe(),be);var aS=pu();Object.defineProperty(be,"TextDocuments",{enumerable:!0,get:s(function(){return aS.TextDocuments},"get")});var cS=gu();Object.defineProperty(be,"NotebookDocuments",{enumerable:!0,get:s(function(){return cS.NotebookDocuments},"get")});Bh(Su(),be);var uS;(function(t){t.all={__brand:"features"}})(uS=be.ProposedFeatures||(be.ProposedFeatures={}))});var Se=v(Oe=>{"use strict";var lS=Oe&&Oe.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[n]},"get")}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Kh=Oe&&Oe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&lS(e,t,n)};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createConnection=Oe.Files=void 0;var Pu=li(),fS=Su(),Cr=$h(),Yt=qu();Kh(qu(),Oe);Kh(Hh(),Oe);var dS;(function(t){t.uriToFilePath=Cr.uriToFilePath,t.resolveGlobalNodePath=Cr.resolveGlobalNodePath,t.resolveGlobalYarnPath=Cr.resolveGlobalYarnPath,t.resolve=Cr.resolve,t.resolveModulePath=Cr.resolveModulePath})(dS=Oe.Files||(Oe.Files={}));var Uh;function ms(){if(Uh!==void 0)try{Uh.end()}catch{}}s(ms,"endProtocolConnection");var qn=!1,Vh;function hS(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Vh=setInterval(()=>{try{process.kill(r,0)}catch{ms(),process.exit(qn?0:1)}},3e3))}catch{}}s(e,"runTimer");for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}s(hS,"setupExitTimer");hS();var pS={initialize:s(t=>{let e=t.processId;Pu.number(e)&&Vh===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(qn?0:1)}},3e3)},"initialize"),get shutdownReceived(){return qn},set shutdownReceived(t){qn=t},exit:s(t=>{ms(),process.exit(t)},"exit")};function mS(t,e,n,r){let i,o,a,c;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Yt.ConnectionStrategy.is(t)||Yt.ConnectionOptions.is(t)?c=t:(o=t,a=e,c=n),gS(o,a,c,i)}s(mS,"createConnection");Oe.createConnection=mS;function gS(t,e,n,r){if(!t&&!e&&process.argv.length>2){let c,u,l=process.argv.slice(2);for(let p=0;p<l.length;p++){let h=l[p];if(h==="--node-ipc"){t=new Yt.IPCMessageReader(process),e=new Yt.IPCMessageWriter(process);break}else if(h==="--stdio"){t=process.stdin,e=process.stdout;break}else if(h==="--socket"){c=parseInt(l[p+1]);break}else if(h==="--pipe"){u=l[p+1];break}else{var i=h.split("=");if(i[0]==="--socket"){c=parseInt(i[1]);break}else if(i[0]==="--pipe"){u=i[1];break}}}if(c){let p=(0,Yt.createServerSocketTransport)(c);t=p[0],e=p[1]}else if(u){let p=(0,Yt.createServerPipeTransport)(u);t=p[0],e=p[1]}}var o="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+o);if(!e)throw new Error("Connection output stream is not set. "+o);if(Pu.func(t.read)&&Pu.func(t.on)){let c=t;c.on("end",()=>{ms(),process.exit(qn?0:1)}),c.on("close",()=>{ms(),process.exit(qn?0:1)})}let a=s(c=>(0,Yt.createProtocolConnection)(t,e,c,n),"connectionFactory");return(0,fS.createConnection)(a,pS,r)}s(gS,"_createConnection")});var Yh=v((PR,zh)=>{"use strict";zh.exports=Se()});var Ru=v(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.DocumentSettingsNotification=je.DocumentSettingsRequest=je.CRLF=je.LF=void 0;var Jh=fe();je.LF=1;je.CRLF=2;var yS;(function(t){t.method="$/textDocument/documentSettings",t.type=new Jh.RequestType(t.method)})(yS=je.DocumentSettingsRequest||(je.DocumentSettingsRequest={}));var vS;(function(t){t.method="$/textDocument/documentSettings/didChange",t.type=new Jh.NotificationType(t.method)})(vS=je.DocumentSettingsNotification||(je.DocumentSettingsNotification={}))});var Nu=v(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.initEvent=void 0;function bS(t){return{eventName:t,properties:{isActivationEvent:"false",result:"Succeeded"},measurements:{},groupingStrategy:"eventNameAndProperties"}}s(bS,"initEvent");gs.initEvent=bS});var Zh={};Ff(Zh,{TextDocument:()=>xu});function Ou(t,e){if(t.length<=1)return t;let n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);Ou(r,e),Ou(i,e);let o=0,a=0,c=0;for(;o<r.length&&a<i.length;)e(r[o],i[a])<=0?t[c++]=r[o++]:t[c++]=i[a++];for(;o<r.length;)t[c++]=r[o++];for(;a<i.length;)t[c++]=i[a++];return t}function Gh(t,e,n=0){let r=e?[n]:[];for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);Qh(o)&&(o===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function Qh(t){return t===13||t===10}function Xh(t){let e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function wS(t){let e=Xh(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var ys,xu,ep=jf(()=>{"use strict";ys=class t{static{s(this,"FullTextDocument")}constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(let r of e)if(t.isIncremental(r)){let i=Xh(r.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+r.text+this._content.substring(a,this._content.length);let c=Math.max(i.start.line,0),u=Math.max(i.end.line,0),l=this._lineOffsets,p=Gh(r.text,!1,o);if(u-c===p.length)for(let y=0,_=p.length;y<_;y++)l[y+c+1]=p[y];else p.length<1e4?l.splice(c+1,u-c,...p):this._lineOffsets=l=l.slice(0,c+1).concat(p,l.slice(u+1));let h=r.text.length-(a-o);if(h!==0)for(let y=c+1+p.length,_=l.length;y<_;y++)l[y]=l[y]+h}else if(t.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Gh(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){let a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}let o=r-1;return e=this.ensureBeforeEOL(e,n[o]),{line:o,character:e-n[o]}}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line];if(e.character<=0)return r;let i=e.line+1<n.length?n[e.line+1]:this._content.length,o=Math.min(r+e.character,i);return this.ensureBeforeEOL(o,r)}ensureBeforeEOL(e,n){for(;e>n&&Qh(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){let n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}};(function(t){function e(i,o,a,c){return new ys(i,o,a,c)}s(e,"create"),t.create=e;function n(i,o,a){if(i instanceof ys)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(n,"update"),t.update=n;function r(i,o){let a=i.getText(),c=Ou(o.map(wS),(p,h)=>{let y=p.range.start.line-h.range.start.line;return y===0?p.range.start.character-h.range.start.character:y}),u=0,l=[];for(let p of c){let h=i.offsetAt(p.range.start);if(h<u)throw new Error("Overlapping edit");h>u&&l.push(a.substring(u,h)),p.newText.length&&l.push(p.newText),u=i.offsetAt(p.range.end)}return l.push(a.substr(u)),l.join("")}s(r,"applyEdits"),t.applyEdits=r})(xu||(xu={}));s(Ou,"mergeSort");s(Gh,"computeLineOffsets");s(Qh,"isEOL");s(Xh,"getWellformedRange");s(wS,"getWellformedEdit")});var W=v(we=>{"use strict";var Eu=Symbol.for("yaml.alias"),tp=Symbol.for("yaml.document"),vs=Symbol.for("yaml.map"),np=Symbol.for("yaml.pair"),Mu=Symbol.for("yaml.scalar"),bs=Symbol.for("yaml.seq"),pt=Symbol.for("yaml.node.type"),_S=s(t=>!!t&&typeof t=="object"&&t[pt]===Eu,"isAlias"),SS=s(t=>!!t&&typeof t=="object"&&t[pt]===tp,"isDocument"),CS=s(t=>!!t&&typeof t=="object"&&t[pt]===vs,"isMap"),DS=s(t=>!!t&&typeof t=="object"&&t[pt]===np,"isPair"),rp=s(t=>!!t&&typeof t=="object"&&t[pt]===Mu,"isScalar"),TS=s(t=>!!t&&typeof t=="object"&&t[pt]===bs,"isSeq");function ip(t){if(t&&typeof t=="object")switch(t[pt]){case vs:case bs:return!0}return!1}s(ip,"isCollection");function kS(t){if(t&&typeof t=="object")switch(t[pt]){case Eu:case vs:case Mu:case bs:return!0}return!1}s(kS,"isNode");var qS=s(t=>(rp(t)||ip(t))&&!!t.anchor,"hasAnchor");we.ALIAS=Eu;we.DOC=tp;we.MAP=vs;we.NODE_TYPE=pt;we.PAIR=np;we.SCALAR=Mu;we.SEQ=bs;we.hasAnchor=qS;we.isAlias=_S;we.isCollection=ip;we.isDocument=SS;we.isMap=CS;we.isNode=kS;we.isPair=DS;we.isScalar=rp;we.isSeq=TS});var Dr=v(Au=>{"use strict";var pe=W(),Re=Symbol("break visit"),sp=Symbol("skip children"),it=Symbol("remove node");function ws(t,e){let n=op(e);pe.isDocument(t)?Pn(null,t.contents,n,Object.freeze([t]))===it&&(t.contents=null):Pn(null,t,n,Object.freeze([]))}s(ws,"visit");ws.BREAK=Re;ws.SKIP=sp;ws.REMOVE=it;function Pn(t,e,n,r){let i=ap(t,e,n,r);if(pe.isNode(i)||pe.isPair(i))return cp(t,r,i),Pn(t,i,n,r);if(typeof i!="symbol"){if(pe.isCollection(e)){r=Object.freeze(r.concat(e));for(let o=0;o<e.items.length;++o){let a=Pn(o,e.items[o],n,r);if(typeof a=="number")o=a-1;else{if(a===Re)return Re;a===it&&(e.items.splice(o,1),o-=1)}}}else if(pe.isPair(e)){r=Object.freeze(r.concat(e));let o=Pn("key",e.key,n,r);if(o===Re)return Re;o===it&&(e.key=null);let a=Pn("value",e.value,n,r);if(a===Re)return Re;a===it&&(e.value=null)}}return i}s(Pn,"visit_");async function _s(t,e){let n=op(e);pe.isDocument(t)?await Rn(null,t.contents,n,Object.freeze([t]))===it&&(t.contents=null):await Rn(null,t,n,Object.freeze([]))}s(_s,"visitAsync");_s.BREAK=Re;_s.SKIP=sp;_s.REMOVE=it;async function Rn(t,e,n,r){let i=await ap(t,e,n,r);if(pe.isNode(i)||pe.isPair(i))return cp(t,r,i),Rn(t,i,n,r);if(typeof i!="symbol"){if(pe.isCollection(e)){r=Object.freeze(r.concat(e));for(let o=0;o<e.items.length;++o){let a=await Rn(o,e.items[o],n,r);if(typeof a=="number")o=a-1;else{if(a===Re)return Re;a===it&&(e.items.splice(o,1),o-=1)}}}else if(pe.isPair(e)){r=Object.freeze(r.concat(e));let o=await Rn("key",e.key,n,r);if(o===Re)return Re;o===it&&(e.key=null);let a=await Rn("value",e.value,n,r);if(a===Re)return Re;a===it&&(e.value=null)}}return i}s(Rn,"visitAsync_");function op(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}s(op,"initVisitor");function ap(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(pe.isMap(e))return n.Map?.(t,e,r);if(pe.isSeq(e))return n.Seq?.(t,e,r);if(pe.isPair(e))return n.Pair?.(t,e,r);if(pe.isScalar(e))return n.Scalar?.(t,e,r);if(pe.isAlias(e))return n.Alias?.(t,e,r)}s(ap,"callVisitor");function cp(t,e,n){let r=e[e.length-1];if(pe.isCollection(r))r.items[t]=n;else if(pe.isPair(r))t==="key"?r.key=n:r.value=n;else if(pe.isDocument(r))r.contents=n;else{let i=pe.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}s(cp,"replaceNode");Au.visit=ws;Au.visitAsync=_s});var Lu=v(lp=>{"use strict";var up=W(),PS=Dr(),RS={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},NS=s(t=>t.replace(/[!,[\]{}]/g,e=>RS[e]),"escapeTagName"),Tr=class t{static{s(this,"Directives")}constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;let[o,a]=r;return this.tags[o]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{let a=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,a),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}let[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);let o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(a){return n(String(a)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+NS(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags),i;if(e&&r.length>0&&up.isNode(e.contents)){let o={};PS.visit(e.contents,(a,c)=>{up.isNode(c)&&c.tag&&(o[c.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,a]of r)o==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(c=>c.startsWith(a)))&&n.push(`%TAG ${o} ${a}`);return n.join(`
`)}};Tr.defaultYaml={explicit:!1,version:"1.2"};Tr.defaultTags={"!!":"tag:yaml.org,2002:"};lp.Directives=Tr});var Ss=v(kr=>{"use strict";var fp=W(),xS=Dr();function OS(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}s(OS,"anchorIsValid");function dp(t){let e=new Set;return xS.visit(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}s(dp,"anchorNames");function hp(t,e){for(let n=1;;++n){let r=`${t}${n}`;if(!e.has(r))return r}}s(hp,"findNewAnchor");function ES(t,e){let n=[],r=new Map,i=null;return{onAnchor:s(o=>{n.push(o),i||(i=dp(t));let a=hp(e,i);return i.add(a),a},"onAnchor"),setAnchors:s(()=>{for(let o of n){let a=r.get(o);if(typeof a=="object"&&a.anchor&&(fp.isScalar(a.node)||fp.isCollection(a.node)))a.node.anchor=a.anchor;else{let c=new Error("Failed to resolve repeated object (this should not happen)");throw c.source=o,c}}},"setAnchors"),sourceObjects:r}}s(ES,"createNodeAnchors");kr.anchorIsValid=OS;kr.anchorNames=dp;kr.createNodeAnchors=ES;kr.findNewAnchor=hp});var Iu=v(pp=>{"use strict";function qr(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){let a=r[i],c=qr(t,r,String(i),a);c===void 0?delete r[i]:c!==a&&(r[i]=c)}else if(r instanceof Map)for(let i of Array.from(r.keys())){let o=r.get(i),a=qr(t,r,i,o);a===void 0?r.delete(i):a!==o&&r.set(i,a)}else if(r instanceof Set)for(let i of Array.from(r)){let o=qr(t,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(let[i,o]of Object.entries(r)){let a=qr(t,r,i,o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}return t.call(e,n,r)}s(qr,"applyReviver");pp.applyReviver=qr});var Dt=v(gp=>{"use strict";var MS=W();function mp(t,e,n){if(Array.isArray(t))return t.map((r,i)=>mp(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!MS.hasAnchor(t))return t.toJSON(e,n);let r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=o=>{r.res=o,delete n.onCreate};let i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}s(mp,"toJS");gp.toJS=mp});var Cs=v(vp=>{"use strict";var AS=Iu(),yp=W(),LS=Dt(),ju=class{static{s(this,"NodeBase")}constructor(e){Object.defineProperty(this,yp.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!yp.isDocument(e))throw new TypeError("A document argument is required");let a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=LS.toJS(this,"",a);if(typeof i=="function")for(let{count:u,res:l}of a.anchors.values())i(l,u);return typeof o=="function"?AS.applyReviver(o,{"":c},"",c):c}};vp.NodeBase=ju});var Pr=v(wp=>{"use strict";var IS=Ss(),bp=Dr(),Ds=W(),jS=Cs(),FS=Dt(),Fu=class extends jS.NodeBase{static{s(this,"Alias")}constructor(e){super(Ds.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return bp.visit(e,{Node:s((r,i)=>{if(i===this)return bp.visit.BREAK;i.anchor===this.source&&(n=i)},"Node")}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:r,doc:i,maxAliasCount:o}=n,a=this.resolve(i);if(!a){let u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let c=r.get(a);if(c||(FS.toJS(a,null,n),c=r.get(a)),!c||c.res===void 0){let u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(o>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=Ts(i,a,r)),c.count*c.aliasCount>o)){let u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return c.res}toString(e,n,r){let i=`*${this.source}`;if(e){if(IS.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(e.implicitKey)return`${i} `}return i}};function Ts(t,e,n){if(Ds.isAlias(e)){let r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Ds.isCollection(e)){let r=0;for(let i of e.items){let o=Ts(t,i,n);o>r&&(r=o)}return r}else if(Ds.isPair(e)){let r=Ts(t,e.key,n),i=Ts(t,e.value,n);return Math.max(r,i)}return 1}s(Ts,"getAliasCount");wp.Alias=Fu});var de=v($u=>{"use strict";var $S=W(),WS=Cs(),BS=Dt(),HS=s(t=>!t||typeof t!="function"&&typeof t!="object","isScalarValue"),Tt=class extends WS.NodeBase{static{s(this,"Scalar")}constructor(e){super($S.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:BS.toJS(this.value,e,n)}toString(){return String(this.value)}};Tt.BLOCK_FOLDED="BLOCK_FOLDED";Tt.BLOCK_LITERAL="BLOCK_LITERAL";Tt.PLAIN="PLAIN";Tt.QUOTE_DOUBLE="QUOTE_DOUBLE";Tt.QUOTE_SINGLE="QUOTE_SINGLE";$u.Scalar=Tt;$u.isScalarValue=HS});var Rr=v(Sp=>{"use strict";var US=Pr(),Jt=W(),_p=de(),KS="tag:yaml.org,2002:";function VS(t,e,n){if(e){let r=n.filter(o=>o.tag===e),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}s(VS,"findTagObject");function zS(t,e,n){if(Jt.isDocument(t)&&(t=t.contents),Jt.isNode(t))return t;if(Jt.isPair(t)){let h=n.schema[Jt.MAP].createNode?.(n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:a,sourceObjects:c}=n,u;if(r&&t&&typeof t=="object"){if(u=c.get(t),u)return u.anchor||(u.anchor=i(t)),new US.Alias(u.anchor);u={anchor:null,node:null},c.set(t,u)}e?.startsWith("!!")&&(e=KS+e.slice(2));let l=VS(t,e,a.tags);if(!l){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let h=new _p.Scalar(t);return u&&(u.node=h),h}l=t instanceof Map?a[Jt.MAP]:Symbol.iterator in Object(t)?a[Jt.SEQ]:a[Jt.MAP]}o&&(o(l),delete n.onTagObj);let p=l?.createNode?l.createNode(n.schema,t,n):typeof l?.nodeClass?.from=="function"?l.nodeClass.from(n.schema,t,n):new _p.Scalar(t);return e?p.tag=e:l.default||(p.tag=l.tag),u&&(u.node=p),p}s(zS,"createNode");Sp.createNode=zS});var qs=v(ks=>{"use strict";var YS=Rr(),st=W(),JS=Cs();function Wu(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let o=e[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let a=[];a[o]=r,r=a}else r=new Map([[o,r]])}return YS.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:s(()=>{throw new Error("This should not happen, please report a bug.")},"onAnchor"),schema:t,sourceObjects:new Map})}s(Wu,"collectionFromPath");var Cp=s(t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,"isEmptyPath"),Bu=class extends JS.NodeBase{static{s(this,"Collection")}constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>st.isNode(r)||st.isPair(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Cp(e))this.add(n);else{let[r,...i]=e,o=this.get(r,!0);if(st.isCollection(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,Wu(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){let[n,...r]=e;if(r.length===0)return this.delete(n);let i=this.get(n,!0);if(st.isCollection(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){let[r,...i]=e,o=this.get(r,!0);return i.length===0?!n&&st.isScalar(o)?o.value:o:st.isCollection(o)?o.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!st.isPair(n))return!1;let r=n.value;return r==null||e&&st.isScalar(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[n,...r]=e;if(r.length===0)return this.has(n);let i=this.get(n,!0);return st.isCollection(i)?i.hasIn(r):!1}setIn(e,n){let[r,...i]=e;if(i.length===0)this.set(r,n);else{let o=this.get(r,!0);if(st.isCollection(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,Wu(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}};ks.Collection=Bu;ks.collectionFromPath=Wu;ks.isEmptyPath=Cp});var Nr=v(Ps=>{"use strict";var GS=s(t=>t.replace(/^(?!$)(?: $)?/gm,"#"),"stringifyComment");function Hu(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}s(Hu,"indentComment");var QS=s((t,e,n)=>t.endsWith(`
`)?Hu(n,e):n.includes(`
`)?`
`+Hu(n,e):(t.endsWith(" ")?"":" ")+n,"lineComment");Ps.indentComment=Hu;Ps.lineComment=QS;Ps.stringifyComment=GS});var Tp=v(xr=>{"use strict";var XS="flow",Uu="block",Rs="quoted";function ZS(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:a,onOverflow:c}={}){if(!i||i<0)return t;i<o&&(o=0);let u=Math.max(1+o,1+i-e.length);if(t.length<=u)return t;let l=[],p={},h=i-e.length;typeof r=="number"&&(r>i-Math.max(2,o)?l.push(0):h=i-r);let y,_,k=!1,b=-1,D=-1,P=-1;n===Uu&&(b=Dp(t,b,e.length),b!==-1&&(h=b+u));for(let m;m=t[b+=1];){if(n===Rs&&m==="\\"){switch(D=b,t[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}P=b}if(m===`
`)n===Uu&&(b=Dp(t,b,e.length)),h=b+e.length+u,y=void 0;else{if(m===" "&&_&&_!==" "&&_!==`
`&&_!=="	"){let C=t[b+1];C&&C!==" "&&C!==`
`&&C!=="	"&&(y=b)}if(b>=h)if(y)l.push(y),h=y+u,y=void 0;else if(n===Rs){for(;_===" "||_==="	";)_=m,m=t[b+=1],k=!0;let C=b>P+1?b-2:D-1;if(p[C])return t;l.push(C),p[C]=!0,h=C+u,y=void 0}else k=!0}_=m}if(k&&c&&c(),l.length===0)return t;a&&a();let g=t.slice(0,l[0]);for(let m=0;m<l.length;++m){let C=l[m],N=l[m+1]||t.length;C===0?g=`
${e}${t.slice(0,N)}`:(n===Rs&&p[C]&&(g+=`${t[C]}\\`),g+=`
${e}${t.slice(C+1,N)}`)}return g}s(ZS,"foldFlowLines");function Dp(t,e,n){let r=e,i=e+1,o=t[i];for(;o===" "||o==="	";)if(e<i+n)o=t[++e];else{do o=t[++e];while(o&&o!==`
`);r=e,i=e+1,o=t[i]}return r}s(Dp,"consumeMoreIndentedLines");xr.FOLD_BLOCK=Uu;xr.FOLD_FLOW=XS;xr.FOLD_QUOTED=Rs;xr.foldFlowLines=ZS});var Er=v(kp=>{"use strict";var Qe=de(),kt=Tp(),xs=s((t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),"getFoldOptions"),Os=s(t=>/^(%|---|\.\.\.)/m.test(t),"containsDocumentMarker");function eC(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let o=0,a=0;o<i;++o)if(t[o]===`
`){if(o-a>r)return!0;if(a=o+1,i-a<=r)return!1}return!0}s(eC,"lineLengthOverLimit");function Or(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(Os(t)?"  ":""),a="",c=0;for(let u=0,l=n[u];l;l=n[++u])if(l===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(c,u)+"\\ ",u+=1,c=u,l="\\"),l==="\\")switch(n[u+1]){case"u":{a+=n.slice(c,u);let p=n.substr(u+2,4);switch(p){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:p.substr(0,2)==="00"?a+="\\x"+p.substr(2):a+=n.substr(u,6)}u+=5,c=u+1}break;case"n":if(r||n[u+2]==='"'||n.length<i)u+=1;else{for(a+=n.slice(c,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=o,n[u+2]===" "&&(a+="\\"),u+=1,c=u+1}break;default:u+=1}return a=c?a+n.slice(c):n,r?a:kt.foldFlowLines(a,o,kt.FOLD_QUOTED,xs(e,!1))}s(Or,"doubleQuotedString");function Ku(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Or(t,e);let n=e.indent||(Os(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:kt.foldFlowLines(r,n,kt.FOLD_FLOW,xs(e,!1))}s(Ku,"singleQuotedString");function Nn(t,e){let{singleQuote:n}=e.options,r;if(n===!1)r=Or;else{let i=t.includes('"'),o=t.includes("'");i&&!o?r=Ku:o&&!i?r=Or:r=n?Ku:Or}return r(t,e)}s(Nn,"quotedString");var Vu;try{Vu=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Vu=/\n+(?!\n|$)/g}function Ns({comment:t,type:e,value:n},r,i,o){let{blockQuote:a,commentString:c,lineWidth:u}=r.options;if(!a||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Nn(n,r);let l=r.indent||(r.forceBlockIndent||Os(n)?"  ":""),p=a==="literal"?!0:a==="folded"||e===Qe.Scalar.BLOCK_FOLDED?!1:e===Qe.Scalar.BLOCK_LITERAL?!0:!eC(n,u,l.length);if(!n)return p?`|
`:`>
`;let h,y;for(y=n.length;y>0;--y){let N=n[y-1];if(N!==`
`&&N!=="	"&&N!==" ")break}let _=n.substring(y),k=_.indexOf(`
`);k===-1?h="-":n===_||k!==_.length-1?(h="+",o&&o()):h="",_&&(n=n.slice(0,-_.length),_[_.length-1]===`
`&&(_=_.slice(0,-1)),_=_.replace(Vu,`$&${l}`));let b=!1,D,P=-1;for(D=0;D<n.length;++D){let N=n[D];if(N===" ")b=!0;else if(N===`
`)P=D;else break}let g=n.substring(0,P<D?P+1:D);g&&(n=n.substring(g.length),g=g.replace(/\n+/g,`$&${l}`));let C=(b?l?"2":"1":"")+h;if(t&&(C+=" "+c(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!p){let N=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`),O=!1,H=xs(r,!0);a!=="folded"&&e!==Qe.Scalar.BLOCK_FOLDED&&(H.onOverflow=()=>{O=!0});let E=kt.foldFlowLines(`${g}${N}${_}`,l,kt.FOLD_BLOCK,H);if(!O)return`>${C}
${l}${E}`}return n=n.replace(/\n+/g,`$&${l}`),`|${C}
${l}${g}${n}${_}`}s(Ns,"blockString");function tC(t,e,n,r){let{type:i,value:o}=t,{actualString:a,implicitKey:c,indent:u,indentStep:l,inFlow:p}=e;if(c&&o.includes(`
`)||p&&/[[\]{},]/.test(o))return Nn(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return c||p||!o.includes(`
`)?Nn(o,e):Ns(t,e,n,r);if(!c&&!p&&i!==Qe.Scalar.PLAIN&&o.includes(`
`))return Ns(t,e,n,r);if(Os(o)){if(u==="")return e.forceBlockIndent=!0,Ns(t,e,n,r);if(c&&u===l)return Nn(o,e)}let h=o.replace(/\n+/g,`$&
${u}`);if(a){let y=s(b=>b.default&&b.tag!=="tag:yaml.org,2002:str"&&b.test?.test(h),"test"),{compat:_,tags:k}=e.doc.schema;if(k.some(y)||_?.some(y))return Nn(o,e)}return c?h:kt.foldFlowLines(h,u,kt.FOLD_FLOW,xs(e,!1))}s(tC,"plainString");function nC(t,e,n,r){let{implicitKey:i,inFlow:o}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:c}=t;c!==Qe.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(c=Qe.Scalar.QUOTE_DOUBLE);let u=s(p=>{switch(p){case Qe.Scalar.BLOCK_FOLDED:case Qe.Scalar.BLOCK_LITERAL:return i||o?Nn(a.value,e):Ns(a,e,n,r);case Qe.Scalar.QUOTE_DOUBLE:return Or(a.value,e);case Qe.Scalar.QUOTE_SINGLE:return Ku(a.value,e);case Qe.Scalar.PLAIN:return tC(a,e,n,r);default:return null}},"_stringify"),l=u(c);if(l===null){let{defaultKeyType:p,defaultStringType:h}=e.options,y=i&&p||h;if(l=u(y),l===null)throw new Error(`Unsupported default string type ${y}`)}return l}s(nC,"stringifyString");kp.stringifyString=nC});var Mr=v(zu=>{"use strict";var rC=Ss(),qt=W(),iC=Nr(),sC=Er();function oC(t,e){let n=Object.assign({blockQuote:!0,commentString:iC.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}s(oC,"createStringifyContext");function aC(t,e){if(e.tag){let i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)??i[0]}let n,r;if(qt.isScalar(e)){r=e.value;let i=t.filter(o=>o.identify?.(r));if(i.length>1){let o=i.filter(a=>a.test);o.length>0&&(i=o)}n=i.find(o=>o.format===e.format)??i.find(o=>!o.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}s(aC,"getTagObject");function cC(t,e,{anchors:n,doc:r}){if(!r.directives)return"";let i=[],o=(qt.isScalar(t)||qt.isCollection(t))&&t.anchor;o&&rC.anchorIsValid(o)&&(n.add(o),i.push(`&${o}`));let a=t.tag?t.tag:e.default?null:e.tag;return a&&i.push(r.directives.tagString(a)),i.join(" ")}s(cC,"stringifyProps");function uC(t,e,n,r){if(qt.isPair(t))return t.toString(e,n,r);if(qt.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i,o=qt.isNode(t)?t:e.doc.createNode(t,{onTagObj:s(u=>i=u,"onTagObj")});i||(i=aC(e.doc.schema.tags,o));let a=cC(o,i,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);let c=typeof i.stringify=="function"?i.stringify(o,e,n,r):qt.isScalar(o)?sC.stringifyString(o,e,n,r):o.toString(e,n,r);return a?qt.isScalar(o)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${e.indent}${c}`:c}s(uC,"stringify");zu.createStringifyContext=oC;zu.stringify=uC});var Np=v(Rp=>{"use strict";var mt=W(),qp=de(),Pp=Mr(),Ar=Nr();function lC({key:t,value:e},n,r,i){let{allNullValues:o,doc:a,indent:c,indentStep:u,options:{commentString:l,indentSeq:p,simpleKeys:h}}=n,y=mt.isNode(t)&&t.comment||null;if(h){if(y)throw new Error("With simple keys, key nodes cannot have comments");if(mt.isCollection(t)||!mt.isNode(t)&&typeof t=="object"){let H="With simple keys, collection cannot be used as a key value";throw new Error(H)}}let _=!h&&(!t||y&&e==null&&!n.inFlow||mt.isCollection(t)||(mt.isScalar(t)?t.type===qp.Scalar.BLOCK_FOLDED||t.type===qp.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!_&&(h||!o),indent:c+u});let k=!1,b=!1,D=Pp.stringify(t,n,()=>k=!0,()=>b=!0);if(!_&&!n.inFlow&&D.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");_=!0}if(n.inFlow){if(o||e==null)return k&&r&&r(),D===""?"?":_?`? ${D}`:D}else if(o&&!h||e==null&&_)return D=`? ${D}`,y&&!k?D+=Ar.lineComment(D,n.indent,l(y)):b&&i&&i(),D;k&&(y=null),_?(y&&(D+=Ar.lineComment(D,n.indent,l(y))),D=`? ${D}
${c}:`):(D=`${D}:`,y&&(D+=Ar.lineComment(D,n.indent,l(y))));let P,g,m;mt.isNode(e)?(P=!!e.spaceBefore,g=e.commentBefore,m=e.comment):(P=!1,g=null,m=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!_&&!y&&mt.isScalar(e)&&(n.indentAtStart=D.length+1),b=!1,!p&&u.length>=2&&!n.inFlow&&!_&&mt.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let C=!1,N=Pp.stringify(e,n,()=>C=!0,()=>b=!0),O=" ";if(y||P||g){if(O=P?`
`:"",g){let H=l(g);O+=`
${Ar.indentComment(H,n.indent)}`}N===""&&!n.inFlow?O===`
`&&(O=`

`):O+=`
${n.indent}`}else if(!_&&mt.isCollection(e)){let H=N[0],E=N.indexOf(`
`),ie=E!==-1,We=n.inFlow??e.flow??e.items.length===0;if(ie||!We){let at=!1;if(ie&&(H==="&"||H==="!")){let J=N.indexOf(" ");H==="&"&&J!==-1&&J<E&&N[J+1]==="!"&&(J=N.indexOf(" ",J+1)),(J===-1||E<J)&&(at=!0)}at||(O=`
${n.indent}`)}}else(N===""||N[0]===`
`)&&(O="");return D+=O+N,n.inFlow?C&&r&&r():m&&!C?D+=Ar.lineComment(D,n.indent,l(m)):b&&i&&i(),D}s(lC,"stringifyPair");Rp.stringifyPair=lC});var Ju=v(Yu=>{"use strict";var xp=require("node:process");function fC(t,...e){t==="debug"&&console.log(...e)}s(fC,"debug");function dC(t,e){(t==="debug"||t==="warn")&&(typeof xp.emitWarning=="function"?xp.emitWarning(e):console.warn(e))}s(dC,"warn");Yu.debug=fC;Yu.warn=dC});var Ls=v(As=>{"use strict";var Lr=W(),Op=de(),Es="<<",Ms={identify:s(t=>t===Es||typeof t=="symbol"&&t.description===Es,"identify"),default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:s(()=>Object.assign(new Op.Scalar(Symbol(Es)),{addToJSMap:Ep}),"resolve"),stringify:s(()=>Es,"stringify")},hC=s((t,e)=>(Ms.identify(e)||Lr.isScalar(e)&&(!e.type||e.type===Op.Scalar.PLAIN)&&Ms.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Ms.tag&&n.default),"isMergeKey");function Ep(t,e,n){if(n=t&&Lr.isAlias(n)?n.resolve(t.doc):n,Lr.isSeq(n))for(let r of n.items)Gu(t,e,r);else if(Array.isArray(n))for(let r of n)Gu(t,e,r);else Gu(t,e,n)}s(Ep,"addMergeToJSMap");function Gu(t,e,n){let r=t&&Lr.isAlias(n)?n.resolve(t.doc):n;if(!Lr.isMap(r))throw new Error("Merge sources must be maps or map aliases");let i=r.toJSON(null,t,Map);for(let[o,a]of i)e instanceof Map?e.has(o)||e.set(o,a):e instanceof Set?e.add(o):Object.prototype.hasOwnProperty.call(e,o)||Object.defineProperty(e,o,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}s(Gu,"mergeValue");As.addMergeToJSMap=Ep;As.isMergeKey=hC;As.merge=Ms});var Xu=v(Lp=>{"use strict";var pC=Ju(),Mp=Ls(),mC=Mr(),Ap=W(),Qu=Dt();function gC(t,e,{key:n,value:r}){if(Ap.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(Mp.isMergeKey(t,n))Mp.addMergeToJSMap(t,e,r);else{let i=Qu.toJS(n,"",t);if(e instanceof Map)e.set(i,Qu.toJS(r,i,t));else if(e instanceof Set)e.add(i);else{let o=yC(n,i,t),a=Qu.toJS(r,o,t);o in e?Object.defineProperty(e,o,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[o]=a}}return e}s(gC,"addPairToJSMap");function yC(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Ap.isNode(t)&&n?.doc){let r=mC.createStringifyContext(n.doc,{});r.anchors=new Set;for(let o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;let i=t.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),pC.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}s(yC,"stringifyKey");Lp.addPairToJSMap=gC});var Pt=v(Zu=>{"use strict";var Ip=Rr(),vC=Np(),bC=Xu(),Is=W();function wC(t,e,n){let r=Ip.createNode(t,void 0,n),i=Ip.createNode(e,void 0,n);return new js(r,i)}s(wC,"createPair");var js=class t{static{s(this,"Pair")}constructor(e,n=null){Object.defineProperty(this,Is.NODE_TYPE,{value:Is.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Is.isNode(n)&&(n=n.clone(e)),Is.isNode(r)&&(r=r.clone(e)),new t(n,r)}toJSON(e,n){let r=n?.mapAsMap?new Map:{};return bC.addPairToJSMap(n,r,this)}toString(e,n,r){return e?.doc?vC.stringifyPair(this,e,n,r):JSON.stringify(this)}};Zu.Pair=js;Zu.createPair=wC});var el=v(Fp=>{"use strict";var Gt=W(),jp=Mr(),Fs=Nr();function _C(t,e,n){return(e.inFlow??t.flow?CC:SC)(t,e,n)}s(_C,"stringifyCollection");function SC({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:a,onComment:c}){let{indent:u,options:{commentString:l}}=n,p=Object.assign({},n,{indent:o,type:null}),h=!1,y=[];for(let k=0;k<e.length;++k){let b=e[k],D=null;if(Gt.isNode(b))!h&&b.spaceBefore&&y.push(""),$s(n,y,b.commentBefore,h),b.comment&&(D=b.comment);else if(Gt.isPair(b)){let g=Gt.isNode(b.key)?b.key:null;g&&(!h&&g.spaceBefore&&y.push(""),$s(n,y,g.commentBefore,h))}h=!1;let P=jp.stringify(b,p,()=>D=null,()=>h=!0);D&&(P+=Fs.lineComment(P,o,l(D))),h&&D&&(h=!1),y.push(r+P)}let _;if(y.length===0)_=i.start+i.end;else{_=y[0];for(let k=1;k<y.length;++k){let b=y[k];_+=b?`
${u}${b}`:`
`}}return t?(_+=`
`+Fs.indentComment(l(t),u),c&&c()):h&&a&&a(),_}s(SC,"stringifyBlockCollection");function CC({items:t},e,{flowChars:n,itemIndent:r}){let{indent:i,indentStep:o,flowCollectionPadding:a,options:{commentString:c}}=e;r+=o;let u=Object.assign({},e,{indent:r,inFlow:!0,type:null}),l=!1,p=0,h=[];for(let k=0;k<t.length;++k){let b=t[k],D=null;if(Gt.isNode(b))b.spaceBefore&&h.push(""),$s(e,h,b.commentBefore,!1),b.comment&&(D=b.comment);else if(Gt.isPair(b)){let g=Gt.isNode(b.key)?b.key:null;g&&(g.spaceBefore&&h.push(""),$s(e,h,g.commentBefore,!1),g.comment&&(l=!0));let m=Gt.isNode(b.value)?b.value:null;m?(m.comment&&(D=m.comment),m.commentBefore&&(l=!0)):b.value==null&&g?.comment&&(D=g.comment)}D&&(l=!0);let P=jp.stringify(b,u,()=>D=null);k<t.length-1&&(P+=","),D&&(P+=Fs.lineComment(P,r,c(D))),!l&&(h.length>p||P.includes(`
`))&&(l=!0),h.push(P),p=h.length}let{start:y,end:_}=n;if(h.length===0)return y+_;if(!l){let k=h.reduce((b,D)=>b+D.length+2,2);l=e.options.lineWidth>0&&k>e.options.lineWidth}if(l){let k=y;for(let b of h)k+=b?`
${o}${i}${b}`:`
`;return`${k}
${i}${_}`}else return`${y}${a}${h.join(" ")}${a}${_}`}s(CC,"stringifyFlowCollection");function $s({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){let o=Fs.indentComment(e(r),t);n.push(o.trimStart())}}s($s,"addCommentBefore");Fp.stringifyCollection=_C});var Nt=v(nl=>{"use strict";var DC=el(),TC=Xu(),kC=qs(),Rt=W(),Ws=Pt(),qC=de();function Ir(t,e){let n=Rt.isScalar(e)?e.value:e;for(let r of t)if(Rt.isPair(r)&&(r.key===e||r.key===n||Rt.isScalar(r.key)&&r.key.value===n))return r}s(Ir,"findPair");var tl=class extends kC.Collection{static{s(this,"YAMLMap")}static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Rt.MAP,e),this.items=[]}static from(e,n,r){let{keepUndefined:i,replacer:o}=r,a=new this(e),c=s((u,l)=>{if(typeof o=="function")l=o.call(n,u,l);else if(Array.isArray(o)&&!o.includes(u))return;(l!==void 0||i)&&a.items.push(Ws.createPair(u,l,r))},"add");if(n instanceof Map)for(let[u,l]of n)c(u,l);else if(n&&typeof n=="object")for(let u of Object.keys(n))c(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){let r;Rt.isPair(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Ws.Pair(e,e?.value):r=new Ws.Pair(e.key,e.value);let i=Ir(this.items,r.key),o=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Rt.isScalar(i.value)&&qC.isScalarValue(r.value)?i.value.value=r.value:i.value=r.value}else if(o){let a=this.items.findIndex(c=>o(r,c)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(e){let n=Ir(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let i=Ir(this.items,e)?.value;return(!n&&Rt.isScalar(i)?i.value:i)??void 0}has(e){return!!Ir(this.items,e)}set(e,n){this.add(new Ws.Pair(e,n),!0)}toJSON(e,n,r){let i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(let o of this.items)TC.addPairToJSMap(n,i,o);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!Rt.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),DC.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}};nl.YAMLMap=tl;nl.findPair=Ir});var xn=v(Wp=>{"use strict";var PC=W(),$p=Nt(),RC={collection:"map",default:!0,nodeClass:$p.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return PC.isMap(t)||e("Expected a mapping for this tag"),t},createNode:s((t,e,n)=>$p.YAMLMap.from(t,e,n),"createNode")};Wp.map=RC});var xt=v(Bp=>{"use strict";var NC=Rr(),xC=el(),OC=qs(),Hs=W(),EC=de(),MC=Dt(),rl=class extends OC.Collection{static{s(this,"YAMLSeq")}static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Hs.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=Bs(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Bs(e);if(typeof r!="number")return;let i=this.items[r];return!n&&Hs.isScalar(i)?i.value:i}has(e){let n=Bs(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Bs(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[r];Hs.isScalar(i)&&EC.isScalarValue(n)?i.value=n:this.items[r]=n}toJSON(e,n){let r=[];n?.onCreate&&n.onCreate(r);let i=0;for(let o of this.items)r.push(MC.toJS(o,String(i++),n));return r}toString(e,n,r){return e?xC.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){let{replacer:i}=r,o=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let c of n){if(typeof i=="function"){let u=n instanceof Set?c:String(a++);c=i.call(n,u,c)}o.items.push(NC.createNode(c,void 0,r))}}return o}};function Bs(t){let e=Hs.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}s(Bs,"asItemIndex");Bp.YAMLSeq=rl});var On=v(Up=>{"use strict";var AC=W(),Hp=xt(),LC={collection:"seq",default:!0,nodeClass:Hp.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return AC.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:s((t,e,n)=>Hp.YAMLSeq.from(t,e,n),"createNode")};Up.seq=LC});var jr=v(Kp=>{"use strict";var IC=Er(),jC={identify:s(t=>typeof t=="string","identify"),default:!0,tag:"tag:yaml.org,2002:str",resolve:s(t=>t,"resolve"),stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),IC.stringifyString(t,e,n,r)}};Kp.string=jC});var Us=v(Yp=>{"use strict";var Vp=de(),zp={identify:s(t=>t==null,"identify"),createNode:s(()=>new Vp.Scalar(null),"createNode"),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:s(()=>new Vp.Scalar(null),"resolve"),stringify:s(({source:t},e)=>typeof t=="string"&&zp.test.test(t)?t:e.options.nullStr,"stringify")};Yp.nullTag=zp});var il=v(Gp=>{"use strict";var FC=de(),Jp={identify:s(t=>typeof t=="boolean","identify"),default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s(t=>new FC.Scalar(t[0]==="t"||t[0]==="T"),"resolve"),stringify({source:t,value:e},n){if(t&&Jp.test.test(t)){let r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};Gp.boolTag=Jp});var En=v(Qp=>{"use strict";function $C({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);let i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let a=o.indexOf(".");a<0&&(a=o.length,o+=".");let c=e-(o.length-a-1);for(;c-- >0;)o+="0"}return o}s($C,"stringifyNumber");Qp.stringifyNumber=$C});var ol=v(Ks=>{"use strict";var WC=de(),sl=En(),BC={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:s(t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,"resolve"),stringify:sl.stringifyNumber},HC={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s(t=>parseFloat(t),"resolve"),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():sl.stringifyNumber(t)}},UC={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new WC.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:sl.stringifyNumber};Ks.float=UC;Ks.floatExp=HC;Ks.floatNaN=BC});var cl=v(zs=>{"use strict";var Xp=En(),Vs=s(t=>typeof t=="bigint"||Number.isInteger(t),"intIdentify"),al=s((t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n),"intResolve");function Zp(t,e,n){let{value:r}=t;return Vs(r)&&r>=0?n+r.toString(e):Xp.stringifyNumber(t)}s(Zp,"intStringify");var KC={identify:s(t=>Vs(t)&&t>=0,"identify"),default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:s((t,e,n)=>al(t,2,8,n),"resolve"),stringify:s(t=>Zp(t,8,"0o"),"stringify")},VC={identify:Vs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:s((t,e,n)=>al(t,0,10,n),"resolve"),stringify:Xp.stringifyNumber},zC={identify:s(t=>Vs(t)&&t>=0,"identify"),default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:s((t,e,n)=>al(t,2,16,n),"resolve"),stringify:s(t=>Zp(t,16,"0x"),"stringify")};zs.int=VC;zs.intHex=zC;zs.intOct=KC});var tm=v(em=>{"use strict";var YC=xn(),JC=Us(),GC=On(),QC=jr(),XC=il(),ul=ol(),ll=cl(),ZC=[YC.map,GC.seq,QC.string,JC.nullTag,XC.boolTag,ll.intOct,ll.int,ll.intHex,ul.floatNaN,ul.floatExp,ul.float];em.schema=ZC});var im=v(rm=>{"use strict";var e0=de(),t0=xn(),n0=On();function nm(t){return typeof t=="bigint"||Number.isInteger(t)}s(nm,"intIdentify");var Ys=s(({value:t})=>JSON.stringify(t),"stringifyJSON"),r0=[{identify:s(t=>typeof t=="string","identify"),default:!0,tag:"tag:yaml.org,2002:str",resolve:s(t=>t,"resolve"),stringify:Ys},{identify:s(t=>t==null,"identify"),createNode:s(()=>new e0.Scalar(null),"createNode"),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:s(()=>null,"resolve"),stringify:Ys},{identify:s(t=>typeof t=="boolean","identify"),default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:s(t=>t==="true","resolve"),stringify:Ys},{identify:nm,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:s((t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),"resolve"),stringify:s(({value:t})=>nm(t)?t.toString():JSON.stringify(t),"stringify")},{identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s(t=>parseFloat(t),"resolve"),stringify:Ys}],i0={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},s0=[t0.map,n0.seq].concat(r0,i0);rm.schema=s0});var dl=v(sm=>{"use strict";var Fr=require("node:buffer"),fl=de(),o0=Er(),a0={identify:s(t=>t instanceof Uint8Array,"identify"),default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Fr.Buffer=="function")return Fr.Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,o){let a=n,c;if(typeof Fr.Buffer=="function")c=a instanceof Fr.Buffer?a.toString("base64"):Fr.Buffer.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let u="";for(let l=0;l<a.length;++l)u+=String.fromCharCode(a[l]);c=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=fl.Scalar.BLOCK_LITERAL),e!==fl.Scalar.QUOTE_DOUBLE){let u=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),l=Math.ceil(c.length/u),p=new Array(l);for(let h=0,y=0;h<l;++h,y+=u)p[h]=c.substr(y,u);c=p.join(e===fl.Scalar.BLOCK_LITERAL?`
`:" ")}return o0.stringifyString({comment:t,type:e,value:c},r,i,o)}};sm.binary=a0});var Qs=v(Gs=>{"use strict";var Js=W(),hl=Pt(),c0=de(),u0=xt();function om(t,e){if(Js.isSeq(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Js.isPair(r)){if(Js.isMap(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");let i=r.items[0]||new hl.Pair(new c0.Scalar(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}t.items[n]=Js.isPair(r)?r:new hl.Pair(r)}}else e("Expected a sequence for this tag");return t}s(om,"resolvePairs");function am(t,e,n){let{replacer:r}=n,i=new u0.YAMLSeq(t);i.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(o++),a));let c,u;if(Array.isArray(a))if(a.length===2)c=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){let l=Object.keys(a);if(l.length===1)c=l[0],u=a[c];else throw new TypeError(`Expected tuple with one key, not ${l.length} keys`)}else c=a;i.items.push(hl.createPair(c,u,n))}return i}s(am,"createPairs");var l0={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:om,createNode:am};Gs.createPairs=am;Gs.pairs=l0;Gs.resolvePairs=om});var gl=v(ml=>{"use strict";var cm=W(),pl=Dt(),$r=Nt(),f0=xt(),um=Qs(),Qt=class t extends f0.YAMLSeq{static{s(this,"YAMLOMap")}constructor(){super(),this.add=$r.YAMLMap.prototype.add.bind(this),this.delete=$r.YAMLMap.prototype.delete.bind(this),this.get=$r.YAMLMap.prototype.get.bind(this),this.has=$r.YAMLMap.prototype.has.bind(this),this.set=$r.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let r=new Map;n?.onCreate&&n.onCreate(r);for(let i of this.items){let o,a;if(cm.isPair(i)?(o=pl.toJS(i.key,"",n),a=pl.toJS(i.value,o,n)):o=pl.toJS(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,a)}return r}static from(e,n,r){let i=um.createPairs(e,n,r),o=new this;return o.items=i.items,o}};Qt.tag="tag:yaml.org,2002:omap";var d0={collection:"seq",identify:s(t=>t instanceof Map,"identify"),nodeClass:Qt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=um.resolvePairs(t,e),r=[];for(let{key:i}of n.items)cm.isScalar(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Qt,n)},createNode:s((t,e,n)=>Qt.from(t,e,n),"createNode")};ml.YAMLOMap=Qt;ml.omap=d0});var pm=v(yl=>{"use strict";var lm=de();function fm({value:t,source:e},n){return e&&(t?dm:hm).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}s(fm,"boolStringify");var dm={identify:s(t=>t===!0,"identify"),default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:s(()=>new lm.Scalar(!0),"resolve"),stringify:fm},hm={identify:s(t=>t===!1,"identify"),default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:s(()=>new lm.Scalar(!1),"resolve"),stringify:fm};yl.falseTag=hm;yl.trueTag=dm});var mm=v(Xs=>{"use strict";var h0=de(),vl=En(),p0={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:s(t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,"resolve"),stringify:vl.stringifyNumber},m0={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s(t=>parseFloat(t.replace(/_/g,"")),"resolve"),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():vl.stringifyNumber(t)}},g0={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new h0.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:vl.stringifyNumber};Xs.float=g0;Xs.floatExp=m0;Xs.floatNaN=p0});var ym=v(Br=>{"use strict";var gm=En(),Wr=s(t=>typeof t=="bigint"||Number.isInteger(t),"intIdentify");function Zs(t,e,n,{intAsBigInt:r}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let a=BigInt(t);return i==="-"?BigInt(-1)*a:a}let o=parseInt(t,n);return i==="-"?-1*o:o}s(Zs,"intResolve");function bl(t,e,n){let{value:r}=t;if(Wr(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return gm.stringifyNumber(t)}s(bl,"intStringify");var y0={identify:Wr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:s((t,e,n)=>Zs(t,2,2,n),"resolve"),stringify:s(t=>bl(t,2,"0b"),"stringify")},v0={identify:Wr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:s((t,e,n)=>Zs(t,1,8,n),"resolve"),stringify:s(t=>bl(t,8,"0"),"stringify")},b0={identify:Wr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:s((t,e,n)=>Zs(t,0,10,n),"resolve"),stringify:gm.stringifyNumber},w0={identify:Wr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:s((t,e,n)=>Zs(t,2,16,n),"resolve"),stringify:s(t=>bl(t,16,"0x"),"stringify")};Br.int=b0;Br.intBin=y0;Br.intHex=w0;Br.intOct=v0});var _l=v(wl=>{"use strict";var no=W(),eo=Pt(),to=Nt(),Xt=class t extends to.YAMLMap{static{s(this,"YAMLSet")}constructor(e){super(e),this.tag=t.tag}add(e){let n;no.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new eo.Pair(e.key,null):n=new eo.Pair(e,null),to.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=to.findPair(this.items,e);return!n&&no.isPair(r)?no.isScalar(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=to.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new eo.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){let{replacer:i}=r,o=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof i=="function"&&(a=i.call(n,a,a)),o.items.push(eo.createPair(a,null,r));return o}};Xt.tag="tag:yaml.org,2002:set";var _0={collection:"map",identify:s(t=>t instanceof Set,"identify"),nodeClass:Xt,default:!1,tag:"tag:yaml.org,2002:set",createNode:s((t,e,n)=>Xt.from(t,e,n),"createNode"),resolve(t,e){if(no.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new Xt,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};wl.YAMLSet=Xt;wl.set=_0});var Cl=v(ro=>{"use strict";var S0=En();function Sl(t,e){let n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=s(a=>e?BigInt(a):Number(a),"num"),o=r.replace(/_/g,"").split(":").reduce((a,c)=>a*i(60)+i(c),i(0));return n==="-"?i(-1)*o:o}s(Sl,"parseSexagesimal");function vm(t){let{value:e}=t,n=s(a=>a,"num");if(typeof e=="bigint")n=s(a=>BigInt(a),"num");else if(isNaN(e)||!isFinite(e))return S0.stringifyNumber(t);let r="";e<0&&(r="-",e*=n(-1));let i=n(60),o=[e%i];return e<60?o.unshift(0):(e=(e-o[0])/i,o.unshift(e%i),e>=60&&(e=(e-o[0])/i,o.unshift(e))),r+o.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}s(vm,"stringifySexagesimal");var C0={identify:s(t=>typeof t=="bigint"||Number.isInteger(t),"identify"),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:s((t,e,{intAsBigInt:n})=>Sl(t,n),"resolve"),stringify:vm},D0={identify:s(t=>typeof t=="number","identify"),default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s(t=>Sl(t,!1),"resolve"),stringify:vm},bm={identify:s(t=>t instanceof Date,"identify"),default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(bm.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,r,i,o,a,c]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0,l=Date.UTC(n,r-1,i,o||0,a||0,c||0,u),p=e[8];if(p&&p!=="Z"){let h=Sl(p,!1);Math.abs(h)<30&&(h*=60),l-=6e4*h}return new Date(l)},stringify:s(({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,""),"stringify")};ro.floatTime=D0;ro.intTime=C0;ro.timestamp=bm});var Sm=v(_m=>{"use strict";var T0=xn(),k0=Us(),q0=On(),P0=jr(),R0=dl(),wm=pm(),Dl=mm(),io=ym(),N0=Ls(),x0=gl(),O0=Qs(),E0=_l(),Tl=Cl(),M0=[T0.map,q0.seq,P0.string,k0.nullTag,wm.trueTag,wm.falseTag,io.intBin,io.intOct,io.int,io.intHex,Dl.floatNaN,Dl.floatExp,Dl.float,R0.binary,N0.merge,x0.omap,O0.pairs,E0.set,Tl.intTime,Tl.floatTime,Tl.timestamp];_m.schema=M0});var Om=v(Pl=>{"use strict";var km=xn(),A0=Us(),qm=On(),L0=jr(),I0=il(),kl=ol(),ql=cl(),j0=tm(),F0=im(),Pm=dl(),Hr=Ls(),Rm=gl(),Nm=Qs(),Cm=Sm(),xm=_l(),so=Cl(),Dm=new Map([["core",j0.schema],["failsafe",[km.map,qm.seq,L0.string]],["json",F0.schema],["yaml11",Cm.schema],["yaml-1.1",Cm.schema]]),Tm={binary:Pm.binary,bool:I0.boolTag,float:kl.float,floatExp:kl.floatExp,floatNaN:kl.floatNaN,floatTime:so.floatTime,int:ql.int,intHex:ql.intHex,intOct:ql.intOct,intTime:so.intTime,map:km.map,merge:Hr.merge,null:A0.nullTag,omap:Rm.omap,pairs:Nm.pairs,seq:qm.seq,set:xm.set,timestamp:so.timestamp},$0={"tag:yaml.org,2002:binary":Pm.binary,"tag:yaml.org,2002:merge":Hr.merge,"tag:yaml.org,2002:omap":Rm.omap,"tag:yaml.org,2002:pairs":Nm.pairs,"tag:yaml.org,2002:set":xm.set,"tag:yaml.org,2002:timestamp":so.timestamp};function W0(t,e,n){let r=Dm.get(e);if(r&&!t)return n&&!r.includes(Hr.merge)?r.concat(Hr.merge):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{let o=Array.from(Dm.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${o} or define customTags array`)}if(Array.isArray(t))for(let o of t)i=i.concat(o);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(Hr.merge)),i.reduce((o,a)=>{let c=typeof a=="string"?Tm[a]:a;if(!c){let u=JSON.stringify(a),l=Object.keys(Tm).map(p=>JSON.stringify(p)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${l}`)}return o.includes(c)||o.push(c),o},[])}s(W0,"getTags");Pl.coreKnownTags=$0;Pl.getTags=W0});var xl=v(Em=>{"use strict";var Rl=W(),B0=xn(),H0=On(),U0=jr(),oo=Om(),K0=s((t,e)=>t.key<e.key?-1:t.key>e.key?1:0,"sortMapEntriesByKey"),Nl=class t{static{s(this,"Schema")}constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:a,toStringDefaults:c}){this.compat=Array.isArray(e)?oo.getTags(e,"compat"):e?oo.getTags(null,e):null,this.name=typeof o=="string"&&o||"core",this.knownTags=i?oo.coreKnownTags:{},this.tags=oo.getTags(n,this.name,r),this.toStringOptions=c??null,Object.defineProperty(this,Rl.MAP,{value:B0.map}),Object.defineProperty(this,Rl.SCALAR,{value:U0.string}),Object.defineProperty(this,Rl.SEQ,{value:H0.seq}),this.sortMapEntries=typeof a=="function"?a:a===!0?K0:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};Em.Schema=Nl});var Am=v(Mm=>{"use strict";var V0=W(),Ol=Mr(),Ur=Nr();function z0(t,e){let n=[],r=e.directives===!0;if(e.directives!==!1&&t.directives){let u=t.directives.toString(t);u?(n.push(u),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");let i=Ol.createStringifyContext(t,e),{commentString:o}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");let u=o(t.commentBefore);n.unshift(Ur.indentComment(u,""))}let a=!1,c=null;if(t.contents){if(V0.isNode(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){let p=o(t.contents.commentBefore);n.push(Ur.indentComment(p,""))}i.forceBlockIndent=!!t.comment,c=t.contents.comment}let u=c?void 0:()=>a=!0,l=Ol.stringify(t.contents,i,()=>c=null,u);c&&(l+=Ur.lineComment(l,"",o(c))),(l[0]==="|"||l[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${l}`:n.push(l)}else n.push(Ol.stringify(t.contents,i));if(t.directives?.docEnd)if(t.comment){let u=o(t.comment);u.includes(`
`)?(n.push("..."),n.push(Ur.indentComment(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&a&&(u=u.replace(/^\n+/,"")),u&&((!a||c)&&n[n.length-1]!==""&&n.push(""),n.push(Ur.indentComment(o(u),"")))}return n.join(`
`)+`
`}s(z0,"stringifyDocument");Mm.stringifyDocument=z0});var Kr=v(Lm=>{"use strict";var Y0=Pr(),Mn=qs(),Fe=W(),J0=Pt(),G0=Dt(),Q0=xl(),X0=Am(),El=Ss(),Z0=Iu(),eD=Rr(),Ml=Lu(),Al=class t{static{s(this,"Document")}constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Fe.NODE_TYPE,{value:Fe.DOC});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);let o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:a}=o;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Ml.Directives({version:a}),this.setSchema(a,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){let e=Object.create(t.prototype,{[Fe.NODE_TYPE]:{value:Fe.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Fe.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){An(this.contents)&&this.contents.add(e)}addIn(e,n){An(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let r=El.anchorNames(this);e.anchor=!n||r.has(n)?El.findNewAnchor(n||"a",r):n}return new Y0.Alias(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){let D=s(g=>typeof g=="number"||g instanceof String||g instanceof Number,"keyToStr"),P=n.filter(D).map(String);P.length>0&&(n=n.concat(P)),i=n}else r===void 0&&n&&(r=n,n=void 0);let{aliasDuplicateObjects:o,anchorPrefix:a,flow:c,keepUndefined:u,onTagObj:l,tag:p}=r??{},{onAnchor:h,setAnchors:y,sourceObjects:_}=El.createNodeAnchors(this,a||"a"),k={aliasDuplicateObjects:o??!0,keepUndefined:u??!1,onAnchor:h,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:_},b=eD.createNode(e,p,k);return c&&Fe.isCollection(b)&&(b.flow=!0),y(),b}createPair(e,n,r={}){let i=this.createNode(e,null,r),o=this.createNode(n,null,r);return new J0.Pair(i,o)}delete(e){return An(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Mn.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):An(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Fe.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Mn.isEmptyPath(e)?!n&&Fe.isScalar(this.contents)?this.contents.value:this.contents:Fe.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Fe.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Mn.isEmptyPath(e)?this.contents!==void 0:Fe.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Mn.collectionFromPath(this.schema,[e],n):An(this.contents)&&this.contents.set(e,n)}setIn(e,n){Mn.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=Mn.collectionFromPath(this.schema,Array.from(e),n):An(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ml.Directives({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Ml.Directives({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Q0.Schema(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:a}={}){let c={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},u=G0.toJS(this.contents,n??"",c);if(typeof o=="function")for(let{count:l,res:p}of c.anchors.values())o(p,l);return typeof a=="function"?Z0.applyReviver(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return X0.stringifyDocument(this,e)}};function An(t){if(Fe.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}s(An,"assertCollection");Lm.Document=Al});var Yr=v(zr=>{"use strict";var Vr=class extends Error{static{s(this,"YAMLError")}constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}},Ll=class extends Vr{static{s(this,"YAMLParseError")}constructor(e,n,r){super("YAMLParseError",e,n,r)}},Il=class extends Vr{static{s(this,"YAMLWarning")}constructor(e,n,r){super("YAMLWarning",e,n,r)}},tD=s((t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(c=>e.linePos(c));let{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&a.length>80){let c=Math.min(o-39,a.length-79);a="\u2026"+a.substring(c),o-=c-1}if(a.length>80&&(a=a.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(a.substring(0,o))){let c=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);c.length>80&&(c=c.substring(0,79)+`\u2026
`),a=c+a}if(/[^ ]/.test(a)){let c=1,u=n.linePos[1];u&&u.line===r&&u.col>i&&(c=Math.max(1,Math.min(u.col-i,80-o)));let l=" ".repeat(o)+"^".repeat(c);n.message+=`:

${a}
${l}
`}},"prettifyError");zr.YAMLError=Vr;zr.YAMLParseError=Ll;zr.YAMLWarning=Il;zr.prettifyError=tD});var Jr=v(Im=>{"use strict";function nD(t,{flow:e,indicator:n,next:r,offset:i,onError:o,parentIndent:a,startOnNewline:c}){let u=!1,l=c,p=c,h="",y="",_=!1,k=!1,b=null,D=null,P=null,g=null,m=null,C=null,N=null;for(let E of t)switch(k&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&o(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),k=!1),b&&(l&&E.type!=="comment"&&E.type!=="newline"&&o(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),b=null),E.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&E.source.includes("	")&&(b=E),p=!0;break;case"comment":{p||o(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let ie=E.source.substring(1)||" ";h?h+=y+ie:h=ie,y="",l=!1;break}case"newline":l?h?h+=E.source:(!C||n!=="seq-item-ind")&&(u=!0):y+=E.source,l=!0,_=!0,(D||P)&&(g=E),p=!0;break;case"anchor":D&&o(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&o(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),D=E,N===null&&(N=E.offset),l=!1,p=!1,k=!0;break;case"tag":{P&&o(E,"MULTIPLE_TAGS","A node can have at most one tag"),P=E,N===null&&(N=E.offset),l=!1,p=!1,k=!0;break}case n:(D||P)&&o(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),C&&o(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${e??"collection"}`),C=E,l=n==="seq-item-ind"||n==="explicit-key-ind",p=!1;break;case"comma":if(e){m&&o(E,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),m=E,l=!1,p=!1;break}default:o(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),l=!1,p=!1}let O=t[t.length-1],H=O?O.offset+O.source.length:i;return k&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b&&(l&&b.indent<=a||r?.type==="block-map"||r?.type==="block-seq")&&o(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:m,found:C,spaceBefore:u,comment:h,hasNewline:_,anchor:D,tag:P,newlineAfterProp:g,end:H,start:N??H}}s(nD,"resolveProps");Im.resolveProps=nD});var ao=v(jm=>{"use strict";function jl(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(jl(e.key)||jl(e.value))return!0}return!1;default:return!0}}s(jl,"containsNewline");jm.containsNewline=jl});var Fl=v(Fm=>{"use strict";var rD=ao();function iD(t,e,n){if(e?.type==="flow-collection"){let r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&rD.containsNewline(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}s(iD,"flowIndentCheck");Fm.flowIndentCheck=iD});var $l=v(Wm=>{"use strict";var $m=W();function sD(t,e,n){let{uniqueKeys:r}=t.options;if(r===!1)return!1;let i=typeof r=="function"?r:(o,a)=>o===a||$m.isScalar(o)&&$m.isScalar(a)&&o.value===a.value;return e.some(o=>i(o.key,n))}s(sD,"mapIncludes");Wm.mapIncludes=sD});var zm=v(Vm=>{"use strict";var Bm=Pt(),oD=Nt(),Hm=Jr(),aD=ao(),Um=Fl(),cD=$l(),Km="All mapping items must start at the same column";function uD({composeNode:t,composeEmptyNode:e},n,r,i,o){let a=o?.nodeClass??oD.YAMLMap,c=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=r.offset,l=null;for(let p of r.items){let{start:h,key:y,sep:_,value:k}=p,b=Hm.resolveProps(h,{indicator:"explicit-key-ind",next:y??_?.[0],offset:u,onError:i,parentIndent:r.indent,startOnNewline:!0}),D=!b.found;if(D){if(y&&(y.type==="block-seq"?i(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in y&&y.indent!==r.indent&&i(u,"BAD_INDENT",Km)),!b.anchor&&!b.tag&&!_){l=b.end,b.comment&&(c.comment?c.comment+=`
`+b.comment:c.comment=b.comment);continue}(b.newlineAfterProp||aD.containsNewline(y))&&i(y??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else b.found?.indent!==r.indent&&i(u,"BAD_INDENT",Km);n.atKey=!0;let P=b.end,g=y?t(n,y,b,i):e(n,P,h,null,b,i);n.schema.compat&&Um.flowIndentCheck(r.indent,y,i),n.atKey=!1,cD.mapIncludes(n,c.items,g)&&i(P,"DUPLICATE_KEY","Map keys must be unique");let m=Hm.resolveProps(_??[],{indicator:"map-value-ind",next:k,offset:g.range[2],onError:i,parentIndent:r.indent,startOnNewline:!y||y.type==="block-scalar"});if(u=m.end,m.found){D&&(k?.type==="block-map"&&!m.hasNewline&&i(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&b.start<m.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let C=k?t(n,k,m,i):e(n,u,_,null,m,i);n.schema.compat&&Um.flowIndentCheck(r.indent,k,i),u=C.range[2];let N=new Bm.Pair(g,C);n.options.keepSourceTokens&&(N.srcToken=p),c.items.push(N)}else{D&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),m.comment&&(g.comment?g.comment+=`
`+m.comment:g.comment=m.comment);let C=new Bm.Pair(g);n.options.keepSourceTokens&&(C.srcToken=p),c.items.push(C)}}return l&&l<u&&i(l,"IMPOSSIBLE","Map comment with trailing content"),c.range=[r.offset,u,l??u],c}s(uD,"resolveBlockMap");Vm.resolveBlockMap=uD});var Jm=v(Ym=>{"use strict";var lD=xt(),fD=Jr(),dD=Fl();function hD({composeNode:t,composeEmptyNode:e},n,r,i,o){let a=o?.nodeClass??lD.YAMLSeq,c=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset,l=null;for(let{start:p,value:h}of r.items){let y=fD.resolveProps(p,{indicator:"seq-item-ind",next:h,offset:u,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!y.found)if(y.anchor||y.tag||h)h&&h.type==="block-seq"?i(y.end,"BAD_INDENT","All sequence items must start at the same column"):i(u,"MISSING_CHAR","Sequence item without - indicator");else{l=y.end,y.comment&&(c.comment=y.comment);continue}let _=h?t(n,h,y,i):e(n,y.end,p,null,y,i);n.schema.compat&&dD.flowIndentCheck(r.indent,h,i),u=_.range[2],c.items.push(_)}return c.range=[r.offset,u,l??u],c}s(hD,"resolveBlockSeq");Ym.resolveBlockSeq=hD});var Ln=v(Gm=>{"use strict";function pD(t,e,n,r){let i="";if(t){let o=!1,a="";for(let c of t){let{source:u,type:l}=c;switch(l){case"space":o=!0;break;case"comment":{n&&!o&&r(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let p=u.substring(1)||" ";i?i+=a+p:i=p,a="";break}case"newline":i&&(a+=u),o=!0;break;default:r(c,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=u.length}}return{comment:i,offset:e}}s(pD,"resolveEnd");Gm.resolveEnd=pD});var eg=v(Zm=>{"use strict";var mD=W(),gD=Pt(),Qm=Nt(),yD=xt(),vD=Ln(),Xm=Jr(),bD=ao(),wD=$l(),Wl="Block collections are not allowed within flow collections",Bl=s(t=>t&&(t.type==="block-map"||t.type==="block-seq"),"isBlock");function _D({composeNode:t,composeEmptyNode:e},n,r,i,o){let a=r.start.source==="{",c=a?"flow map":"flow sequence",u=o?.nodeClass??(a?Qm.YAMLMap:yD.YAMLSeq),l=new u(n.schema);l.flow=!0;let p=n.atRoot;p&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=r.offset+r.start.source.length;for(let D=0;D<r.items.length;++D){let P=r.items[D],{start:g,key:m,sep:C,value:N}=P,O=Xm.resolveProps(g,{flow:c,indicator:"explicit-key-ind",next:m??C?.[0],offset:h,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!O.found){if(!O.anchor&&!O.tag&&!C&&!N){D===0&&O.comma?i(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):D<r.items.length-1&&i(O.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),O.comment&&(l.comment?l.comment+=`
`+O.comment:l.comment=O.comment),h=O.end;continue}!a&&n.options.strict&&bD.containsNewline(m)&&i(m,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(D===0)O.comma&&i(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(O.comma||i(O.start,"MISSING_CHAR",`Missing , between ${c} items`),O.comment){let H="";e:for(let E of g)switch(E.type){case"comma":case"space":break;case"comment":H=E.source.substring(1);break e;default:break e}if(H){let E=l.items[l.items.length-1];mD.isPair(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+H:E.comment=H,O.comment=O.comment.substring(H.length+1)}}if(!a&&!C&&!O.found){let H=N?t(n,N,O,i):e(n,O.end,C,null,O,i);l.items.push(H),h=H.range[2],Bl(N)&&i(H.range,"BLOCK_IN_FLOW",Wl)}else{n.atKey=!0;let H=O.end,E=m?t(n,m,O,i):e(n,H,g,null,O,i);Bl(m)&&i(E.range,"BLOCK_IN_FLOW",Wl),n.atKey=!1;let ie=Xm.resolveProps(C??[],{flow:c,indicator:"map-value-ind",next:N,offset:E.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(ie.found){if(!a&&!O.found&&n.options.strict){if(C)for(let J of C){if(J===ie.found)break;if(J.type==="newline"){i(J,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<ie.found.offset-1024&&i(ie.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&N.source&&N.source[0]===":"?i(N,"MISSING_CHAR",`Missing space after : in ${c}`):i(ie.start,"MISSING_CHAR",`Missing , or : between ${c} items`));let We=N?t(n,N,ie,i):ie.found?e(n,ie.end,C,null,ie,i):null;We?Bl(N)&&i(We.range,"BLOCK_IN_FLOW",Wl):ie.comment&&(E.comment?E.comment+=`
`+ie.comment:E.comment=ie.comment);let at=new gD.Pair(E,We);if(n.options.keepSourceTokens&&(at.srcToken=P),a){let J=l;wD.mapIncludes(n,J.items,E)&&i(H,"DUPLICATE_KEY","Map keys must be unique"),J.items.push(at)}else{let J=new Qm.YAMLMap(n.schema);J.flow=!0,J.items.push(at);let Kn=(We??E).range;J.range=[E.range[0],Kn[1],Kn[2]],l.items.push(J)}h=We?We.range[2]:ie.end}}let y=a?"}":"]",[_,...k]=r.end,b=h;if(_&&_.source===y)b=_.offset+_.source.length;else{let D=c[0].toUpperCase()+c.substring(1),P=p?`${D} must end with a ${y}`:`${D} in block collection must be sufficiently indented and end with a ${y}`;i(h,p?"MISSING_CHAR":"BAD_INDENT",P),_&&_.source.length!==1&&k.unshift(_)}if(k.length>0){let D=vD.resolveEnd(k,b,n.options.strict,i);D.comment&&(l.comment?l.comment+=`
`+D.comment:l.comment=D.comment),l.range=[r.offset,b,D.offset]}else l.range=[r.offset,b,b];return l}s(_D,"resolveFlowCollection");Zm.resolveFlowCollection=_D});var ng=v(tg=>{"use strict";var SD=W(),CD=de(),DD=Nt(),TD=xt(),kD=zm(),qD=Jm(),PD=eg();function Hl(t,e,n,r,i,o){let a=n.type==="block-map"?kD.resolveBlockMap(t,e,n,r,o):n.type==="block-seq"?qD.resolveBlockSeq(t,e,n,r,o):PD.resolveFlowCollection(t,e,n,r,o),c=a.constructor;return i==="!"||i===c.tagName?(a.tag=c.tagName,a):(i&&(a.tag=i),a)}s(Hl,"resolveCollection");function RD(t,e,n,r,i){let o=r.tag,a=o?e.directives.tagName(o.source,y=>i(o,"TAG_RESOLVE_FAILED",y)):null;if(n.type==="block-seq"){let{anchor:y,newlineAfterProp:_}=r,k=y&&o?y.offset>o.offset?y:o:y??o;k&&(!_||_.offset<k.offset)&&i(k,"MISSING_CHAR","Missing newline after block sequence props")}let c=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!a||a==="!"||a===DD.YAMLMap.tagName&&c==="map"||a===TD.YAMLSeq.tagName&&c==="seq")return Hl(t,e,n,i,a);let u=e.schema.tags.find(y=>y.tag===a&&y.collection===c);if(!u){let y=e.schema.knownTags[a];if(y&&y.collection===c)e.schema.tags.push(Object.assign({},y,{default:!1})),u=y;else return y?.collection?i(o,"BAD_COLLECTION_TYPE",`${y.tag} used for ${c} collection, but expects ${y.collection}`,!0):i(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),Hl(t,e,n,i,a)}let l=Hl(t,e,n,i,a,u),p=u.resolve?.(l,y=>i(o,"TAG_RESOLVE_FAILED",y),e.options)??l,h=SD.isNode(p)?p:new CD.Scalar(p);return h.range=l.range,h.tag=a,u?.format&&(h.format=u.format),h}s(RD,"composeCollection");tg.composeCollection=RD});var Kl=v(rg=>{"use strict";var Ul=de();function ND(t,e,n){let r=e.offset,i=xD(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};let o=i.mode===">"?Ul.Scalar.BLOCK_FOLDED:Ul.Scalar.BLOCK_LITERAL,a=e.source?OD(e.source):[],c=a.length;for(let b=a.length-1;b>=0;--b){let D=a[b][1];if(D===""||D==="\r")c=b;else break}if(c===0){let b=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"",D=r+i.length;return e.source&&(D+=e.source.length),{value:b,type:o,comment:i.comment,range:[r,D,D]}}let u=e.indent+i.indent,l=e.offset+i.length,p=0;for(let b=0;b<c;++b){let[D,P]=a[b];if(P===""||P==="\r")i.indent===0&&D.length>u&&(u=D.length);else{D.length<u&&n(l+D.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(u=D.length),p=b,u===0&&!t.atRoot&&n(l,"BAD_INDENT","Block scalar values in collections must be indented");break}l+=D.length+P.length+1}for(let b=a.length-1;b>=c;--b)a[b][0].length>u&&(c=b+1);let h="",y="",_=!1;for(let b=0;b<p;++b)h+=a[b][0].slice(u)+`
`;for(let b=p;b<c;++b){let[D,P]=a[b];l+=D.length+P.length+1;let g=P[P.length-1]==="\r";if(g&&(P=P.slice(0,-1)),P&&D.length<u){let C=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(l-P.length-(g?2:1),"BAD_INDENT",C),D=""}o===Ul.Scalar.BLOCK_LITERAL?(h+=y+D.slice(u)+P,y=`
`):D.length>u||P[0]==="	"?(y===" "?y=`
`:!_&&y===`
`&&(y=`

`),h+=y+D.slice(u)+P,y=`
`,_=!0):P===""?y===`
`?h+=`
`:y=`
`:(h+=y+P,y=" ",_=!1)}switch(i.chomp){case"-":break;case"+":for(let b=c;b<a.length;++b)h+=`
`+a[b][0].slice(u);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}let k=r+i.length+e.source.length;return{value:h,type:o,comment:i.comment,range:[r,k,k]}}s(ND,"resolveBlockScalar");function xD({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],o=i[0],a=0,c="",u=-1;for(let y=1;y<i.length;++y){let _=i[y];if(!c&&(_==="-"||_==="+"))c=_;else{let k=Number(_);!a&&k?a=k:u===-1&&(u=t+y)}}u!==-1&&r(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,p="",h=i.length;for(let y=1;y<e.length;++y){let _=e[y];switch(_.type){case"space":l=!0;case"newline":h+=_.source.length;break;case"comment":n&&!l&&r(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=_.source.length,p=_.source.substring(1);break;case"error":r(_,"UNEXPECTED_TOKEN",_.message),h+=_.source.length;break;default:{let k=`Unexpected token in block scalar header: ${_.type}`;r(_,"UNEXPECTED_TOKEN",k);let b=_.source;b&&typeof b=="string"&&(h+=b.length)}}}return{mode:o,indent:a,chomp:c,comment:p,length:h}}s(xD,"parseBlockScalarHeader");function OD(t){let e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),o=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)o.push([e[a],e[a+1]]);return o}s(OD,"splitLines");rg.resolveBlockScalar=ND});var zl=v(sg=>{"use strict";var Vl=de(),ED=Ln();function MD(t,e,n){let{offset:r,type:i,source:o,end:a}=t,c,u,l=s((y,_,k)=>n(r+y,_,k),"_onError");switch(i){case"scalar":c=Vl.Scalar.PLAIN,u=AD(o,l);break;case"single-quoted-scalar":c=Vl.Scalar.QUOTE_SINGLE,u=LD(o,l);break;case"double-quoted-scalar":c=Vl.Scalar.QUOTE_DOUBLE,u=ID(o,l);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}let p=r+o.length,h=ED.resolveEnd(a,p,e,n);return{value:u,type:c,comment:h.comment,range:[r,p,h.offset]}}s(MD,"resolveFlowScalar");function AD(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),ig(t)}s(AD,"plainValue");function LD(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),ig(t.slice(1,-1)).replace(/''/g,"'")}s(LD,"singleQuotedValue");function ig(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],o=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),a=n.lastIndex;let c=/[ \t]*(.*)/sy;return c.lastIndex=a,r=c.exec(t),i+o+(r?.[1]??"")}s(ig,"foldLines");function ID(t,e){let n="";for(let r=1;r<t.length-1;++r){let i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){let{fold:o,offset:a}=jD(t,r);n+=o,r=a}else if(i==="\\"){let o=t[++r],a=FD[o];if(a)n+=a;else if(o===`
`)for(o=t[r+1];o===" "||o==="	";)o=t[++r+1];else if(o==="\r"&&t[r+1]===`
`)for(o=t[++r+1];o===" "||o==="	";)o=t[++r+1];else if(o==="x"||o==="u"||o==="U"){let c={x:2,u:4,U:8}[o];n+=$D(t,r+1,c,e),r+=c}else{let c=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),n+=c}}else if(i===" "||i==="	"){let o=r,a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>o?t.slice(o,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}s(ID,"doubleQuotedValue");function jD(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}s(jD,"foldNewline");var FD={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function $D(t,e,n,r){let i=t.substr(e,n),a=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){let c=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(a)}s($D,"parseCharCode");sg.resolveFlowScalar=MD});var cg=v(ag=>{"use strict";var Zt=W(),og=de(),WD=Kl(),BD=zl();function HD(t,e,n,r){let{value:i,type:o,comment:a,range:c}=e.type==="block-scalar"?WD.resolveBlockScalar(t,e,r):BD.resolveFlowScalar(e,t.options.strict,r),u=n?t.directives.tagName(n.source,h=>r(n,"TAG_RESOLVE_FAILED",h)):null,l;t.options.stringKeys&&t.atKey?l=t.schema[Zt.SCALAR]:u?l=UD(t.schema,i,u,n,r):e.type==="scalar"?l=KD(t,i,e,r):l=t.schema[Zt.SCALAR];let p;try{let h=l.resolve(i,y=>r(n??e,"TAG_RESOLVE_FAILED",y),t.options);p=Zt.isScalar(h)?h:new og.Scalar(h)}catch(h){let y=h instanceof Error?h.message:String(h);r(n??e,"TAG_RESOLVE_FAILED",y),p=new og.Scalar(i)}return p.range=c,p.source=i,o&&(p.type=o),u&&(p.tag=u),l.format&&(p.format=l.format),a&&(p.comment=a),p}s(HD,"composeScalar");function UD(t,e,n,r,i){if(n==="!")return t[Zt.SCALAR];let o=[];for(let c of t.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)o.push(c);else return c;for(let c of o)if(c.test?.test(e))return c;let a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Zt.SCALAR])}s(UD,"findScalarTagByName");function KD({atKey:t,directives:e,schema:n},r,i,o){let a=n.tags.find(c=>(c.default===!0||t&&c.default==="key")&&c.test?.test(r))||n[Zt.SCALAR];if(n.compat){let c=n.compat.find(u=>u.default&&u.test?.test(r))??n[Zt.SCALAR];if(a.tag!==c.tag){let u=e.tagString(a.tag),l=e.tagString(c.tag),p=`Value may be parsed as either ${u} or ${l}`;o(i,"TAG_RESOLVE_FAILED",p,!0)}}return a}s(KD,"findScalarTagByTest");ag.composeScalar=HD});var lg=v(ug=>{"use strict";function VD(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}s(VD,"emptyScalarPosition");ug.emptyScalarPosition=VD});var hg=v(Jl=>{"use strict";var zD=Pr(),YD=W(),JD=ng(),fg=cg(),GD=Ln(),QD=lg(),XD={composeNode:dg,composeEmptyNode:Yl};function dg(t,e,n,r){let i=t.atKey,{spaceBefore:o,comment:a,anchor:c,tag:u}=n,l,p=!0;switch(e.type){case"alias":l=ZD(t,e,r),(c||u)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=fg.composeScalar(t,e,u,r),c&&(l.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=JD.composeCollection(XD,t,e,n,r),c&&(l.anchor=c.source.substring(1));break;default:{let h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",h),l=Yl(t,e.offset,void 0,null,n,r),p=!1}}return c&&l.anchor===""&&r(c,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!YD.isScalar(l)||typeof l.value!="string"||l.tag&&l.tag!=="tag:yaml.org,2002:str")&&r(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(l.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?l.comment=a:l.commentBefore=a),t.options.keepSourceTokens&&p&&(l.srcToken=e),l}s(dg,"composeNode");function Yl(t,e,n,r,{spaceBefore:i,comment:o,anchor:a,tag:c,end:u},l){let p={type:"scalar",offset:QD.emptyScalarPosition(e,n,r),indent:-1,source:""},h=fg.composeScalar(t,p,c,l);return a&&(h.anchor=a.source.substring(1),h.anchor===""&&l(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(h.spaceBefore=!0),o&&(h.comment=o,h.range[2]=u),h}s(Yl,"composeEmptyNode");function ZD({options:t},{offset:e,source:n,end:r},i){let o=new zD.Alias(n.substring(1));o.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let a=e+n.length,c=GD.resolveEnd(r,a,t.strict,i);return o.range=[e,a,c.offset],c.comment&&(o.comment=c.comment),o}s(ZD,"composeAlias");Jl.composeEmptyNode=Yl;Jl.composeNode=dg});var gg=v(mg=>{"use strict";var eT=Kr(),pg=hg(),tT=Ln(),nT=Jr();function rT(t,e,{offset:n,start:r,value:i,end:o},a){let c=Object.assign({_directives:e},t),u=new eT.Document(void 0,c),l={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},p=nT.resolveProps(r,{indicator:"doc-start",next:i??o?.[0],offset:n,onError:a,parentIndent:0,startOnNewline:!0});p.found&&(u.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!p.hasNewline&&a(p.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=i?pg.composeNode(l,i,p,a):pg.composeEmptyNode(l,p.end,r,null,p,a);let h=u.contents.range[2],y=tT.resolveEnd(o,h,!1,a);return y.comment&&(u.comment=y.comment),u.range=[n,h,y.offset],u}s(rT,"composeDoc");mg.composeDoc=rT});var Ql=v(bg=>{"use strict";var iT=require("node:process"),sT=Lu(),oT=Kr(),Gr=Yr(),yg=W(),aT=gg(),cT=Ln();function Qr(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}s(Qr,"getErrorPos");function vg(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){let o=t[i];switch(o[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}s(vg,"parsePrelude");var Gl=class{static{s(this,"Composer")}constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{let a=Qr(n);o?this.warnings.push(new Gr.YAMLWarning(a,r,i)):this.errors.push(new Gr.YAMLParseError(a,r,i))},this.directives=new sT.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:r,afterEmptyLine:i}=vg(this.prelude);if(r){let o=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!o)e.commentBefore=r;else if(yg.isCollection(o)&&!o.flow&&o.items.length>0){let a=o.items[0];yg.isPair(a)&&(a=a.key);let c=a.commentBefore;a.commentBefore=c?`${r}
${c}`:r}else{let a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:vg(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(let i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(iT.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{let o=Qr(e);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=aT.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Gr.YAMLParseError(Qr(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){let r="Unexpected doc-end without preceding document";this.errors.push(new Gr.YAMLParseError(Qr(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;let n=cT.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Gr.YAMLParseError(Qr(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let r=Object.assign({_directives:this.directives},this.options),i=new oT.Document(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}};bg.Composer=Gl});var Sg=v(co=>{"use strict";var uT=Kl(),lT=zl(),fT=Yr(),wg=Er();function dT(t,e=!0,n){if(t){let r=s((i,o,a)=>{let c=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(c,o,a);else throw new fT.YAMLParseError([c,c+1],o,a)},"_onError");switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return lT.resolveFlowScalar(t,e,r);case"block-scalar":return uT.resolveBlockScalar({options:{strict:e}},t,r)}}return null}s(dT,"resolveAsScalar");function hT(t,e){let{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:a="PLAIN"}=e,c=wg.stringifyString({type:a,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),u=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(c[0]){case"|":case">":{let l=c.indexOf(`
`),p=c.substring(0,l),h=c.substring(l+1)+`
`,y=[{type:"block-scalar-header",offset:o,indent:r,source:p}];return _g(y,u)||y.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:y,source:h}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:c,end:u};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:c,end:u};default:return{type:"scalar",offset:o,indent:r,source:c,end:u}}}s(hT,"createScalarToken");function pT(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:a}=n,c="indent"in t?t.indent:null;if(r&&typeof c=="number"&&(c+=2),!a)switch(t.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{let l=t.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}let u=wg.stringifyString({type:a,value:e},{implicitKey:i||c===null,indent:c!==null&&c>0?" ".repeat(c):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":mT(t,u);break;case'"':Xl(t,u,"double-quoted-scalar");break;case"'":Xl(t,u,"single-quoted-scalar");break;default:Xl(t,u,"scalar")}}s(pT,"setScalarValue");function mT(t,e){let n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let o=t.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,t.source=i}else{let{offset:o}=t,a="indent"in t?t.indent:-1,c=[{type:"block-scalar-header",offset:o,indent:a,source:r}];_g(c,"end"in t?t.end:void 0)||c.push({type:"newline",offset:-1,indent:a,source:`
`});for(let u of Object.keys(t))u!=="type"&&u!=="offset"&&delete t[u];Object.assign(t,{type:"block-scalar",indent:a,props:c,source:i})}}s(mT,"setBlockScalarValue");function _g(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}s(_g,"addEndtoBlockProps");function Xl(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let r=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let o of r)o.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{let i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{let r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(t))o!=="type"&&o!=="offset"&&delete t[o];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}s(Xl,"setFlowScalarValue");co.createScalarToken=hT;co.resolveAsScalar=dT;co.setScalarValue=pT});var Dg=v(Cg=>{"use strict";var gT=s(t=>"type"in t?lo(t):uo(t),"stringify");function lo(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=lo(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=uo(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=uo(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=uo(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}s(lo,"stringifyToken");function uo({start:t,key:e,sep:n,value:r}){let i="";for(let o of t)i+=o.source;if(e&&(i+=lo(e)),n)for(let o of n)i+=o.source;return r&&(i+=lo(r)),i}s(uo,"stringifyItem");Cg.stringify=gT});var Pg=v(qg=>{"use strict";var Zl=Symbol("break visit"),yT=Symbol("skip children"),Tg=Symbol("remove item");function en(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),kg(Object.freeze([]),t,e)}s(en,"visit");en.BREAK=Zl;en.SKIP=yT;en.REMOVE=Tg;en.itemAtPath=(t,e)=>{let n=t;for(let[r,i]of e){let o=n?.[r];if(o&&"items"in o)n=o.items[i];else return}return n};en.parentCollection=(t,e)=>{let n=en.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function kg(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(let i of["key","value"]){let o=e[i];if(o&&"items"in o){for(let a=0;a<o.items.length;++a){let c=kg(Object.freeze(t.concat([[i,a]])),o.items[a],n);if(typeof c=="number")a=c-1;else{if(c===Zl)return Zl;c===Tg&&(o.items.splice(a,1),a-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}s(kg,"_visit");qg.visit=en});var fo=v(Ne=>{"use strict";var ef=Sg(),vT=Dg(),bT=Pg(),tf="\uFEFF",nf="",rf="",sf="",wT=s(t=>!!t&&"items"in t,"isCollection"),_T=s(t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar"),"isScalar");function ST(t){switch(t){case tf:return"<BOM>";case nf:return"<DOC>";case rf:return"<FLOW_END>";case sf:return"<SCALAR>";default:return JSON.stringify(t)}}s(ST,"prettyToken");function CT(t){switch(t){case tf:return"byte-order-mark";case nf:return"doc-mode";case rf:return"flow-error-end";case sf:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}s(CT,"tokenType");Ne.createScalarToken=ef.createScalarToken;Ne.resolveAsScalar=ef.resolveAsScalar;Ne.setScalarValue=ef.setScalarValue;Ne.stringify=vT.stringify;Ne.visit=bT.visit;Ne.BOM=tf;Ne.DOCUMENT=nf;Ne.FLOW_END=rf;Ne.SCALAR=sf;Ne.isCollection=wT;Ne.isScalar=_T;Ne.prettyToken=ST;Ne.tokenType=CT});var cf=v(Ng=>{"use strict";var Xr=fo();function Xe(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}s(Xe,"isEmpty");var Rg=new Set("0123456789ABCDEFabcdef"),DT=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ho=new Set(",[]{}"),TT=new Set(` ,[]{}
\r	`),of=s(t=>!t||TT.has(t),"isNotAnchorChar"),af=class{static{s(this,"Lexer")}constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){let i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){let r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Xe(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Xr.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){let o=e[r-1];if(o===" "||o==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){let o=e[n-1];if(o===" "||o==="	")n-=1;else break}let i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Xr.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Xe(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Xe(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Xe(n)){let r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(of),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Xe(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Xr.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(of),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let a=this.charAt(1);if(this.flowKey||Xe(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}let r=this.buffer.substring(0,n),i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Xe(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:e=o,n=0;break;case"\r":{let a=this.buffer[o+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let o=this.continueScalar(e+1);if(o===-1)break;e=this.buffer.indexOf(`
`,o)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let o=e-1,a=this.buffer[o];a==="\r"&&(a=this.buffer[--o]);let c=o;for(;a===" ";)a=this.buffer[--o];if(a===`
`&&o>=this.pos&&o+1+n>c)e=o;else break}while(!0);return yield Xr.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){let o=this.buffer[r+1];if(Xe(o)||e&&ho.has(o))break;n=r}else if(Xe(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||e&&ho.has(o))break;if(i===`
`){let a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&ho.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Xr.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(of))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(Xe(n)||e&&ho.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Xe(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(DT.has(n))n=this.buffer[++e];else if(n==="%"&&Rg.has(this.buffer[e+1])&&Rg.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");let i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};Ng.Lexer=af});var lf=v(xg=>{"use strict";var uf=class{static{s(this,"LineCounter")}constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){let o=n+r>>1;this.lineStarts[o]<e?n=o+1:r=o}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}};xg.LineCounter=uf});var df=v(Lg=>{"use strict";var kT=require("node:process"),Og=fo(),qT=cf();function tn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}s(tn,"includesToken");function Eg(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}s(Eg,"findNonEmptyIndex");function Ag(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}s(Ag,"isFlowToken");function po(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}s(po,"getPrevProps");function In(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}s(In,"getFirstKeyStartProps");function Mg(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!tn(e.start,"explicit-key-ind")&&!tn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ag(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}s(Mg,"fixFlowSeqItems");var ff=class{static{s(this,"Parser")}constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new qT.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,kT.env.LOG_TOKENS&&console.log("|",Og.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=Og.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Mg(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{let i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{let i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Eg(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Eg(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=po(this.peek(2)),r=In(n),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",o=[];if(i&&n.sep&&!n.value){let a=[];for(let c=0;c<n.sep.length;++c){let u=n.sep[c];switch(u.type){case"newline":a.push(c);break;case"space":break;case"comment":u.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(tn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Ag(n.key)&&!tn(n.sep,"newline")){let a=In(n.start),c=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:c,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(tn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let a=In(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:o,key:null,sep:[this.sourceToken]}):tn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let a=this.flowScalar(this.type);i||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{let a=this.startBlockValue(e);if(a){r&&a.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||tn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{let r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){let i=po(r),o=In(i);Mg(e);let a=e.end.splice(1,e.end.length);a.push(this.sourceToken);let c={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:o,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=po(e),r=In(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=po(e),r=In(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};Lg.Parser=ff});var Wg=v(ei=>{"use strict";var Ig=Ql(),PT=Kr(),Zr=Yr(),RT=Ju(),NT=W(),xT=lf(),jg=df();function Fg(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new xT.LineCounter||null,prettyErrors:e}}s(Fg,"parseOptions");function OT(t,e={}){let{lineCounter:n,prettyErrors:r}=Fg(e),i=new jg.Parser(n?.addNewLine),o=new Ig.Composer(e),a=Array.from(o.compose(i.parse(t)));if(r&&n)for(let c of a)c.errors.forEach(Zr.prettifyError(t,n)),c.warnings.forEach(Zr.prettifyError(t,n));return a.length>0?a:Object.assign([],{empty:!0},o.streamInfo())}s(OT,"parseAllDocuments");function $g(t,e={}){let{lineCounter:n,prettyErrors:r}=Fg(e),i=new jg.Parser(n?.addNewLine),o=new Ig.Composer(e),a=null;for(let c of o.compose(i.parse(t),!0,t.length))if(!a)a=c;else if(a.options.logLevel!=="silent"){a.errors.push(new Zr.YAMLParseError(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach(Zr.prettifyError(t,n)),a.warnings.forEach(Zr.prettifyError(t,n))),a}s($g,"parseDocument");function ET(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);let i=$g(t,n);if(!i)return null;if(i.warnings.forEach(o=>RT.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}s(ET,"parse");function MT(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=n??e??{};if(!i)return}return NT.isDocument(t)&&!r?t.toString(n):new PT.Document(t,r,n).toString(n)}s(MT,"stringify");ei.parse=ET;ei.parseAllDocuments=OT;ei.parseDocument=$g;ei.stringify=MT});var go=v(K=>{"use strict";var AT=Ql(),LT=Kr(),IT=xl(),hf=Yr(),jT=Pr(),Ot=W(),FT=Pt(),$T=de(),WT=Nt(),BT=xt(),HT=fo(),UT=cf(),KT=lf(),VT=df(),mo=Wg(),Bg=Dr();K.Composer=AT.Composer;K.Document=LT.Document;K.Schema=IT.Schema;K.YAMLError=hf.YAMLError;K.YAMLParseError=hf.YAMLParseError;K.YAMLWarning=hf.YAMLWarning;K.Alias=jT.Alias;K.isAlias=Ot.isAlias;K.isCollection=Ot.isCollection;K.isDocument=Ot.isDocument;K.isMap=Ot.isMap;K.isNode=Ot.isNode;K.isPair=Ot.isPair;K.isScalar=Ot.isScalar;K.isSeq=Ot.isSeq;K.Pair=FT.Pair;K.Scalar=$T.Scalar;K.YAMLMap=WT.YAMLMap;K.YAMLSeq=BT.YAMLSeq;K.CST=HT;K.Lexer=UT.Lexer;K.LineCounter=KT.LineCounter;K.Parser=VT.Parser;K.parse=mo.parse;K.parseAllDocuments=mo.parseAllDocuments;K.parseDocument=mo.parseDocument;K.stringify=mo.stringify;K.visit=Bg.visit;K.visitAsync=Bg.visitAsync});var Et=v(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.runWithContext=jn.getCurrentContext=void 0;var zT=require("async_hooks"),Hg=Se(),Ug=new zT.AsyncLocalStorage;function YT(){let t=Ug.getStore();if(!t)throw new Hg.ResponseError(Hg.ErrorCodes.InternalError,"Failed to get action context");return t}s(YT,"getCurrentContext");jn.getCurrentContext=YT;function JT(t,e){return Ug.run(t,e)}s(JT,"runWithContext");jn.runWithContext=JT});var Vg=v(Mt=>{"use strict";var pf=Mt&&Mt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Kg=Mt&&Mt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},nn;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.Lazy=void 0;var mf=class{static{s(this,"Lazy")}constructor(e){this.valueFactory=e,nn.set(this,void 0)}get value(){return pf(this,nn,"f")===void 0&&Kg(this,nn,this.valueFactory(),"f"),pf(this,nn,"f")}hasValue(){return pf(this,nn,"f")!==void 0}clear(){Kg(this,nn,void 0,"f")}};Mt.Lazy=mf;nn=new WeakMap});var yf=v($e=>{"use strict";var GT=$e&&$e.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zg=$e&&$e.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ti;Object.defineProperty($e,"__esModule",{value:!0});$e.KeyValueRegex=$e.ComposeDocument=void 0;var Fn=Se(),Yg=(ep(),ui(Zh)),Jg=go(),gf=Ru(),QT=Et(),XT=Vg(),Gg=1e3*1e3,ni=class{static{s(this,"ComposeDocument")}get textDocument(){return GT(this,ti,"f")}get id(){return{uri:this.textDocument.uri}}get uri(){return this.textDocument.uri}constructor(e){this.yamlDocument=new XT.Lazy(()=>this.buildYamlDocument()),ti.set(this,void 0),zg(this,ti,e,"f")}update(e){return zg(this,ti,e,"f"),this.yamlDocument.clear(),this}lineAt(e){let n=typeof e=="number"?Fn.Position.create(e,0):Fn.Position.create(e.line,0),r=Fn.Position.create(n.line,Gg);if(n.line>this.textDocument.lineCount)throw new Error(`Requested line ${n.line} is out of bounds.`);return this.textDocument.getText(Fn.Range.create(n,r))}async getSettings(){var e,n,r;if(!this.documentSettings){let i=(0,QT.getCurrentContext)();if(!((r=(n=(e=i.clientCapabilities)===null||e===void 0?void 0:e.experimental)===null||n===void 0?void 0:n.documentSettings)===null||r===void 0)&&r.request){let o=await i.connection.sendRequest(gf.DocumentSettingsRequest.type,{textDocument:this.id});o&&(this.documentSettings=o)}}return this.documentSettings||(this.documentSettings=this.guessDocumentSettings()),this.documentSettings}updateSettings(e){this.documentSettings=e}async getPositionInfo(e){let{tabSize:n}=await this.getSettings(),r=this.getFirstLinePositionInfo(e,n),i=[...r.pathParts],o=r.cursorIndentDepth;for(let a=e.position.line-1;a>=0&&o>0;a--){let c=this.lineAt(a),u=Gg,l;(l=Qg.exec(c))?(u=l.groups.indent.length/n,u<o&&(o=u,i.unshift(At))):(l=$e.KeyValueRegex.exec(c))&&(u=l.groups.indent.length/n,(u<o||u===o&&i[0]===At)&&(o=u,i.unshift(l.groups.keyName)))}return{path:"/"+i.join("/"),indentDepth:r.cursorIndentDepth}}buildYamlDocument(){let e=(0,Jg.parseDocument)(this.textDocument.getText(),{merge:!0,prettyErrors:!0,customTags:ik});if(!(0,Jg.isDocument)(e))throw new Fn.ResponseError(Fn.ErrorCodes.ParseError,"Malformed YAML document");return e}guessDocumentSettings(){var e;let n=this.textDocument.getText(),r=/\r/ig.test(n)?gf.CRLF:gf.LF,i=2,o=/^(?<indentation>[ ]+)(?<key>[.\w-]+:\s*)$/im.exec(n);return!((e=o?.groups)===null||e===void 0)&&e.indentation&&(i=o.groups.indentation.length),{eol:r,tabSize:i}}getFirstLinePositionInfo(e,n){let r=this.lineAt(e.position),i=[],o=0,a;if(a=nk.exec(r)){let c=r.indexOf(a.groups.commentSep);if(e.position.character>c)return{pathParts:[rk],cursorIndentDepth:-1}}if(a=ZT.exec(r)){let c=r.indexOf(a.groups.itemInd),u=r.indexOf(a.groups.keyInd,c),l=a.groups.indent.length,p=a.groups.keyName;o=l/n,e.position.character>u?(i.unshift(yo),i.unshift(p),i.unshift(At)):e.position.character===u?(i.unshift(vo),i.unshift(p),i.unshift(At)):e.position.character>c?(i.unshift(p),i.unshift(At)):e.position.character===c?(i.unshift(vo),i.unshift(At)):e.position.character<l&&(o=e.position.character/n)}else if(a=$e.KeyValueRegex.exec(r)){let c=r.indexOf(a.groups.keyInd),u=a.groups.indent.length,l=a.groups.keyName;o=u/n,e.position.character>c?(i.unshift(yo),i.unshift(l)):e.position.character===c?(i.unshift(vo),i.unshift(l)):e.position.character>=u?i.unshift(l):e.position.character<u&&(o=e.position.character/n)}else if(a=Qg.exec(r)){let c=r.indexOf(a.groups.itemInd),u=a.groups.indent.length;o=u/n,e.position.character>c?(i.unshift(yo),i.unshift(At)):e.position.character===c?(i.unshift(vo),i.unshift(At)):e.position.character<u&&(o=e.position.character/n)}else if(a=ek.exec(r)){let c=a.groups.indent.length;o=c/n,e.position.character>=c?i.unshift(yo):e.position.character<c&&(o=e.position.character/n)}else if(a=tk.exec(r)){let c=a.groups.indent.length;o=c/n,e.position.character<c&&(o=e.position.character/n)}return{pathParts:i,cursorIndentDepth:o}}};ti=new WeakMap;ni.DocumentManagerConfig={create:s((t,e,n,r)=>new ni(Yg.TextDocument.create(t,e,n,r)),"create"),update:s((t,e,n)=>t.update(Yg.TextDocument.update(t.textDocument,e,n)),"update")};$e.ComposeDocument=ni;$e.KeyValueRegex=/^(?<indent> *)(?<key>(?<keyName>[.\w-]+)(?<keyInd>(?<keySep>:) *))(?<value>.*)$/im;var Qg=/^(?<indent> *)(?<itemInd>(?<itemSep>-) *)(?<value>.*)$/im,ZT=/^(?<indent> *)(?<itemInd>(?<itemSep>-) *)(?<key>(?<keyName>[.\w-]+)(?<keyInd>(?<keySep>:) *))(?<value>.*)$/im,ek=/^(?<indent> *)(?<value>\S+)$/im,tk=/^(?<indent> *)$/im,nk=/^.*(?<commentSep>#).*$/im,yo="<value>",At="<item>",vo="<sep>",rk="<comment>",ik=[{tag:"!reset",collection:"seq",resolve:s(t=>t,"resolve")},{tag:"!reset",collection:"map",resolve:s(t=>t,"resolve")},{tag:"!reset",resolve:s(t=>t,"resolve")},{tag:"!override",collection:"seq",resolve:s(t=>t,"resolve")},{tag:"!override",collection:"map",resolve:s(t=>t,"resolve")},{tag:"!override",resolve:s(t=>t,"resolve")}]});var rn=v(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.ProviderBase=void 0;var vf=class{static{s(this,"ProviderBase")}};bo.ProviderBase=vf});var $n=v(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.CompletionCollection=void 0;var bf=class extends Array{static{s(this,"CompletionCollection")}constructor(e,n,...r){super(...r),this.name=e,this.locationRequirements=n}getActiveCompletionItems(e){if(this.locationRequirements.logicalPaths!==void 0&&!this.locationRequirements.logicalPaths.some(r=>{var i;return r.test((i=e.positionInfo.path)!==null&&i!==void 0?i:"")})||this.locationRequirements.indentationDepth!==void 0&&this.locationRequirements.indentationDepth!==e.positionInfo.indentDepth)return;let n=e.document.lineAt(e.position);return this.filter(r=>e.basicCompletions&&!r.isAdvancedComposeCompletion||e.advancedCompletions&&r.isAdvancedComposeCompletion).filter(r=>!r.matcher||r.matcher.test(n))}};wo.CompletionCollection=bf});var Xg=v(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.BuildCompletionCollection=void 0;var Lt=Se(),sk=$n(),ok=/^\/services\/[.\w-]+\/build$/i,ak=/^\/services\/[.\w-]+\/build\/<value>$/i;_o.BuildCompletionCollection=new sk.CompletionCollection("build",{logicalPaths:[ok,ak],indentationDepth:3},{label:"args:",insertText:"args:\n	- ${1:name}=${2:value}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,insertTextMode:Lt.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"context:",insertText:"context: ${1:buildContext}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"dockerfile:",insertText:"dockerfile: ${1:dockerfile}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"labels:",insertText:"labels:\n	- ${1:com.host.description}=${2:label}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,insertTextMode:Lt.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"network:",insertText:"network: ${1:networkName}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"target:",insertText:"target: ${1:targetStage}$0",insertTextFormat:Lt.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1})});var Zg=v(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.PortsCompletionCollection=void 0;var Wn=Se(),ck=$n(),ri=/(\s*-\s*)(?<leadingQuote>"|')?\2\s*$/i;So.PortsCompletionCollection=new ck.CompletionCollection("ports",{logicalPaths:[/^\/services\/[.\w-]+\/ports\/<item>\/.*$/i],indentationDepth:3},{matcher:ri,label:"containerPort",insertText:'"${1:80}"$0',insertTextFormat:Wn.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{matcher:ri,label:"hostPort:containerPort",insertText:'"${1:8080}:${2:80}"$0',insertTextFormat:Wn.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:ri,label:"hostPort:containerPort/protocol",insertText:'"${1:8080}:${2:80}/${3|tcp,udp|}"$0',insertTextFormat:Wn.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:ri,label:"hostRange:containerRange",insertText:'"${1:8080}-${2:8081}:${3:80}-${4:81}"$0',insertTextFormat:Wn.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:ri,label:"(Long form port specification)",insertText:"target: ${1:80}\n  published: ${2:8080}\n  protocol: ${3|tcp,udp|}\n  mode: ${4|host,ingress|}$0",insertTextFormat:Wn.InsertTextFormat.Snippet,insertTextMode:Wn.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0,documentation:`target: <containerPort>
  published: <hostPort>
  protocol: <udp, tcp>
  mode: <host, ingress>`,sortText:"zzz"})});var ey=v(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.RootCompletionCollection=void 0;var Bn=Se(),uk=$n(),lk=/^\/$/i,fk=/^\/<value>$/i;Co.RootCompletionCollection=new uk.CompletionCollection("root",{logicalPaths:[lk,fk],indentationDepth:0},{label:"configs:",insertText:`configs:
`,insertTextFormat:Bn.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!1},{label:"networks:",insertText:`networks:
`,insertTextFormat:Bn.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!1},{label:"secrets:",insertText:`secrets:
`,insertTextFormat:Bn.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!1},{label:"services:",insertText:`services:
`,insertTextFormat:Bn.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!1},{label:"version:",insertText:"version: '${1:version}'$0",insertTextFormat:Bn.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"volumes:",insertText:`volumes:
`,insertTextFormat:Bn.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!1})});var ty=v(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.ServiceCompletionCollection=void 0;var V=Se(),dk=$n(),hk=/^\/services\/[.\w-]+$/i,pk=/^\/services\/[.\w-]+\/<value>$/i;Do.ServiceCompletionCollection=new dk.CompletionCollection("service",{logicalPaths:[hk,pk],indentationDepth:2},{label:"build:",insertText:"build: ${1:path}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1,detail:"Short form",documentation:"build: <path>"},{label:"build:",insertText:"build:\n	context: ${1:contextPath}\n	dockerfile: ${2:Dockerfile}",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0,detail:"Long form",documentation:`build:
	context: <contextPath>
	dockerfile: <Dockerfile>`},{label:"command:",insertText:"command: ${1:command}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1,detail:"String form",documentation:"command: echo hello"},{label:"command:",insertText:'command: ["${1:executable}", "${2:arg}"]$0',insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0,detail:"List form",documentation:'command: ["echo", "hello"]'},{label:"container_name:",insertText:"container_name: ${1:name}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"depends_on:",insertText:"depends_on:\n	- ${1:serviceName}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"entrypoint:",insertText:"entrypoint: ${1:entrypoint}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1,detail:"String form",documentation:"entrypoint: /app/start.sh"},{label:"entrypoint:",insertText:'entrypoint: ["${1:executable}", "${2:arg}"]$0',insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0,detail:"List form",documentation:'entrypoint: ["echo", "hello"]'},{label:"env_file:",insertText:"env_file:\n	- ${1:fileName}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"environment:",insertText:"environment:\n	- ${1:name}=${2:value}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"expose:",insertText:"expose:\n	- ${1:1234}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"healthcheck:",insertText:'healthcheck:\n	test: ["${1:executable}", "${2:arg}"]\n	interval: ${3:1m30s}\n	timeout: ${4:30s}\n	retries: ${5:5}\n	start_period: ${6:30s}$0',insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"image:",insertText:"image: ${1:imageName}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"labels:",insertText:"labels:\n	- ${1:com.host.description}=${2:label}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"networks:",insertText:"networks:\n	- ${1:networkName}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"ports:",insertText:`ports:
	-$0`,insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!1},{label:"profiles:",insertText:"profiles:\n	- ${1:profileName}$0",insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!0},{label:"pull_policy:",insertText:"pull_policy: ${1:pullPolicyName}$0",insertTextFormat:V.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!1},{label:"volumes:",insertText:`volumes:
	-$0`,insertTextFormat:V.InsertTextFormat.Snippet,insertTextMode:V.InsertTextMode.adjustIndentation,isAdvancedComposeCompletion:!1})});var ny=v(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.VolumesCompletionCollection=void 0;var ii=Se(),mk=$n();To.VolumesCompletionCollection=new mk.CompletionCollection("volumes",{logicalPaths:[/^\/services\/[.\w-]+\/volumes\/<item>\/.*$/i],indentationDepth:3},{matcher:/(\s*-\s*)(?<leadingQuote>"|')?\2\s*$/i,label:"hostPath:containerPath:mode",insertText:"${1:hostPath}:${2:containerPath}:${3|ro,rw|}$0",insertTextFormat:ii.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:/(\s*-\s*)(?<leadingQuote>"|')?\2\s*$/i,label:"volumeName:containerPath:mode",insertText:"${1:volumeName}:${2:containerPath}:${3|ro,rw|}$0",insertTextFormat:ii.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:/(\s*-\s*)(?<leadingQuote>"|')?(([a-z]:\\)?[^:"]+):\2\s*$/i,label:":containerPath:mode",insertText:"${1:containerPath}:${2|ro,rw|}$0",insertTextFormat:ii.InsertTextFormat.Snippet,isAdvancedComposeCompletion:!0},{matcher:/(\s*-\s*)(?<leadingQuote>"|')?(([a-z]:\\)?[^:"]+):(([a-z]:\\)?[^:"]+):\2\s*$/i,label:":ro",insertText:"ro",insertTextFormat:ii.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!0,detail:"Read-only"},{matcher:/(\s*-\s*)(?<leadingQuote>"|')?(([a-z]:\\)?[^:"]+):(([a-z]:\\)?[^:"]+):\2\s*$/i,label:":rw",insertText:"rw",insertTextFormat:ii.InsertTextFormat.PlainText,isAdvancedComposeCompletion:!0,detail:"Read-write"})});var ry=v(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.MultiCompletionProvider=void 0;var gk=Et(),yk=rn(),vk=Xg(),bk=Zg(),wk=ey(),_k=ty(),Sk=ny(),wf=class extends yk.ProviderBase{static{s(this,"MultiCompletionProvider")}constructor(e,n){super(),this.basicCompletions=e,this.advancedCompletions=n,this.completionCollections=[wk.RootCompletionCollection,_k.ServiceCompletionCollection,vk.BuildCompletionCollection,Sk.VolumesCompletionCollection,bk.PortsCompletionCollection]}async on(e,n,r){let i=(0,gk.getCurrentContext)(),o={...e,positionInfo:await e.document.getPositionInfo(e),basicCompletions:this.basicCompletions,advancedCompletions:this.advancedCompletions},a=[],c=[];for(let u of this.completionCollections){if(n.isCancellationRequested)return;let l=u.getActiveCompletionItems(o);l?.length&&(c.push(u.name),a.push(...l)),i.telemetry.properties.respondingCollections=c.sort().join(",")}return a.length>0?a:void 0}};ko.MultiCompletionProvider=wf});var iy=v(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.debounce=void 0;var Hn={};function Ck(t,e,n,r){let i=`${e.uri}/${e.callId}`;Hn[i]&&(Hn[i].dispose(),delete Hn[i]);let o=setTimeout(()=>{Hn[i].dispose(),delete Hn[i],n.call(r)},t);Hn[i]={dispose:s(()=>clearTimeout(o),"dispose")}}s(Ck,"debounce");qo.debounce=Ck});var Ro=v(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.yamlRangeToLspRange=void 0;function Dk(t,e){return{start:t.positionAt(e[0]),end:t.positionAt(e[1])}}s(Dk,"yamlRangeToLspRange");Po.yamlRangeToLspRange=Dk});var sy=v(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.DiagnosticProvider=void 0;var _f=Se(),Tk=Et(),kk=iy(),qk=Ro(),Pk=rn(),Rk=1e3,Sf=class extends Pk.ProviderBase{static{s(this,"DiagnosticProvider")}constructor(e=Rk,n,r){super(),this.diagnosticDelay=e,this.syntaxValidation=n,this.schemaValidation=r}on(e){var n;if(!this.syntaxValidation)return;let r=(0,Tk.getCurrentContext)();r.telemetry.suppressAll=!0,r.telemetry.properties.isActivationEvent="true",!((n=r.clientCapabilities.textDocument)===null||n===void 0)&&n.publishDiagnostics&&(0,kk.debounce)(this.diagnosticDelay,{uri:e.document.textDocument.uri,callId:"diagnostics"},()=>{let i=[];for(let o of[...e.document.yamlDocument.value.errors,...e.document.yamlDocument.value.warnings])i.push(_f.Diagnostic.create((0,qk.yamlRangeToLspRange)(e.document.textDocument,o.pos),o.message,o.name==="YAMLWarning"?_f.DiagnosticSeverity.Warning:_f.DiagnosticSeverity.Error,o.code));r.connection.sendDiagnostics({uri:e.document.textDocument.uri,diagnostics:i})},this)}};No.DiagnosticProvider=Sf});var ay=v(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.DocumentFormattingProvider=void 0;var oy=Se(),Nk=rn(),Cf=class extends Nk.ProviderBase{static{s(this,"DocumentFormattingProvider")}on(e,n){if(e.document.yamlDocument.value.errors.length)return;let r={indent:e.options.tabSize,indentSeq:!0,simpleKeys:!0,nullStr:"",lineWidth:0},i=oy.Range.create(e.document.textDocument.positionAt(0),e.document.textDocument.positionAt(e.document.textDocument.getText().length)),o=e.document.yamlDocument.value.toString(r);return[oy.TextEdit.replace(i,o)]}};xo.DocumentFormattingProvider=Cf});var cy=v(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ImageLinkProvider=void 0;var xk=Se(),si=go(),Ok=Et(),Ek=Ro(),Mk=rn(),Ak=/^(?<imageName>[.\w-]+)(?<tag>:[.\w-]+)?$/i,Lk=/^(?<namespace>[a-z0-9]+)\/(?<imageName>[.\w-]+)(?<tag>:[.\w-]+)?$/i,Ik=/^mcr.microsoft.com\/(?<namespace>([a-z0-9]+\/)+)(?<imageName>[.\w-]+)(?<tag>:[.\w-]+)?$/i,Df=class t extends Mk.ProviderBase{static{s(this,"ImageLinkProvider")}on(e,n){let r=(0,Ok.getCurrentContext)();r.telemetry.properties.isActivationEvent="true";let i=[],o=new Set,a=e.document.yamlDocument.value.getIn(["services"]);if((0,si.isMap)(a))for(let c of a.items){if(n.isCancellationRequested)return;if((0,si.isMap)(c.value)){let u=c.value.getIn(["image"],!0);if(!c.value.has("build")&&(0,si.isScalar)(u)&&typeof u.value=="string"){let p=u.type===si.Scalar.QUOTE_SINGLE||u.type===si.Scalar.QUOTE_DOUBLE?1:0,h=t.getLinkForImage(u.value,o);h&&u.range&&i.push(xk.DocumentLink.create((0,Ek.yamlRangeToLspRange)(e.document.textDocument,[p+u.range[0]+h.start,p+u.range[0]+h.start+h.length]),h.uri))}}}return r.telemetry.properties.imageTypes=Array.from(o.values()).sort().join(","),i}static getLinkForImage(e,n){var r,i,o,a,c,u;let l,p,h;if((l=Ak.exec(e))&&(h=(r=l.groups)===null||r===void 0?void 0:r.imageName))return n.add("dockerHub"),{uri:`https://hub.docker.com/_/${h}`,start:l.index,length:h.length};if((l=Lk.exec(e))&&(p=(i=l.groups)===null||i===void 0?void 0:i.namespace)&&(h=(o=l.groups)===null||o===void 0?void 0:o.imageName))return n.add("dockerHubNamespaced"),{uri:`https://hub.docker.com/r/${p}/${h}`,start:l.index,length:p.length+1+h.length};if((l=Ik.exec(e))&&(p=(c=(a=l.groups)===null||a===void 0?void 0:a.namespace)===null||c===void 0?void 0:c.replace(/\/$/,""))&&(h=(u=l.groups)===null||u===void 0?void 0:u.imageName))return n.add("mcr"),{uri:`https://hub.docker.com/_/microsoft-${p.replace("/","-")}-${h}`,start:l.index,length:18+p.length+1+h.length}}};Oo.ImageLinkProvider=Df});var uy=v(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.KeyHoverProvider=void 0;var Un=Se(),jk=yf(),Fk=Et(),$k=rn(),Tf=class extends $k.ProviderBase{static{s(this,"KeyHoverProvider")}async on(e,n){var r,i,o;let a=(0,Fk.getCurrentContext)();a.telemetry.groupingStrategy="eventName";let c=(i=(r=a.clientCapabilities.textDocument)===null||r===void 0?void 0:r.hover)===null||i===void 0?void 0:i.contentFormat,u=c?.length?c?.[0]===Un.MarkupKind.Markdown:!1,l=await e.document.getPositionInfo(e);for(let p of Wk){let h=p.pathRegex.exec(l.path);if(!h)continue;let y=e.document.lineAt(e.position),_=jk.KeyValueRegex.exec(y),k=h.groups.keyName,b=(o=_?.groups)===null||o===void 0?void 0:o.keyName;if(b===k){let D=y.indexOf(b);return a.telemetry.properties.keyName=b,{contents:{kind:u?Un.MarkupKind.Markdown:Un.MarkupKind.PlainText,value:u&&p.markdownContents||p.plaintextContents},range:Un.Range.create(Un.Position.create(e.position.line,D),Un.Position.create(e.position.line,D+b.length))}}}}};Eo.KeyHoverProvider=Tf;var Wk=[{pathRegex:/^\/(?<keyName>configs)$/i,plaintextContents:"Configurations for services in the project"},{pathRegex:/^\/(?<keyName>networks)$/i,plaintextContents:"Networks that are shared among multiple services"},{pathRegex:/^\/networks\/[.\w-]+\/(?<keyName>driver)$/i,plaintextContents:"The driver used for this network"},{pathRegex:/^\/(?<keyName>secrets)$/i,plaintextContents:"Secrets that are shared among multiple services"},{pathRegex:/^\/(?<keyName>services)$/i,plaintextContents:"The services in your project"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>build)$/i,plaintextContents:"The context used for building the image"},{pathRegex:/^\/services\/[.\w-]+\/build\/(?<keyName>args)$/i,plaintextContents:"Arguments used during the image build process"},{pathRegex:/^\/services\/[.\w-]+\/build\/(?<keyName>context)$/i,plaintextContents:"The context used for building the image"},{pathRegex:/^\/services\/[.\w-]+\/build\/(?<keyName>dockerfile)$/i,plaintextContents:"The Dockerfile used for building the image"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>command)$/i,plaintextContents:"The command that will be run in the container"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>container_name)$/i,plaintextContents:"The name that will be given to the container"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>depends_on)$/i,plaintextContents:"Other services that this service depends on, which will be started before this one"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>entrypoint)$/i,plaintextContents:"The entrypoint to the application in the container"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>env_file)$/i,plaintextContents:"Files containing environment variables that will be included"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>environment)$/i,plaintextContents:"Environment variables that will be included"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>expose)$/i,plaintextContents:"Ports exposed to the other services but not to the host machine"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>healthcheck)$/i,plaintextContents:"A command for checking if the container is healthy"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>image)$/i,plaintextContents:"The image that will be pulled for the service. If `build` is specified, the built image will be given this tag."},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>labels)$/i,plaintextContents:"Labels that will be given to the container"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>logging)$/i,plaintextContents:"Settings for logging for this service"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>networks)$/i,plaintextContents:"The service will be included in these networks, allowing it to reach other containers on the same network"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>ports)$/i,plaintextContents:"Ports that will be exposed to the host"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>profiles)$/i,plaintextContents:"Profiles that this service is a part of. When the profile is started, this service will be started."},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>secrets)$/i,plaintextContents:"Secrets the service will have access to"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>user)$/i,plaintextContents:"The username under which the app in the container will be started"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>volumes)$/i,plaintextContents:"Named volumes and paths on the host mapped to paths in the container"},{pathRegex:/^\/services\/[.\w-]+\/(?<keyName>working_dir)$/i,plaintextContents:"The working directory in which the entrypoint or command will be run"},{pathRegex:/^\/(?<keyName>version)$/i,plaintextContents:"The version of the Docker Compose document"},{pathRegex:/^\/(?<keyName>volumes)$/i,plaintextContents:"Named volumes that are shared among multiple services"},{pathRegex:/^\/volumes\/[.\w-]+\/(?<keyName>driver)$/i,plaintextContents:"The driver used for this volume"}]});var dy=v(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ServiceStartupCodeLensProvider=void 0;var ly=Se(),Bk=rn(),Hk=Et(),sn=go(),fy=Ro(),kf=class extends Bk.ProviderBase{static{s(this,"ServiceStartupCodeLensProvider")}on(e,n){let r=(0,Hk.getCurrentContext)();r.telemetry.properties.isActivationEvent="true";let i=[];if(!e.document.yamlDocument.value.has("services"))return;let o=e.document.yamlDocument.value.contents;if((0,sn.isMap)(o)){let c=o.items.find(u=>(0,sn.isScalar)(u.key)&&u.key.value==="services");if((0,sn.isPair)(c)){let u=c.key;if((0,sn.isScalar)(u)&&u.range&&(0,sn.isMap)(c.value)){let l=ly.CodeLens.create((0,fy.yamlRangeToLspRange)(e.document.textDocument,u.range));l.command={title:"$(run-all) Run All Services",command:"vscode-containers.compose.up",arguments:[e.document.uri]},i.push(l)}}}if(n.isCancellationRequested)return;let a=e.document.yamlDocument.value.getIn(["services"]);if((0,sn.isMap)(a))for(let c of a.items){if(n.isCancellationRequested)return;if((0,sn.isScalar)(c.key)&&typeof c.key.value=="string"&&c.key.range){let u=ly.CodeLens.create((0,fy.yamlRangeToLspRange)(e.document.textDocument,c.key.range));u.command={title:"$(play) Run Service",command:"vscode-containers.compose.up.subset",arguments:[e.document.uri,void 0,[c.key.value]]},i.push(u)}}return i}};Mo.ServiceStartupCodeLensProvider=kf});var my=v(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.logNormal=void 0;function Uk(t){if(t?.length){if(t.length===1)return{median:oi(t[0],3),mu:oi(py(t[0]),3),sigma:0}}else return{mu:0,sigma:0,median:0};let e=t.length,n=t.map(a=>py(a)),r=n.map(a=>hy(a)),i=qf(n)/e,o=Math.sqrt((e*qf(r)-hy(qf(n)))/(e*(e-1)));return{mu:oi(i,3),sigma:oi(o,3),median:oi(Math.pow(Math.E,i),0)}}s(Uk,"logNormal");Ao.logNormal=Uk;function qf(t){return t.reduce((e,n)=>e+n,0)}s(qf,"sum");function hy(t){return Math.pow(t,2)}s(hy,"sq");function py(t){return Math.log(t)}s(py,"ln");function oi(t,e=3){let n=Math.pow(10,e);return Math.round(t*n)/n}s(oi,"round")});var yy=v(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.TelemetryAggregator=void 0;var gy=Nu(),Kk=my(),Vk=60*1e3,Pf=class{static{s(this,"TelemetryAggregator")}constructor(e,n=Vk){this.connection=e,this.interval=n,this.eventBuffer=[],this.timer=setInterval(()=>this.flush(),this.interval)}dispose(){clearInterval(this.timer),this.flush()}logEvent(e){e.suppressAll||e.properties.result==="Succeeded"&&e.suppressIfSuccessful||(e.properties.result==="Failed"?this.connection.telemetry.logEvent(e):this.eventBuffer.push(e))}flush(){try{for(let e of this.getAggregatedEvents())this.connection.telemetry.logEvent(e)}catch(e){let n=e instanceof Error?e:Error(e.toString()),r=(0,gy.initEvent)("telemetryaggregatorfailure");r.properties.result="Failed",r.properties.error=n.name,r.properties.errorMessage=n.message,r.properties.stack=n.stack,this.connection.telemetry.logEvent(r)}finally{this.eventBuffer=[]}}getAggregatedEvents(){let e=[],n=new Map;for(let r of this.eventBuffer){let i;switch(r.groupingStrategy){case"eventNameAndProperties":i=r.eventName+JSON.stringify(r.properties);break;case"eventName":default:i=r.eventName;break}n.has(i)||n.set(i,[]),n.get(i).push(r)}for(let r of n.values()){let i=r[0].eventName,o=(0,gy.initEvent)(i),a=r.map(u=>{var l;return(l=u.measurements.duration)!==null&&l!==void 0?l:void 0}).filter(u=>u!==void 0)||[],c=(0,Kk.logNormal)(a);o.measurements.count=r.length,o.measurements.durationMu=c.mu,o.measurements.durationSigma=c.sigma,o.measurements.durationMedian=c.median,r.forEach(u=>Object.assign(o.properties,u.properties)),e.push(o)}return e}};Lo.TelemetryAggregator=Pf});var vy=v(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.ComposeLanguageService=void 0;var ot=Se(),zk=Ru(),Yk=Nu(),Jk=yf(),Gk=ry(),Qk=sy(),Xk=ay(),Zk=cy(),eq=uy(),tq=dy(),nq=Et(),rq=yy(),iq={textDocumentSync:{openClose:!0,change:ot.TextDocumentSyncKind.Incremental,willSave:!1,willSaveWaitUntil:!1,save:!1},completionProvider:{triggerCharacters:["-",":"," ",'"'],resolveProvider:!1},codeLensProvider:{resolveProvider:!1},hoverProvider:!0,documentLinkProvider:{resolveProvider:!1},documentFormattingProvider:!0,workspace:{workspaceFolders:{supported:!0}}},sq={syntaxValidation:!1,schemaValidation:!1,basicCompletions:!1,advancedCompletions:!1,serviceStartupCodeLens:!1,hover:!1,imageLinks:!1,formatting:!1},Rf=class{static{s(this,"ComposeLanguageService")}constructor(e,n){var r,i,o;this.connection=e,this.clientParams=n,this.documentManager=new ot.TextDocuments(Jk.ComposeDocument.DocumentManagerConfig),this.subscriptions=[],this._capabilities=iq;let a=(r=n.capabilities.experimental)===null||r===void 0?void 0:r.alternateYamlLanguageService;a?e.console.info("An alternate YAML language service is present. The Compose language service will not enable features already provided by the alternate."):a=sq,a.syntaxValidation&&a.schemaValidation||this.createDocumentManagerHandler(this.documentManager.onDidChangeContent,new Qk.DiagnosticProvider((i=n.initializationOptions)===null||i===void 0?void 0:i.diagnosticDelay,!a.syntaxValidation,!a.schemaValidation)),a.basicCompletions&&a.advancedCompletions?this._capabilities.completionProvider=void 0:this.createLspHandler(this.connection.onCompletion,new Gk.MultiCompletionProvider(!a.basicCompletions,!a.advancedCompletions)),a.serviceStartupCodeLens?this._capabilities.codeLensProvider=void 0:this.createLspHandler(this.connection.onCodeLens,new tq.ServiceStartupCodeLensProvider),a.hover?this._capabilities.hoverProvider=void 0:this.createLspHandler(this.connection.onHover,new eq.KeyHoverProvider),a.imageLinks?this._capabilities.documentLinkProvider=void 0:this.createLspHandler(this.connection.onDocumentLinks,new Zk.ImageLinkProvider),a.formatting?this._capabilities.documentFormattingProvider=void 0:this.createLspHandler(this.connection.onDocumentFormatting,new Xk.DocumentFormattingProvider),this.connection.onNotification(zk.DocumentSettingsNotification.method,c=>this.onDidChangeDocumentSettings(c)),this.documentManager.listen(this.connection),this.subscriptions.push(this.telemetryAggregator=new rq.TelemetryAggregator(this.connection,(o=n.initializationOptions)===null||o===void 0?void 0:o.telemetryAggregationInterval))}dispose(){for(let e of this.subscriptions)e.dispose()}get capabilities(){return this._capabilities}onDidChangeDocumentSettings(e){let n=this.documentManager.get(e.textDocument.uri);n&&n.updateSettings(e)}createLspHandler(e,n){e(async(r,i,o,a)=>await this.callWithTelemetryAndErrorHandling(n.constructor.name,async()=>{let c=this.documentManager.get(r.textDocument.uri);if(!c)throw new ot.ResponseError(ot.ErrorCodes.InvalidParams,"Document not found in cache.");let u={...r,document:c};return await Promise.resolve(n.on(u,i,o,a))}))}createDocumentManagerHandler(e,n){e(async r=>await this.callWithTelemetryAndErrorHandling(n.constructor.name,async()=>{let i={...r,textDocument:r.document.id};return await Promise.resolve(n.on(i,ot.CancellationToken.None))}),this,this.subscriptions)}async callWithTelemetryAndErrorHandling(e,n){let r={clientCapabilities:this.clientParams.capabilities,connection:this.connection,telemetry:(0,Yk.initEvent)(e)},i=process.hrtime.bigint();try{return await(0,nq.runWithContext)(r,n)}catch(o){let a,c;return o instanceof ot.ResponseError?(a=o,c=o.stack):o instanceof Error?(a=new ot.ResponseError(ot.ErrorCodes.UnknownErrorCode,o.message,o),c=o.stack):a=new ot.ResponseError(ot.ErrorCodes.InternalError,o.toString?o.toString():"Unknown error"),r.telemetry.properties.result="Failed",r.telemetry.properties.error=a.code.toString(),r.telemetry.properties.errorMessage=a.message,r.telemetry.properties.stack=c,a}finally{let o=process.hrtime.bigint(),a=Number((o-i)/BigInt(1e3));r.telemetry.measurements.duration=a,this.telemetryAggregator.logEvent(r.telemetry)}}};Io.ComposeLanguageService=Rf});Object.defineProperty(exports,"__esModule",{value:!0});var oq=Se(),aq=Yh(),cq=vy(),jo=(0,aq.createConnection)(oq.ProposedFeatures.all);jo.onInitialize(t=>{let e=new cq.ComposeLanguageService(jo,t);return jo.onShutdown(()=>{e.dispose()}),{capabilities:e.capabilities,serverInfo:{name:"Docker Compose Language Server"}}});jo.listen();
/*! Bundled license information:

@microsoft/compose-language-service/lib/client/DocumentSettings.js:
@microsoft/compose-language-service/lib/client/TelemetryEvent.js:
@microsoft/compose-language-service/lib/service/utils/ActionContext.js:
@microsoft/compose-language-service/lib/service/ComposeDocument.js:
@microsoft/compose-language-service/lib/service/providers/ProviderBase.js:
@microsoft/compose-language-service/lib/service/providers/completion/CompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/BuildCompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/PortsCompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/RootCompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/ServiceCompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/VolumesCompletionCollection.js:
@microsoft/compose-language-service/lib/service/providers/completion/MultiCompletionProvider.js:
@microsoft/compose-language-service/lib/service/utils/debounce.js:
@microsoft/compose-language-service/lib/service/utils/yamlRangeToLspRange.js:
@microsoft/compose-language-service/lib/service/providers/DiagnosticProvider.js:
@microsoft/compose-language-service/lib/service/providers/DocumentFormattingProvider.js:
@microsoft/compose-language-service/lib/service/providers/ImageLinkProvider.js:
@microsoft/compose-language-service/lib/service/providers/KeyHoverProvider.js:
@microsoft/compose-language-service/lib/service/utils/telemetry/logNormal.js:
@microsoft/compose-language-service/lib/service/utils/telemetry/TelemetryAggregator.js:
@microsoft/compose-language-service/lib/service/ComposeLanguageService.js:
@microsoft/compose-language-service/lib/server.js:
  (*!--------------------------------------------------------------------------------------------
   *  Copyright (c) Microsoft Corporation. All rights reserved.
   *  Licensed under the MIT License. See LICENSE in the project root for license information.
   *--------------------------------------------------------------------------------------------*)
*/
